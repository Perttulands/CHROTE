<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gastown on Windows - WSL Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e4e4e7;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #f97316, #eab308);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: #a1a1aa;
            font-size: 1.1rem;
            margin-bottom: 40px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 24px;
            backdrop-filter: blur(10px);
        }

        .card h2 {
            font-size: 1.4rem;
            margin-bottom: 16px;
            color: #f97316;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card h2 .icon {
            font-size: 1.6rem;
        }

        .card p {
            color: #d4d4d8;
            margin-bottom: 12px;
        }

        .error-box {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .error-box code {
            color: #fca5a5;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
        }

        .success-box {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .code-block {
            background: #0f0f23;
            border-radius: 8px;
            padding: 20px;
            margin: 16px 0;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-block code {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            color: #22d3ee;
        }

        .code-block .comment {
            color: #6b7280;
        }

        .diagram {
            background: #0f0f23;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .diagram-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .diagram-box {
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .windows-box {
            background: linear-gradient(135deg, #0078d4, #00bcf2);
            color: white;
        }

        .wsl-box {
            background: linear-gradient(135deg, #f97316, #eab308);
            color: #1a1a2e;
        }

        .linux-box {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .arrow {
            font-size: 2rem;
            color: #6b7280;
        }

        .step {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            align-items: flex-start;
        }

        .step-number {
            background: linear-gradient(135deg, #f97316, #eab308);
            color: #1a1a2e;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            color: #f4f4f5;
            margin-bottom: 8px;
        }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-right: 8px;
        }

        .tag-windows {
            background: #0078d4;
            color: white;
        }

        .tag-linux {
            background: #22c55e;
            color: white;
        }

        .tag-both {
            background: #8b5cf6;
            color: white;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-table th {
            color: #f97316;
            font-weight: 600;
        }

        .check {
            color: #22c55e;
            font-size: 1.2rem;
        }

        .cross {
            color: #ef4444;
            font-size: 1.2rem;
        }

        .tldr {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.2), rgba(234, 179, 8, 0.2));
            border: 2px solid #f97316;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
        }

        .tldr h2 {
            color: #f97316;
            margin-bottom: 12px;
        }

        .tldr ul {
            margin-left: 20px;
        }

        .tldr li {
            margin: 8px 0;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            color: #6b7280;
            font-size: 0.9rem;
        }

        footer a {
            color: #f97316;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ­ Gastown on Windows</h1>
        <p class="subtitle">Why it doesn't work natively, and how WSL solves it</p>

        <div class="tldr">
            <h2>âš¡ TL;DR</h2>
            <ul>
                <li><strong>Gastown doesn't support Windows</strong> â€” the code explicitly excludes Windows builds</li>
                <li><strong>WSL</strong> = Windows Subsystem for Linux â€” runs real Linux inside Windows</li>
                <li><strong>Solution:</strong> Install Gastown inside WSL, access your Windows files from there</li>
            </ul>
        </div>

        <!-- What Happened -->
        <div class="card">
            <h2><span class="icon">âŒ</span> What Happened</h2>
            <p>When we tried to build Gastown's <code>gt</code> command on Windows, the Go compiler failed:</p>

            <div class="error-box">
                <code>
                    # github.com/steveyegge/gastown/internal/daemon<br>
                    daemon.go:995:23: undefined: util.CleanupOrphanedClaudeProcesses
                </code>
            </div>

            <p>The function exists in <code>orphan.go</code>, but the file starts with:</p>

            <div class="code-block">
                <code><span class="comment">//go:build !windows</span><br><br>package util</code>
            </div>

            <p>This is a <strong>build constraint</strong> â€” it tells Go: "Don't compile this file on Windows." The orphan cleanup code uses Unix-specific process management (signals like SIGTERM, SIGKILL) that don't exist on Windows.</p>
        </div>

        <!-- What is WSL -->
        <div class="card">
            <h2><span class="icon">ğŸ§</span> What is WSL?</h2>
            <p><strong>WSL (Windows Subsystem for Linux)</strong> is a Microsoft feature that lets you run a real Linux environment directly on Windows â€” no virtual machine overhead, no dual-boot needed.</p>

            <div class="diagram">
                <div class="diagram-row">
                    <div class="diagram-box windows-box">Windows 11</div>
                </div>
                <div class="arrow">â†“</div>
                <div class="diagram-row">
                    <div class="diagram-box wsl-box">WSL 2 Layer</div>
                </div>
                <div class="arrow">â†“</div>
                <div class="diagram-row">
                    <div class="diagram-box linux-box">Ubuntu / Debian</div>
                </div>
            </div>

            <table class="comparison-table">
                <tr>
                    <th>Feature</th>
                    <th>Native Windows</th>
                    <th>WSL</th>
                </tr>
                <tr>
                    <td>Run Linux binaries</td>
                    <td><span class="cross">âœ—</span></td>
                    <td><span class="check">âœ“</span></td>
                </tr>
                <tr>
                    <td>Unix process signals (SIGTERM, SIGKILL)</td>
                    <td><span class="cross">âœ—</span></td>
                    <td><span class="check">âœ“</span></td>
                </tr>
                <tr>
                    <td>Access Windows files</td>
                    <td><span class="check">âœ“</span></td>
                    <td><span class="check">âœ“</span> (via /mnt/c/)</td>
                </tr>
                <tr>
                    <td>Run Docker containers</td>
                    <td>Via WSL backend</td>
                    <td><span class="check">âœ“</span> Native</td>
                </tr>
                <tr>
                    <td>Gastown / gt</td>
                    <td><span class="cross">âœ—</span></td>
                    <td><span class="check">âœ“</span></td>
                </tr>
            </table>
        </div>

        <!-- How It Will Work -->
        <div class="card">
            <h2><span class="icon">ğŸ”§</span> How Gastown Will Work in WSL</h2>

            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>Install WSL + Ubuntu</h3>
                    <p>One command in PowerShell (as Admin):</p>
                    <div class="code-block">
                        <code>wsl --install</code>
                    </div>
                    <p>This installs WSL 2 with Ubuntu. Reboot when prompted.</p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>Install Go in WSL</h3>
                    <p>Open Ubuntu from Start Menu, then:</p>
                    <div class="code-block">
                        <code>sudo apt update && sudo apt install -y golang-go</code>
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>Install Gastown</h3>
                    <p>Now it will compile because we're on Linux:</p>
                    <div class="code-block">
                        <code>go install github.com/steveyegge/gastown/cmd/gt@latest</code>
                    </div>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>Access Your Windows Files</h3>
                    <p>Your Windows drives are mounted automatically:</p>
                    <div class="code-block">
                        <code><span class="comment"># Your E:\Docker folder</span><br>
                        cd /mnt/e/Docker<br><br>
                        <span class="comment"># Run gt on your projects</span><br>
                        gt init</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- Architecture -->
        <div class="card">
            <h2><span class="icon">ğŸ—ï¸</span> The Architecture</h2>
            <p>Here's how everything connects:</p>

            <div class="diagram">
                <pre style="color: #22d3ee; font-family: monospace; text-align: left; display: inline-block;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WINDOWS 11                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   VS Code       â”‚â—„â”€â”€â–ºâ”‚         WSL 2              â”‚  â”‚
â”‚  â”‚   Claude Code   â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚   Terminal      â”‚    â”‚  â”‚     Ubuntu         â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚
â”‚                         â”‚  â”‚  â”‚  Gastown gt  â”‚  â”‚    â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚  Claude CLI  â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  E:\Docker\     â”‚â—„â”€â”€â”€â”¼â”€â”€â”¤  â”‚  Go, Node    â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  (Your files)   â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚                    â”‚    â”‚  â”‚
â”‚         â–²               â”‚  â”‚  /mnt/e/Docker/    â”‚    â”‚  â”‚
â”‚         â”‚               â”‚  â”‚  (same files!)     â”‚    â”‚  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>

            <div class="success-box">
                <p><strong>Key insight:</strong> Your code stays on Windows (E:\Docker), but Linux tools in WSL can read and write those files through <code>/mnt/e/Docker</code>. Best of both worlds!</p>
            </div>
        </div>

        <!-- What About bd? -->
        <div class="card">
            <h2><span class="icon">ğŸ“¦</span> What About bd (Beads)?</h2>
            <p>Good news â€” <code>bd</code> already works on Windows! We installed it earlier by:</p>
            <ol style="margin-left: 20px; margin-top: 12px;">
                <li>Running <code>npm install -g @beads/bd --ignore-scripts</code></li>
                <li>Manually downloading the Windows binary from GitHub releases</li>
                <li>Placing <code>bd.exe</code> in the npm bin folder</li>
            </ol>
            <p style="margin-top: 12px;">The beads project ships pre-compiled Windows binaries, unlike Gastown which is Linux-only for now.</p>
        </div>

        <!-- Quick Reference -->
        <div class="card">
            <h2><span class="icon">ğŸ“‹</span> Quick Reference: WSL Commands</h2>

            <table class="comparison-table">
                <tr>
                    <th>Task</th>
                    <th>Command</th>
                </tr>
                <tr>
                    <td>Open WSL terminal</td>
                    <td><code>wsl</code></td>
                </tr>
                <tr>
                    <td>Open specific folder in WSL</td>
                    <td><code>wsl -d Ubuntu --cd /mnt/e/Docker</code></td>
                </tr>
                <tr>
                    <td>Run single Linux command</td>
                    <td><code>wsl ls -la /mnt/e/Docker</code></td>
                </tr>
                <tr>
                    <td>Shutdown WSL</td>
                    <td><code>wsl --shutdown</code></td>
                </tr>
                <tr>
                    <td>List installed distros</td>
                    <td><code>wsl --list --verbose</code></td>
                </tr>
                <tr>
                    <td>Open Windows folder from WSL</td>
                    <td><code>explorer.exe .</code></td>
                </tr>
            </table>
        </div>

        <footer>
            <p>Generated for debugging session â€¢ <a href="https://github.com/steveyegge/gastown">Gastown on GitHub</a></p>
        </footer>
    </div>
</body>
</html>
