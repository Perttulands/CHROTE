var Ih=Object.defineProperty;var Mh=(e,t,n)=>t in e?Ih(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ga=(e,t,n)=>Mh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},_l={},Ru={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),_h=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),Qa=Symbol.iterator;function Hh(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Lu={};function as(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Iu}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ou(){}Ou.prototype=as.prototype;function Fo(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Iu}var $o=Fo.prototype=new Ou;$o.constructor=Fo;Mu($o,as.prototype);$o.isPureReactComponent=!0;var Ya=Array.isArray,_u=Object.prototype.hasOwnProperty,Bo={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_u.call(t,s)&&!zu.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:gr,type:e,key:i,ref:o,props:l,_owner:Bo.current}}function Kh(e,t){return{$$typeof:gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wo(e){return typeof e=="object"&&e!==null&&e.$$typeof===gr}function Gh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xa=/\/+/g;function oi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gh(""+e.key):t.toString(36)}function Hr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gr:case Oh:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+oi(o,0):s,Ya(l)?(n="",e!=null&&(n=e.replace(Xa,"$&/")+"/"),Hr(l,t,n,"",function(u){return u})):l!=null&&(Wo(l)&&(l=Kh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Xa,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ya(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+oi(i,a);o+=Hr(i,t,n,c,l)}else if(c=Hh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+oi(i,a++),o+=Hr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Er(e,t,n){if(e==null)return e;var s=[],l=0;return Hr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Qh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Kr={transition:null},Yh={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:Bo};function Fu(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Er,forEach:function(e,t,n){Er(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Er(e,function(){t++}),t},toArray:function(e){return Er(e,function(t){return t})||[]},only:function(e){if(!Wo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=as;J.Fragment=_h;J.Profiler=Ah;J.PureComponent=Fo;J.StrictMode=zh;J.Suspense=Wh;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;J.act=Fu;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Mu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)_u.call(t,c)&&!zu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:gr,type:e.type,key:l,ref:i,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:$h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fh,_context:e},e.Consumer=e};J.createElement=Au;J.createFactory=function(e){var t=Au.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Bh,render:e}};J.isValidElement=Wo;J.lazy=function(e){return{$$typeof:Vh,_payload:{_status:-1,_result:e},_init:Qh}};J.memo=function(e,t){return{$$typeof:Uh,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Kr.transition;Kr.transition={};try{e()}finally{Kr.transition=t}};J.unstable_act=Fu;J.useCallback=function(e,t){return ze.current.useCallback(e,t)};J.useContext=function(e){return ze.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};J.useEffect=function(e,t){return ze.current.useEffect(e,t)};J.useId=function(){return ze.current.useId()};J.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return ze.current.useMemo(e,t)};J.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};J.useRef=function(e){return ze.current.useRef(e)};J.useState=function(e){return ze.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return ze.current.useTransition()};J.version="18.3.1";Ru.exports=J;var d=Ru.exports;const pe=Lh(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=d,Jh=Symbol.for("react.element"),Zh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,ep=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tp={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)qh.call(t,s)&&!tp.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Jh,type:e,key:i,ref:o,props:l,_owner:ep.current}}_l.Fragment=Zh;_l.jsx=$u;_l.jsxs=$u;Du.exports=_l;var r=Du.exports,$i={},Bu={exports:{}},qe={},Wu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var _=M.length;M.push(B);e:for(;0<_;){var Z=_-1>>>1,Y=M[Z];if(0<l(Y,B))M[Z]=B,M[_]=Y,_=Z;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var B=M[0],_=M.pop();if(_!==B){M[0]=_;e:for(var Z=0,Y=M.length,A=Y>>>1;Z<A;){var K=2*(Z+1)-1,q=M[K],P=K+1,F=M[P];if(0>l(q,_))P<Y&&0>l(F,q)?(M[Z]=F,M[P]=_,Z=P):(M[Z]=q,M[K]=_,Z=K);else if(P<Y&&0>l(F,_))M[Z]=F,M[P]=_,Z=P;else break e}}return B}function l(M,B){var _=M.sortIndex-B.sortIndex;return _!==0?_:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,v=3,y=!1,j=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var B=n(u);B!==null;){if(B.callback===null)s(u);else if(B.startTime<=M)s(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function x(M){if(w=!1,m(M),!j)if(n(c)!==null)j=!0,X(k);else{var B=n(u);B!==null&&te(x,B.startTime-M)}}function k(M,B){j=!1,w&&(w=!1,g(b),b=-1),y=!0;var _=v;try{for(m(B),p=n(c);p!==null&&(!(p.expirationTime>B)||M&&!I());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,v=p.priorityLevel;var Y=Z(p.expirationTime<=B);B=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(c)&&s(c),m(B)}else s(c);p=n(c)}if(p!==null)var A=!0;else{var K=n(u);K!==null&&te(x,K.startTime-B),A=!1}return A}finally{p=null,v=_,y=!1}}var S=!1,N=null,b=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function Q(){if(N!==null){var M=e.unstable_now();T=M;var B=!0;try{B=N(!0,M)}finally{B?U():(S=!1,N=null)}}else S=!1}var U;if(typeof f=="function")U=function(){f(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=Q,U=function(){H.postMessage(null)}}else U=function(){E(Q,0)};function X(M){N=M,S||(S=!0,U())}function te(M,B){b=E(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,X(k))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var _=v;v=B;try{return M()}finally{v=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var _=v;v=M;try{return B()}finally{v=_}},e.unstable_scheduleCallback=function(M,B,_){var Z=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?Z+_:Z):_=Z,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=_+Y,M={id:h++,callback:B,priorityLevel:M,startTime:_,expirationTime:Y,sortIndex:-1},_>Z?(M.sortIndex=_,t(u,M),n(c)===null&&M===n(u)&&(w?(g(b),b=-1):w=!0,te(x,_-Z))):(M.sortIndex=Y,t(c,M),j||y||(j=!0,X(k))),M},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(M){var B=v;return function(){var _=v;v=B;try{return M.apply(this,arguments)}finally{v=_}}}})(Uu);Wu.exports=Uu;var np=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=d,Ze=np;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=new Set,Ys={};function Cn(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(Ys[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bi=Object.prototype.hasOwnProperty,rp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ja={},Za={};function lp(e){return Bi.call(Za,e)?!0:Bi.call(Ja,e)?!1:rp.test(e)?Za[e]=!0:(Ja[e]=!0,!1)}function ip(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function op(e,t,n,s){if(t===null||typeof t>"u"||ip(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uo=/[\-:]([a-z])/g;function Vo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uo,Vo);Te[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uo,Vo);Te[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uo,Vo);Te[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ho(e,t,n,s){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(op(t,n,l,s)&&(n=null),s||l===null?lp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var _t=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tr=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Ko=Symbol.for("react.strict_mode"),Wi=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Go=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Vi=Symbol.for("react.suspense_list"),Qo=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),qa=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=qa&&e[qa]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,ai;function Rs(e){if(ai===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ai=t&&t[1]||""}return`
`+ai+e}var ci=!1;function ui(e,t){if(!e||ci)return"";ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function ap(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=ui(e.type,!1),e;case 11:return e=ui(e.type.render,!1),e;case 1:return e=ui(e.type,!0),e;default:return""}}function Hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Mn:return"Portal";case Wi:return"Profiler";case Ko:return"StrictMode";case Ui:return"Suspense";case Vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ku:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case Go:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qo:return t=e.displayName||null,t!==null?t:Hi(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Hi(e(t))}catch{}}return null}function cp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hi(t);case 8:return t===Ko?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function up(e){var t=Qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=up(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Qu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ki(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ec(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xu(e,t){t=t.checked,t!=null&&Ho(e,"checked",t,!1)}function Gi(e,t){Xu(e,t);var n=rn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qi(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qi(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Qn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+rn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Yi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Is(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rn(n)}}function Ju(e,t){var n=rn(t.value),s=rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function sc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dp=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(e){dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Os[t]=Os[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Os.hasOwnProperty(e)&&Os[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ed(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var fp=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ji(e,t){if(t){if(fp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eo=null,Yn=null,Xn=null;function rc(e){if(e=yr(e)){if(typeof eo!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Bl(t),eo(e.stateNode,e.type,t))}}function nd(e){Yn?Xn?Xn.push(e):Xn=[e]:Yn=e}function sd(){if(Yn){var e=Yn,t=Xn;if(Xn=Yn=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function rd(e,t){return e(t)}function ld(){}var di=!1;function id(e,t,n){if(di)return e(t,n);di=!0;try{return rd(e,t,n)}finally{di=!1,(Yn!==null||Xn!==null)&&(ld(),sd())}}function Js(e,t){var n=e.stateNode;if(n===null)return null;var s=Bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var to=!1;if(Rt)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){to=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{to=!1}function hp(e,t,n,s,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _s=!1,il=null,ol=!1,no=null,pp={onError:function(e){_s=!0,il=e}};function mp(e,t,n,s,l,i,o,a,c){_s=!1,il=null,hp.apply(pp,arguments)}function gp(e,t,n,s,l,i,o,a,c){if(mp.apply(this,arguments),_s){if(_s){var u=il;_s=!1,il=null}else throw Error(R(198));ol||(ol=!0,no=u)}}function En(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(En(e)!==e)throw Error(R(188))}function vp(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return lc(l),e;if(i===s)return lc(l),t;i=i.sibling}throw Error(R(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==s)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function ad(e){return e=vp(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=Ze.unstable_scheduleCallback,ic=Ze.unstable_cancelCallback,xp=Ze.unstable_shouldYield,yp=Ze.unstable_requestPaint,ge=Ze.unstable_now,wp=Ze.unstable_getCurrentPriorityLevel,Xo=Ze.unstable_ImmediatePriority,dd=Ze.unstable_UserBlockingPriority,al=Ze.unstable_NormalPriority,jp=Ze.unstable_LowPriority,fd=Ze.unstable_IdlePriority,zl=null,kt=null;function Np(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:bp,kp=Math.log,Sp=Math.LN2;function bp(e){return e>>>=0,e===0?32:31-(kp(e)/Sp|0)|0}var Rr=64,Ir=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=Ms(a):(i&=o,i!==0&&(s=Ms(i)))}else o=n&~l,o!==0?s=Ms(o):i!==0&&(s=Ms(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function Cp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ep(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=Cp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function so(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=Rr;return Rr<<=1,!(Rr&4194240)&&(Rr=64),e}function fi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Tp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Jo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ne=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Zo,gd,vd,xd,ro=!1,Mr=[],Xt=null,Jt=null,Zt=null,Zs=new Map,qs=new Map,Kt=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function ks(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=yr(t),t!==null&&Zo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Dp(e,t,n,s,l){switch(t){case"focusin":return Xt=ks(Xt,e,t,n,s,l),!0;case"dragenter":return Jt=ks(Jt,e,t,n,s,l),!0;case"mouseover":return Zt=ks(Zt,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return Zs.set(i,ks(Zs.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,qs.set(i,ks(qs.get(i)||null,e,t,n,s,l)),!0}return!1}function yd(e){var t=gn(e.target);if(t!==null){var n=En(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,xd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qi=s,n.target.dispatchEvent(s),qi=null}else return t=yr(n),t!==null&&Zo(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){Gr(e)&&n.delete(t)}function Rp(){ro=!1,Xt!==null&&Gr(Xt)&&(Xt=null),Jt!==null&&Gr(Jt)&&(Jt=null),Zt!==null&&Gr(Zt)&&(Zt=null),Zs.forEach(ac),qs.forEach(ac)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,ro||(ro=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Rp)))}function er(e){function t(l){return Ss(l,e)}if(0<Mr.length){Ss(Mr[0],e);for(var n=1;n<Mr.length;n++){var s=Mr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Xt!==null&&Ss(Xt,e),Jt!==null&&Ss(Jt,e),Zt!==null&&Ss(Zt,e),Zs.forEach(t),qs.forEach(t),n=0;n<Kt.length;n++)s=Kt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)yd(n),n.blockedOn===null&&Kt.shift()}var Jn=_t.ReactCurrentBatchConfig,ul=!0;function Ip(e,t,n,s){var l=ne,i=Jn.transition;Jn.transition=null;try{ne=1,qo(e,t,n,s)}finally{ne=l,Jn.transition=i}}function Mp(e,t,n,s){var l=ne,i=Jn.transition;Jn.transition=null;try{ne=4,qo(e,t,n,s)}finally{ne=l,Jn.transition=i}}function qo(e,t,n,s){if(ul){var l=lo(e,t,n,s);if(l===null)Ni(e,t,s,dl,n),oc(e,s);else if(Dp(l,e,t,n,s))s.stopPropagation();else if(oc(e,s),t&4&&-1<Pp.indexOf(e)){for(;l!==null;){var i=yr(l);if(i!==null&&md(i),i=lo(e,t,n,s),i===null&&Ni(e,t,s,dl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else Ni(e,t,s,null,n)}}var dl=null;function lo(e,t,n,s){if(dl=null,e=Yo(s),e=gn(e),e!==null)if(t=En(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case Xo:return 1;case dd:return 4;case al:case jp:return 16;case fd:return 536870912;default:return 16}default:return 16}}var Qt=null,ea=null,Qr=null;function jd(){if(Qr)return Qr;var e,t=ea,n=t.length,s,l="value"in Qt?Qt.value:Qt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Qr=l.slice(e,1<s?1-s:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function cc(){return!1}function et(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lr:cc,this.isPropagationStopped=cc,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=et(cs),xr=fe({},cs,{view:0,detail:0}),Lp=et(xr),hi,pi,bs,Al=fe({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(hi=e.screenX-bs.screenX,pi=e.screenY-bs.screenY):pi=hi=0,bs=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:pi}}),uc=et(Al),Op=fe({},Al,{dataTransfer:0}),_p=et(Op),zp=fe({},xr,{relatedTarget:0}),mi=et(zp),Ap=fe({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=et(Ap),$p=fe({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bp=et($p),Wp=fe({},cs,{data:0}),dc=et(Wp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hp[e])?!!t[e]:!1}function na(){return Kp}var Gp=fe({},xr,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=et(Gp),Yp=fe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=et(Yp),Xp=fe({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),Jp=et(Xp),Zp=fe({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=et(Zp),em=fe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=et(em),nm=[9,13,27,32],sa=Rt&&"CompositionEvent"in window,zs=null;Rt&&"documentMode"in document&&(zs=document.documentMode);var sm=Rt&&"TextEvent"in window&&!zs,Nd=Rt&&(!sa||zs&&8<zs&&11>=zs),hc=" ",pc=!1;function kd(e,t){switch(e){case"keyup":return nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function rm(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(pc=!0,hc);case"textInput":return e=t.data,e===hc&&pc?null:e;default:return null}}function lm(e,t){if(On)return e==="compositionend"||!sa&&kd(e,t)?(e=jd(),Qr=ea=Qt=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!im[e.type]:t==="textarea"}function bd(e,t,n,s){nd(s),t=fl(t,"onChange"),0<t.length&&(n=new ta("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var As=null,tr=null;function om(e){_d(e,0)}function Fl(e){var t=An(e);if(Yu(t))return e}function am(e,t){if(e==="change")return t}var Cd=!1;if(Rt){var gi;if(Rt){var vi="oninput"in document;if(!vi){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),vi=typeof gc.oninput=="function"}gi=vi}else gi=!1;Cd=gi&&(!document.documentMode||9<document.documentMode)}function vc(){As&&(As.detachEvent("onpropertychange",Ed),tr=As=null)}function Ed(e){if(e.propertyName==="value"&&Fl(tr)){var t=[];bd(t,tr,e,Yo(e)),id(om,t)}}function cm(e,t,n){e==="focusin"?(vc(),As=t,tr=n,As.attachEvent("onpropertychange",Ed)):e==="focusout"&&vc()}function um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fl(tr)}function dm(e,t){if(e==="click")return Fl(t)}function fm(e,t){if(e==="input"||e==="change")return Fl(t)}function hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:hm;function nr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Bi.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var n=xc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xc(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pm(e){var t=Pd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(s!==null&&ra(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=yc(n,i);var o=yc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mm=Rt&&"documentMode"in document&&11>=document.documentMode,_n=null,io=null,Fs=null,oo=!1;function wc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oo||_n==null||_n!==ll(s)||(s=_n,"selectionStart"in s&&ra(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fs&&nr(Fs,s)||(Fs=s,s=fl(io,"onSelect"),0<s.length&&(t=new ta("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=_n)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},xi={},Dd={};Rt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function $l(e){if(xi[e])return xi[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dd)return xi[e]=t[n];return e}var Rd=$l("animationend"),Id=$l("animationiteration"),Md=$l("animationstart"),Ld=$l("transitionend"),Od=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Od.set(e,t),Cn(t,[e])}for(var yi=0;yi<jc.length;yi++){var wi=jc[yi],gm=wi.toLowerCase(),vm=wi[0].toUpperCase()+wi.slice(1);an(gm,"on"+vm)}an(Rd,"onAnimationEnd");an(Id,"onAnimationIteration");an(Md,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Ld,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Nc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,gp(s,t,void 0,e),e.currentTarget=null}function _d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;Nc(l,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;Nc(l,a,u),i=c}}}if(ol)throw e=no,ol=!1,no=null,e}function ie(e,t){var n=t[ho];n===void 0&&(n=t[ho]=new Set);var s=e+"__bubble";n.has(s)||(zd(t,e,2,!1),n.add(s))}function ji(e,t,n){var s=0;t&&(s|=4),zd(n,e,s,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function sr(e){if(!e[_r]){e[_r]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(xm.has(n)||ji(n,!1,e),ji(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,ji("selectionchange",!1,t))}}function zd(e,t,n,s){switch(wd(t)){case 1:var l=Ip;break;case 4:l=Mp;break;default:l=qo}n=l.bind(null,t,n,e),l=void 0,!to||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ni(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=gn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}id(function(){var u=i,h=Yo(n),p=[];e:{var v=Od.get(e);if(v!==void 0){var y=ta,j=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":y=Qp;break;case"focusin":j="focus",y=mi;break;case"focusout":j="blur",y=mi;break;case"beforeblur":case"afterblur":y=mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Jp;break;case Rd:case Id:case Md:y=Fp;break;case Ld:y=qp;break;case"scroll":y=Lp;break;case"wheel":y=tm;break;case"copy":case"cut":case"paste":y=Bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fc}var w=(t&4)!==0,E=!w&&e==="scroll",g=w?v!==null?v+"Capture":null:v;w=[];for(var f=u,m;f!==null;){m=f;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=Js(f,g),x!=null&&w.push(rr(f,x,m)))),E)break;f=f.return}0<w.length&&(v=new y(v,j,null,n,h),p.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&n!==qi&&(j=n.relatedTarget||n.fromElement)&&(gn(j)||j[It]))break e;if((y||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=u,j=j?gn(j):null,j!==null&&(E=En(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(w=uc,x="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=fc,x="onPointerLeave",g="onPointerEnter",f="pointer"),E=y==null?v:An(y),m=j==null?v:An(j),v=new w(x,f+"leave",y,n,h),v.target=E,v.relatedTarget=m,x=null,gn(h)===u&&(w=new w(g,f+"enter",j,n,h),w.target=m,w.relatedTarget=E,x=w),E=x,y&&j)t:{for(w=y,g=j,f=0,m=w;m;m=Rn(m))f++;for(m=0,x=g;x;x=Rn(x))m++;for(;0<f-m;)w=Rn(w),f--;for(;0<m-f;)g=Rn(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Rn(w),g=Rn(g)}w=null}else w=null;y!==null&&kc(p,v,y,w,!1),j!==null&&E!==null&&kc(p,E,j,w,!0)}}e:{if(v=u?An(u):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var k=am;else if(mc(v))if(Cd)k=fm;else{k=um;var S=cm}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(k=dm);if(k&&(k=k(e,u))){bd(p,k,n,h);break e}S&&S(e,v,u),e==="focusout"&&(S=v._wrapperState)&&S.controlled&&v.type==="number"&&Qi(v,"number",v.value)}switch(S=u?An(u):window,e){case"focusin":(mc(S)||S.contentEditable==="true")&&(_n=S,io=u,Fs=null);break;case"focusout":Fs=io=_n=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,wc(p,n,h);break;case"selectionchange":if(mm)break;case"keydown":case"keyup":wc(p,n,h)}var N;if(sa)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else On?kd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Nd&&n.locale!=="ko"&&(On||b!=="onCompositionStart"?b==="onCompositionEnd"&&On&&(N=jd()):(Qt=h,ea="value"in Qt?Qt.value:Qt.textContent,On=!0)),S=fl(u,b),0<S.length&&(b=new dc(b,e,null,n,h),p.push({event:b,listeners:S}),N?b.data=N:(N=Sd(n),N!==null&&(b.data=N)))),(N=sm?rm(e,n):lm(e,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(h=new dc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=N))}_d(p,t)})}function rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Js(e,n),i!=null&&s.unshift(rr(e,i,l)),i=Js(e,t),i!=null&&s.push(rr(e,i,l))),e=e.return}return s}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,l?(c=Js(n,i),c!=null&&o.unshift(rr(n,c,a))):l||(c=Js(n,i),c!=null&&o.push(rr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ym=/\r\n?/g,wm=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(wm,"")}function zr(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(R(425))}function hl(){}var ao=null,co=null;function uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fo=typeof setTimeout=="function"?setTimeout:void 0,jm=typeof clearTimeout=="function"?clearTimeout:void 0,bc=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof bc<"u"?function(e){return bc.resolve(null).then(e).catch(km)}:fo;function km(e){setTimeout(function(){throw e})}function ki(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),er(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);er(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),Nt="__reactFiber$"+us,lr="__reactProps$"+us,It="__reactContainer$"+us,ho="__reactEvents$"+us,Sm="__reactListeners$"+us,bm="__reactHandles$"+us;function gn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cc(e);e!==null;){if(n=e[Nt])return n;e=Cc(e)}return t}e=n,n=e.parentNode}return null}function yr(e){return e=e[Nt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Bl(e){return e[lr]||null}var po=[],Fn=-1;function cn(e){return{current:e}}function oe(e){0>Fn||(e.current=po[Fn],po[Fn]=null,Fn--)}function le(e,t){Fn++,po[Fn]=e.current,e.current=t}var ln={},Me=cn(ln),Ue=cn(!1),jn=ln;function ns(e,t){var n=e.type.contextTypes;if(!n)return ln;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function pl(){oe(Ue),oe(Me)}function Ec(e,t,n){if(Me.current!==ln)throw Error(R(168));le(Me,t),le(Ue,n)}function Ad(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(R(108,cp(e)||"Unknown",l));return fe({},n,s)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,jn=Me.current,le(Me,e),le(Ue,Ue.current),!0}function Tc(e,t,n){var s=e.stateNode;if(!s)throw Error(R(169));n?(e=Ad(e,t,jn),s.__reactInternalMemoizedMergedChildContext=e,oe(Ue),oe(Me),le(Me,e)):oe(Ue),le(Ue,n)}var Et=null,Wl=!1,Si=!1;function Fd(e){Et===null?Et=[e]:Et.push(e)}function Cm(e){Wl=!0,Fd(e)}function un(){if(!Si&&Et!==null){Si=!0;var e=0,t=ne;try{var n=Et;for(ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Et=null,Wl=!1}catch(l){throw Et!==null&&(Et=Et.slice(e+1)),ud(Xo,un),l}finally{ne=t,Si=!1}}return null}var $n=[],Bn=0,gl=null,vl=0,st=[],rt=0,Nn=null,Tt=1,Pt="";function pn(e,t){$n[Bn++]=vl,$n[Bn++]=gl,gl=e,vl=t}function $d(e,t,n){st[rt++]=Tt,st[rt++]=Pt,st[rt++]=Nn,Nn=e;var s=Tt;e=Pt;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,Tt=1<<32-pt(t)+l|n<<l|s,Pt=i+e}else Tt=1<<i|n<<l|s,Pt=e}function la(e){e.return!==null&&(pn(e,1),$d(e,1,0))}function ia(e){for(;e===gl;)gl=$n[--Bn],$n[Bn]=null,vl=$n[--Bn],$n[Bn]=null;for(;e===Nn;)Nn=st[--rt],st[rt]=null,Pt=st[--rt],st[rt]=null,Tt=st[--rt],st[rt]=null}var Je=null,Xe=null,ae=!1,ht=null;function Bd(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Tt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function mo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function go(e){if(ae){var t=Xe;if(t){var n=t;if(!Pc(e,t)){if(mo(e))throw Error(R(418));t=qt(n.nextSibling);var s=Je;t&&Pc(e,t)?Bd(s,n):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(mo(e))throw Error(R(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ar(e){if(e!==Je)return!1;if(!ae)return Dc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uo(e.type,e.memoizedProps)),t&&(t=Xe)){if(mo(e))throw Wd(),Error(R(418));for(;t;)Bd(e,t),t=qt(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?qt(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=Xe;e;)e=qt(e.nextSibling)}function ss(){Xe=Je=null,ae=!1}function oa(e){ht===null?ht=[e]:ht.push(e)}var Em=_t.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var s=n.stateNode}if(!s)throw Error(R(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function Ud(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function s(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function l(g,f){return g=sn(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,f,m,x){return f===null||f.tag!==6?(f=Ri(m,g.mode,x),f.return=g,f):(f=l(f,m),f.return=g,f)}function c(g,f,m,x){var k=m.type;return k===Ln?h(g,f,m.props.children,x,m.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ut&&Rc(k)===f.type)?(x=l(f,m.props),x.ref=Cs(g,f,m),x.return=g,x):(x=nl(m.type,m.key,m.props,null,g.mode,x),x.ref=Cs(g,f,m),x.return=g,x)}function u(g,f,m,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ii(m,g.mode,x),f.return=g,f):(f=l(f,m.children||[]),f.return=g,f)}function h(g,f,m,x,k){return f===null||f.tag!==7?(f=wn(m,g.mode,x,k),f.return=g,f):(f=l(f,m),f.return=g,f)}function p(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ri(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Tr:return m=nl(f.type,f.key,f.props,null,g.mode,m),m.ref=Cs(g,null,f),m.return=g,m;case Mn:return f=Ii(f,g.mode,m),f.return=g,f;case Ut:var x=f._init;return p(g,x(f._payload),m)}if(Is(f)||js(f))return f=wn(f,g.mode,m,null),f.return=g,f;Fr(g,f)}return null}function v(g,f,m,x){var k=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(g,f,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Tr:return m.key===k?c(g,f,m,x):null;case Mn:return m.key===k?u(g,f,m,x):null;case Ut:return k=m._init,v(g,f,k(m._payload),x)}if(Is(m)||js(m))return k!==null?null:h(g,f,m,x,null);Fr(g,m)}return null}function y(g,f,m,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,a(f,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tr:return g=g.get(x.key===null?m:x.key)||null,c(f,g,x,k);case Mn:return g=g.get(x.key===null?m:x.key)||null,u(f,g,x,k);case Ut:var S=x._init;return y(g,f,m,S(x._payload),k)}if(Is(x)||js(x))return g=g.get(m)||null,h(f,g,x,k,null);Fr(f,x)}return null}function j(g,f,m,x){for(var k=null,S=null,N=f,b=f=0,C=null;N!==null&&b<m.length;b++){N.index>b?(C=N,N=null):C=N.sibling;var T=v(g,N,m[b],x);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(g,N),f=i(T,f,b),S===null?k=T:S.sibling=T,S=T,N=C}if(b===m.length)return n(g,N),ae&&pn(g,b),k;if(N===null){for(;b<m.length;b++)N=p(g,m[b],x),N!==null&&(f=i(N,f,b),S===null?k=N:S.sibling=N,S=N);return ae&&pn(g,b),k}for(N=s(g,N);b<m.length;b++)C=y(N,g,b,m[b],x),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?b:C.key),f=i(C,f,b),S===null?k=C:S.sibling=C,S=C);return e&&N.forEach(function(I){return t(g,I)}),ae&&pn(g,b),k}function w(g,f,m,x){var k=js(m);if(typeof k!="function")throw Error(R(150));if(m=k.call(m),m==null)throw Error(R(151));for(var S=k=null,N=f,b=f=0,C=null,T=m.next();N!==null&&!T.done;b++,T=m.next()){N.index>b?(C=N,N=null):C=N.sibling;var I=v(g,N,T.value,x);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(g,N),f=i(I,f,b),S===null?k=I:S.sibling=I,S=I,N=C}if(T.done)return n(g,N),ae&&pn(g,b),k;if(N===null){for(;!T.done;b++,T=m.next())T=p(g,T.value,x),T!==null&&(f=i(T,f,b),S===null?k=T:S.sibling=T,S=T);return ae&&pn(g,b),k}for(N=s(g,N);!T.done;b++,T=m.next())T=y(N,g,b,T.value,x),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?b:T.key),f=i(T,f,b),S===null?k=T:S.sibling=T,S=T);return e&&N.forEach(function(Q){return t(g,Q)}),ae&&pn(g,b),k}function E(g,f,m,x){if(typeof m=="object"&&m!==null&&m.type===Ln&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Tr:e:{for(var k=m.key,S=f;S!==null;){if(S.key===k){if(k=m.type,k===Ln){if(S.tag===7){n(g,S.sibling),f=l(S,m.props.children),f.return=g,g=f;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ut&&Rc(k)===S.type){n(g,S.sibling),f=l(S,m.props),f.ref=Cs(g,S,m),f.return=g,g=f;break e}n(g,S);break}else t(g,S);S=S.sibling}m.type===Ln?(f=wn(m.props.children,g.mode,x,m.key),f.return=g,g=f):(x=nl(m.type,m.key,m.props,null,g.mode,x),x.ref=Cs(g,f,m),x.return=g,g=x)}return o(g);case Mn:e:{for(S=m.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(g,f.sibling),f=l(f,m.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Ii(m,g.mode,x),f.return=g,g=f}return o(g);case Ut:return S=m._init,E(g,f,S(m._payload),x)}if(Is(m))return j(g,f,m,x);if(js(m))return w(g,f,m,x);Fr(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(g,f.sibling),f=l(f,m),f.return=g,g=f):(n(g,f),f=Ri(m,g.mode,x),f.return=g,g=f),o(g)):n(g,f)}return E}var rs=Ud(!0),Vd=Ud(!1),xl=cn(null),yl=null,Wn=null,aa=null;function ca(){aa=Wn=yl=null}function ua(e){var t=xl.current;oe(xl),e._currentValue=t}function vo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){yl=e,aa=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(aa!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(yl===null)throw Error(R(308));Wn=e,yl.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var vn=null;function da(e){vn===null?vn=[e]:vn.push(e)}function Hd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,da(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,s)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Mt(e,n)}return l=s.interleaved,l===null?(t.next=t,da(s)):(t.next=l.next,l.next=t),s.interleaved=t,Mt(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Jo(e,n)}}function Ic(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,s){var l=e.updateQueue;Vt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;o=0,h=u=c=null,a=i;do{var v=a.lane,y=a.eventTime;if((s&v)===v){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(v=t,y=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(y,p,v);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(y,p,v):j,v==null)break e;p=fe({},p,v);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[a]:v.push(a))}else y={eventTime:y,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=p):h=h.next=y,o|=v;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;v=a,a=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Sn|=o,e.lanes=o,e.memoizedState=p}}function Mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(R(191,l));l.call(s)}}}var wr={},St=cn(wr),ir=cn(wr),or=cn(wr);function xn(e){if(e===wr)throw Error(R(174));return e}function ha(e,t){switch(le(or,t),le(ir,e),le(St,wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xi(t,e)}oe(St),le(St,t)}function ls(){oe(St),oe(ir),oe(or)}function Gd(e){xn(or.current);var t=xn(St.current),n=Xi(t,e.type);t!==n&&(le(ir,e),le(St,n))}function pa(e){ir.current===e&&(oe(St),oe(ir))}var ue=cn(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bi=[];function ma(){for(var e=0;e<bi.length;e++)bi[e]._workInProgressVersionPrimary=null;bi.length=0}var Jr=_t.ReactCurrentDispatcher,Ci=_t.ReactCurrentBatchConfig,kn=0,de=null,ye=null,Ne=null,Nl=!1,$s=!1,ar=0,Tm=0;function De(){throw Error(R(321))}function ga(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function va(e,t,n,s,l,i){if(kn=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?Im:Mm,e=n(s,l),$s){i=0;do{if($s=!1,ar=0,25<=i)throw Error(R(301));i+=1,Ne=ye=null,t.updateQueue=null,Jr.current=Lm,e=n(s,l)}while($s)}if(Jr.current=kl,t=ye!==null&&ye.next!==null,kn=0,Ne=ye=de=null,Nl=!1,t)throw Error(R(300));return e}function xa(){var e=ar!==0;return ar=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function at(){if(ye===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Ne===null?de.memoizedState:Ne.next;if(t!==null)Ne=t,ye=e;else{if(e===null)throw Error(R(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function cr(e,t){return typeof t=="function"?t(e):t}function Ei(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var s=ye,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((kn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=s):c=c.next=p,de.lanes|=h,Sn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,de.lanes|=i,Sn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Qd(){}function Yd(e,t){var n=de,s=at(),l=t(),i=!gt(s.memoizedState,l);if(i&&(s.memoizedState=l,We=!0),s=s.queue,ya(Zd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,ur(9,Jd.bind(null,n,s,l,t),void 0,null),Se===null)throw Error(R(349));kn&30||Xd(n,t,l)}return l}function Xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,s){t.value=n,t.getSnapshot=s,qd(t)&&ef(e)}function Zd(e,t,n){return n(function(){qd(t)&&ef(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function ef(e){var t=Mt(e,1);t!==null&&mt(t,e,1,-1)}function Lc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Rm.bind(null,de,e),[t.memoizedState,e]}function ur(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function tf(){return at().memoizedState}function Zr(e,t,n,s){var l=jt();de.flags|=e,l.memoizedState=ur(1|t,n,void 0,s===void 0?null:s)}function Ul(e,t,n,s){var l=at();s=s===void 0?null:s;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,s!==null&&ga(s,o.deps)){l.memoizedState=ur(t,n,i,s);return}}de.flags|=e,l.memoizedState=ur(1|t,n,i,s)}function Oc(e,t){return Zr(8390656,8,e,t)}function ya(e,t){return Ul(2048,8,e,t)}function nf(e,t){return Ul(4,2,e,t)}function sf(e,t){return Ul(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,rf.bind(null,t,e),n)}function wa(){}function of(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ga(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ga(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function cf(e,t,n){return kn&21?(gt(n,t)||(n=hd(),de.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Pm(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var s=Ci.transition;Ci.transition={};try{e(!1),t()}finally{ne=n,Ci.transition=s}}function uf(){return at().memoizedState}function Dm(e,t,n){var s=nn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,n);else if(n=Hd(e,t,n,s),n!==null){var l=_e();mt(n,e,s,l),hf(n,t,s)}}function Rm(e,t,n){var s=nn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(l.next=l,da(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hd(e,t,l,s),n!==null&&(l=_e(),mt(n,e,s,l),hf(n,t,s))}}function df(e){var t=e.alternate;return e===de||t!==null&&t===de}function ff(e,t){$s=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Jo(e,n)}}var kl={readContext:ot,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Im={readContext:ot,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zr(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zr(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=jt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Dm.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:wa,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Pm.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=de,l=jt();if(ae){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Se===null)throw Error(R(349));kn&30||Xd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Oc(Zd.bind(null,s,i,e),[e]),s.flags|=2048,ur(9,Jd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=jt(),t=Se.identifierPrefix;if(ae){var n=Pt,s=Tt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mm={readContext:ot,useCallback:of,useContext:ot,useEffect:ya,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:Ei,useRef:tf,useState:function(){return Ei(cr)},useDebugValue:wa,useDeferredValue:function(e){var t=at();return cf(t,ye.memoizedState,e)},useTransition:function(){var e=Ei(cr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1},Lm={readContext:ot,useCallback:of,useContext:ot,useEffect:ya,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:Ti,useRef:tf,useState:function(){return Ti(cr)},useDebugValue:wa,useDeferredValue:function(e){var t=at();return ye===null?t.memoizedState=e:cf(t,ye.memoizedState,e)},useTransition:function(){var e=Ti(cr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=_e(),l=nn(e),i=Dt(s,l);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=_e(),l=nn(e),i=Dt(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),s=nn(e),l=Dt(n,s);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,s),t!==null&&(mt(t,e,s,n),Xr(t,e,s))}};function _c(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!nr(n,s)||!nr(l,i):!0}function pf(e,t,n){var s=!1,l=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(l=Ve(t)?jn:Me.current,s=t.contextTypes,i=(s=s!=null)?ns(e,l):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function zc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},fa(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ot(i):(i=Ve(t)?jn:Me.current,l.context=ns(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Vl.enqueueReplaceState(l,l.state,null),wl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var n="",s=t;do n+=ap(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Pi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Om=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){bl||(bl=!0,Do=s),wo(e,t)},n}function gf(e,t,n){n=Dt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){wo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wo(e,t),typeof s!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ac(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Om;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Ym.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var _m=_t.ReactCurrentOwner,We=!1;function Oe(e,t,n,s){t.child=e===null?Vd(t,null,n,s):rs(t,e.child,n,s)}function Bc(e,t,n,s,l){n=n.render;var i=t.ref;return Zn(t,l),s=va(e,t,n,s,i,l),n=xa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ae&&n&&la(t),t.flags|=1,Oe(e,t,s,l),t.child)}function Wc(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!Ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vf(e,t,i,s,l)):(e=nl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(o,s)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=sn(i,s),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(nr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return jo(e,t,n,s,l)}function xf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Vn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Vn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,le(Vn,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,le(Vn,Ye),Ye|=s;return Oe(e,t,l,n),t.child}function yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,s,l){var i=Ve(n)?jn:Me.current;return i=ns(t,i),Zn(t,l),n=va(e,t,n,s,i,l),s=xa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ae&&s&&la(t),t.flags|=1,Oe(e,t,n,l),t.child)}function Uc(e,t,n,s,l){if(Ve(n)){var i=!0;ml(t)}else i=!1;if(Zn(t,l),t.stateNode===null)qr(e,t),pf(t,n,s),yo(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?jn:Me.current,u=ns(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&zc(t,o,s,u),Vt=!1;var v=t.memoizedState;o.state=v,wl(t,s,o,l),c=t.memoizedState,a!==s||v!==c||Ue.current||Vt?(typeof h=="function"&&(xo(t,n,h,s),c=t.memoizedState),(a=Vt||_c(t,n,a,s,v,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Kd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,p=t.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?jn:Me.current,c=ns(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==c)&&zc(t,o,s,c),Vt=!1,v=t.memoizedState,o.state=v,wl(t,s,o,l);var j=t.memoizedState;a!==p||v!==j||Ue.current||Vt?(typeof y=="function"&&(xo(t,n,y,s),j=t.memoizedState),(u=Vt||_c(t,n,u,s,v,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),s=!1)}return No(e,t,n,s,i,l)}function No(e,t,n,s,l,i){yf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&Tc(t,n,!1),Lt(e,t,i);s=t.stateNode,_m.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,a,i)):Oe(e,t,a,i),t.memoizedState=s.state,l&&Tc(t,n,!0),t.child}function wf(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),ha(e,t.containerInfo)}function Vc(e,t,n,s,l){return ss(),oa(l),t.flags|=256,Oe(e,t,n,s),t.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function So(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,n){var s=t.pendingProps,l=ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),le(ue,l&1),e===null)return go(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gl(o,s,0,null),e=wn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=So(n),t.memoizedState=ko,e):ja(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return zm(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=sn(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=sn(a,i):(i=wn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?So(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ko,s}return i=e.child,e=i.sibling,s=sn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ja(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $r(e,t,n,s){return s!==null&&oa(s),rs(t,e.child,null,n),e=ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Pi(Error(R(422))),$r(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Gl({mode:"visible",children:s.children},l,0,null),i=wn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&rs(t,e.child,null,o),t.child.memoizedState=So(o),t.memoizedState=ko,i);if(!(t.mode&1))return $r(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(R(419)),s=Pi(i,s,void 0),$r(e,t,o,s)}if(a=(o&e.childLanes)!==0,We||a){if(s=Se,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Mt(e,l),mt(s,e,l,-1))}return Ea(),s=Pi(Error(R(421))),$r(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Xm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=qt(l.nextSibling),Je=t,ae=!0,ht=null,e!==null&&(st[rt++]=Tt,st[rt++]=Pt,st[rt++]=Nn,Tt=e.id,Pt=e.overflow,Nn=t),t=ja(t,s.children),t.flags|=4096,t)}function Hc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),vo(e.return,t,n)}function Di(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function Nf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(Oe(e,t,s.children,n),s=ue.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,n,t);else if(e.tag===19)Hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(ue,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&jl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Di(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&jl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Di(t,!0,n,null,i);break;case"together":Di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Am(e,t,n){switch(t.tag){case 3:wf(t),ss();break;case 5:Gd(t);break;case 1:Ve(t.type)&&ml(t);break;case 4:ha(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;le(xl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?jf(e,t,n):(le(ue,ue.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);le(ue,ue.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Nf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),le(ue,ue.current),s)break;return null;case 22:case 23:return t.lanes=0,xf(e,t,n)}return Lt(e,t,n)}var kf,bo,Sf,bf;kf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bo=function(){};Sf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,xn(St.current);var i=null;switch(n){case"input":l=Ki(e,l),s=Ki(e,s),i=[];break;case"select":l=fe({},l,{value:void 0}),s=fe({},s,{value:void 0}),i=[];break;case"textarea":l=Yi(e,l),s=Yi(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hl)}Ji(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Es(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Fm(e,t,n){var s=t.pendingProps;switch(ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ve(t.type)&&pl(),Re(t),null;case 3:return s=t.stateNode,ls(),oe(Ue),oe(Me),ma(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Mo(ht),ht=null))),bo(e,t),Re(t),null;case 5:pa(t);var l=xn(or.current);if(n=t.type,e!==null&&t.stateNode!=null)Sf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(R(166));return Re(t),null}if(e=xn(St.current),Ar(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Nt]=t,s[lr]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",s),ie("close",s);break;case"iframe":case"object":case"embed":ie("load",s);break;case"video":case"audio":for(l=0;l<Ls.length;l++)ie(Ls[l],s);break;case"source":ie("error",s);break;case"img":case"image":case"link":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"input":ec(s,i),ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ie("invalid",s);break;case"textarea":nc(s,i),ie("invalid",s)}Ji(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",s)}switch(n){case"input":Pr(s),tc(s,i,!0);break;case"textarea":Pr(s),sc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Nt]=t,e[lr]=s,kf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zi(n,s),n){case"dialog":ie("cancel",e),ie("close",e),l=s;break;case"iframe":case"object":case"embed":ie("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ls.length;l++)ie(Ls[l],e);l=s;break;case"source":ie("error",e),l=s;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=s;break;case"details":ie("toggle",e),l=s;break;case"input":ec(e,s),l=Ki(e,s),ie("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=fe({},s,{value:void 0}),ie("invalid",e);break;case"textarea":nc(e,s),l=Yi(e,s),ie("invalid",e);break;default:l=s}Ji(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?td(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xs(e,c):typeof c=="number"&&Xs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Ho(e,i,c,o))}switch(n){case"input":Pr(e),tc(e,s,!1);break;case"textarea":Pr(e),sc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+rn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Qn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Qn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)bf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(R(166));if(n=xn(or.current),xn(St.current),Ar(t)){if(s=t.stateNode,n=t.memoizedProps,s[Nt]=t,(i=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:zr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Nt]=t,t.stateNode=s}return Re(t),null;case 13:if(oe(ue),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Xe!==null&&t.mode&1&&!(t.flags&128))Wd(),ss(),t.flags|=98560,i=!1;else if(i=Ar(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Nt]=t}else ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else ht!==null&&(Mo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?je===0&&(je=3):Ea())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return ls(),bo(e,t),e===null&&sr(t.stateNode.containerInfo),Re(t),null;case 10:return ua(t.type._context),Re(t),null;case 17:return Ve(t.type)&&pl(),Re(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Re(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Es(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jl(e),o!==null){for(t.flags|=128,Es(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>os&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304)}else{if(!s)if(e=jl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Re(t),null}else 2*ge()-i.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,n=ue.current,le(ue,s?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return Ca(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function $m(e,t){switch(ia(t),t.tag){case 1:return Ve(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(),oe(Ue),oe(Me),ma(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pa(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return ls(),null;case 10:return ua(t.type._context),null;case 22:case 23:return Ca(),null;case 24:return null;default:return null}}var Br=!1,Ie=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){he(e,t,s)}else n.current=null}function Co(e,t,n){try{n()}catch(s){he(e,t,s)}}var Kc=!1;function Wm(e,t){if(ao=ul,e=Pd(),ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=e,v=null;t:for(;;){for(var y;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||s!==0&&p.nodeType!==3||(c=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)v=p,p=y;for(;;){if(p===e)break t;if(v===n&&++u===l&&(a=o),v===i&&++h===s&&(c=o),(y=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(co={focusedElem:e,selectionRange:n},ul=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,E=j.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),E);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(x){he(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=Kc,Kc=!1,j}function Bs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Co(t,n,i)}l=l.next}while(l!==s)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Eo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[lr],delete t[ho],delete t[Sm],delete t[bm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function To(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(s!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}function Po(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}var Ce=null,ft=!1;function Wt(e,t,n){for(n=n.child;n!==null;)Tf(e,t,n),n=n.sibling}function Tf(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:Ie||Un(n,t);case 6:var s=Ce,l=ft;Ce=null,Wt(e,t,n),Ce=s,ft=l,Ce!==null&&(ft?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(ft?(e=Ce,n=n.stateNode,e.nodeType===8?ki(e.parentNode,n):e.nodeType===1&&ki(e,n),er(e)):ki(Ce,n.stateNode));break;case 4:s=Ce,l=ft,Ce=n.stateNode.containerInfo,ft=!0,Wt(e,t,n),Ce=s,ft=l;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Co(n,t,o),l=l.next}while(l!==s)}Wt(e,t,n);break;case 1:if(!Ie&&(Un(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){he(n,t,a)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,Wt(e,t,n),Ie=s):Wt(e,t,n);break;default:Wt(e,t,n)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bm),t.forEach(function(s){var l=Jm.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,ft=!1;break e;case 3:Ce=a.stateNode.containerInfo,ft=!0;break e;case 4:Ce=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Ce===null)throw Error(R(160));Tf(i,o,l),Ce=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){he(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),wt(e),s&4){try{Bs(3,e,e.return),Hl(3,e)}catch(w){he(e,e.return,w)}try{Bs(5,e,e.return)}catch(w){he(e,e.return,w)}}break;case 1:ut(t,e),wt(e),s&512&&n!==null&&Un(n,n.return);break;case 5:if(ut(t,e),wt(e),s&512&&n!==null&&Un(n,n.return),e.flags&32){var l=e.stateNode;try{Xs(l,"")}catch(w){he(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xu(l,i),Zi(a,o);var u=Zi(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?td(l,p):h==="dangerouslySetInnerHTML"?qu(l,p):h==="children"?Xs(l,p):Ho(l,h,p,u)}switch(a){case"input":Gi(l,i);break;case"textarea":Ju(l,i);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Qn(l,!!i.multiple,y,!1):v!==!!i.multiple&&(i.defaultValue!=null?Qn(l,!!i.multiple,i.defaultValue,!0):Qn(l,!!i.multiple,i.multiple?[]:"",!1))}l[lr]=i}catch(w){he(e,e.return,w)}}break;case 6:if(ut(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(R(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){he(e,e.return,w)}}break;case 3:if(ut(t,e),wt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{er(t.containerInfo)}catch(w){he(e,e.return,w)}break;case 4:ut(t,e),wt(e);break;case 13:ut(t,e),wt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Sa=ge())),s&4&&Qc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||h,ut(t,e),Ie=u):ut(t,e),wt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for($=e,h=e.child;h!==null;){for(p=$=h;$!==null;){switch(v=$,y=v.child,v.tag){case 0:case 11:case 14:case 15:Bs(4,v,v.return);break;case 1:Un(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){s=v,n=v.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){he(s,n,w)}}break;case 5:Un(v,v.return);break;case 22:if(v.memoizedState!==null){Xc(p);continue}}y!==null?(y.return=v,$=y):Xc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ed("display",o))}catch(w){he(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){he(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),wt(e),s&4&&Qc(e);break;case 21:break;default:ut(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ef(n)){var s=n;break e}n=n.return}throw Error(R(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Xs(l,""),s.flags&=-33);var i=Gc(e);Po(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Gc(e);To(e,a,o);break;default:throw Error(R(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,n){$=e,Df(e)}function Df(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Br;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Ie;a=Br;var u=Ie;if(Br=o,(Ie=c)&&!u)for($=l;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Jc(l):c!==null?(c.return=o,$=c):Jc(l);for(;i!==null;)$=i,Df(i),i=i.sibling;$=l,Br=a,Ie=u}Yc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):Yc(e)}}function Yc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Hl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mc(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&er(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ie||t.flags&512&&Eo(t)}catch(v){he(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Xc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Jc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(c){he(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){he(t,l,c)}}var i=t.return;try{Eo(t)}catch(c){he(t,i,c)}break;case 5:var o=t.return;try{Eo(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Vm=Math.ceil,Sl=_t.ReactCurrentDispatcher,Na=_t.ReactCurrentOwner,it=_t.ReactCurrentBatchConfig,ee=0,Se=null,ve=null,Ee=0,Ye=0,Vn=cn(0),je=0,dr=null,Sn=0,Kl=0,ka=0,Ws=null,Be=null,Sa=0,os=1/0,Ct=null,bl=!1,Do=null,tn=null,Wr=!1,Yt=null,Cl=0,Us=0,Ro=null,el=-1,tl=0;function _e(){return ee&6?ge():el!==-1?el:el=ge()}function nn(e){return e.mode&1?ee&2&&Ee!==0?Ee&-Ee:Em.transition!==null?(tl===0&&(tl=hd()),tl):(e=ne,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e):1}function mt(e,t,n,s){if(50<Us)throw Us=0,Ro=null,Error(R(185));vr(e,n,s),(!(ee&2)||e!==Se)&&(e===Se&&(!(ee&2)&&(Kl|=n),je===4&&Gt(e,Ee)),He(e,s),n===1&&ee===0&&!(t.mode&1)&&(os=ge()+500,Wl&&un()))}function He(e,t){var n=e.callbackNode;Ep(e,t);var s=cl(e,e===Se?Ee:0);if(s===0)n!==null&&ic(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ic(n),t===1)e.tag===0?Cm(Zc.bind(null,e)):Fd(Zc.bind(null,e)),Nm(function(){!(ee&6)&&un()}),n=null;else{switch(pd(s)){case 1:n=Xo;break;case 4:n=dd;break;case 16:n=al;break;case 536870912:n=fd;break;default:n=al}n=Af(n,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rf(e,t){if(el=-1,tl=0,ee&6)throw Error(R(327));var n=e.callbackNode;if(qn()&&e.callbackNode!==n)return null;var s=cl(e,e===Se?Ee:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=El(e,s);else{t=s;var l=ee;ee|=2;var i=Mf();(Se!==e||Ee!==t)&&(Ct=null,os=ge()+500,yn(e,t));do try{Gm();break}catch(a){If(e,a)}while(!0);ca(),Sl.current=i,ee=l,ve!==null?t=0:(Se=null,Ee=0,t=je)}if(t!==0){if(t===2&&(l=so(e),l!==0&&(s=l,t=Io(e,l))),t===1)throw n=dr,yn(e,0),Gt(e,s),He(e,ge()),n;if(t===6)Gt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Hm(l)&&(t=El(e,s),t===2&&(i=so(e),i!==0&&(s=i,t=Io(e,i))),t===1))throw n=dr,yn(e,0),Gt(e,s),He(e,ge()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(R(345));case 2:mn(e,Be,Ct);break;case 3:if(Gt(e,s),(s&130023424)===s&&(t=Sa+500-ge(),10<t)){if(cl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){_e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=fo(mn.bind(null,e,Be,Ct),t);break}mn(e,Be,Ct);break;case 4:if(Gt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-pt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Vm(s/1960))-s,10<s){e.timeoutHandle=fo(mn.bind(null,e,Be,Ct),s);break}mn(e,Be,Ct);break;case 5:mn(e,Be,Ct);break;default:throw Error(R(329))}}}return He(e,ge()),e.callbackNode===n?Rf.bind(null,e):null}function Io(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=El(e,t),e!==2&&(t=Be,Be=n,t!==null&&Mo(t)),e}function Mo(e){Be===null?Be=e:Be.push.apply(Be,e)}function Hm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~ka,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function Zc(e){if(ee&6)throw Error(R(327));qn();var t=cl(e,0);if(!(t&1))return He(e,ge()),null;var n=El(e,t);if(e.tag!==0&&n===2){var s=so(e);s!==0&&(t=s,n=Io(e,s))}if(n===1)throw n=dr,yn(e,0),Gt(e,t),He(e,ge()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,Be,Ct),He(e,ge()),null}function ba(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(os=ge()+500,Wl&&un())}}function bn(e){Yt!==null&&Yt.tag===0&&!(ee&6)&&qn();var t=ee;ee|=1;var n=it.transition,s=ne;try{if(it.transition=null,ne=1,e)return e()}finally{ne=s,it.transition=n,ee=t,!(ee&6)&&un()}}function Ca(){Ye=Vn.current,oe(Vn)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jm(n)),ve!==null)for(n=ve.return;n!==null;){var s=n;switch(ia(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&pl();break;case 3:ls(),oe(Ue),oe(Me),ma();break;case 5:pa(s);break;case 4:ls();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:ua(s.type._context);break;case 22:case 23:Ca()}n=n.return}if(Se=e,ve=e=sn(e.current,null),Ee=Ye=t,je=0,dr=null,ka=Kl=Sn=0,Be=Ws=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}vn=null}return e}function If(e,t){do{var n=ve;try{if(ca(),Jr.current=kl,Nl){for(var s=de.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Nl=!1}if(kn=0,Ne=ye=de=null,$s=!1,ar=0,Na.current=null,n===null||n.return===null){je=1,dr=t,ve=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Ee,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Fc(o);if(y!==null){y.flags&=-257,$c(y,o,a,i,t),y.mode&1&&Ac(i,u,t),t=y,c=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){Ac(i,u,t),Ea();break e}c=Error(R(426))}}else if(ae&&a.mode&1){var E=Fc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$c(E,o,a,i,t),oa(is(c,a));break e}}i=c=is(c,a),je!==4&&(je=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=mf(i,c,t);Ic(i,g);break e;case 1:a=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tn===null||!tn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=gf(i,a,t);Ic(i,x);break e}}i=i.return}while(i!==null)}Of(n)}catch(k){t=k,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Mf(){var e=Sl.current;return Sl.current=kl,e===null?kl:e}function Ea(){(je===0||je===3||je===2)&&(je=4),Se===null||!(Sn&268435455)&&!(Kl&268435455)||Gt(Se,Ee)}function El(e,t){var n=ee;ee|=2;var s=Mf();(Se!==e||Ee!==t)&&(Ct=null,yn(e,t));do try{Km();break}catch(l){If(e,l)}while(!0);if(ca(),ee=n,Sl.current=s,ve!==null)throw Error(R(261));return Se=null,Ee=0,je}function Km(){for(;ve!==null;)Lf(ve)}function Gm(){for(;ve!==null&&!xp();)Lf(ve)}function Lf(e){var t=zf(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Of(e):ve=t,Na.current=null}function Of(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$m(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(n=Fm(n,t,Ye),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function mn(e,t,n){var s=ne,l=it.transition;try{it.transition=null,ne=1,Qm(e,t,n,s)}finally{it.transition=l,ne=s}return null}function Qm(e,t,n,s){do qn();while(Yt!==null);if(ee&6)throw Error(R(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tp(e,i),e===Se&&(ve=Se=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wr||(Wr=!0,Af(al,function(){return qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=ne;ne=1;var a=ee;ee|=4,Na.current=null,Wm(e,n),Pf(n,e),pm(co),ul=!!ao,co=ao=null,e.current=n,Um(n),yp(),ee=a,ne=o,it.transition=i}else e.current=n;if(Wr&&(Wr=!1,Yt=e,Cl=l),i=e.pendingLanes,i===0&&(tn=null),Np(n.stateNode),He(e,ge()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=Do,Do=null,e;return Cl&1&&e.tag!==0&&qn(),i=e.pendingLanes,i&1?e===Ro?Us++:(Us=0,Ro=e):Us=0,un(),null}function qn(){if(Yt!==null){var e=pd(Cl),t=it.transition,n=ne;try{if(it.transition=null,ne=16>e?16:e,Yt===null)var s=!1;else{if(e=Yt,Yt=null,Cl=0,ee&6)throw Error(R(331));var l=ee;for(ee|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for($=u;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:Bs(8,h,i)}var p=h.child;if(p!==null)p.return=h,$=p;else for(;$!==null;){h=$;var v=h.sibling,y=h.return;if(Cf(h),h===u){$=null;break}if(v!==null){v.return=y,$=v;break}$=y}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(k){he(a,a.return,k)}if(a===o){$=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,$=x;break e}$=a.return}}if(ee=l,un(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(zl,e)}catch{}s=!0}return s}finally{ne=n,it.transition=t}}return!1}function qc(e,t,n){t=is(n,t),t=mf(e,t,1),e=en(e,t,1),t=_e(),e!==null&&(vr(e,1,t),He(e,t))}function he(e,t,n){if(e.tag===3)qc(e,e,n);else for(;t!==null;){if(t.tag===3){qc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(tn===null||!tn.has(s))){e=is(n,e),e=gf(t,e,1),t=en(t,e,1),e=_e(),t!==null&&(vr(t,1,e),He(t,e));break}}t=t.return}}function Ym(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(Ee&n)===n&&(je===4||je===3&&(Ee&130023424)===Ee&&500>ge()-Sa?yn(e,0):ka|=n),He(e,t)}function _f(e,t){t===0&&(e.mode&1?(t=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):t=1);var n=_e();e=Mt(e,t),e!==null&&(vr(e,t,n),He(e,n))}function Xm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_f(e,n)}function Jm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(R(314))}s!==null&&s.delete(t),_f(e,n)}var zf;zf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Am(e,t,n);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&$d(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qr(e,t),e=t.pendingProps;var l=ns(t,Me.current);Zn(t,n),l=va(null,t,s,e,l,n);var i=xa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,ml(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fa(t),l.updater=Vl,t.stateNode=l,l._reactInternals=t,yo(t,s,e,n),t=No(null,t,s,!0,i,n)):(t.tag=0,ae&&i&&la(t),Oe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=qm(s),e=dt(s,e),l){case 0:t=jo(null,t,s,e,n);break e;case 1:t=Uc(null,t,s,e,n);break e;case 11:t=Bc(null,t,s,e,n);break e;case 14:t=Wc(null,t,s,dt(s.type,e),n);break e}throw Error(R(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),jo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Uc(e,t,s,l,n);case 3:e:{if(wf(t),e===null)throw Error(R(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Kd(e,t),wl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=is(Error(R(423)),t),t=Vc(e,t,s,n,l);break e}else if(s!==l){l=is(Error(R(424)),t),t=Vc(e,t,s,n,l);break e}else for(Xe=qt(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,ht=null,n=Vd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),s===l){t=Lt(e,t,n);break e}Oe(e,t,s,n)}t=t.child}return t;case 5:return Gd(t),e===null&&go(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,uo(s,l)?o=null:i!==null&&uo(s,i)&&(t.flags|=32),yf(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&go(t),null;case 13:return jf(e,t,n);case 4:return ha(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=rs(t,null,s,n):Oe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Bc(e,t,s,l,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,le(xl,s._currentValue),s._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===l.children&&!Ue.current){t=Lt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Dt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Zn(t,n),l=ot(l),s=s(l),t.flags|=1,Oe(e,t,s,n),t.child;case 14:return s=t.type,l=dt(s,t.pendingProps),l=dt(s.type,l),Wc(e,t,s,l,n);case 15:return vf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),qr(e,t),t.tag=1,Ve(s)?(e=!0,ml(t)):e=!1,Zn(t,n),pf(t,s,l),yo(t,s,l,n),No(null,t,s,!0,e,n);case 19:return Nf(e,t,n);case 22:return xf(e,t,n)}throw Error(R(156,t.tag))};function Af(e,t){return ud(e,t)}function Zm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new Zm(e,t,n,s)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qm(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Go)return 11;if(e===Qo)return 14}return 2}function sn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")Ta(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return wn(n.children,l,i,t);case Ko:o=8,l|=8;break;case Wi:return e=lt(12,n,t,l|2),e.elementType=Wi,e.lanes=i,e;case Ui:return e=lt(13,n,t,l),e.elementType=Ui,e.lanes=i,e;case Vi:return e=lt(19,n,t,l),e.elementType=Vi,e.lanes=i,e;case Gu:return Gl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:o=10;break e;case Ku:o=9;break e;case Go:o=11;break e;case Qo:o=14;break e;case Ut:o=16,s=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=lt(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function wn(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function Gl(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ri(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ii(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eg(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Pa(e,t,n,s,l,i,o,a,c){return e=new eg(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fa(i),e}function tg(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return ln;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Ad(e,n,t)}return t}function $f(e,t,n,s,l,i,o,a,c){return e=Pa(n,s,!0,e,l,i,o,a,c),e.context=Ff(null),n=e.current,s=_e(),l=nn(n),i=Dt(s,l),i.callback=t??null,en(n,i,l),e.current.lanes=l,vr(e,l,s),He(e,s),e}function Ql(e,t,n,s){var l=t.current,i=_e(),o=nn(l);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=en(l,t,o),e!==null&&(mt(e,l,o,i),Xr(e,l,o)),o}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Da(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}function ng(){return null}var Bf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ra(e){this._internalRoot=e}Yl.prototype.render=Ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ql(e,t,null,null)};Yl.prototype.unmount=Ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){Ql(null,e,null,null)}),t[It]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&yd(e)}};function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tu(){}function sg(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=Tl(o);i.call(u)}}var o=$f(t,s,e,0,null,!1,!1,"",tu);return e._reactRootContainer=o,e[It]=o.current,sr(e.nodeType===8?e.parentNode:e),bn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var u=Tl(c);a.call(u)}}var c=Pa(e,0,!1,null,null,!1,!1,"",tu);return e._reactRootContainer=c,e[It]=c.current,sr(e.nodeType===8?e.parentNode:e),bn(function(){Ql(t,c,n,s)}),c}function Jl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Tl(o);a.call(c)}}Ql(t,o,e,l)}else o=sg(n,t,e,l,s);return Tl(o)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(Jo(t,n|1),He(t,ge()),!(ee&6)&&(os=ge()+500,un()))}break;case 13:bn(function(){var s=Mt(e,1);if(s!==null){var l=_e();mt(s,e,1,l)}}),Da(e,1)}};Zo=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=_e();mt(t,e,134217728,n)}Da(e,134217728)}};gd=function(e){if(e.tag===13){var t=nn(e),n=Mt(e,t);if(n!==null){var s=_e();mt(n,e,t,s)}Da(e,t)}};vd=function(){return ne};xd=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};eo=function(e,t,n){switch(t){case"input":if(Gi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Bl(s);if(!l)throw Error(R(90));Yu(s),Gi(s,l)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};rd=ba;ld=bn;var rg={usingClientEntryPoint:!1,Events:[yr,An,Bl,nd,sd,ba]},Ts={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lg={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{zl=Ur.inject(lg),kt=Ur}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ia(t))throw Error(R(200));return tg(e,t,null,n)};qe.createRoot=function(e,t){if(!Ia(e))throw Error(R(299));var n=!1,s="",l=Bf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Pa(e,1,!1,null,null,n,!1,s,l),e[It]=t.current,sr(e.nodeType===8?e.parentNode:e),new Ra(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return bn(e)};qe.hydrate=function(e,t,n){if(!Xl(t))throw Error(R(200));return Jl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ia(e))throw Error(R(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Bf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$f(t,null,e,1,n??null,l,!1,i,o),e[It]=t.current,sr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Yl(t)};qe.render=function(e,t,n){if(!Xl(t))throw Error(R(200));return Jl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(R(40));return e._reactRootContainer?(bn(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};qe.unstable_batchedUpdates=ba;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Xl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Jl(e,t,n,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),Bu.exports=qe;var Hn=Bu.exports,nu=Hn;$i.createRoot=nu.createRoot,$i.hydrateRoot=nu.hydrateRoot;const Zl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ds(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ma(e){return"nodeType"in e}function Fe(e){var t,n;return e?ds(e)?e:Ma(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function La(e){const{Document:t}=Fe(e);return e instanceof t}function jr(e){return ds(e)?!1:e instanceof Fe(e).HTMLElement}function Uf(e){return e instanceof Fe(e).SVGElement}function fs(e){return e?ds(e)?e.document:Ma(e)?La(e)?e:jr(e)||Uf(e)?e.ownerDocument:document:document:document}const Ot=Zl?d.useLayoutEffect:d.useEffect;function ql(e){const t=d.useRef(e);return Ot(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function ig(){const e=d.useRef(null),t=d.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fr(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Ot(()=>{n.current!==e&&(n.current=e)},t),n}function Nr(e,t){const n=d.useRef();return d.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Pl(e){const t=ql(e),n=d.useRef(null),s=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Dl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Mi={};function ei(e,t){return d.useMemo(()=>{if(t)return t;const n=Mi[e]==null?0:Mi[e]+1;return Mi[e]=n,e+"-"+n},[e,t])}function Vf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const es=Vf(1),Rl=Vf(-1);function og(e){return"clientX"in e&&"clientY"in e}function Oa(e){if(!e)return!1;const{KeyboardEvent:t}=Fe(e.target);return t&&e instanceof t}function ag(e){if(!e)return!1;const{TouchEvent:t}=Fe(e.target);return t&&e instanceof t}function Il(e){if(ag(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return og(e)?{x:e.clientX,y:e.clientY}:null}const hr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hr.Translate.toString(e),hr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),su="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cg(e){return e.matches(su)?e:e.querySelector(su)}const ug={display:"none"};function dg(e){let{id:t,value:n}=e;return pe.createElement("div",{id:t,style:ug},n)}function fg(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pe.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function hg(){const[e,t]=d.useState("");return{announce:d.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Hf=d.createContext(null);function pg(e){const t=d.useContext(Hf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function mg(){const[e]=d.useState(()=>new Set),t=d.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[d.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const gg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xg(e){let{announcements:t=vg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=gg}=e;const{announce:i,announcement:o}=hg(),a=ei("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),pg(d.useMemo(()=>({onDragStart(p){let{active:v}=p;i(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:y}=p;t.onDragMove&&i(t.onDragMove({active:v,over:y}))},onDragOver(p){let{active:v,over:y}=p;i(t.onDragOver({active:v,over:y}))},onDragEnd(p){let{active:v,over:y}=p;i(t.onDragEnd({active:v,over:y}))},onDragCancel(p){let{active:v,over:y}=p;i(t.onDragCancel({active:v,over:y}))}}),[i,t])),!c)return null;const h=pe.createElement(pe.Fragment,null,pe.createElement(dg,{id:s,value:l.draggable}),pe.createElement(fg,{id:a,announcement:o}));return n?Hn.createPortal(h,n):h}var we;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(we||(we={}));function Ml(){}function yg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function wg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const vt=Object.freeze({x:0,y:0});function jg(e,t){const n=Il(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function Ng(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function kg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Sg(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const bg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=Sg(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(Ng)};function Cg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Kf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function Eg(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Tg=Eg(1);function Gf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Pg(e,t,n){const s=Gf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const Dg={ignoreTransform:!1};function kr(e,t){t===void 0&&(t=Dg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=Fe(e).getComputedStyle(e);u&&(n=Pg(n,u,h))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function ru(e){return kr(e,{ignoreTransform:!0})}function Rg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Ig(e,t){return t===void 0&&(t=Fe(e).getComputedStyle(e)),t.position==="fixed"}function Mg(e,t){t===void 0&&(t=Fe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function _a(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(La(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!jr(l)||Uf(l)||n.includes(l))return n;const i=Fe(e).getComputedStyle(l);return l!==e&&Mg(l,i)&&n.push(l),Ig(l,i)?n:s(l.parentNode)}return e?s(e):n}function Qf(e){const[t]=_a(e,1);return t??null}function Li(e){return!Zl||!e?null:ds(e)?e:Ma(e)?La(e)||e===fs(e).scrollingElement?window:jr(e)?e:null:null}function Yf(e){return ds(e)?e.scrollX:e.scrollLeft}function Xf(e){return ds(e)?e.scrollY:e.scrollTop}function Lo(e){return{x:Yf(e),y:Xf(e)}}var ke;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ke||(ke={}));function Jf(e){return!Zl||!e?!1:e===document.scrollingElement}function Zf(e){const t={x:0,y:0},n=Jf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Lg={x:.2,y:.2};function Og(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Lg);const{isTop:u,isBottom:h,isLeft:p,isRight:v}=Zf(e),y={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(y.y=ke.Backward,j.y=s*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(y.y=ke.Forward,j.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!v&&a>=t.right-w.width?(y.x=ke.Forward,j.x=s*Math.abs((t.right-w.width-a)/w.width)):!p&&o<=t.left+w.width&&(y.x=ke.Backward,j.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:y,speed:j}}function _g(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function qf(e){return e.reduce((t,n)=>es(t,Lo(n)),vt)}function zg(e){return e.reduce((t,n)=>t+Yf(n),0)}function Ag(e){return e.reduce((t,n)=>t+Xf(n),0)}function eh(e,t){if(t===void 0&&(t=kr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Qf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Fg=[["x",["left","right"],zg],["y",["top","bottom"],Ag]];class za{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=_a(n),l=qf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Fg)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(s),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function $g(e){const{EventTarget:t}=Fe(e);return e instanceof t?e:fs(e)}function Oi(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function lu(e){e.preventDefault()}function Bg(e){e.stopPropagation()}var se;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(se||(se={}));const th={start:[se.Space,se.Enter],cancel:[se.Esc],end:[se.Space,se.Enter,se.Tab]},Wg=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case se.Right:return{...n,x:n.x+25};case se.Left:return{...n,x:n.x-25};case se.Down:return{...n,y:n.y+25};case se.Up:return{...n,y:n.y-25}}};class nh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vs(fs(n)),this.windowListeners=new Vs(Fe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&eh(s),n(vt)}handleKeyDown(t){if(Oa(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=th,coordinateGetter:o=Wg,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:s.current,currentCoordinates:h});if(p){const v=Rl(p,h),y={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const E=t.code,{isTop:g,isRight:f,isLeft:m,isBottom:x,maxScroll:k,minScroll:S}=Zf(w),N=_g(w),b={x:Math.min(E===se.Right?N.right-N.width/2:N.right,Math.max(E===se.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(E===se.Down?N.bottom-N.height/2:N.bottom,Math.max(E===se.Down?N.top:N.top+N.height/2,p.y))},C=E===se.Right&&!f||E===se.Left&&!m,T=E===se.Down&&!x||E===se.Up&&!g;if(C&&b.x!==p.x){const I=w.scrollLeft+v.x,Q=E===se.Right&&I<=k.x||E===se.Left&&I>=S.x;if(Q&&!v.y){w.scrollTo({left:I,behavior:a});return}Q?y.x=w.scrollLeft-I:y.x=E===se.Right?w.scrollLeft-k.x:w.scrollLeft-S.x,y.x&&w.scrollBy({left:-y.x,behavior:a});break}else if(T&&b.y!==p.y){const I=w.scrollTop+v.y,Q=E===se.Down&&I<=k.y||E===se.Up&&I>=S.y;if(Q&&!v.x){w.scrollTo({top:I,behavior:a});return}Q?y.y=w.scrollTop-I:y.y=E===se.Down?w.scrollTop-k.y:w.scrollTop-S.y,y.y&&w.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(t,es(Rl(p,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=th,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function iu(e){return!!(e&&"distance"in e)}function ou(e){return!!(e&&"delay"in e)}class Aa{constructor(t,n,s){var l;s===void 0&&(s=$g(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=fs(o),this.documentListeners=new Vs(this.document),this.listeners=new Vs(s),this.windowListeners=new Vs(Fe(o)),this.initialCoordinates=(l=Il(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,lu),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,lu),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ou(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(iu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,Bg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Il(t))!=null?n:vt,u=Rl(l,c);if(!s&&a){if(iu(a)){if(a.tolerance!=null&&Oi(u,a.tolerance))return this.handleCancel();if(Oi(u,a.distance))return this.handleStart()}if(ou(a)&&Oi(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===se.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ug={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fa extends Aa{constructor(t){const{event:n}=t,s=fs(n.target);super(t,Ug,s)}}Fa.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Vg={move:{name:"mousemove"},end:{name:"mouseup"}};var Oo;(function(e){e[e.RightClick=2]="RightClick"})(Oo||(Oo={}));class Hg extends Aa{constructor(t){super(t,Vg,fs(t.event.target))}}Hg.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Oo.RightClick?!1:(s==null||s({event:n}),!0)}}];const _i={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Kg extends Aa{constructor(t){super(t,_i)}static setup(){return window.addEventListener(_i.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(_i.move.name,t)};function t(){}}}Kg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Hs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hs||(Hs={}));var Ll;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ll||(Ll={}));function Gg(e){let{acceleration:t,activator:n=Hs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Ll.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:v}=e;const y=Yg({delta:p,disabled:!i}),[j,w]=ig(),E=d.useRef({x:0,y:0}),g=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Hs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hs.DraggableRect:return l}},[n,l,c]),m=d.useRef(null),x=d.useCallback(()=>{const S=m.current;if(!S)return;const N=E.current.x*g.current.x,b=E.current.y*g.current.y;S.scrollBy(N,b)},[]),k=d.useMemo(()=>a===Ll.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!i||!u.length||!f){w();return}for(const S of k){if((s==null?void 0:s(S))===!1)continue;const N=u.indexOf(S),b=h[N];if(!b)continue;const{direction:C,speed:T}=Og(S,b,f,t,v);for(const I of["x","y"])y[I][C[I]]||(T[I]=0,C[I]=0);if(T.x>0||T.y>0){w(),m.current=S,j(x,o),E.current=T,g.current=C;return}}E.current={x:0,y:0},g.current={x:0,y:0},w()},[t,x,s,w,i,o,JSON.stringify(f),JSON.stringify(y),j,u,k,h,JSON.stringify(v)])}const Qg={x:{[ke.Backward]:!1,[ke.Forward]:!1},y:{[ke.Backward]:!1,[ke.Forward]:!1}};function Yg(e){let{delta:t,disabled:n}=e;const s=Dl(t);return Nr(l=>{if(n||!s||!l)return Qg;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[ke.Backward]:l.x[ke.Backward]||i.x===-1,[ke.Forward]:l.x[ke.Forward]||i.x===1},y:{[ke.Backward]:l.y[ke.Backward]||i.y===-1,[ke.Forward]:l.y[ke.Forward]||i.y===1}}},[n,t,s])}function Xg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Nr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Jg(e,t){return d.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var pr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(pr||(pr={}));var _o;(function(e){e.Optimized="optimized"})(_o||(_o={}));const au=new Map;function Zg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=d.useState(null),{frequency:a,measure:c,strategy:u}=l,h=d.useRef(e),p=E(),v=fr(p),y=d.useCallback(function(g){g===void 0&&(g=[]),!v.current&&o(f=>f===null?g:f.concat(g.filter(m=>!f.includes(m))))},[v]),j=d.useRef(null),w=Nr(g=>{if(p&&!n)return au;if(!g||g===au||h.current!==e||i!=null){const f=new Map;for(let m of e){if(!m)continue;if(i&&i.length>0&&!i.includes(m.id)&&m.rect.current){f.set(m.id,m.rect.current);continue}const x=m.node.current,k=x?new za(c(x),x):null;m.rect.current=k,k&&f.set(m.id,k)}return f}return g},[e,i,n,p,c]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{p||y()},[n,p]),d.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{y(),j.current=null},a))},[a,p,y,...s]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:i!=null};function E(){switch(u){case pr.Always:return!1;case pr.BeforeDragging:return n;default:return!n}}}function $a(e,t){return Nr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function qg(e,t){return $a(e,t)}function ev(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ti(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function tv(e){return new za(kr(e),e)}function cu(e,t,n){t===void 0&&(t=tv);const[s,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=ev({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=ti({callback:i});return Ot(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function nv(e){const t=$a(e);return Kf(e,t)}const uu=[];function sv(e){const t=d.useRef(e),n=Nr(s=>e?s&&s!==uu&&e&&t.current&&e.parentNode===t.current.parentNode?s:_a(e):uu,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function rv(e){const[t,n]=d.useState(null),s=d.useRef(e),l=d.useCallback(i=>{const o=Li(i.target);o&&n(a=>a?(a.set(o,Lo(o)),new Map(a)):null)},[]);return d.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const u=Li(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Lo(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Li(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>es(i,o),vt):qf(e):vt,[e,t])}function du(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const s=e!==vt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Rl(e,n.current):vt}function lv(e){d.useEffect(()=>{if(!Zl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function iv(e,t){return d.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function sh(e){return d.useMemo(()=>e?Rg(e):null,[e])}const fu=[];function ov(e,t){t===void 0&&(t=kr);const[n]=e,s=sh(n?Fe(n):null),[l,i]=d.useState(fu);function o(){i(()=>e.length?e.map(c=>Jf(c)?s:new za(t(c),c)):fu)}const a=ti({callback:o});return Ot(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function rh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jr(t)?t:e}function av(e){let{measure:t}=e;const[n,s]=d.useState(null),l=d.useCallback(u=>{for(const{target:h}of u)if(jr(h)){s(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),i=ti({callback:l}),o=d.useCallback(u=>{const h=rh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),s(h?t(h):null)},[t,i]),[a,c]=Pl(o);return d.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const cv=[{sensor:Fa,options:{}},{sensor:nh,options:{}}],uv={current:{}},sl={draggable:{measure:ru},droppable:{measure:ru,strategy:pr.WhileDragging,frequency:_o.Optimized},dragOverlay:{measure:kr}};class Ks extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const dv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ks,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ml},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sl,measureDroppableContainers:Ml,windowRect:null,measuringScheduled:!1},lh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ml,draggableNodes:new Map,over:null,measureDroppableContainers:Ml},Sr=d.createContext(lh),ih=d.createContext(dv);function fv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ks}}}function hv(e,t){switch(t.type){case we.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case we.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case we.DragEnd:case we.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case we.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Ks(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case we.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Ks(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case we.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Ks(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function pv(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=d.useContext(Sr),i=Dl(s),o=Dl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!Oa(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=cg(h);if(p){p.focus();break}}})}},[s,t,l,o,i]),null}function oh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function mv(e){return d.useMemo(()=>({draggable:{...sl.draggable,...e==null?void 0:e.draggable},droppable:{...sl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...sl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function gv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=d.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;Ot(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Kf(h,s);if(o||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=Qf(u);v&&v.scrollBy({top:p.y,left:p.x})}},[t,o,a,s,n])}const ni=d.createContext({...vt,scaleX:1,scaleY:1});var Ht;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ht||(Ht={}));const vv=d.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=cv,collisionDetection:p=bg,measuring:v,modifiers:y,...j}=t;const w=d.useReducer(hv,void 0,fv),[E,g]=w,[f,m]=mg(),[x,k]=d.useState(Ht.Uninitialized),S=x===Ht.Initialized,{draggable:{active:N,nodes:b,translate:C},droppable:{containers:T}}=E,I=N!=null?b.get(N):null,Q=d.useRef({initial:null,translated:null}),U=d.useMemo(()=>{var Pe;return N!=null?{id:N,data:(Pe=I==null?void 0:I.data)!=null?Pe:uv,rect:Q}:null},[N,I]),O=d.useRef(null),[H,X]=d.useState(null),[te,M]=d.useState(null),B=fr(j,Object.values(j)),_=ei("DndDescribedBy",o),Z=d.useMemo(()=>T.getEnabled(),[T]),Y=mv(v),{droppableRects:A,measureDroppableContainers:K,measuringScheduled:q}=Zg(Z,{dragging:S,dependencies:[C.x,C.y],config:Y.droppable}),P=Xg(b,N),F=d.useMemo(()=>te?Il(te):null,[te]),D=Rh(),L=qg(P,Y.draggable.measure);gv({activeNode:N!=null?b.get(N):null,config:D.layoutShiftCompensation,initialRect:L,measure:Y.draggable.measure});const z=cu(P,Y.draggable.measure,L),V=cu(P?P.parentElement:null),G=d.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:A,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=G.current.over)==null?void 0:n.id),W=av({measure:Y.dragOverlay.measure}),ce=(s=W.nodeRef.current)!=null?s:P,Le=S?(l=W.rect)!=null?l:z:null,$e=!!(W.nodeRef.current&&W.rect),ps=nv($e?null:z),ms=sh(ce?Fe(ce):null),xe=sv(S?me??P:null),fn=ov(xe),zt=oh(y,{transform:{x:C.x-ps.x,y:C.y-ps.y,scaleX:1,scaleY:1},activatorEvent:te,active:U,activeNodeRect:z,containerNodeRect:V,draggingNodeRect:Le,over:G.current.over,overlayNodeRect:W.rect,scrollableAncestors:xe,scrollableAncestorRects:fn,windowRect:ms}),gs=F?es(F,C):null,Cr=rv(xe),Sh=du(Cr),bh=du(Cr,[z]),Tn=es(zt,Sh),Pn=Le?Tg(Le,zt):null,vs=U&&Pn?p({active:U,collisionRect:Pn,droppableRects:A,droppableContainers:Z,pointerCoordinates:gs}):null,Ua=kg(vs,"id"),[At,Va]=d.useState(null),Ch=$e?zt:es(zt,bh),Eh=Cg(Ch,(i=At==null?void 0:At.rect)!=null?i:null,z),li=d.useRef(null),Ha=d.useCallback((Pe,Ke)=>{let{sensor:Ge,options:Ft}=Ke;if(O.current==null)return;const tt=b.get(O.current);if(!tt)return;const Qe=Pe.nativeEvent,xt=new Ge({active:O.current,activeNode:tt,event:Qe,options:Ft,context:G,onAbort(be){if(!b.get(be))return;const{onDragAbort:yt}=B.current,bt={id:be};yt==null||yt(bt),f({type:"onDragAbort",event:bt})},onPending(be,$t,yt,bt){if(!b.get(be))return;const{onDragPending:ys}=B.current,Bt={id:be,constraint:$t,initialCoordinates:yt,offset:bt};ys==null||ys(Bt),f({type:"onDragPending",event:Bt})},onStart(be){const $t=O.current;if($t==null)return;const yt=b.get($t);if(!yt)return;const{onDragStart:bt}=B.current,xs={activatorEvent:Qe,active:{id:$t,data:yt.data,rect:Q}};Hn.unstable_batchedUpdates(()=>{bt==null||bt(xs),k(Ht.Initializing),g({type:we.DragStart,initialCoordinates:be,active:$t}),f({type:"onDragStart",event:xs}),X(li.current),M(Qe)})},onMove(be){g({type:we.DragMove,coordinates:be})},onEnd:Dn(we.DragEnd),onCancel:Dn(we.DragCancel)});li.current=xt;function Dn(be){return async function(){const{active:yt,collisions:bt,over:xs,scrollAdjustedTranslate:ys}=G.current;let Bt=null;if(yt&&ys){const{cancelDrop:ws}=B.current;Bt={activatorEvent:Qe,active:yt,collisions:bt,delta:ys,over:xs},be===we.DragEnd&&typeof ws=="function"&&await Promise.resolve(ws(Bt))&&(be=we.DragCancel)}O.current=null,Hn.unstable_batchedUpdates(()=>{g({type:be}),k(Ht.Uninitialized),Va(null),X(null),M(null),li.current=null;const ws=be===we.DragEnd?"onDragEnd":"onDragCancel";if(Bt){const ii=B.current[ws];ii==null||ii(Bt),f({type:ws,event:Bt})}})}}},[b]),Th=d.useCallback((Pe,Ke)=>(Ge,Ft)=>{const tt=Ge.nativeEvent,Qe=b.get(Ft);if(O.current!==null||!Qe||tt.dndKit||tt.defaultPrevented)return;const xt={active:Qe};Pe(Ge,Ke.options,xt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},O.current=Ft,Ha(Ge,Ke))},[b,Ha]),Ka=Jg(h,Th);lv(h),Ot(()=>{z&&x===Ht.Initializing&&k(Ht.Initialized)},[z,x]),d.useEffect(()=>{const{onDragMove:Pe}=B.current,{active:Ke,activatorEvent:Ge,collisions:Ft,over:tt}=G.current;if(!Ke||!Ge)return;const Qe={active:Ke,activatorEvent:Ge,collisions:Ft,delta:{x:Tn.x,y:Tn.y},over:tt};Hn.unstable_batchedUpdates(()=>{Pe==null||Pe(Qe),f({type:"onDragMove",event:Qe})})},[Tn.x,Tn.y]),d.useEffect(()=>{const{active:Pe,activatorEvent:Ke,collisions:Ge,droppableContainers:Ft,scrollAdjustedTranslate:tt}=G.current;if(!Pe||O.current==null||!Ke||!tt)return;const{onDragOver:Qe}=B.current,xt=Ft.get(Ua),Dn=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,be={active:Pe,activatorEvent:Ke,collisions:Ge,delta:{x:tt.x,y:tt.y},over:Dn};Hn.unstable_batchedUpdates(()=>{Va(Dn),Qe==null||Qe(be),f({type:"onDragOver",event:be})})},[Ua]),Ot(()=>{G.current={activatorEvent:te,active:U,activeNode:P,collisionRect:Pn,collisions:vs,droppableRects:A,draggableNodes:b,draggingNode:ce,draggingNodeRect:Le,droppableContainers:T,over:At,scrollableAncestors:xe,scrollAdjustedTranslate:Tn},Q.current={initial:Le,translated:Pn}},[U,P,vs,Pn,b,ce,Le,A,T,At,xe,Tn]),Gg({...D,delta:C,draggingRect:Pn,pointerCoordinates:gs,scrollableAncestors:xe,scrollableAncestorRects:fn});const Ph=d.useMemo(()=>({active:U,activeNode:P,activeNodeRect:z,activatorEvent:te,collisions:vs,containerNodeRect:V,dragOverlay:W,draggableNodes:b,droppableContainers:T,droppableRects:A,over:At,measureDroppableContainers:K,scrollableAncestors:xe,scrollableAncestorRects:fn,measuringConfiguration:Y,measuringScheduled:q,windowRect:ms}),[U,P,z,te,vs,V,W,b,T,A,At,K,xe,fn,Y,q,ms]),Dh=d.useMemo(()=>({activatorEvent:te,activators:Ka,active:U,activeNodeRect:z,ariaDescribedById:{draggable:_},dispatch:g,draggableNodes:b,over:At,measureDroppableContainers:K}),[te,Ka,U,z,g,_,b,At,K]);return pe.createElement(Hf.Provider,{value:m},pe.createElement(Sr.Provider,{value:Dh},pe.createElement(ih.Provider,{value:Ph},pe.createElement(ni.Provider,{value:Eh},u)),pe.createElement(pv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),pe.createElement(xg,{...a,hiddenTextDescribedById:_}));function Rh(){const Pe=(H==null?void 0:H.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Ge=S&&!Pe&&!Ke;return typeof c=="object"?{...c,enabled:Ge}:{enabled:Ge}}}),xv=d.createContext(null),hu="button",yv="Draggable";function ah(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ei(yv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:v}=d.useContext(Sr),{role:y=hu,roleDescription:j="draggable",tabIndex:w=0}=l??{},E=(c==null?void 0:c.id)===t,g=d.useContext(E?ni:xv),[f,m]=Pl(),[x,k]=Pl(),S=iv(o,t),N=fr(n);Ot(()=>(p.set(t,{id:t,key:i,node:f,activatorNode:x,data:N}),()=>{const C=p.get(t);C&&C.key===i&&p.delete(t)}),[p,t]);const b=d.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":s,"aria-pressed":E&&y===hu?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[s,y,w,E,j,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:E,listeners:s?void 0:S,node:f,over:v,setNodeRef:m,setActivatorNodeRef:k,transform:g}}function wv(){return d.useContext(ih)}const jv="Droppable",Nv={timeout:25};function kv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ei(jv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(Sr),h=d.useRef({disabled:n}),p=d.useRef(!1),v=d.useRef(null),y=d.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:E}={...Nv,...l},g=fr(w??s),f=d.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),y.current=null},E)},[E]),m=ti({callback:f,disabled:j||!o}),x=d.useCallback((b,C)=>{m&&(C&&(m.unobserve(C),p.current=!1),b&&m.observe(b))},[m]),[k,S]=Pl(x),N=fr(t);return d.useEffect(()=>{!m||!k.current||(m.disconnect(),p.current=!1,m.observe(k.current))},[k,m]),d.useEffect(()=>(a({type:we.RegisterDroppable,element:{id:s,key:i,disabled:n,node:k,rect:v,data:N}}),()=>a({type:we.UnregisterDroppable,key:i,id:s})),[s]),d.useEffect(()=>{n!==h.current.disabled&&(a({type:we.SetDroppableDisabled,id:s,key:i,disabled:n}),h.current.disabled=n)},[s,i,n,a]),{active:o,rect:v,isOver:(c==null?void 0:c.id)===s,node:k,over:c,setNodeRef:S}}function Sv(e){let{animation:t,children:n}=e;const[s,l]=d.useState(null),[i,o]=d.useState(null),a=Dl(n);return!n&&!s&&a&&l(a),Ot(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),pe.createElement(pe.Fragment,null,n,s?d.cloneElement(s,{ref:o}):null)}const bv={x:0,y:0,scaleX:1,scaleY:1};function Cv(e){let{children:t}=e;return pe.createElement(Sr.Provider,{value:lh},pe.createElement(ni.Provider,{value:bv},t))}const Ev={position:"fixed",touchAction:"none"},Tv=e=>Oa(e)?"transform 250ms ease":void 0,Pv=d.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:h=Tv}=e;if(!a)return null;const p=l?u:{...u,scaleX:1,scaleY:1},v={...Ev,width:a.width,height:a.height,top:a.top,left:a.left,transform:hr.Transform.toString(p),transformOrigin:l&&s?jg(s,a):void 0,transition:typeof h=="function"?h(s):h,...c};return pe.createElement(n,{className:o,style:v,ref:t},i)}),Dv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Rv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:hr.Transform.toString(t)},{transform:hr.Transform.toString(n)}]},Iv={duration:250,easing:"ease",keyframes:Rv,sideEffects:Dv({styles:{active:{opacity:"0"}}})};function Mv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return ql((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=rh(o);if(!u)return;const{transform:h}=Fe(o).getComputedStyle(o),p=Gf(h);if(!p)return;const v=typeof t=="function"?t:Lv(t);return eh(c,l.draggable.measure),v({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:p})})}function Lv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Iv,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},v={x:c.x-h.x,y:c.y-h.y,...p},y=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:v}}),[j]=y,w=y[y.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const E=s==null?void 0:s({active:o,dragOverlay:a,...u}),g=a.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{g.onfinish=()=>{E==null||E(),f()}})}}let pu=0;function Ov(e){return d.useMemo(()=>{if(e!=null)return pu++,pu},[e])}const _v=pe.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:y,draggableNodes:j,droppableContainers:w,dragOverlay:E,over:g,measuringConfiguration:f,scrollableAncestors:m,scrollableAncestorRects:x,windowRect:k}=wv(),S=d.useContext(ni),N=Ov(p==null?void 0:p.id),b=oh(o,{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:y,draggingNodeRect:E.rect,over:g,overlayNodeRect:E.rect,scrollableAncestors:m,scrollableAncestorRects:x,transform:S,windowRect:k}),C=$a(v),T=Mv({config:s,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),I=C?E.setRef:void 0;return pe.createElement(Cv,null,pe.createElement(Sv,{animation:T},p&&N?pe.createElement(Pv,{key:N,id:p.id,ref:I,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...l},transform:b},n):null))}),ch={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},zv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},rl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:ch},mu=10,Kn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ol={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Av(e){if(Ol[e])return Ol[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function gu(e){return Ol[e]?Ol[e].priority:e.startsWith("gt-")?3:99}const uh=d.createContext(null),vu=5;function Fv({children:e}){const[t,n]=d.useState([]),[s,l]=d.useState(1),i=d.useCallback((c,u)=>{const h=s;l(v=>v+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(v=>{const y=[p,...v];return y.length>vu?y.slice(0,vu):y})},[s]),o=d.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=d.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(uh.Provider,{value:a,children:e})}function br(){const e=d.useContext(uh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function xu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const dh="chrote-dashboard-state",fh="chrote-dashboard-presets",Ps=["terminal1","terminal2"];function $v(){try{const e=localStorage.getItem(fh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Bv(e){try{localStorage.setItem(fh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function Wv(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function yu(e){return JSON.parse(JSON.stringify(e))}function Uv(){try{const e=localStorage.getItem(dh);if(e){const t=JSON.parse(e);return Kv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Vv(e){try{localStorage.setItem(dh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function mr(e){return Math.max(1,Math.min(4,e))}function Hv(e,t){const n=mr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Gs(e,t){return{windows:Hv(e,t),windowCount:mr(t)}}function Ds(e){return typeof e=="object"&&e!==null}function Kv(e){if(Ds(e)){if(Ds(e.workspaces)&&Ds(e.workspaces.terminal1)&&Ds(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=(l,i)=>{const o=Ds(i)?i:{},a=mr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,p)=>{const v=c[p];return{id:`${l}-window-${p}`,boundSessions:(v==null?void 0:v.boundSessions)??[],activeSession:(v==null?void 0:v.activeSession)??null,colorIndex:typeof(v==null?void 0:v.colorIndex)=="number"?v.colorIndex:p}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=mr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Gs("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)},sidebarCollapsed:!1,settings:rl}}const hh=d.createContext(null);function Gv({children:e}){const t=d.useMemo(()=>Uv(),[]),{addToast:n}=br(),[s,l]=d.useState([]),[i,o]=d.useState({}),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)}),[y,j]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,E]=d.useState(null),[g,f]=d.useState(!1),[m,x]=d.useState((t==null?void 0:t.settings)??rl),[k,S]=d.useState(null),[N,b]=d.useState(()=>$v()),C=d.useMemo(()=>{const D=new Map;return Ps.forEach(L=>{p[L].windows.forEach((V,G)=>{V.boundSessions.forEach(me=>{D.set(me,{workspaceId:L,windowId:V.id,colorIndex:V.colorIndex,windowIndex:G+1})})})}),D},[p]);d.useEffect(()=>{v(D=>{let L=!1;const z={...D};return Ps.forEach(V=>{const G=D[V];G.windows.some(W=>W.activeSession==="INIT-PENDING")&&(L=!0,z[V]={...G,windows:G.windows.map(W=>W.activeSession==="INIT-PENDING"?{...W,activeSession:null}:W)})}),L?z:D})},[]),d.useEffect(()=>{const D={...p};Ps.forEach(L=>{const z=p[L];D[L]={...z,windows:z.windows.map(V=>V.activeSession==="INIT-PENDING"?{...V,activeSession:null}:V)}}),Vv({workspaces:D,sidebarCollapsed:y,settings:m})},[p,y,m]),d.useEffect(()=>{Bv(N)},[N]);const T=d.useCallback(async()=>{try{const L=await(await fetch("/api/tmux/sessions")).json();L.error?(h(L.error),l([]),o({})):(h(null),l(L.sessions),o(L.grouped))}catch(D){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);d.useEffect(()=>{T();const D=setInterval(T,m.autoRefreshInterval);return()=>clearInterval(D)},[T,m.autoRefreshInterval]),d.useEffect(()=>{const D={...ch,...m.tmuxAppearance};xu(D)},[]);const I=d.useCallback((D,L)=>{const z=mr(L);v(V=>{const G=V[D];if(!G)return V;const me=(()=>{if(z>G.windows.length){const W=[...G.windows];for(let ce=G.windows.length;ce<z;ce++)W.push({id:`${D}-window-${ce}`,boundSessions:[],activeSession:null,colorIndex:ce});return W}return z<G.windows.length?G.windows.slice(0,z):G.windows})();return{...V,[D]:{...G,windowCount:z,windows:me}}})},[]),Q=d.useCallback((D,L,z)=>{v(V=>{const G={...V};let me=!1,W=!1;if(Ps.forEach($e=>{const ps=V[$e],ms=ps.windows.map(xe=>{const fn=$e===D&&xe.id===L,zt=xe.boundSessions.includes(z);if(!fn&&!zt)return xe;if(!fn&&zt){const gs=xe.boundSessions.filter(Cr=>Cr!==z);return{...xe,boundSessions:gs,activeSession:xe.activeSession===z?gs[0]??null:xe.activeSession}}return W=!0,me=xe.boundSessions.length===0||xe.boundSessions.length===1&&zt,xe});G[$e]={...ps,windows:ms}}),!W)return V;const ce=G[D],Le=ce.windows.map($e=>$e.id!==L||$e.boundSessions.includes(z)?$e:{...$e,boundSessions:[...$e.boundSessions,z],activeSession:me?z:$e.activeSession});return{...G,[D]:{...ce,windows:Le}}})},[]),U=d.useCallback((D,L,z)=>{v(V=>{const G=V[D];if(!G)return V;const me=G.windows.map(W=>{if(W.id!==L||!W.boundSessions.includes(z))return W;const ce=W.boundSessions.filter(Le=>Le!==z);return{...W,boundSessions:ce,activeSession:W.activeSession===z?ce[0]??null:W.activeSession}});return{...V,[D]:{...G,windows:me}}})},[]),O=d.useCallback((D,L,z)=>{v(V=>{const G=V[D];if(!G)return V;const me=G.windows.map(W=>W.id!==L||!W.boundSessions.includes(z)?W:{...W,activeSession:z});return{...V,[D]:{...G,windows:me}}})},[]),H=d.useCallback((D,L,z)=>{v(V=>{const G=V[D];if(!G)return V;const me=G.windows.map(W=>{if(W.id!==L||W.boundSessions.length<=1)return W;const ce=W.activeSession?W.boundSessions.indexOf(W.activeSession):0,Le=z==="next"?(ce+1)%W.boundSessions.length:(ce-1+W.boundSessions.length)%W.boundSessions.length;return{...W,activeSession:W.boundSessions[Le]}});return{...V,[D]:{...G,windows:me}}})},[]),X=d.useCallback(()=>{j(D=>!D)},[]),te=d.useCallback(D=>{E(D)},[]),M=d.useCallback(()=>{E(null)},[]),B=d.useCallback(D=>{const L=C.get(D);L?O(L.workspaceId,L.windowId,D):te(D)},[C,O,te]),_=d.useCallback(D=>{x(L=>{const z={...L,...D};return D.tmuxAppearance&&xu(z.tmuxAppearance),z})},[]),Z=d.useCallback(async D=>{try{const L=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(L.ok)n(`Session '${D}' deleted`,"info"),T();else{const z=await L.text();console.error("Failed to delete session:",z),n("Failed to delete session","error")}}catch(L){console.error("Failed to delete session:",L),n("Failed to delete session","error")}},[T,n]),Y=d.useCallback(async(D,L)=>{try{const z=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:L})});if(z.ok)return v(V=>{const G={...V};return Ps.forEach(me=>{const W=V[me];G[me]={...W,windows:W.windows.map(ce=>({...ce,boundSessions:ce.boundSessions.map(Le=>Le===D?L:Le),activeSession:ce.activeSession===D?L:ce.activeSession}))}}),G}),n(`Session renamed to '${L}'`,"success"),T(),!0;{const V=await z.text();return console.error("Failed to rename session:",V),n("Failed to rename session","error"),!1}}catch(z){return console.error("Failed to rename session:",z),n("Failed to rename session","error"),!1}},[T,n]),A=d.useCallback(D=>{if(N.length>=mu)return n(`Maximum ${mu} presets reached`,"warning"),!1;const L={id:Wv(),name:D,createdAt:Date.now(),workspaces:yu(p)};return b(z=>[...z,L]),n(`Layout '${D}' saved`,"success"),!0},[N.length,p,n]),K=d.useCallback(D=>{const L=N.find(z=>z.id===D);if(!L){n("Preset not found","error");return}v(yu(L.workspaces)),n(`Layout '${L.name}' loaded`,"info")},[N,n]),q=d.useCallback(D=>{const L=N.find(z=>z.id===D);L&&(b(z=>z.filter(V=>V.id!==D)),n(`Preset '${L.name}' deleted`,"info"))},[N,n]),P=d.useCallback((D,L)=>{b(z=>z.map(V=>V.id===D?{...V,name:L}:V))},[]),F=d.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:u,workspaces:p,sidebarCollapsed:y,floatingSession:w,assignedSessions:C,isDragging:g,settings:m,focusedWindowKey:k,layoutPresets:N,setWindowCount:I,addSessionToWindow:Q,removeSessionFromWindow:U,setActiveSession:O,cycleSession:H,toggleSidebar:X,openFloatingModal:te,closeFloatingModal:M,handleSessionClick:B,refreshSessions:T,deleteSession:Z,renameSession:Y,setIsDragging:f,updateSettings:_,setFocusedWindowKey:S,saveCurrentLayout:A,loadPreset:K,deletePreset:q,renamePreset:P}),[s,i,a,u,p,y,w,C,g,m,k,N,I,Q,U,O,H,X,te,M,B,T,Z,Y,f,_,S,A,K,q,P]);return r.jsx(hh.Provider,{value:F,children:e})}function ct(){const e=d.useContext(hh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const hn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function wu(){const e=d.useRef(null),{settings:t,updateSettings:n}=ct(),[s,l]=d.useState(0),[i,o]=d.useState(!1);d.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const h=e.current;h&&(h.src=hn[s].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[s,t.musicEnabled]);const a=()=>l(h=>(h+1)%hn.length),c=()=>l(h=>(h-1+hn.length)%hn.length),u=h=>{l(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[hn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",hn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:hn.map((h,p)=>r.jsxs("button",{className:`music-dropdown-item ${p===s?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===s&&t.musicEnabled&&""]},p))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function ph(e){const[t,n]=d.useState(!1);return d.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const l=()=>n(s.matches);return s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[t,e]),t}function Qv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){var y;const[l,i]=d.useState(!1),[o,a]=d.useState(!1),c=d.useRef(null),u=ph("(max-width: 768px)");d.useEffect(()=>{const j=w=>{c.current&&!c.current.contains(w.target)&&i(!1);const E=w.target;o&&!E.closest(".tab-bar")&&a(!1)};if(l||o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[l,o]);const h=[{id:"chat",label:" Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads",label:"Beads"},{id:"beads_viewer",label:"BV"},{id:"settings",label:"Settings"}],p=j=>{j.external?window.open(j.url,"_blank","noopener,noreferrer"):(t(j.id),a(!1))},v=((y=h.find(j=>j.id===e))==null?void 0:y.label)||"Menu";return r.jsx("div",{className:`tab-bar ${u?"mobile-mode":""}`,children:u?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tab-bar-mobile-start",children:[r.jsx("button",{className:`tab hamburger-btn ${o?"active":""}`,onClick:()=>a(!o),children:""}),r.jsx("span",{className:"mobile-active-tab",children:v})]}),o&&r.jsxs("div",{className:"mobile-nav-dropdown",children:[h.map(j=>r.jsx("button",{className:`mobile-nav-item ${!j.external&&e===j.id?"active":""}`,onClick:()=>p(j),children:j.label},j.id)),r.jsx("div",{className:"mobile-nav-divider"}),s&&r.jsx("button",{className:"mobile-nav-item",onClick:()=>{s(),a(!1)},children:" Layouts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{n&&n(),a(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("help"),a(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("manual"),a(!1)},children:"Gastown Operators Manual"})]}),r.jsx("div",{className:"tab-bar-actions",children:r.jsx(wu,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"tab-bar-tabs",children:h.map(j=>r.jsx("button",{className:`tab ${!j.external&&e===j.id?"active":""} ${j.external?"external":""}`,onClick:()=>p(j),title:j.external?`Open ${j.label.replace(" ","")} in new tab`:void 0,children:j.label},j.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),r.jsxs("div",{className:"help-menu-container",ref:c,children:[r.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&r.jsxs("div",{className:"help-dropdown",children:[n&&r.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),r.jsx(wu,{})]})]})})}const Yv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Xv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Jv(e){const t=Xv(e);return t?{role:t,...Yv[t]}:null}function Zv({sessionName:e,compact:t=!1}){const n=Jv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function qv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[h,p]=d.useState({show:!1,x:0,y:0}),[v,y]=d.useState(!1),[j,w]=d.useState(""),[E,g]=d.useState(!1),f=d.useRef(null),m=c?Kn[c.colorIndex%Kn.length].border:void 0,x=c?{backgroundColor:m,color:"#000",borderColor:m}:void 0,k=c?{color:m}:void 0,{attributes:S,listeners:N,setNodeRef:b,transform:C,isDragging:T}=ah({id:e.name,data:{type:"session",session:e}}),I=C?{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,zIndex:T?1e3:void 0}:void 0,Q=d.useCallback(_=>{_.preventDefault(),_.stopPropagation(),p({show:!0,x:_.clientX,y:_.clientY}),g(!1)},[]),U=d.useCallback(()=>{p({show:!1,x:0,y:0}),g(!1)},[]),O=d.useCallback(async()=>{U(),await s(e.name)},[s,e.name,U]),H=d.useCallback(()=>{w(e.name),y(!0),U()},[e.name,U]),X=d.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),y(!1)},[j,e.name,l]),te=d.useCallback(_=>{_.key==="Enter"?X():_.key==="Escape"&&y(!1)},[X]),M=d.useCallback(_=>{const Z=_.startsWith("terminal2-")?"terminal2":"terminal1";o(Z,_,e.name),U()},[o,e.name,U]),B=d.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),U()},[c,a,e.name,U]);return d.useEffect(()=>{v&&f.current&&(f.current.focus(),f.current.select())},[v]),d.useEffect(()=>{if(!h.show)return;const _=()=>U();return document.addEventListener("click",_),()=>document.removeEventListener("click",_)},[h.show,U]),v?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:_=>w(_.target.value),onKeyDown:te,onBlur:X})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:b,className:`session-item ${u?"assigned":""} ${T?"dragging":""}`,style:I,...N,...S,onClick:()=>n(e.name),onContextMenu:Q,children:[c&&r.jsx("span",{className:"window-badge",style:x,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(Zv,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:k,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&r.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:_=>_.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:H,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),E&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(_=>{const Z=i[_];return Z.windows.slice(0,Z.windowCount).map((Y,A)=>{const K=Kn[Y.colorIndex%Kn.length],q=(c==null?void 0:c.windowId)===Y.id,P=_==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${q?"active":""}`,onClick:()=>M(Y.id),style:{borderLeft:`3px solid ${K.border}`},children:[P,"Window ",A+1,q&&r.jsx("span",{className:"session-context-check",children:""})]},Y.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:B,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:O,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function ex({groupKey:e,sessions:t}){const[n,s]=d.useState(!0),l=Av(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(qv,{session:i},i.name))})]})}const ju=["chrote-chat"];function tx({onConfirm:e,onCancel:t,sessionCount:n,sessionNames:s=[]}){const[l,i]=d.useState(""),o=l==="NUKE",a=s.filter(h=>ju.includes(h)).length,c=n-a,u=h=>{h.preventDefault(),o&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:c})," tmux session",c!==1?"s":"","."]}),a>0&&r.jsxs("p",{className:"nuke-protected",children:[r.jsx("strong",{children:a})," protected session",a!==1?"s":""," will be preserved: ",ju.filter(h=>s.includes(h)).join(", ")]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:u,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:l,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!o,children:"Destroy All"})]})]})]})]})})}function nx(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=br(),[u,h]=d.useState(!1),[p,v]=d.useState(""),[y,j]=d.useState(!1),[w,E]=d.useState(!1),g=d.useMemo(()=>{const x=Object.entries(e);return(p?x.map(([S,N])=>[S,N.filter(b=>b.name.toLowerCase().includes(p.toLowerCase()))]).filter(([S,N])=>N.length>0):x).sort(([S],[N])=>{const b=gu(S),C=gu(N);return b!==C?b-C:S.localeCompare(N)})},[e,p]),f=async()=>{h(!0);try{const x=a.defaultSessionPrefix||"tmux",k=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),S=new RegExp(`^${k}(\\d+)$`),N=o.map(I=>I.name.match(S)).filter(Boolean).map(I=>parseInt(I[1],10)),b=N.length>0?Math.max(...N)+1:1,C=`${x}${b}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})})).ok?(c(`Session '${C}' created`,"success"),i()):c("Failed to create session","error")}catch(x){console.error("Failed to create session:",x),c("Failed to create session","error")}finally{h(!1)}},m=async()=>{E(!0);try{const x=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});x.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await x.text()),c("Failed to destroy sessions","error"))}catch(x){console.error("Failed to nuke sessions:",x),c("Failed to destroy sessions","error")}finally{E(!1),j(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:x=>v(x.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&g.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),g.map(([x,k])=>r.jsx(ex,{groupKey:x,sessions:k},x))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),y&&r.jsx(tx,{sessionCount:o.length,sessionNames:o.map(x=>x.name),onConfirm:m,onCancel:()=>j(!1)})]})}function sx({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=d.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=br(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function rx({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=kv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function lx({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=ah({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,v=e.includes("-")?e.split("-").slice(-1)[0]:e,y=j=>{h||j.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:y,...a,...o,children:[r.jsx("span",{className:"tag-name",children:v}),r.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function ix({workspaceId:e,window:t,isDragging:n=!1,style:s}){const[l,i]=d.useState(new Set),o=d.useRef(new Map),a=d.useRef(null),c=d.useRef(null),{removeSessionFromWindow:u,setActiveSession:h,cycleSession:p,settings:v,focusedWindowKey:y,setFocusedWindowKey:j}=ct(),w=`${e}-${t.id}`,E=y===w,g=t.activeSession,f=g?l.has(g):!1,m=d.useCallback(()=>{if(g)try{const O=o.current.get(g);if(!(O!=null&&O.contentWindow))return;O.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[g]),x=d.useCallback((O,H)=>{if(!(O!=null&&O.contentWindow))return;let X=0;const te=20,M=()=>{try{const B=O.contentWindow;if(B.term){B.term.options.fontSize=H;return}}catch{}X++,X<te&&setTimeout(M,50)};M()},[]),k=d.useCallback(O=>{i(X=>new Set(X).add(O));const H=o.current.get(O);H&&(x(H,v.fontSize),setTimeout(()=>{O===t.activeSession&&m()},100),setTimeout(()=>{O===t.activeSession&&m()},300))},[x,v.fontSize,m,t.activeSession]);d.useEffect(()=>{l.forEach(O=>{const H=o.current.get(O);H&&x(H,v.fontSize)})},[v.fontSize,l,x]),d.useEffect(()=>{g&&l.has(g)&&setTimeout(m,50)},[g,l,m]),d.useEffect(()=>{const O=new Set(t.boundSessions);o.current.forEach((H,X)=>{O.has(X)||o.current.delete(X)}),i(H=>{const X=new Set;return H.forEach(te=>{O.has(te)&&X.add(te)}),X})},[t.boundSessions]);const S=d.useCallback(()=>{j(w)},[w,j]),N=d.useRef(E),b=d.useRef(t.boundSessions);d.useEffect(()=>{N.current=E,b.current=t.boundSessions},[E,t.boundSessions]),d.useEffect(()=>{const O=H=>{N.current&&H.ctrlKey&&(b.current.length<=1||(H.key==="ArrowRight"?(H.preventDefault(),p(e,t.id,"next")):H.key==="ArrowLeft"&&(H.preventDefault(),p(e,t.id,"prev"))))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[e,t.id,p]),d.useEffect(()=>{const O=a.current;if(!O)return;let H;const X=new ResizeObserver(()=>{clearTimeout(H),H=setTimeout(m,100)});return X.observe(O),()=>{clearTimeout(H),X.disconnect()}},[m]);const C=Kn[t.colorIndex%Kn.length],T=O=>{u(e,t.id,O)},I=O=>{h(e,t.id,O)},Q=t.boundSessions.length>0,U=O=>`/terminal/?arg=${encodeURIComponent(O)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:c,className:`terminal-window ${E?"focused":""}`,tabIndex:-1,onClick:S,style:{"--window-accent":C.accent,"--window-bg":C.bg,"--window-border":C.border,...s},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(O=>r.jsx(lx,{sessionName:O,isActive:O===g,workspaceId:e,windowId:t.id,onRemove:()=>T(O),onClick:()=>I(O)},O))}),r.jsxs("div",{className:"window-controls",children:[Q&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${f?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:a,className:"terminal-window-body",children:[g==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:C.accent},children:r.jsx("span",{children:"Initializing Session..."})}):Q?t.boundSessions.map(O=>{const H=O===g;return r.jsx("iframe",{ref:X=>{X&&o.current.set(O,X)},src:U(O),onLoad:()=>k(O),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:H?"block":"none",position:H?"relative":"absolute"},title:`Terminal ${t.id} - ${O}`},O)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(sx,{workspaceId:e,windowId:t.id,accentColor:C.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(rx,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ox({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=ct(),l=t[e],i=l.windows,o=l.windowCount,a=ph("(max-width: 768px)"),[c,u]=d.useState(0);d.useEffect(()=>{c>=o&&u(0)},[o,c]);const h=()=>{if(a)return"grid-1";switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsx("div",{className:"terminal-area-controls",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"View:"}),r.jsxs("div",{className:"mobile-controls-row",style:{display:"flex",gap:"4px",alignItems:"center",flex:1,overflowX:"auto"},children:[Array.from({length:o}).map((p,v)=>r.jsx("button",{className:`layout-btn ${c===v?"active":""}`,onClick:()=>u(v),children:v+1},`view-${v}`)),r.jsx("div",{style:{width:"1px",height:"16px",background:"var(--divider)",margin:"0 8px"}}),r.jsx("span",{className:"layout-label",children:"Count:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),style:{opacity:o===p?1:.7},children:p},`count-${p}`))]})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),title:`${p} window${p>1?"s":""}`,children:p},p))]})}),r.jsx("div",{className:`terminal-grid ${h()}`,"data-workspace":e,children:i.slice(0,o).map((p,v)=>{const y=!a||v===c;return r.jsx(ix,{workspaceId:e,window:p,isDragging:s,style:{display:y?"flex":"none"}},p.id)})})]})}class re extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function Ba(e){return`/${e}`}const dn="/api/files";function mh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new re('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new re("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new re("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new re('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function hs(e,t){if(!e.ok)switch(e.status){case 403:throw new re("Permission denied","PERMISSION",403);case 404:throw new re("File not found","NOT_FOUND",404);case 409:throw new re("Already exists","CONFLICT",409);case 413:throw new re("File too large","STORAGE",413);case 507:throw new re("Insufficient storage","STORAGE",507);default:throw new re(`${t}: ${e.status}`,"SERVER",e.status)}}function Gn(e,t){if(e instanceof re)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function gh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${dn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new re(l instanceof Error?l.message:"Network error","NETWORK")}hs(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new re("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new re("Invalid directory response","INVALID");if(s.isDir===!1)throw new re("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new re("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function vh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${dn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new re(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new re("Folder already exists","CONFLICT",409);hs(s,"Failed to create folder")}async function ax(e,t){let n;try{n=await fetch(`${dn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new re(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new re("Destination already exists","CONFLICT",409);hs(n,"Failed to rename")}async function cx(e){let t;try{t=await fetch(`${dn}/resources${e}`,{method:"DELETE"})}catch(n){throw new re(n instanceof Error?n.message:"Network error","NETWORK")}hs(t,"Failed to delete")}async function zo(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=mh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${dn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new re(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new re("File too large","STORAGE",413);if(o.status===507)throw new re("Insufficient storage","STORAGE",507);hs(o,`Failed to upload ${l}`)}}async function ux(e){try{return(await fetch(`${dn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Wa(e){return`${dn}/raw${e}?inline=false`}async function dx(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(u=>u.length>0).map(u=>mh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${dn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new re(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new re("File too large","STORAGE",413);if(c.status===507)throw new re("Insufficient storage","STORAGE",507);hs(c,`Failed to upload ${o}`)}}function fx({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?Ba(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function Ao(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function hx(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function xh(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function px({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:xh(e)})}function zi({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function mx({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:v}){const y=d.useRef(null);d.useEffect(()=>{if(o&&y.current){y.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;y.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{v||(e.isDir?s():window.open(Wa(e.path),"_blank"))},w=f=>{v||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},E=f=>{f.key==="Enter"?u():f.key==="Escape"&&h()},g=p?Ba(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${v?"disabled":""}`,onClick:v?void 0:n,onDoubleClick:j,onContextMenu:v?void 0:l,onKeyDown:w,tabIndex:v?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(px,{item:e}),o?r.jsx("input",{ref:y,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:E,onBlur:h}):r.jsx("span",{className:"fb-filename",children:g})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Ao(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:hx(e.modified)})]})}function gx({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open(Wa(e.path),"_blank"))},c=i?Ba(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:xh(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function vx({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const p=y=>{u.current&&!u.current.contains(y.target)&&s()},v=y=>{y.key==="Escape"&&s()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",v),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}},[s]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function xx({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=d.useState(""),o=d.useRef(null);d.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function yx({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function wx({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=d.useState(!1),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},p=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},v=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const E=w.dataTransfer.files;E.length>0&&await y(E)},y=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await zo(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(E){const g=Gn(E,"upload");c(null),n(g)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&y(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:v,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function yh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((p,v)=>{u.file(p,v)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await yh(a,c);n.push(...u)}}return n}async function jx(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await yh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function Nx({onError:e}){const[t,n]=d.useState([]),[s,l]=d.useState(""),[i,o]=d.useState(!1),[a,c]=d.useState(!1),[u,h]=d.useState("idle"),p=d.useRef(null),v=d.useRef(null),y="/code/incoming",j=C=>{C.preventDefault(),C.stopPropagation(),o(!0)},w=C=>{C.preventDefault(),C.stopPropagation(),o(!1)},E=async C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),C.dataTransfer.items&&C.dataTransfer.items.length>0){const T=await jx(C.dataTransfer.items);T.length>0&&(n(I=>[...I,...T]),h("idle"))}else if(C.dataTransfer.files.length>0){const T=Array.from(C.dataTransfer.files).map(I=>({type:"file",name:I.name,size:I.size,file:I}));n(I=>[...I,...T]),h("idle")}},g=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files).map(I=>({type:"file",name:I.name,size:I.size,file:I}));n(I=>[...I,...T]),h("idle")}},f=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files),I=new Map;for(const U of T){const O=U.webkitRelativePath||U.name,H=O.split("/")[0];I.has(H)||I.set(H,[]),I.get(H).push({file:U,relativePath:O})}const Q=Array.from(I.entries()).map(([U,O])=>({type:"folder",name:U,size:O.reduce((H,X)=>H+X.file.size,0),filesWithPaths:O}));n(U=>[...U,...Q]),h("idle")}},m=C=>{n(T=>T.filter((I,Q)=>Q!==C))},x=async()=>{if(t.length!==0){c(!0);try{await ux(y)||await vh("/code","incoming");for(const T of t)T.type==="file"&&T.file?await zo(y,[T.file]):T.type==="folder"&&T.filesWithPaths&&await dx(y,T.filesWithPaths);if(s.trim()&&t.length>0){const T=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await zo(y,[T])}h("success"),n([]),l(""),p.current&&(p.current.value=""),v.current&&(v.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(C){h("error");const T=Gn(C,"upload");e(`Failed to send: ${T}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},k=t.reduce((C,T)=>C+T.size,0),S=t.reduce((C,T)=>{var I;return T.type==="file"?C+1:C+(((I=T.filesWithPaths)==null?void 0:I.length)||0)},0),N=t.filter(C=>C.type==="folder").length,b=t.filter(C=>C.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:E,children:[r.jsx("input",{ref:p,type:"file",multiple:!0,onChange:g,style:{display:"none"}}),r.jsx("input",{ref:v,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((C,T)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:C.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[C.name,C.type==="folder"&&C.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",C.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:Ao(C.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:I=>{I.stopPropagation(),m(T)},children:""})]},`${C.name}-${T}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=p.current)==null||T.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=p.current)==null||T.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:C=>l(C.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&b>0&&", ",b>0&&`${b} file${b>1?"s":""}`," ","(",S," total)  ",Ao(k)]}),r.jsx("button",{className:"inbox-send",onClick:x,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function kx(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function Sx({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function bx(){const[e,t]=d.useState("browser"),[n,s]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[o,a]=d.useState(null),[c,u]=d.useState(null),[h,p]=d.useState(null),[v,y]=d.useState(""),[j,w]=d.useState(!1),[E,g]=d.useState(null),[f,m]=d.useState(["/"]),[x,k]=d.useState(0),S=d.useCallback(P=>{a(P)},[]),N=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),b=d.useCallback(async P=>{s(F=>({...F,loading:!0,error:null}));try{const F=await gh(P);s(D=>({...D,items:F,loading:!1,currentPath:P,selectedItems:new Set,error:null}))}catch(F){const D=Gn(F,"fetch");s(L=>({...L,loading:!1,error:D,items:[]}))}},[]);d.useEffect(()=>{b("/")},[b]);const C=d.useCallback((P,F=!0)=>{if(F){const D=[...f.slice(0,x+1),P];m(D),k(D.length-1)}b(P)},[b,f,x]),T=d.useCallback(()=>{if(x>0){const P=x-1;k(P),b(f[P])}},[x,f,b]),I=d.useCallback(()=>{if(x<f.length-1){const P=x+1;k(P),b(f[P])}},[x,f,b]),Q=d.useCallback(()=>{const P=n.currentPath.split("/").filter(Boolean);P.length>0&&(P.pop(),C("/"+P.join("/")))},[n.currentPath,C]),U=d.useMemo(()=>{const P=[...n.items],F=n.searchQuery?P.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):P;return F.sort((D,L)=>{if(D.isDir!==L.isDir)return D.isDir?-1:1;let z=0;switch(n.sortBy){case"name":z=D.name.localeCompare(L.name);break;case"size":z=D.size-L.size;break;case"modified":z=new Date(D.modified).getTime()-new Date(L.modified).getTime();break}return n.sortDir==="asc"?z:-z}),F},[n.items,n.sortBy,n.sortDir,n.searchQuery]),O=P=>{s(F=>({...F,sortBy:P,sortDir:F.sortBy===P&&F.sortDir==="asc"?"desc":"asc"}))},H=(P,F)=>{if(F.preventDefault(),F.ctrlKey||F.metaKey)s(D=>{const L=new Set(D.selectedItems);return L.has(P.name)?L.delete(P.name):L.add(P.name),{...D,selectedItems:L}});else if(F.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),L=U.findIndex(W=>W.name===D),z=U.findIndex(W=>W.name===P.name),V=Math.min(L,z),G=Math.max(L,z),me=new Set(U.slice(V,G+1).map(W=>W.name));s(W=>({...W,selectedItems:me}))}else s(D=>({...D,selectedItems:new Set([P.name])}))},X=(P,F)=>{F.preventDefault(),u({x:F.clientX,y:F.clientY,item:P}),P&&!n.selectedItems.has(P.name)&&s(D=>({...D,selectedItems:new Set([P.name])}))},te=P=>{p(P.name),y(P.name),u(null)},M=async()=>{if(!h||!v.trim()||v===h){B();return}const P=n.items.find(D=>D.name===h);if(!P)return;const F=n.currentPath==="/"?`/${v}`:`${n.currentPath}/${v}`;i({type:"rename",loading:!0,error:null,target:P.name});try{await ax(P.path,F),await b(n.currentPath),N()}catch(D){const L=Gn(D,"rename");i({type:"rename",loading:!1,error:L,target:P.name}),S(L)}finally{B()}},B=()=>{p(null),y("")},_=async()=>{if(E){i({type:"delete",loading:!0,error:null,target:E.name});try{await cx(E.path),await b(n.currentPath),N(),g(null)}catch(P){const F=Gn(P,"delete");i({type:"delete",loading:!1,error:F,target:E.name}),S(F)}}},Z=async P=>{i({type:"create",loading:!0,error:null,target:P});try{await vh(n.currentPath,P),await b(n.currentPath),N(),w(!1)}catch(F){const D=Gn(F,"create");i({type:"create",loading:!1,error:D,target:P})}},Y=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Wa(c.item.path),"_blank"),u(null)},A=()=>{if(c!=null&&c.item){const P=c.item.path;navigator.clipboard.writeText(P)}u(null)};d.useEffect(()=>{const P=F=>{if(e==="browser"&&!(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"))if(F.key==="F5")F.preventDefault(),b(n.currentPath);else if(F.key==="Backspace")F.preventDefault(),Q();else if(F.key==="Delete"){const D=n.items.find(L=>n.selectedItems.has(L.name));D&&g(D)}else if(F.key==="F2"){const D=n.items.find(L=>n.selectedItems.has(L.name));D&&te(D)}else F.ctrlKey&&F.key==="a"&&(F.preventDefault(),s(D=>({...D,selectedItems:new Set(D.items.map(L=>L.name))})))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,n.currentPath,n.items,n.selectedItems,b,Q]);const K=n.currentPath==="/"||n.currentPath==="",q=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(Sx,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(wx,{currentPath:n.currentPath,onUploadComplete:()=>b(n.currentPath),onError:S}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:q,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>b(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(Nx,{onError:S}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:T,disabled:x===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:I,disabled:x>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:Q,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(fx,{path:n.currentPath,onNavigate:C}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:P=>s(F=>({...F,searchQuery:P.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:P=>{P.target.closest(".fb-row, .fb-grid-item")||X(null,P)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>b(n.currentPath),children:"Retry"})]}):U.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(zi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:O,className:"fb-cell-name"}),r.jsx(zi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:O,className:"fb-cell-size"}),r.jsx(zi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:O,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:U.map(P=>r.jsx(mx,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:F=>H(P,F),onNavigate:()=>C(P.path),onContextMenu:F=>X(P,F),onRename:()=>te(P),isRenaming:h===P.name,renameValue:v,setRenameValue:y,onRenameSubmit:M,onRenameCancel:B,isAtRoot:K,disabled:q},P.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:U.map(P=>r.jsx(gx,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:F=>H(P,F),onNavigate:()=>C(P.path),onContextMenu:F=>X(P,F),isAtRoot:K,disabled:q},P.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[U.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),q&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(kx,{})}),c&&r.jsx(vx,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:Y,onRename:()=>c.item&&te(c.item),onDelete:()=>c.item&&g(c.item),onCopyPath:A,onNewFolder:()=>{u(null),w(!0)}}),j&&r.jsx(xx,{onClose:()=>{w(!1),N()},onCreate:Z,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),E&&r.jsx(yx,{item:E,onClose:()=>{g(null),N()},onConfirm:_,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function Cx({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=d.useState(n),[i,o]=d.useState([]),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState(!1),y=d.useCallback(async x=>{try{const k=x==="/"?"/.beads":`${x}/.beads`,S=await fetch(`/api/files/resources${k}`);return S.ok?(await S.json()).isDir===!0:!1}catch{return!1}},[]),j=d.useCallback(async x=>{c(!0),h(null);try{const S=(await gh(x)).filter(C=>C.isDir),N=await y(x);v(N);const b=await Promise.all(S.map(async C=>({...C,hasBeads:await y(C.path)})));o(b)}catch(k){h(k instanceof Error?k.message:"Failed to load directory"),o([])}finally{c(!1)}},[y]);d.useEffect(()=>{j(s)},[s,j]);const w=x=>{l(x)},E=()=>{if(s==="/")return;const x=s.split("/").filter(Boolean);x.pop(),l(x.length===0?"/":"/"+x.join("/"))},g=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((x,k,S)=>({name:x,path:"/"+S.slice(0,k+1).join("/")}))],f=()=>{e(s)},m=x=>{x.target===x.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:m,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:E,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:g.map((x,k)=>r.jsxs("span",{children:[k>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(x.path),children:x.name})]},x.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),p&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(x=>r.jsxs("div",{className:`folder-picker-item ${x.hasBeads?"has-beads":""}`,onClick:()=>w(x.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:x.name}),x.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},x.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function In({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Ex(){var v,y,j,w,E,g;const{settings:e,updateSettings:t}=ct(),[n,s]=d.useState(!1),l=f=>{const m=e.beadsProjectPaths||[];m.includes(f)||t({beadsProjectPaths:[...m,f]}),s(!1)},i=f=>{const m=e.beadsProjectPaths||[];t({beadsProjectPaths:m.filter(x=>x!==f)})},o=f=>{t({theme:f})},a=f=>{const m=parseInt(f.target.value,10);m>=12&&m<=20&&t({fontSize:m})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},h=(f,m)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:m}})},p=f=>{const m=zv[f];m&&t({tmuxAppearance:m})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>p(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(In,{label:"Background",value:((v=e.tmuxAppearance)==null?void 0:v.statusBg)??"#000000",onChange:f=>h("statusBg",f)}),r.jsx(In,{label:"Foreground",value:((y=e.tmuxAppearance)==null?void 0:y.statusFg)??"#00ff41",onChange:f=>h("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(In,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>h("paneBorderActive",f)}),r.jsx(In,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>h("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(In,{label:"Background",value:((E=e.tmuxAppearance)==null?void 0:E.modeStyleBg)??"#00ff41",onChange:f=>h("modeStyleBg",f)}),r.jsx(In,{label:"Foreground",value:((g=e.tmuxAppearance)==null?void 0:g.modeStyleFg)??"#000000",onChange:f=>h("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(Cx,{onSelect:l,onClose:()=>s(!1)})]})}function Tx(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[s,l]=d.useState(!1),[i,o]=d.useState({x:80,y:60}),[a]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),h=d.useRef({x:0,y:0}),p=d.useRef(null),v=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const y=d.useCallback(()=>{try{const f=p.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=d.useCallback(f=>{const m=p.current;if(!(m!=null&&m.contentWindow))return;let x=0;const k=20,S=()=>{try{const N=m.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}x++,x<k&&setTimeout(S,50)};S()},[]),w=d.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(y,100),setTimeout(y,300),setTimeout(y,500)},[j,n.fontSize,y]);d.useEffect(()=>{s&&j(n.fontSize)},[s,n.fontSize,j]),d.useEffect(()=>{const f=v.current;if(!f)return;let m;const x=new ResizeObserver(()=>{clearTimeout(m),m=setTimeout(y,100)});return x.observe(f),()=>{clearTimeout(m),x.disconnect()}},[y]);const E=f=>{f.target.closest(".modal-close")||(u(!0),h.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=x=>{o({x:x.clientX-h.current.x,y:x.clientY-h.current.y})},m=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[c]),!e)return null;const g=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:E,children:[r.jsx("span",{className:"modal-title",children:g}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:v,className:"floating-modal-body",children:r.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const Px=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function Dx(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(Nu,{});case"terminals":return r.jsx(Rx,{});case"sessions":return r.jsx(Ix,{});case"files":return r.jsx(Mx,{});case"tmux":return r.jsx(Lx,{});default:return r.jsx(Nu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:Px.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Nu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Rx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Ix(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Mx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Lx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const si="/api/beads";async function ri(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function wh(){const{settings:e}=ct(),[t,n]=d.useState([]),[s,l]=d.useState(!0),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;l(!0),o(null);try{const u=await ri(`${si}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const v of p){if(h.some(j=>j.path===v))continue;const y=v.split("/").filter(Boolean).pop()||v;h.push({name:y,path:v,beadsPath:`${v}/.beads`})}n(h),!u.success&&p.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function jh(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await ri(`${si}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{issues:t,loading:s,error:i,refresh:a}}function Ox(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await ri(`${si}/triage`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch triage")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{triage:t,loading:s,error:i,refresh:a}}function _x(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await ri(`${si}/insights`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch insights")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{insights:t,loading:s,error:i,refresh:a}}function zx({projects:e,selectedPath:t,onSelect:n,loading:s}){return s?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"Loading projects..."})})}):e.length===0?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"No projects with .beads found"})})}):r.jsxs("div",{className:"project-selector",children:[r.jsx("label",{htmlFor:"project-select",children:"Project:"}),r.jsxs("select",{id:"project-select",value:t||"",onChange:l=>n(l.target.value),children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(l=>r.jsxs("option",{value:l.path,children:[l.name," (",l.path,")"]},l.path))]})]})}const Ax={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},Fx={bug:"",feature:"",task:"",chore:"",epic:""};function ku(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function Su(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function $x(e){return e.replace(/_/g," ")}function Qs({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=Ax[e.status]||"var(--text-secondary)",i=e.type&&Fx[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${Su(e.priority)}`,children:ku(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${Su(e.priority)}`,children:ku(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:$x(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const bu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Nh({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of bu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[bu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(Qs,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(Qs,{issue:i,showDependencies:!0},i.id))})]})]})}const Bx={high:"var(--beads-impact-high)",medium:"var(--beads-impact-medium)",low:"var(--beads-impact-low)"};function Ai(e,t){return e.find(n=>n.id===t)}function Wx({triage:e,issues:t,loading:n,error:s}){if(n)return r.jsx("div",{className:"beads-triage loading",children:r.jsx("div",{className:"loading-message",children:"Analyzing issues..."})});if(s)return r.jsx("div",{className:"beads-triage error",children:r.jsx("div",{className:"error-message",children:s})});if(!e)return r.jsx("div",{className:"beads-triage empty",children:r.jsx("div",{className:"empty-message",children:"No triage data available"})});const l=e.recommendations||[],i=e.quickWins||[],o=e.blockers||[];return r.jsx("div",{className:"beads-triage",children:r.jsxs("div",{className:"triage-sections",children:[r.jsxs("section",{className:"triage-section recommendations",children:[r.jsx("h3",{children:"Recommended Next"}),l.length===0?r.jsx("p",{className:"no-items",children:"No recommendations"}):r.jsx("div",{className:"recommendation-list",children:l.map(a=>{const c=Ai(t,a.issueId);return r.jsxs("div",{className:"recommendation-item",children:[r.jsxs("div",{className:"rec-header",children:[r.jsxs("span",{className:"rec-rank",children:["#",a.rank]}),r.jsxs("span",{className:"rec-impact",style:{color:Bx[a.estimatedImpact]},children:[a.estimatedImpact," impact"]})]}),c?r.jsx(Qs,{issue:c}):r.jsxs("div",{className:"issue-card missing",children:[r.jsx("span",{className:"issue-id",children:a.issueId}),r.jsx("span",{className:"issue-missing",children:"(issue not found)"})]}),r.jsx("div",{className:"rec-reasoning",children:a.reasoning})]},a.issueId)})})]}),r.jsxs("section",{className:"triage-section quick-wins",children:[r.jsx("h3",{children:"Quick Wins"}),r.jsx("p",{className:"section-desc",children:"Low-effort issues with no dependencies"}),i.length===0?r.jsx("p",{className:"no-items",children:"No quick wins identified"}):r.jsx("div",{className:"quick-wins-list",children:i.map(a=>{const c=Ai(t,a);return c?r.jsx(Qs,{issue:c,compact:!0},a):r.jsx("div",{className:"issue-card compact missing",children:r.jsx("span",{className:"issue-id",children:a})},a)})})]}),r.jsxs("section",{className:"triage-section blockers",children:[r.jsx("h3",{children:"Blockers"}),r.jsx("p",{className:"section-desc",children:"Issues blocking other work"}),o.length===0?r.jsx("p",{className:"no-items",children:"No blockers identified"}):r.jsx("div",{className:"blockers-list",children:o.map(a=>{const c=Ai(t,a);return c?r.jsx(Qs,{issue:c,showDependencies:!0},a):r.jsx("div",{className:"issue-card missing",children:r.jsx("span",{className:"issue-id",children:a})},a)})})]})]})})}function Ux({score:e}){const t=n=>n>=80?"var(--beads-health-good)":n>=50?"var(--beads-health-warning)":"var(--beads-health-critical)";return r.jsxs("div",{className:"health-gauge",children:[r.jsxs("div",{className:"gauge-circle",children:[r.jsxs("svg",{viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t(e),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${e*2.83} 283`,transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"gauge-value",children:e})]}),r.jsx("div",{className:"gauge-label",children:"Health Score"})]})}function Vr({label:e,value:t,variant:n}){return r.jsxs("div",{className:`stat-card ${n||""}`,children:[r.jsx("div",{className:"stat-value",children:t}),r.jsx("div",{className:"stat-label",children:e})]})}function Vx({insights:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-insights loading",children:r.jsx("div",{className:"loading-message",children:"Calculating insights..."})});if(n)return r.jsx("div",{className:"beads-insights error",children:r.jsx("div",{className:"error-message",children:n})});if(!e)return r.jsx("div",{className:"beads-insights empty",children:r.jsx("div",{className:"empty-message",children:"No insights available"})});const s=e.health||{score:0,risks:[],warnings:[]},l=s.risks||[],i=s.warnings||[];return r.jsx("div",{className:"beads-insights",children:r.jsxs("div",{className:"insights-grid",children:[r.jsx("div",{className:"insights-section health-section",children:r.jsx(Ux,{score:s.score||0})}),r.jsxs("div",{className:"insights-section stats-section",children:[r.jsx("h3",{children:"Overview"}),r.jsxs("div",{className:"stats-grid",children:[r.jsx(Vr,{label:"Total Issues",value:e.issueCount}),r.jsx(Vr,{label:"Open",value:e.openCount,variant:"open"}),r.jsx(Vr,{label:"Blocked",value:e.blockedCount,variant:"blocked"}),r.jsx(Vr,{label:"Closed",value:e.closedCount||0,variant:"closed"})]})]}),e.byStatus&&Object.keys(e.byStatus).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Status"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byStatus).map(([o,a])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:o.replace(/_/g," ")}),r.jsx("span",{className:"breakdown-value",children:a}),r.jsx("div",{className:"breakdown-bar",style:{width:`${a/e.issueCount*100}%`}})]},o))})]}),e.byType&&Object.keys(e.byType).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Type"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byType).map(([o,a])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:o}),r.jsx("span",{className:"breakdown-value",children:a}),r.jsx("div",{className:"breakdown-bar type-bar",style:{width:`${a/e.issueCount*100}%`}})]},o))})]}),l.length>0&&r.jsxs("div",{className:"insights-section risks-section",children:[r.jsx("h3",{children:"Risks"}),r.jsx("ul",{className:"risks-list",children:l.map((o,a)=>r.jsx("li",{className:"risk-item",children:o},a))})]}),i.length>0&&r.jsxs("div",{className:"insights-section warnings-section",children:[r.jsx("h3",{children:"Warnings"}),r.jsx("ul",{className:"warnings-list",children:i.map((o,a)=>r.jsx("li",{className:"warning-item",children:o},a))})]}),e.metrics&&r.jsxs("div",{className:"insights-section metrics-section",children:[r.jsx("h3",{children:"Graph Metrics"}),r.jsxs("div",{className:"metrics-content",children:[e.metrics.density!==void 0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Graph Density"}),r.jsxs("span",{className:"metric-value",children:[(e.metrics.density*100).toFixed(1),"%"]})]}),e.metrics.cycles&&e.metrics.cycles.length>0&&r.jsxs("div",{className:"metric-item warning",children:[r.jsx("span",{className:"metric-label",children:"Circular Dependencies"}),r.jsx("span",{className:"metric-value",children:e.metrics.cycles.length})]}),e.metrics.criticalPath&&e.metrics.criticalPath.length>0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Critical Path Length"}),r.jsx("span",{className:"metric-value",children:e.metrics.criticalPath.length})]})]})]})]})})}const Hx=[{id:"kanban",label:"Kanban"},{id:"triage",label:"Triage"},{id:"insights",label:"Insights"}];function Kx(){const[e,t]=d.useState("kanban"),[n,s]=d.useState(null),{projects:l,loading:i}=wh(),{issues:o,loading:a,error:c,refresh:u}=jh(n),{triage:h,loading:p,error:v,refresh:y}=Ox(n),{insights:j,loading:w,error:E,refresh:g}=_x(n),f=d.useCallback(k=>{s(k||null)},[]),m=d.useCallback(()=>{u(),y(),g()},[u,y,g]),x=a||p||w;return r.jsxs("div",{className:"beads-view",children:[r.jsxs("div",{className:"beads-header",children:[r.jsx(zx,{projects:l,selectedPath:n,onSelect:f,loading:i}),n&&r.jsx("button",{className:"beads-refresh-btn",onClick:m,disabled:x,title:"Refresh data",children:x?"Loading...":"Refresh"})]}),n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"beads-subtabs",children:Hx.map(k=>r.jsx("button",{className:`beads-subtab ${e===k.id?"active":""}`,onClick:()=>t(k.id),children:k.label},k.id))}),r.jsxs("div",{className:"beads-content",children:[e==="kanban"&&r.jsx(Nh,{issues:o,loading:a,error:c}),e==="triage"&&r.jsx(Wx,{triage:h,issues:o,loading:p,error:v}),e==="insights"&&r.jsx(Vx,{insights:j,loading:w,error:E})]})]}):r.jsxs("div",{className:"beads-empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"Select a Project"}),r.jsx("p",{children:"Choose a project with a .beads directory to view issues and insights."}),l.length===0&&!i&&r.jsx("p",{className:"empty-hint",children:"No projects found. Create a .beads directory in /code or /workspace to get started."})]})]})}const Gx=`
## Beads Viewer (bv) - Quick Reference

**bv** is a high-performance Terminal UI for browsing and managing tasks in projects using the Beads issue tracking system.

### Navigation
| Key | Action |
|-----|--------|
| \`j/k\` | Move down/up |
| \`/\` | Fuzzy search |
| \`Enter\` | Select/expand |
| \`q\` | Quit |

### Views
| Key | View |
|-----|------|
| \`b\` | Kanban board |
| \`g\` | Dependency graph |
| \`i\` | Insights & metrics |
| \`h\` | History timeline |

### Filters
| Key | Filter |
|-----|--------|
| \`o\` | Open issues |
| \`c\` | Closed issues |
| \`r\` | Ready (unblocked) |

### Actions
| Key | Action |
|-----|--------|
| \`E\` | Export to Markdown |
| \`C\` | Copy issue as Markdown |
| \`O\` | Open in editor |
| \`t\` | Time-travel (pick revision) |
| \`T\` | Compare with HEAD~5 |

### Features
- **Live Reload**: Auto-refreshes when beads.jsonl changes
- **Split View**: List + details on wide screens
- **Markdown**: Beautiful rendering with syntax highlighting
- **AI-Ready**: Structured insights for coding agents
`;function Qx(){const{projects:e,loading:t}=wh(),[n,s]=d.useState(null),[l,i]=d.useState(!1),{issues:o,loading:a,error:c}=jh(n);d.useEffect(()=>{!n&&e.length>0&&s(e[0].path)},[e,n]);const u=d.useCallback(async p=>{if(p){s(p);try{await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(p)}`,{method:"POST"})}catch(v){console.error("Failed to restart bv terminal:",v)}}},[]),h=d.useCallback(()=>{window.open("/bv-terminal/","_blank")},[]);return r.jsxs("div",{className:"bv-container",children:[r.jsx("div",{className:"bv-toolbar",children:r.jsxs("div",{className:"bv-toolbar-left",children:[r.jsx("label",{htmlFor:"bv-project-select",children:"Project:"}),r.jsx("select",{id:"bv-project-select",value:n||"",onChange:p=>u(p.target.value),disabled:t,children:t?r.jsx("option",{children:"Loading projects..."}):e.length===0?r.jsx("option",{children:"No projects with .beads found"}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(p=>r.jsx("option",{value:p.path,children:p.name},p.path))]})}),r.jsx("button",{className:"bv-btn bv-btn-primary",onClick:h,disabled:!n,title:"Open interactive beads_viewer in new tab",children:"Open Beads Viewer"}),r.jsx("button",{className:"bv-btn",onClick:()=>i(!0),title:"BV keyboard shortcuts and help",children:"BV Help"})]})}),l&&r.jsx("div",{className:"bv-help-overlay",onClick:()=>i(!1),children:r.jsxs("div",{className:"bv-help-modal",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"bv-help-header",children:[r.jsx("h2",{children:"Beads Viewer Help"}),r.jsx("button",{className:"bv-help-close",onClick:()=>i(!1),children:""})]}),r.jsx("div",{className:"bv-help-content",children:r.jsx("pre",{children:Gx})})]})}),r.jsx("div",{className:"bv-kanban-full",children:r.jsx(Nh,{issues:o,loading:a,error:c})})]})}const Yx=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Xx(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(Cu,{});case"agents":return r.jsx(Jx,{});case"molecules":return r.jsx(Zx,{});case"beads":return r.jsx(qx,{});case"philosophy":return r.jsx(ey,{});case"links":return r.jsx(ty,{});default:return r.jsx(Cu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:Yx.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Cu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function Jx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function Zx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function qx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function ey(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const on="/api/chat";function ny(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),o=d.useCallback(async()=>{var a,c;try{s(!0);const h=await(await fetch(`${on}/conversations`)).json();((a=h.data)==null?void 0:a.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function sy(e,t){const[n,s]=d.useState([]),[l,i]=d.useState(!1),[o,a]=d.useState(null),c=d.useCallback(async(u=!1)=>{var h,p;if(!e||!t){s([]);return}try{u||i(!0);const v=encodeURIComponent(e),y=encodeURIComponent(t),w=await(await fetch(`${on}/history?target=${v}&workspace=${y}`)).json();((h=w.data)==null?void 0:h.messages)!==void 0?(s(w.data.messages||[]),a(null)):a(((p=w.error)==null?void 0:p.message)||"Failed to load history")}catch{a("Network error")}finally{u||i(!1)}},[e,t]);return d.useEffect(()=>{c()},[c]),{messages:n,loading:l,error:o,refresh:c}}async function ry(e,t,n){var l,i,o,a,c;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(s,null,2)),console.log("Endpoint:",`${on}/send`);try{const u=await fetch(`${on}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Response status:",u.status,u.statusText);const h=await u.json();return console.log("Response body:",JSON.stringify(h,null,2)),console.groupEnd(),(l=h.data)!=null&&l.success?{success:!0,messageId:(i=h.data)==null?void 0:i.messageId,mailSent:((o=h.data)==null?void 0:o.mailSent)??!1,nudged:((a=h.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=h.error)==null?void 0:c.message)||"Send failed"}}catch(u){return console.error("Network error:",u),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function ly(e,t,n){var l,i,o;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(s,null,2));try{const c=await(await fetch(`${on}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function iy(){var e,t;try{const s=await(await fetch(`${on}/session/status`)).json();return{exists:((e=s.data)==null?void 0:e.exists)??!1,workspace:(t=s.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function oy(e){var t;try{const s=await(await fetch(`${on}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.created??!1,workspace:s.data.workspace,message:s.data.message}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function ay(e){var t;try{const s=await(await fetch(`${on}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.restarted??!1,workspace:s.data.workspace}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}const Eu="chrote-chat-selected";function cy(){const[e,t]=d.useState(()=>{try{return localStorage.getItem(Eu)}catch{return null}}),[n,s]=d.useState("list"),[l,i]=d.useState(""),[o,a]=d.useState(!1),[c,u]=d.useState(null),[h,p]=d.useState(!1),[v,y]=d.useState(!1),[j,w]=d.useState({exists:!1,initializing:!1}),{conversations:E,loading:g,refresh:f}=ny(),m=E.find(A=>A.target===e),{messages:x,loading:k,refresh:S}=sy(e,(m==null?void 0:m.workspace)??null),{addToast:N}=br(),b=d.useRef(null),C=d.useRef(null),T=d.useRef(null),I=d.useRef(null),Q=d.useRef(!0),U=d.useRef(0);d.useEffect(()=>{const A=()=>window.innerWidth<=768&&"ontouchstart"in window,K=()=>{if(!(!I.current||!A())&&window.visualViewport){const P=window.visualViewport.height;I.current.style.height=`${P}px`,setTimeout(()=>{var F;(F=b.current)==null||F.scrollIntoView({behavior:"smooth"})},100)}},q=()=>{I.current&&(A()||(I.current.style.height=""))};return window.visualViewport&&(window.visualViewport.addEventListener("resize",K),window.visualViewport.addEventListener("scroll",K)),window.addEventListener("resize",q),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",K),window.visualViewport.removeEventListener("scroll",K)),window.removeEventListener("resize",q)}},[]);const O=()=>{const A=C.current;if(!A)return;const{scrollTop:K,scrollHeight:q,clientHeight:P}=A;Q.current=q-K-P<100};d.useEffect(()=>{var q;const A=x.length,K=A>U.current;if(U.current=A,K&&Q.current&&((q=b.current)==null||q.scrollIntoView({behavior:"smooth"})),c&&x.length>0){const P=[...x].reverse().find(F=>F.role==="user");P&&P.content===c&&u(null)}},[x,c]),d.useEffect(()=>{var A;o&&((A=b.current)==null||A.scrollIntoView({behavior:"smooth"}))},[o]),d.useEffect(()=>{var A;e&&((A=T.current)==null||A.focus())},[e]),d.useEffect(()=>{if(!e)return;const A=setInterval(()=>{S(!0)},5e3);return()=>clearInterval(A)},[e,S]),d.useEffect(()=>{iy().then(A=>{w({exists:A.exists,initializing:!1})})},[]),d.useEffect(()=>{(async()=>{if(!(m!=null&&m.workspace)||j.exists||j.initializing)return;w(q=>({...q,initializing:!0}));const K=await oy(m.workspace);w({exists:K.created||j.exists,initializing:!1}),K.created&&N("Chat session initialized","success")})()},[m==null?void 0:m.workspace,j.exists,j.initializing,N]);const H=async()=>{var q;const A=(m==null?void 0:m.workspace)||((q=E.find(P=>P.workspace))==null?void 0:q.workspace);if(!A){N("No workspace available to restart session","error");return}w({exists:!1,initializing:!0});const K=await ay(A);w({exists:K.created,initializing:!1}),K.created?N("Chat session restarted","success"):N(K.message||"Failed to restart session","error")},X=A=>{t(A),s("chat");try{localStorage.setItem(Eu,A)}catch{}},te=()=>{s("list")},M=async()=>{if(!m||!m.workspace||!l.trim()||o)return;const A=l.trim();i(""),a(!0);const K=await ry(m.workspace,m.target,A);if(K.success){const q=[];K.mailSent&&q.push("Mail sent"),K.nudged&&q.push("Agent nudged"),N(q.join(", ")||"Message sent","success"),u(A),a(!1),setTimeout(()=>{S()},1e3),setTimeout(()=>{u(null)},1e4)}else N(K.error||"Send failed","error"),a(!1)},B=async()=>{if(!m||!m.workspace||h)return;p(!0);const A=await ly(m.workspace,m.target);A.success?N("Nudged!","success"):N(A.error||"Nudge failed","error"),p(!1)},_=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),M())},Z=A=>{i(A.target.value);const K=A.target;K.style.height="auto",K.style.height=Math.min(K.scrollHeight,120)+"px"},Y=x;return r.jsxs("div",{ref:I,className:`chrote-chat mobile-view-${n}`,children:[r.jsxs("div",{className:`chat-sidebar ${v?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>y(!v),title:v?"Expand":"Collapse",children:v?"":""}),!v&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>f(),disabled:g,title:"Refresh",children:""})]})]}),!v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"chat-conversations",children:g&&E.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):E.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):E.map(A=>r.jsx(uy,{conversation:A,selected:A.target===e,onClick:()=>X(A.target)},A.target))}),r.jsxs("div",{className:"chat-sidebar-footer",children:[r.jsx("button",{className:"restart-session-btn",onClick:H,disabled:j.initializing,title:"Restart the chrote-chat tmux session",children:j.initializing?"Restarting...":"Restart Chat Session"}),r.jsx("div",{className:"session-status",children:j.exists?"Session active":"No session"})]})]})]}),r.jsxs("div",{className:"chat-main",children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("button",{className:"chat-back-btn mobile-only",onClick:te,title:"Back to agents",children:""}),r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(m==null?void 0:m.displayName)||e||"Chat"}),e&&r.jsx("span",{className:`chat-header-status ${m!=null&&m.online?"online":"offline"}`,children:m!=null&&m.online?"Online":"Offline"})]}),e&&r.jsx("button",{className:"refresh-btn",onClick:()=>S(),disabled:k,title:"Refresh history",children:""})]}),e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-messages",ref:C,onScroll:O,children:[k&&Y.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):Y.length===0&&!o&&!c?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):Y.map(A=>r.jsx(hy,{message:A},A.id)),c&&r.jsx(fy,{content:c}),o&&r.jsx(dy,{}),r.jsx("div",{ref:b})]}),r.jsxs("div",{className:"chat-input-area",children:[!(m!=null&&m.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:T,className:"chat-input",value:l,onChange:Z,onKeyDown:_,placeholder:m!=null&&m.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:o||!(m!=null&&m.workspace)}),r.jsx("button",{className:"chat-nudge-btn",onClick:B,disabled:h||!(m!=null&&m.workspace),title:"Send a quick nudge",children:h?"...":"Nudge!"}),r.jsx("button",{className:"chat-send-btn",onClick:M,disabled:!l.trim()||o||!(m!=null&&m.workspace),title:m!=null&&m.workspace?"Send (Enter)":"No workspace detected",children:o?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})]})]})}function uy({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function dy(){return r.jsx("div",{className:"chat-sending-spinner",children:r.jsx("div",{className:"spinner"})})}function fy({content:e}){return r.jsxs("div",{className:"chat-message user pending",children:[r.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>r.jsx("p",{children:t||""},n))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function hy({message:e}){const t=e.role==="user",n=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((s,l)=>r.jsx("p",{children:s||""},l))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class Fi extends d.Component{constructor(n){super(n);Ga(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Tu=4e3,Pu=300,py={success:"",info:"",warning:"",error:""};function my({toast:e,onRemove:t}){const[n,s]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,p=Math.max(0,100-h/Tu*100);i(p)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Pu)},Tu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),Pu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:py[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function gy(){const{toasts:e,removeToast:t}=br();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(my,{toast:n,onRemove:t},n.id))})}const vy=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function kh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function xy({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(kh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function yy({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(xy,{...n},s))})]})}function wy({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:vy.map((l,i)=>r.jsx(yy,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(kh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function jy({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=ct(),[a,c]=d.useState(""),[u,h]=d.useState(null),[p,v]=d.useState(""),y=()=>{a.trim()&&s(a.trim())&&c("")},j=x=>{l(x),t()},w=x=>{i(x)},E=x=>{h(x.id),v(x.name)},g=()=>{u&&p.trim()&&(o(u,p.trim()),h(null),v(""))},f=()=>{h(null),v("")},m=x=>{let k=0,S=0;return Object.values(x.workspaces).forEach(N=>{k+=N.windowCount,N.windows.forEach(b=>{S+=b.boundSessions.length})}),`${k} windows, ${S} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:x=>c(x.target.value),onKeyDown:x=>x.key==="Enter"&&y(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:y,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((x,k)=>r.jsx("li",{className:"preset-item",children:u===x.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:S=>v(S.target.value),onKeyDown:S=>{S.key==="Enter"&&g(),S.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:g,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",k+1]}),r.jsx("span",{className:"preset-name",children:x.name}),r.jsx("span",{className:"preset-summary",children:m(x)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>j(x.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>E(x),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(x.id),title:"Delete preset",children:""})]})]})},x.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function Ny({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:v}=ct(),y=d.useCallback(async()=>{try{const E=u.defaultSessionPrefix||"tmux",g=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${g}(\\d+)$`),m=h.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),x=m.length>0?Math.max(...m)+1:1,k=`${E}${x}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k})})).ok&&c()}catch(E){console.error("Failed to create session:",E)}},[u.defaultSessionPrefix,h,c]),j=d.useCallback(()=>{const E=document.querySelector(".session-search-input");E&&(E.focus(),E.select())},[]),w=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const E=g=>{const f=g.target,m=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(g.key==="Escape"){if(s)return;if(a){g.preventDefault(),o();return}}if(!(m||s)){if(g.key==="?"||g.shiftKey&&g.key==="/"){g.preventDefault(),n();return}if(g.key==="/"&&!g.ctrlKey&&!g.metaKey){g.preventDefault(),j();return}if(g.key==="Tab"&&!g.ctrlKey&&!g.shiftKey&&!g.altKey&&(e==="terminal1"||e==="terminal2")){g.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!g.ctrlKey&&!g.metaKey&&!g.altKey&&/^[1-4]$/.test(g.key)){const x=w();if(x){const k=parseInt(g.key,10),S=l[x];if(k<=S.windowCount){g.preventDefault();return}}}if(g.ctrlKey&&g.key==="s"){g.preventDefault(),i();return}if(g.ctrlKey&&g.key==="n"){g.preventDefault(),y();return}if(g.ctrlKey&&/^[1-9]$/.test(g.key)){const x=parseInt(g.key,10)-1;if(x<v.length){g.preventDefault(),p(v[x].id);return}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,t,n,s,a,o,j,i,y,w,l,p,v])}function ky({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function Sy(){const[e,t]=d.useState("terminal1"),[n,s]=d.useState(null),[l,i]=d.useState(!1),[o,a]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:v}=ct(),y=d.useCallback(()=>i(!0),[]),j=d.useCallback(()=>i(!1),[]),w=d.useCallback(()=>a(!0),[]),E=d.useCallback(()=>a(!1),[]);Ny({activeTab:e,onTabChange:t,onShowHelp:y,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",v.theme)},[v.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${v.fontSize}px`)},[v.fontSize]);const g=wg(yg(Fa,{activationConstraint:{distance:4}})),f=x=>{var S,N;const k=(S=x.active.data.current)==null?void 0:S.type;s(k==="tag"?((N=x.active.data.current)==null?void 0:N.sessionName)??null:x.active.id),h(!0)},m=x=>{var N,b,C,T;const{active:k,over:S}=x;if(s(null),h(!1),!S){if(((N=k.data.current)==null?void 0:N.type)==="tag"){const{sessionName:I,sourceWindowId:Q,sourceWorkspaceId:U}=k.data.current;u(U,Q,I)}return}if(((b=S.data.current)==null?void 0:b.type)==="window"){const I=S.data.current.windowId,Q=S.data.current.workspaceId;if(((C=k.data.current)==null?void 0:C.type)==="session")c(Q,I,k.id);else if(((T=k.data.current)==null?void 0:T.type)==="tag"){const{sessionName:U,sourceWindowId:O,sourceWorkspaceId:H}=k.data.current;(O!==I||H!==Q)&&c(Q,I,U)}}};return r.jsxs(vv,{sensors:g,onDragStart:f,onDragEnd:m,children:[r.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[r.jsx(Qv,{activeTab:e,onTabChange:t,onShowHelp:y,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(nx,{}),r.jsx(ox,{workspaceId:e})]}),e==="files"&&r.jsx(bx,{}),e==="beads"&&r.jsx(Fi,{children:r.jsx(Kx,{})}),e==="beads_viewer"&&r.jsx(Fi,{children:r.jsx(Qx,{})}),e==="chat"&&r.jsx(Fi,{children:r.jsx(cy,{})}),e==="manual"&&r.jsx(Xx,{}),e==="settings"&&r.jsx(Ex,{}),e==="help"&&r.jsx(Dx,{})]}),r.jsx(Tx,{}),r.jsx(wy,{isOpen:l,onClose:j}),r.jsx(jy,{isOpen:o,onClose:E})]}),r.jsx(gy,{}),r.jsx(_v,{children:n?r.jsx(ky,{name:n}):null})]})}function by(){return r.jsx(Gv,{children:r.jsx(Sy,{})})}$i.createRoot(document.getElementById("root")).render(r.jsx(pe.StrictMode,{children:r.jsx(Fv,{children:r.jsx(by,{})})}));
