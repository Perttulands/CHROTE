var Ch=Object.defineProperty;var Eh=(e,t,n)=>t in e?Ch(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ka=(e,t,n)=>Eh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tu={exports:{}},_l={},Pu={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=Symbol.for("react.element"),Ph=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),zh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),Ga=Symbol.iterator;function Fh(e){return e===null||typeof e!="object"?null:(e=Ga&&e[Ga]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ru=Object.assign,Iu={};function ds(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Du}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mu(){}Mu.prototype=ds.prototype;function Ao(e,t,n){this.props=e,this.context=t,this.refs=Iu,this.updater=n||Du}var Fo=Ao.prototype=new Mu;Fo.constructor=Ao;Ru(Fo,ds.prototype);Fo.isPureReactComponent=!0;var Qa=Array.isArray,Ou=Object.prototype.hasOwnProperty,$o={current:null},Lu={key:!0,ref:!0,__self:!0,__source:!0};function _u(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ou.call(t,s)&&!Lu.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:gr,type:e,key:i,ref:o,props:l,_owner:$o.current}}function $h(e,t){return{$$typeof:gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bo(e){return typeof e=="object"&&e!==null&&e.$$typeof===gr}function Bh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ya=/\/+/g;function oi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bh(""+e.key):t.toString(36)}function Hr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gr:case Ph:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+oi(o,0):s,Qa(l)?(n="",e!=null&&(n=e.replace(Ya,"$&/")+"/"),Hr(l,t,n,"",function(u){return u})):l!=null&&(Bo(l)&&(l=$h(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ya,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Qa(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+oi(i,a);o+=Hr(i,t,n,c,l)}else if(c=Fh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+oi(i,a++),o+=Hr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Er(e,t,n){if(e==null)return e;var s=[],l=0;return Hr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Wh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Kr={transition:null},Uh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:$o};function zu(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Er,forEach:function(e,t,n){Er(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Er(e,function(){t++}),t},toArray:function(e){return Er(e,function(t){return t})||[]},only:function(e){if(!Bo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=ds;X.Fragment=Dh;X.Profiler=Ih;X.PureComponent=Ao;X.StrictMode=Rh;X.Suspense=_h;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uh;X.act=zu;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ru({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$o.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ou.call(t,c)&&!Lu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:gr,type:e.type,key:l,ref:i,props:s,_owner:o}};X.createContext=function(e){return e={$$typeof:Oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mh,_context:e},e.Consumer=e};X.createElement=_u;X.createFactory=function(e){var t=_u.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Lh,render:e}};X.isValidElement=Bo;X.lazy=function(e){return{$$typeof:Ah,_payload:{_status:-1,_result:e},_init:Wh}};X.memo=function(e,t){return{$$typeof:zh,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Kr.transition;Kr.transition={};try{e()}finally{Kr.transition=t}};X.unstable_act=zu;X.useCallback=function(e,t){return Ae.current.useCallback(e,t)};X.useContext=function(e){return Ae.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ae.current.useEffect(e,t)};X.useId=function(){return Ae.current.useId()};X.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ae.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};X.useRef=function(e){return Ae.current.useRef(e)};X.useState=function(e){return Ae.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ae.current.useTransition()};X.version="18.3.1";Pu.exports=X;var d=Pu.exports;const ge=Th(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=d,Hh=Symbol.for("react.element"),Kh=Symbol.for("react.fragment"),Gh=Object.prototype.hasOwnProperty,Qh=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yh={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Gh.call(t,s)&&!Yh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Hh,type:e,key:i,ref:o,props:l,_owner:Qh.current}}_l.Fragment=Kh;_l.jsx=Au;_l.jsxs=Au;Tu.exports=_l;var r=Tu.exports,Fi={},Fu={exports:{}},qe={},$u={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,W){var A=L.length;L.push(W);e:for(;0<A;){var Q=A-1>>>1,M=L[Q];if(0<l(M,W))L[Q]=W,L[A]=M,A=Q;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var W=L[0],A=L.pop();if(A!==W){L[0]=A;e:for(var Q=0,M=L.length,Y=M>>>1;Q<Y;){var J=2*(Q+1)-1,ae=L[J],P=J+1,$=L[P];if(0>l(ae,A))P<M&&0>l($,ae)?(L[Q]=$,L[P]=A,Q=P):(L[Q]=ae,L[J]=A,Q=J);else if(P<M&&0>l($,A))L[Q]=$,L[P]=A,Q=P;else break e}}return W}function l(L,W){var A=L.sortIndex-W.sortIndex;return A!==0?A:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],p=1,m=null,v=3,x=!1,j=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(L){for(var W=n(u);W!==null;){if(W.callback===null)s(u);else if(W.startTime<=L)s(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function y(L){if(w=!1,h(L),!j)if(n(c)!==null)j=!0,re(S);else{var W=n(u);W!==null&&q(y,W.startTime-L)}}function S(L,W){j=!1,w&&(w=!1,g(b),b=-1),x=!0;var A=v;try{for(h(W),m=n(c);m!==null&&(!(m.expirationTime>W)||L&&!O());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,v=m.priorityLevel;var M=Q(m.expirationTime<=W);W=e.unstable_now(),typeof M=="function"?m.callback=M:m===n(c)&&s(c),h(W)}else s(c);m=n(c)}if(m!==null)var Y=!0;else{var J=n(u);J!==null&&q(y,J.startTime-W),Y=!1}return Y}finally{m=null,v=A,x=!1}}var k=!1,N=null,b=-1,C=5,T=-1;function O(){return!(e.unstable_now()-T<C)}function K(){if(N!==null){var L=e.unstable_now();T=L;var W=!0;try{W=N(!0,L)}finally{W?R():(k=!1,N=null)}}else k=!1}var R;if(typeof f=="function")R=function(){f(K)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=K,R=function(){G.postMessage(null)}}else R=function(){E(K,0)};function re(L){N=L,k||(k=!0,R())}function q(L,W){b=E(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,re(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var A=v;v=W;try{return L()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=v;v=L;try{return W()}finally{v=A}},e.unstable_scheduleCallback=function(L,W,A){var Q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=A+M,L={id:p++,callback:W,priorityLevel:L,startTime:A,expirationTime:M,sortIndex:-1},A>Q?(L.sortIndex=A,t(u,L),n(c)===null&&L===n(u)&&(w?(g(b),b=-1):w=!0,q(y,A-Q))):(L.sortIndex=M,t(c,L),j||x||(j=!0,re(S))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var W=v;return function(){var A=v;v=W;try{return L.apply(this,arguments)}finally{v=A}}}})(Bu);$u.exports=Bu;var Xh=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=d,Ze=Xh;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wu=new Set,Ys={};function Tn(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(Ys[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=Object.prototype.hasOwnProperty,Zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xa={},Ja={};function qh(e){return $i.call(Ja,e)?!0:$i.call(Xa,e)?!1:Zh.test(e)?Ja[e]=!0:(Xa[e]=!0,!1)}function ep(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tp(e,t,n,s){if(t===null||typeof t>"u"||ep(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wo=/[\-:]([a-z])/g;function Uo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wo,Uo);De[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wo,Uo);De[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wo,Uo);De[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vo(e,t,n,s){var l=De.hasOwnProperty(t)?De[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tp(t,n,l,s)&&(n=null),s||l===null?qh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ft=Jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tr=Symbol.for("react.element"),_n=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Ho=Symbol.for("react.strict_mode"),Bi=Symbol.for("react.profiler"),Uu=Symbol.for("react.provider"),Vu=Symbol.for("react.context"),Ko=Symbol.for("react.forward_ref"),Wi=Symbol.for("react.suspense"),Ui=Symbol.for("react.suspense_list"),Go=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Hu=Symbol.for("react.offscreen"),Za=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=Za&&e[Za]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,ai;function Rs(e){if(ai===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ai=t&&t[1]||""}return`
`+ai+e}var ci=!1;function ui(e,t){if(!e||ci)return"";ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function np(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=ui(e.type,!1),e;case 11:return e=ui(e.type.render,!1),e;case 1:return e=ui(e.type,!0),e;default:return""}}function Vi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case _n:return"Portal";case Bi:return"Profiler";case Ho:return"StrictMode";case Wi:return"Suspense";case Ui:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vu:return(e.displayName||"Context")+".Consumer";case Uu:return(e._context.displayName||"Context")+".Provider";case Ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Go:return t=e.displayName||null,t!==null?t:Vi(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Vi(e(t))}catch{}}return null}function sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vi(t);case 8:return t===Ho?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e){var t=Ku(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=rp(e))}function Gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ku(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hi(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qu(e,t){t=t.checked,t!=null&&Vo(e,"checked",t,!1)}function Ki(e,t){Qu(e,t);var n=an(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gi(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gi(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Jn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Is(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function Yu(e,t){var n=an(t.value),s=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,Ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){lp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function Zu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function qu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Zu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ip=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xi(e,t){if(t){if(ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function Qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Zn=null,qn=null;function sc(e){if(e=xr(e)){if(typeof qi!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bl(t),qi(e.stateNode,e.type,t))}}function ed(e){Zn?qn?qn.push(e):qn=[e]:Zn=e}function td(){if(Zn){var e=Zn,t=qn;if(qn=Zn=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function nd(e,t){return e(t)}function sd(){}var di=!1;function rd(e,t,n){if(di)return e(t,n);di=!0;try{return nd(e,t,n)}finally{di=!1,(Zn!==null||qn!==null)&&(sd(),td())}}function Js(e,t){var n=e.stateNode;if(n===null)return null;var s=Bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var eo=!1;if(Ot)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{eo=!1}function op(e,t,n,s,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(p){this.onError(p)}}var _s=!1,il=null,ol=!1,to=null,ap={onError:function(e){_s=!0,il=e}};function cp(e,t,n,s,l,i,o,a,c){_s=!1,il=null,op.apply(ap,arguments)}function up(e,t,n,s,l,i,o,a,c){if(cp.apply(this,arguments),_s){if(_s){var u=il;_s=!1,il=null}else throw Error(I(198));ol||(ol=!0,to=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Pn(e)!==e)throw Error(I(188))}function dp(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return rc(l),e;if(i===s)return rc(l),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function id(e){return e=dp(e),e!==null?od(e):null}function od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=od(e);if(t!==null)return t;e=e.sibling}return null}var ad=Ze.unstable_scheduleCallback,lc=Ze.unstable_cancelCallback,fp=Ze.unstable_shouldYield,hp=Ze.unstable_requestPaint,ye=Ze.unstable_now,pp=Ze.unstable_getCurrentPriorityLevel,Yo=Ze.unstable_ImmediatePriority,cd=Ze.unstable_UserBlockingPriority,al=Ze.unstable_NormalPriority,mp=Ze.unstable_LowPriority,ud=Ze.unstable_IdlePriority,zl=null,kt=null;function gp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:xp,vp=Math.log,yp=Math.LN2;function xp(e){return e>>>=0,e===0?32:31-(vp(e)/yp|0)|0}var Rr=64,Ir=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=Ms(a):(i&=o,i!==0&&(s=Ms(i)))}else o=n&~l,o!==0?s=Ms(o):i!==0&&(s=Ms(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=wp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function no(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=Rr;return Rr<<=1,!(Rr&4194240)&&(Rr=64),e}function fi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Np(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ee=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hd,Jo,pd,md,gd,so=!1,Mr=[],qt=null,en=null,tn=null,Zs=new Map,qs=new Map,Yt=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function ks(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=xr(t),t!==null&&Jo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function kp(e,t,n,s,l){switch(t){case"focusin":return qt=ks(qt,e,t,n,s,l),!0;case"dragenter":return en=ks(en,e,t,n,s,l),!0;case"mouseover":return tn=ks(tn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return Zs.set(i,ks(Zs.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,qs.set(i,ks(qs.get(i)||null,e,t,n,s,l)),!0}return!1}function vd(e){var t=yn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,gd(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Zi=s,n.target.dispatchEvent(s),Zi=null}else return t=xr(n),t!==null&&Jo(t),e.blockedOn=n,!1;t.shift()}return!0}function oc(e,t,n){Gr(e)&&n.delete(t)}function bp(){so=!1,qt!==null&&Gr(qt)&&(qt=null),en!==null&&Gr(en)&&(en=null),tn!==null&&Gr(tn)&&(tn=null),Zs.forEach(oc),qs.forEach(oc)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,bp)))}function er(e){function t(l){return bs(l,e)}if(0<Mr.length){bs(Mr[0],e);for(var n=1;n<Mr.length;n++){var s=Mr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qt!==null&&bs(qt,e),en!==null&&bs(en,e),tn!==null&&bs(tn,e),Zs.forEach(t),qs.forEach(t),n=0;n<Yt.length;n++)s=Yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&Yt.shift()}var es=Ft.ReactCurrentBatchConfig,ul=!0;function Cp(e,t,n,s){var l=ee,i=es.transition;es.transition=null;try{ee=1,Zo(e,t,n,s)}finally{ee=l,es.transition=i}}function Ep(e,t,n,s){var l=ee,i=es.transition;es.transition=null;try{ee=4,Zo(e,t,n,s)}finally{ee=l,es.transition=i}}function Zo(e,t,n,s){if(ul){var l=ro(e,t,n,s);if(l===null)Ni(e,t,s,dl,n),ic(e,s);else if(kp(l,e,t,n,s))s.stopPropagation();else if(ic(e,s),t&4&&-1<Sp.indexOf(e)){for(;l!==null;){var i=xr(l);if(i!==null&&hd(i),i=ro(e,t,n,s),i===null&&Ni(e,t,s,dl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else Ni(e,t,s,null,n)}}var dl=null;function ro(e,t,n,s){if(dl=null,e=Qo(s),e=yn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pp()){case Yo:return 1;case cd:return 4;case al:case mp:return 16;case ud:return 536870912;default:return 16}default:return 16}}var Jt=null,qo=null,Qr=null;function xd(){if(Qr)return Qr;var e,t=qo,n=t.length,s,l="value"in Jt?Jt.value:Jt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Qr=l.slice(e,1<s?1-s:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function ac(){return!1}function et(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Or:ac,this.isPropagationStopped=ac,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=et(fs),yr=pe({},fs,{view:0,detail:0}),Tp=et(yr),hi,pi,Cs,Al=pe({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(hi=e.screenX-Cs.screenX,pi=e.screenY-Cs.screenY):pi=hi=0,Cs=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:pi}}),cc=et(Al),Pp=pe({},Al,{dataTransfer:0}),Dp=et(Pp),Rp=pe({},yr,{relatedTarget:0}),mi=et(Rp),Ip=pe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=et(Ip),Op=pe({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lp=et(Op),_p=pe({},fs,{data:0}),uc=et(_p),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $p(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function ta(){return $p}var Bp=pe({},yr,{key:function(e){if(e.key){var t=zp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=et(Bp),Up=pe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=et(Up),Vp=pe({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Hp=et(Vp),Kp=pe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=et(Kp),Qp=pe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yp=et(Qp),Xp=[9,13,27,32],na=Ot&&"CompositionEvent"in window,zs=null;Ot&&"documentMode"in document&&(zs=document.documentMode);var Jp=Ot&&"TextEvent"in window&&!zs,wd=Ot&&(!na||zs&&8<zs&&11>=zs),fc=" ",hc=!1;function jd(e,t){switch(e){case"keyup":return Xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function Zp(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(hc=!0,fc);case"textInput":return e=t.data,e===fc&&hc?null:e;default:return null}}function qp(e,t){if(An)return e==="compositionend"||!na&&jd(e,t)?(e=xd(),Qr=qo=Jt=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function Sd(e,t,n,s){ed(s),t=fl(t,"onChange"),0<t.length&&(n=new ea("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var As=null,tr=null;function tm(e){Od(e,0)}function Fl(e){var t=Bn(e);if(Gu(t))return e}function nm(e,t){if(e==="change")return t}var kd=!1;if(Ot){var gi;if(Ot){var vi="oninput"in document;if(!vi){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),vi=typeof mc.oninput=="function"}gi=vi}else gi=!1;kd=gi&&(!document.documentMode||9<document.documentMode)}function gc(){As&&(As.detachEvent("onpropertychange",bd),tr=As=null)}function bd(e){if(e.propertyName==="value"&&Fl(tr)){var t=[];Sd(t,tr,e,Qo(e)),rd(tm,t)}}function sm(e,t,n){e==="focusin"?(gc(),As=t,tr=n,As.attachEvent("onpropertychange",bd)):e==="focusout"&&gc()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fl(tr)}function lm(e,t){if(e==="click")return Fl(t)}function im(e,t){if(e==="input"||e==="change")return Fl(t)}function om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:om;function nr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!$i.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var n=vc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vc(n)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function am(e){var t=Ed(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cd(n.ownerDocument.documentElement,n)){if(s!==null&&sa(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=yc(n,i);var o=yc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cm=Ot&&"documentMode"in document&&11>=document.documentMode,Fn=null,lo=null,Fs=null,io=!1;function xc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;io||Fn==null||Fn!==ll(s)||(s=Fn,"selectionStart"in s&&sa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fs&&nr(Fs,s)||(Fs=s,s=fl(lo,"onSelect"),0<s.length&&(t=new ea("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Fn)))}function Lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},yi={},Td={};Ot&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function $l(e){if(yi[e])return yi[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Td)return yi[e]=t[n];return e}var Pd=$l("animationend"),Dd=$l("animationiteration"),Rd=$l("animationstart"),Id=$l("transitionend"),Md=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Md.set(e,t),Tn(t,[e])}for(var xi=0;xi<wc.length;xi++){var wi=wc[xi],um=wi.toLowerCase(),dm=wi[0].toUpperCase()+wi.slice(1);dn(um,"on"+dm)}dn(Pd,"onAnimationEnd");dn(Dd,"onAnimationIteration");dn(Rd,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Id,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function jc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,up(s,t,void 0,e),e.currentTarget=null}function Od(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;jc(l,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;jc(l,a,u),i=c}}}if(ol)throw e=to,ol=!1,to=null,e}function ie(e,t){var n=t[fo];n===void 0&&(n=t[fo]=new Set);var s=e+"__bubble";n.has(s)||(Ld(t,e,2,!1),n.add(s))}function ji(e,t,n){var s=0;t&&(s|=4),Ld(n,e,s,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function sr(e){if(!e[_r]){e[_r]=!0,Wu.forEach(function(n){n!=="selectionchange"&&(fm.has(n)||ji(n,!1,e),ji(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,ji("selectionchange",!1,t))}}function Ld(e,t,n,s){switch(yd(t)){case 1:var l=Cp;break;case 4:l=Ep;break;default:l=Zo}n=l.bind(null,t,n,e),l=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ni(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=yn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}rd(function(){var u=i,p=Qo(n),m=[];e:{var v=Md.get(e);if(v!==void 0){var x=ea,j=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":x=Wp;break;case"focusin":j="focus",x=mi;break;case"focusout":j="blur",x=mi;break;case"beforeblur":case"afterblur":x=mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hp;break;case Pd:case Dd:case Rd:x=Mp;break;case Id:x=Gp;break;case"scroll":x=Tp;break;case"wheel":x=Yp;break;case"copy":case"cut":case"paste":x=Lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=dc}var w=(t&4)!==0,E=!w&&e==="scroll",g=w?v!==null?v+"Capture":null:v;w=[];for(var f=u,h;f!==null;){h=f;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,g!==null&&(y=Js(f,g),y!=null&&w.push(rr(f,y,h)))),E)break;f=f.return}0<w.length&&(v=new x(v,j,null,n,p),m.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==Zi&&(j=n.relatedTarget||n.fromElement)&&(yn(j)||j[Lt]))break e;if((x||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?yn(j):null,j!==null&&(E=Pn(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(w=cc,y="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=dc,y="onPointerLeave",g="onPointerEnter",f="pointer"),E=x==null?v:Bn(x),h=j==null?v:Bn(j),v=new w(y,f+"leave",x,n,p),v.target=E,v.relatedTarget=h,y=null,yn(p)===u&&(w=new w(g,f+"enter",j,n,p),w.target=h,w.relatedTarget=E,y=w),E=y,x&&j)t:{for(w=x,g=j,f=0,h=w;h;h=Mn(h))f++;for(h=0,y=g;y;y=Mn(y))h++;for(;0<f-h;)w=Mn(w),f--;for(;0<h-f;)g=Mn(g),h--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Mn(w),g=Mn(g)}w=null}else w=null;x!==null&&Nc(m,v,x,w,!1),j!==null&&E!==null&&Nc(m,E,j,w,!0)}}e:{if(v=u?Bn(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var S=nm;else if(pc(v))if(kd)S=im;else{S=rm;var k=sm}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(S=lm);if(S&&(S=S(e,u))){Sd(m,S,n,p);break e}k&&k(e,v,u),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&Gi(v,"number",v.value)}switch(k=u?Bn(u):window,e){case"focusin":(pc(k)||k.contentEditable==="true")&&(Fn=k,lo=u,Fs=null);break;case"focusout":Fs=lo=Fn=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,xc(m,n,p);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":xc(m,n,p)}var N;if(na)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?jd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(wd&&n.locale!=="ko"&&(An||b!=="onCompositionStart"?b==="onCompositionEnd"&&An&&(N=xd()):(Jt=p,qo="value"in Jt?Jt.value:Jt.textContent,An=!0)),k=fl(u,b),0<k.length&&(b=new uc(b,e,null,n,p),m.push({event:b,listeners:k}),N?b.data=N:(N=Nd(n),N!==null&&(b.data=N)))),(N=Jp?Zp(e,n):qp(e,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(p=new uc("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:u}),p.data=N))}Od(m,t)})}function rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Js(e,n),i!=null&&s.unshift(rr(e,i,l)),i=Js(e,t),i!=null&&s.push(rr(e,i,l))),e=e.return}return s}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,l?(c=Js(n,i),c!=null&&o.unshift(rr(n,c,a))):l||(c=Js(n,i),c!=null&&o.push(rr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hm=/\r\n?/g,pm=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(hm,`
`).replace(pm,"")}function zr(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(I(425))}function hl(){}var oo=null,ao=null;function co(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uo=typeof setTimeout=="function"?setTimeout:void 0,mm=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(vm)}:uo;function vm(e){setTimeout(function(){throw e})}function Si(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),er(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);er(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),St="__reactFiber$"+hs,lr="__reactProps$"+hs,Lt="__reactContainer$"+hs,fo="__reactEvents$"+hs,ym="__reactListeners$"+hs,xm="__reactHandles$"+hs;function yn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[St])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[St]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bl(e){return e[lr]||null}var ho=[],Wn=-1;function fn(e){return{current:e}}function oe(e){0>Wn||(e.current=ho[Wn],ho[Wn]=null,Wn--)}function le(e,t){Wn++,ho[Wn]=e.current,e.current=t}var cn={},Le=fn(cn),Ue=fn(!1),Sn=cn;function ls(e,t){var n=e.type.contextTypes;if(!n)return cn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function pl(){oe(Ue),oe(Le)}function Cc(e,t,n){if(Le.current!==cn)throw Error(I(168));le(Le,t),le(Ue,n)}function _d(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(I(108,sp(e)||"Unknown",l));return pe({},n,s)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Sn=Le.current,le(Le,e),le(Ue,Ue.current),!0}function Ec(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=_d(e,t,Sn),s.__reactInternalMemoizedMergedChildContext=e,oe(Ue),oe(Le),le(Le,e)):oe(Ue),le(Ue,n)}var Dt=null,Wl=!1,ki=!1;function zd(e){Dt===null?Dt=[e]:Dt.push(e)}function wm(e){Wl=!0,zd(e)}function hn(){if(!ki&&Dt!==null){ki=!0;var e=0,t=ee;try{var n=Dt;for(ee=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Dt=null,Wl=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),ad(Yo,hn),l}finally{ee=t,ki=!1}}return null}var Un=[],Vn=0,gl=null,vl=0,st=[],rt=0,kn=null,Rt=1,It="";function gn(e,t){Un[Vn++]=vl,Un[Vn++]=gl,gl=e,vl=t}function Ad(e,t,n){st[rt++]=Rt,st[rt++]=It,st[rt++]=kn,kn=e;var s=Rt;e=It;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,Rt=1<<32-pt(t)+l|n<<l|s,It=i+e}else Rt=1<<i|n<<l|s,It=e}function ra(e){e.return!==null&&(gn(e,1),Ad(e,1,0))}function la(e){for(;e===gl;)gl=Un[--Vn],Un[Vn]=null,vl=Un[--Vn],Un[Vn]=null;for(;e===kn;)kn=st[--rt],st[rt]=null,It=st[--rt],st[rt]=null,Rt=st[--rt],st[rt]=null}var Je=null,Xe=null,ue=!1,ht=null;function Fd(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mo(e){if(ue){var t=Xe;if(t){var n=t;if(!Tc(e,t)){if(po(e))throw Error(I(418));t=nn(n.nextSibling);var s=Je;t&&Tc(e,t)?Fd(s,n):(e.flags=e.flags&-4097|2,ue=!1,Je=e)}}else{if(po(e))throw Error(I(418));e.flags=e.flags&-4097|2,ue=!1,Je=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ar(e){if(e!==Je)return!1;if(!ue)return Pc(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!co(e.type,e.memoizedProps)),t&&(t=Xe)){if(po(e))throw $d(),Error(I(418));for(;t;)Fd(e,t),t=nn(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?nn(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Xe;e;)e=nn(e.nextSibling)}function is(){Xe=Je=null,ue=!1}function ia(e){ht===null?ht=[e]:ht.push(e)}var jm=Ft.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dc(e){var t=e._init;return t(e._payload)}function Bd(e){function t(g,f){if(e){var h=g.deletions;h===null?(g.deletions=[f],g.flags|=16):h.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function s(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function l(g,f){return g=on(g,f),g.index=0,g.sibling=null,g}function i(g,f,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<f?(g.flags|=2,f):h):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,f,h,y){return f===null||f.tag!==6?(f=Ri(h,g.mode,y),f.return=g,f):(f=l(f,h),f.return=g,f)}function c(g,f,h,y){var S=h.type;return S===zn?p(g,f,h.props.children,y,h.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kt&&Dc(S)===f.type)?(y=l(f,h.props),y.ref=Es(g,f,h),y.return=g,y):(y=nl(h.type,h.key,h.props,null,g.mode,y),y.ref=Es(g,f,h),y.return=g,y)}function u(g,f,h,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=Ii(h,g.mode,y),f.return=g,f):(f=l(f,h.children||[]),f.return=g,f)}function p(g,f,h,y,S){return f===null||f.tag!==7?(f=Nn(h,g.mode,y,S),f.return=g,f):(f=l(f,h),f.return=g,f)}function m(g,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ri(""+f,g.mode,h),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Tr:return h=nl(f.type,f.key,f.props,null,g.mode,h),h.ref=Es(g,null,f),h.return=g,h;case _n:return f=Ii(f,g.mode,h),f.return=g,f;case Kt:var y=f._init;return m(g,y(f._payload),h)}if(Is(f)||Ns(f))return f=Nn(f,g.mode,h,null),f.return=g,f;Fr(g,f)}return null}function v(g,f,h,y){var S=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:a(g,f,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Tr:return h.key===S?c(g,f,h,y):null;case _n:return h.key===S?u(g,f,h,y):null;case Kt:return S=h._init,v(g,f,S(h._payload),y)}if(Is(h)||Ns(h))return S!==null?null:p(g,f,h,y,null);Fr(g,h)}return null}function x(g,f,h,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(h)||null,a(f,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:return g=g.get(y.key===null?h:y.key)||null,c(f,g,y,S);case _n:return g=g.get(y.key===null?h:y.key)||null,u(f,g,y,S);case Kt:var k=y._init;return x(g,f,h,k(y._payload),S)}if(Is(y)||Ns(y))return g=g.get(h)||null,p(f,g,y,S,null);Fr(f,y)}return null}function j(g,f,h,y){for(var S=null,k=null,N=f,b=f=0,C=null;N!==null&&b<h.length;b++){N.index>b?(C=N,N=null):C=N.sibling;var T=v(g,N,h[b],y);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(g,N),f=i(T,f,b),k===null?S=T:k.sibling=T,k=T,N=C}if(b===h.length)return n(g,N),ue&&gn(g,b),S;if(N===null){for(;b<h.length;b++)N=m(g,h[b],y),N!==null&&(f=i(N,f,b),k===null?S=N:k.sibling=N,k=N);return ue&&gn(g,b),S}for(N=s(g,N);b<h.length;b++)C=x(N,g,b,h[b],y),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?b:C.key),f=i(C,f,b),k===null?S=C:k.sibling=C,k=C);return e&&N.forEach(function(O){return t(g,O)}),ue&&gn(g,b),S}function w(g,f,h,y){var S=Ns(h);if(typeof S!="function")throw Error(I(150));if(h=S.call(h),h==null)throw Error(I(151));for(var k=S=null,N=f,b=f=0,C=null,T=h.next();N!==null&&!T.done;b++,T=h.next()){N.index>b?(C=N,N=null):C=N.sibling;var O=v(g,N,T.value,y);if(O===null){N===null&&(N=C);break}e&&N&&O.alternate===null&&t(g,N),f=i(O,f,b),k===null?S=O:k.sibling=O,k=O,N=C}if(T.done)return n(g,N),ue&&gn(g,b),S;if(N===null){for(;!T.done;b++,T=h.next())T=m(g,T.value,y),T!==null&&(f=i(T,f,b),k===null?S=T:k.sibling=T,k=T);return ue&&gn(g,b),S}for(N=s(g,N);!T.done;b++,T=h.next())T=x(N,g,b,T.value,y),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?b:T.key),f=i(T,f,b),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(K){return t(g,K)}),ue&&gn(g,b),S}function E(g,f,h,y){if(typeof h=="object"&&h!==null&&h.type===zn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Tr:e:{for(var S=h.key,k=f;k!==null;){if(k.key===S){if(S=h.type,S===zn){if(k.tag===7){n(g,k.sibling),f=l(k,h.props.children),f.return=g,g=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kt&&Dc(S)===k.type){n(g,k.sibling),f=l(k,h.props),f.ref=Es(g,k,h),f.return=g,g=f;break e}n(g,k);break}else t(g,k);k=k.sibling}h.type===zn?(f=Nn(h.props.children,g.mode,y,h.key),f.return=g,g=f):(y=nl(h.type,h.key,h.props,null,g.mode,y),y.ref=Es(g,f,h),y.return=g,g=y)}return o(g);case _n:e:{for(k=h.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(g,f.sibling),f=l(f,h.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Ii(h,g.mode,y),f.return=g,g=f}return o(g);case Kt:return k=h._init,E(g,f,k(h._payload),y)}if(Is(h))return j(g,f,h,y);if(Ns(h))return w(g,f,h,y);Fr(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(g,f.sibling),f=l(f,h),f.return=g,g=f):(n(g,f),f=Ri(h,g.mode,y),f.return=g,g=f),o(g)):n(g,f)}return E}var os=Bd(!0),Wd=Bd(!1),yl=fn(null),xl=null,Hn=null,oa=null;function aa(){oa=Hn=xl=null}function ca(e){var t=yl.current;oe(yl),e._currentValue=t}function go(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ts(e,t){xl=e,oa=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(oa!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(xl===null)throw Error(I(308));Hn=e,xl.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var xn=null;function ua(e){xn===null?xn=[e]:xn.push(e)}function Ud(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,ua(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,s)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,_t(e,n)}return l=s.interleaved,l===null?(t.next=t,ua(s)):(t.next=l.next,l.next=t),s.interleaved=t,_t(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xo(e,n)}}function Rc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,s){var l=e.updateQueue;Gt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=c))}if(i!==null){var m=l.baseState;o=0,p=u=c=null,a=i;do{var v=a.lane,x=a.eventTime;if((s&v)===v){p!==null&&(p=p.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(v=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){m=j.call(x,m,v);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(x,m,v):j,v==null)break e;m=pe({},m,v);break e;case 2:Gt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[a]:v.push(a))}else x={eventTime:x,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=x,c=m):p=p.next=x,o|=v;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;v=a,a=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(p===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=m}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(I(191,l));l.call(s)}}}var wr={},bt=fn(wr),ir=fn(wr),or=fn(wr);function wn(e){if(e===wr)throw Error(I(174));return e}function fa(e,t){switch(le(or,t),le(ir,e),le(bt,wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yi(t,e)}oe(bt),le(bt,t)}function as(){oe(bt),oe(ir),oe(or)}function Hd(e){wn(or.current);var t=wn(bt.current),n=Yi(t,e.type);t!==n&&(le(ir,e),le(bt,n))}function ha(e){ir.current===e&&(oe(bt),oe(ir))}var fe=fn(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bi=[];function pa(){for(var e=0;e<bi.length;e++)bi[e]._workInProgressVersionPrimary=null;bi.length=0}var Jr=Ft.ReactCurrentDispatcher,Ci=Ft.ReactCurrentBatchConfig,bn=0,he=null,we=null,ke=null,Nl=!1,$s=!1,ar=0,Nm=0;function Ie(){throw Error(I(321))}function ma(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function ga(e,t,n,s,l,i){if(bn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?Cm:Em,e=n(s,l),$s){i=0;do{if($s=!1,ar=0,25<=i)throw Error(I(301));i+=1,ke=we=null,t.updateQueue=null,Jr.current=Tm,e=n(s,l)}while($s)}if(Jr.current=Sl,t=we!==null&&we.next!==null,bn=0,ke=we=he=null,Nl=!1,t)throw Error(I(300));return e}function va(){var e=ar!==0;return ar=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?he.memoizedState=ke=e:ke=ke.next=e,ke}function at(){if(we===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=ke===null?he.memoizedState:ke.next;if(t!==null)ke=t,we=e;else{if(e===null)throw Error(I(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ke===null?he.memoizedState=ke=e:ke=ke.next=e}return ke}function cr(e,t){return typeof t=="function"?t(e):t}function Ei(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=we,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,u=i;do{var p=u.lane;if((bn&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=s):c=c.next=m,he.lanes|=p,Cn|=p}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,he.lanes|=i,Cn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Kd(){}function Gd(e,t){var n=he,s=at(),l=t(),i=!gt(s.memoizedState,l);if(i&&(s.memoizedState=l,We=!0),s=s.queue,ya(Xd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,ur(9,Yd.bind(null,n,s,l,t),void 0,null),Ce===null)throw Error(I(349));bn&30||Qd(n,t,l)}return l}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yd(e,t,n,s){t.value=n,t.getSnapshot=s,Jd(t)&&Zd(e)}function Xd(e,t,n){return n(function(){Jd(t)&&Zd(e)})}function Jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Zd(e){var t=_t(e,1);t!==null&&mt(t,e,1,-1)}function Mc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},t.queue=e,e=e.dispatch=bm.bind(null,he,e),[t.memoizedState,e]}function ur(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qd(){return at().memoizedState}function Zr(e,t,n,s){var l=Nt();he.flags|=e,l.memoizedState=ur(1|t,n,void 0,s===void 0?null:s)}function Ul(e,t,n,s){var l=at();s=s===void 0?null:s;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,s!==null&&ma(s,o.deps)){l.memoizedState=ur(t,n,i,s);return}}he.flags|=e,l.memoizedState=ur(1|t,n,i,s)}function Oc(e,t){return Zr(8390656,8,e,t)}function ya(e,t){return Ul(2048,8,e,t)}function ef(e,t){return Ul(4,2,e,t)}function tf(e,t){return Ul(4,4,e,t)}function nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,nf.bind(null,t,e),n)}function xa(){}function rf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ma(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function lf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ma(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function of(e,t,n){return bn&21?(gt(n,t)||(n=dd(),he.lanes|=n,Cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Sm(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var s=Ci.transition;Ci.transition={};try{e(!1),t()}finally{ee=n,Ci.transition=s}}function af(){return at().memoizedState}function km(e,t,n){var s=ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},cf(e))uf(t,n);else if(n=Ud(e,t,n,s),n!==null){var l=ze();mt(n,e,s,l),df(n,t,s)}}function bm(e,t,n){var s=ln(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(cf(e))uf(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(l.next=l,ua(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Ud(e,t,l,s),n!==null&&(l=ze(),mt(n,e,s,l),df(n,t,s))}}function cf(e){var t=e.alternate;return e===he||t!==null&&t===he}function uf(e,t){$s=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function df(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xo(e,n)}}var Sl={readContext:ot,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Cm={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zr(4194308,4,nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=km.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Mc,useDebugValue:xa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Mc(!1),t=e[0];return e=Sm.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=he,l=Nt();if(ue){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ce===null)throw Error(I(349));bn&30||Qd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Oc(Xd.bind(null,s,i,e),[e]),s.flags|=2048,ur(9,Yd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Ce.identifierPrefix;if(ue){var n=It,s=Rt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Em={readContext:ot,useCallback:rf,useContext:ot,useEffect:ya,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:lf,useReducer:Ei,useRef:qd,useState:function(){return Ei(cr)},useDebugValue:xa,useDeferredValue:function(e){var t=at();return of(t,we.memoizedState,e)},useTransition:function(){var e=Ei(cr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Gd,useId:af,unstable_isNewReconciler:!1},Tm={readContext:ot,useCallback:rf,useContext:ot,useEffect:ya,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:lf,useReducer:Ti,useRef:qd,useState:function(){return Ti(cr)},useDebugValue:xa,useDeferredValue:function(e){var t=at();return we===null?t.memoizedState=e:of(t,we.memoizedState,e)},useTransition:function(){var e=Ti(cr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Gd,useId:af,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ze(),l=ln(e),i=Mt(s,l);i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ze(),l=ln(e),i=Mt(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),s=ln(e),l=Mt(n,s);l.tag=2,t!=null&&(l.callback=t),t=sn(e,l,s),t!==null&&(mt(t,e,s,n),Xr(t,e,s))}};function Lc(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!nr(n,s)||!nr(l,i):!0}function ff(e,t,n){var s=!1,l=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(l=Ve(t)?Sn:Le.current,s=t.contextTypes,i=(s=s!=null)?ls(e,l):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function _c(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},da(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ot(i):(i=Ve(t)?Sn:Le.current,l.context=ls(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Vl.enqueueReplaceState(l,l.state,null),wl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",s=t;do n+=np(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Pi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pm=typeof WeakMap=="function"?WeakMap:Map;function hf(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){bl||(bl=!0,Po=s),xo(e,t)},n}function pf(e,t,n){n=Mt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){xo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xo(e,t),typeof s!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Pm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Um.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var Dm=Ft.ReactCurrentOwner,We=!1;function _e(e,t,n,s){t.child=e===null?Wd(t,null,n,s):os(t,e.child,n,s)}function $c(e,t,n,s,l){n=n.render;var i=t.ref;return ts(t,l),s=ga(e,t,n,s,i,l),n=va(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(ue&&n&&ra(t),t.flags|=1,_e(e,t,s,l),t.child)}function Bc(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!Ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mf(e,t,i,s,l)):(e=nl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(o,s)&&e.ref===t.ref)return zt(e,t,l)}return t.flags|=1,e=on(i,s),e.ref=t.ref,e.return=t,t.child=e}function mf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(nr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,l)}return wo(e,t,n,s,l)}function gf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Gn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Gn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,le(Gn,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,le(Gn,Ye),Ye|=s;return _e(e,t,l,n),t.child}function vf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wo(e,t,n,s,l){var i=Ve(n)?Sn:Le.current;return i=ls(t,i),ts(t,l),n=ga(e,t,n,s,i,l),s=va(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(ue&&s&&ra(t),t.flags|=1,_e(e,t,n,l),t.child)}function Wc(e,t,n,s,l){if(Ve(n)){var i=!0;ml(t)}else i=!1;if(ts(t,l),t.stateNode===null)qr(e,t),ff(t,n,s),yo(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?Sn:Le.current,u=ls(t,u));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&_c(t,o,s,u),Gt=!1;var v=t.memoizedState;o.state=v,wl(t,s,o,l),c=t.memoizedState,a!==s||v!==c||Ue.current||Gt?(typeof p=="function"&&(vo(t,n,p,s),c=t.memoizedState),(a=Gt||Lc(t,n,a,s,v,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Vd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,m=t.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?Sn:Le.current,c=ls(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||v!==c)&&_c(t,o,s,c),Gt=!1,v=t.memoizedState,o.state=v,wl(t,s,o,l);var j=t.memoizedState;a!==m||v!==j||Ue.current||Gt?(typeof x=="function"&&(vo(t,n,x,s),j=t.memoizedState),(u=Gt||Lc(t,n,u,s,v,j,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),s=!1)}return jo(e,t,n,s,i,l)}function jo(e,t,n,s,l,i){vf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&Ec(t,n,!1),zt(e,t,i);s=t.stateNode,Dm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=os(t,e.child,null,i),t.child=os(t,null,a,i)):_e(e,t,a,i),t.memoizedState=s.state,l&&Ec(t,n,!0),t.child}function yf(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),fa(e,t.containerInfo)}function Uc(e,t,n,s,l){return is(),ia(l),t.flags|=256,_e(e,t,n,s),t.child}var No={dehydrated:null,treeContext:null,retryLane:0};function So(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,t,n){var s=t.pendingProps,l=fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),le(fe,l&1),e===null)return mo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gl(o,s,0,null),e=Nn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=So(n),t.memoizedState=No,e):wa(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Rm(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=on(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=on(a,i):(i=Nn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?So(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=No,s}return i=e.child,e=i.sibling,s=on(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function wa(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $r(e,t,n,s){return s!==null&&ia(s),os(t,e.child,null,n),e=wa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rm(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Pi(Error(I(422))),$r(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Gl({mode:"visible",children:s.children},l,0,null),i=Nn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&os(t,e.child,null,o),t.child.memoizedState=So(o),t.memoizedState=No,i);if(!(t.mode&1))return $r(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(I(419)),s=Pi(i,s,void 0),$r(e,t,o,s)}if(a=(o&e.childLanes)!==0,We||a){if(s=Ce,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,_t(e,l),mt(s,e,l,-1))}return Ca(),s=Pi(Error(I(421))),$r(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Vm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=nn(l.nextSibling),Je=t,ue=!0,ht=null,e!==null&&(st[rt++]=Rt,st[rt++]=It,st[rt++]=kn,Rt=e.id,It=e.overflow,kn=t),t=wa(t,s.children),t.flags|=4096,t)}function Vc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),go(e.return,t,n)}function Di(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function wf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(_e(e,t,s.children,n),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vc(e,n,t);else if(e.tag===19)Vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(fe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&jl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Di(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&jl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Di(t,!0,n,null,i);break;case"together":Di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Im(e,t,n){switch(t.tag){case 3:yf(t),is();break;case 5:Hd(t);break;case 1:Ve(t.type)&&ml(t);break;case 4:fa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;le(yl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?xf(e,t,n):(le(fe,fe.current&1),e=zt(e,t,n),e!==null?e.sibling:null);le(fe,fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return wf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),le(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,gf(e,t,n)}return zt(e,t,n)}var jf,ko,Nf,Sf;jf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ko=function(){};Nf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,wn(bt.current);var i=null;switch(n){case"input":l=Hi(e,l),s=Hi(e,s),i=[];break;case"select":l=pe({},l,{value:void 0}),s=pe({},s,{value:void 0}),i=[];break;case"textarea":l=Qi(e,l),s=Qi(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hl)}Xi(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ts(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Mm(e,t,n){var s=t.pendingProps;switch(la(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ve(t.type)&&pl(),Me(t),null;case 3:return s=t.stateNode,as(),oe(Ue),oe(Le),pa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Io(ht),ht=null))),ko(e,t),Me(t),null;case 5:ha(t);var l=wn(or.current);if(n=t.type,e!==null&&t.stateNode!=null)Nf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Me(t),null}if(e=wn(bt.current),Ar(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[St]=t,s[lr]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",s),ie("close",s);break;case"iframe":case"object":case"embed":ie("load",s);break;case"video":case"audio":for(l=0;l<Os.length;l++)ie(Os[l],s);break;case"source":ie("error",s);break;case"img":case"image":case"link":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"input":qa(s,i),ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ie("invalid",s);break;case"textarea":tc(s,i),ie("invalid",s)}Xi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",s)}switch(n){case"input":Pr(s),ec(s,i,!0);break;case"textarea":Pr(s),nc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[St]=t,e[lr]=s,jf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ji(n,s),n){case"dialog":ie("cancel",e),ie("close",e),l=s;break;case"iframe":case"object":case"embed":ie("load",e),l=s;break;case"video":case"audio":for(l=0;l<Os.length;l++)ie(Os[l],e);l=s;break;case"source":ie("error",e),l=s;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=s;break;case"details":ie("toggle",e),l=s;break;case"input":qa(e,s),l=Hi(e,s),ie("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=pe({},s,{value:void 0}),ie("invalid",e);break;case"textarea":tc(e,s),l=Qi(e,s),ie("invalid",e);break;default:l=s}Xi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?qu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ju(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xs(e,c):typeof c=="number"&&Xs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Vo(e,i,c,o))}switch(n){case"input":Pr(e),ec(e,s,!1);break;case"textarea":Pr(e),nc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+an(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Jn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Jn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Sf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=wn(or.current),wn(bt.current),Ar(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(i=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:zr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return Me(t),null;case 13:if(oe(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Xe!==null&&t.mode&1&&!(t.flags&128))$d(),is(),t.flags|=98560,i=!1;else if(i=Ar(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[St]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else ht!==null&&(Io(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Ne===0&&(Ne=3):Ca())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return as(),ko(e,t),e===null&&sr(t.stateNode.containerInfo),Me(t),null;case 10:return ca(t.type._context),Me(t),null;case 17:return Ve(t.type)&&pl(),Me(t),null;case 19:if(oe(fe),i=t.memoizedState,i===null)return Me(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ts(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=jl(e),o!==null){for(t.flags|=128,Ts(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>us&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304)}else{if(!s)if(e=jl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Me(t),null}else 2*ye()-i.renderingStartTime>us&&n!==1073741824&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=fe.current,le(fe,s?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return ba(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Om(e,t){switch(la(t),t.tag){case 1:return Ve(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return as(),oe(Ue),oe(Le),pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ha(t),null;case 13:if(oe(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(fe),null;case 4:return as(),null;case 10:return ca(t.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var Br=!1,Oe=!1,Lm=typeof WeakSet=="function"?WeakSet:Set,F=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(e,t,s)}else n.current=null}function bo(e,t,n){try{n()}catch(s){me(e,t,s)}}var Hc=!1;function _m(e,t){if(oo=ul,e=Ed(),sa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,p=0,m=e,v=null;t:for(;;){for(var x;m!==n||l!==0&&m.nodeType!==3||(a=o+l),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)v=m,m=x;for(;;){if(m===e)break t;if(v===n&&++u===l&&(a=o),v===i&&++p===s&&(c=o),(x=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ao={focusedElem:e,selectionRange:n},ul=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,E=j.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),E);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){me(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return j=Hc,Hc=!1,j}function Bs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&bo(t,n,i)}l=l.next}while(l!==s)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Co(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kf(e){var t=e.alternate;t!==null&&(e.alternate=null,kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[lr],delete t[fo],delete t[ym],delete t[xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bf(e){return e.tag===5||e.tag===3||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(s!==4&&(e=e.child,e!==null))for(Eo(e,t,n),e=e.sibling;e!==null;)Eo(e,t,n),e=e.sibling}function To(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}var Te=null,ft=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Cf(e,t,n),n=n.sibling}function Cf(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:Oe||Kn(n,t);case 6:var s=Te,l=ft;Te=null,Ht(e,t,n),Te=s,ft=l,Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?Si(e.parentNode,n):e.nodeType===1&&Si(e,n),er(e)):Si(Te,n.stateNode));break;case 4:s=Te,l=ft,Te=n.stateNode.containerInfo,ft=!0,Ht(e,t,n),Te=s,ft=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bo(n,t,o),l=l.next}while(l!==s)}Ht(e,t,n);break;case 1:if(!Oe&&(Kn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){me(n,t,a)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Oe=(s=Oe)||n.memoizedState!==null,Ht(e,t,n),Oe=s):Ht(e,t,n);break;default:Ht(e,t,n)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lm),t.forEach(function(s){var l=Hm.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,ft=!1;break e;case 3:Te=a.stateNode.containerInfo,ft=!0;break e;case 4:Te=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Te===null)throw Error(I(160));Cf(i,o,l),Te=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){me(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),jt(e),s&4){try{Bs(3,e,e.return),Hl(3,e)}catch(w){me(e,e.return,w)}try{Bs(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:ut(t,e),jt(e),s&512&&n!==null&&Kn(n,n.return);break;case 5:if(ut(t,e),jt(e),s&512&&n!==null&&Kn(n,n.return),e.flags&32){var l=e.stateNode;try{Xs(l,"")}catch(w){me(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Qu(l,i),Ji(a,o);var u=Ji(a,i);for(o=0;o<c.length;o+=2){var p=c[o],m=c[o+1];p==="style"?qu(l,m):p==="dangerouslySetInnerHTML"?Ju(l,m):p==="children"?Xs(l,m):Vo(l,p,m,u)}switch(a){case"input":Ki(l,i);break;case"textarea":Yu(l,i);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Jn(l,!!i.multiple,x,!1):v!==!!i.multiple&&(i.defaultValue!=null?Jn(l,!!i.multiple,i.defaultValue,!0):Jn(l,!!i.multiple,i.multiple?[]:"",!1))}l[lr]=i}catch(w){me(e,e.return,w)}}break;case 6:if(ut(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){me(e,e.return,w)}}break;case 3:if(ut(t,e),jt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{er(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:ut(t,e),jt(e);break;case 13:ut(t,e),jt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Sa=ye())),s&4&&Gc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||p,ut(t,e),Oe=u):ut(t,e),jt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(F=e,p=e.child;p!==null;){for(m=F=p;F!==null;){switch(v=F,x=v.child,v.tag){case 0:case 11:case 14:case 15:Bs(4,v,v.return);break;case 1:Kn(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){s=v,n=v.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){me(s,n,w)}}break;case 5:Kn(v,v.return);break;case 22:if(v.memoizedState!==null){Yc(m);continue}}x!==null?(x.return=v,F=x):Yc(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{l=m.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Zu("display",o))}catch(w){me(e,e.return,w)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){me(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ut(t,e),jt(e),s&4&&Gc(e);break;case 21:break;default:ut(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bf(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Xs(l,""),s.flags&=-33);var i=Kc(e);To(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Kc(e);Eo(e,a,o);break;default:throw Error(I(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zm(e,t,n){F=e,Tf(e)}function Tf(e,t,n){for(var s=(e.mode&1)!==0;F!==null;){var l=F,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Br;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=Br;var u=Oe;if(Br=o,(Oe=c)&&!u)for(F=l;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Xc(l):c!==null?(c.return=o,F=c):Xc(l);for(;i!==null;)F=i,Tf(i),i=i.sibling;F=l,Br=a,Oe=u}Qc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,F=i):Qc(e)}}function Qc(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Hl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Oe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&er(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Oe||t.flags&512&&Co(t)}catch(v){me(t,t.return,v)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Yc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Xc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(c){me(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){me(t,l,c)}}var i=t.return;try{Co(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{Co(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var Am=Math.ceil,kl=Ft.ReactCurrentDispatcher,ja=Ft.ReactCurrentOwner,it=Ft.ReactCurrentBatchConfig,Z=0,Ce=null,xe=null,Pe=0,Ye=0,Gn=fn(0),Ne=0,dr=null,Cn=0,Kl=0,Na=0,Ws=null,Be=null,Sa=0,us=1/0,Pt=null,bl=!1,Po=null,rn=null,Wr=!1,Zt=null,Cl=0,Us=0,Do=null,el=-1,tl=0;function ze(){return Z&6?ye():el!==-1?el:el=ye()}function ln(e){return e.mode&1?Z&2&&Pe!==0?Pe&-Pe:jm.transition!==null?(tl===0&&(tl=dd()),tl):(e=ee,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function mt(e,t,n,s){if(50<Us)throw Us=0,Do=null,Error(I(185));vr(e,n,s),(!(Z&2)||e!==Ce)&&(e===Ce&&(!(Z&2)&&(Kl|=n),Ne===4&&Xt(e,Pe)),He(e,s),n===1&&Z===0&&!(t.mode&1)&&(us=ye()+500,Wl&&hn()))}function He(e,t){var n=e.callbackNode;jp(e,t);var s=cl(e,e===Ce?Pe:0);if(s===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?wm(Jc.bind(null,e)):zd(Jc.bind(null,e)),gm(function(){!(Z&6)&&hn()}),n=null;else{switch(fd(s)){case 1:n=Yo;break;case 4:n=cd;break;case 16:n=al;break;case 536870912:n=ud;break;default:n=al}n=_f(n,Pf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pf(e,t){if(el=-1,tl=0,Z&6)throw Error(I(327));var n=e.callbackNode;if(ns()&&e.callbackNode!==n)return null;var s=cl(e,e===Ce?Pe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=El(e,s);else{t=s;var l=Z;Z|=2;var i=Rf();(Ce!==e||Pe!==t)&&(Pt=null,us=ye()+500,jn(e,t));do try{Bm();break}catch(a){Df(e,a)}while(!0);aa(),kl.current=i,Z=l,xe!==null?t=0:(Ce=null,Pe=0,t=Ne)}if(t!==0){if(t===2&&(l=no(e),l!==0&&(s=l,t=Ro(e,l))),t===1)throw n=dr,jn(e,0),Xt(e,s),He(e,ye()),n;if(t===6)Xt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Fm(l)&&(t=El(e,s),t===2&&(i=no(e),i!==0&&(s=i,t=Ro(e,i))),t===1))throw n=dr,jn(e,0),Xt(e,s),He(e,ye()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:vn(e,Be,Pt);break;case 3:if(Xt(e,s),(s&130023424)===s&&(t=Sa+500-ye(),10<t)){if(cl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=uo(vn.bind(null,e,Be,Pt),t);break}vn(e,Be,Pt);break;case 4:if(Xt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-pt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Am(s/1960))-s,10<s){e.timeoutHandle=uo(vn.bind(null,e,Be,Pt),s);break}vn(e,Be,Pt);break;case 5:vn(e,Be,Pt);break;default:throw Error(I(329))}}}return He(e,ye()),e.callbackNode===n?Pf.bind(null,e):null}function Ro(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=El(e,t),e!==2&&(t=Be,Be=n,t!==null&&Io(t)),e}function Io(e){Be===null?Be=e:Be.push.apply(Be,e)}function Fm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~Na,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function Jc(e){if(Z&6)throw Error(I(327));ns();var t=cl(e,0);if(!(t&1))return He(e,ye()),null;var n=El(e,t);if(e.tag!==0&&n===2){var s=no(e);s!==0&&(t=s,n=Ro(e,s))}if(n===1)throw n=dr,jn(e,0),Xt(e,t),He(e,ye()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Be,Pt),He(e,ye()),null}function ka(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(us=ye()+500,Wl&&hn())}}function En(e){Zt!==null&&Zt.tag===0&&!(Z&6)&&ns();var t=Z;Z|=1;var n=it.transition,s=ee;try{if(it.transition=null,ee=1,e)return e()}finally{ee=s,it.transition=n,Z=t,!(Z&6)&&hn()}}function ba(){Ye=Gn.current,oe(Gn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mm(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(la(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&pl();break;case 3:as(),oe(Ue),oe(Le),pa();break;case 5:ha(s);break;case 4:as();break;case 13:oe(fe);break;case 19:oe(fe);break;case 10:ca(s.type._context);break;case 22:case 23:ba()}n=n.return}if(Ce=e,xe=e=on(e.current,null),Pe=Ye=t,Ne=0,dr=null,Na=Kl=Cn=0,Be=Ws=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}xn=null}return e}function Df(e,t){do{var n=xe;try{if(aa(),Jr.current=Sl,Nl){for(var s=he.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Nl=!1}if(bn=0,ke=we=he=null,$s=!1,ar=0,ja.current=null,n===null||n.return===null){Ne=1,dr=t,xe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Pe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=a,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Ac(o);if(x!==null){x.flags&=-257,Fc(x,o,a,i,t),x.mode&1&&zc(i,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){zc(i,u,t),Ca();break e}c=Error(I(426))}}else if(ue&&a.mode&1){var E=Ac(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Fc(E,o,a,i,t),ia(cs(c,a));break e}}i=c=cs(c,a),Ne!==4&&(Ne=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=hf(i,c,t);Rc(i,g);break e;case 1:a=c;var f=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(rn===null||!rn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=pf(i,a,t);Rc(i,y);break e}}i=i.return}while(i!==null)}Mf(n)}catch(S){t=S,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Rf(){var e=kl.current;return kl.current=Sl,e===null?Sl:e}function Ca(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ce===null||!(Cn&268435455)&&!(Kl&268435455)||Xt(Ce,Pe)}function El(e,t){var n=Z;Z|=2;var s=Rf();(Ce!==e||Pe!==t)&&(Pt=null,jn(e,t));do try{$m();break}catch(l){Df(e,l)}while(!0);if(aa(),Z=n,kl.current=s,xe!==null)throw Error(I(261));return Ce=null,Pe=0,Ne}function $m(){for(;xe!==null;)If(xe)}function Bm(){for(;xe!==null&&!fp();)If(xe)}function If(e){var t=Lf(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Mf(e):xe=t,ja.current=null}function Mf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Om(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,xe=null;return}}else if(n=Mm(n,t,Ye),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ne===0&&(Ne=5)}function vn(e,t,n){var s=ee,l=it.transition;try{it.transition=null,ee=1,Wm(e,t,n,s)}finally{it.transition=l,ee=s}return null}function Wm(e,t,n,s){do ns();while(Zt!==null);if(Z&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Np(e,i),e===Ce&&(xe=Ce=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wr||(Wr=!0,_f(al,function(){return ns(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=ee;ee=1;var a=Z;Z|=4,ja.current=null,_m(e,n),Ef(n,e),am(ao),ul=!!oo,ao=oo=null,e.current=n,zm(n),hp(),Z=a,ee=o,it.transition=i}else e.current=n;if(Wr&&(Wr=!1,Zt=e,Cl=l),i=e.pendingLanes,i===0&&(rn=null),gp(n.stateNode),He(e,ye()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=Po,Po=null,e;return Cl&1&&e.tag!==0&&ns(),i=e.pendingLanes,i&1?e===Do?Us++:(Us=0,Do=e):Us=0,hn(),null}function ns(){if(Zt!==null){var e=fd(Cl),t=it.transition,n=ee;try{if(it.transition=null,ee=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,Cl=0,Z&6)throw Error(I(331));var l=Z;for(Z|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(F=u;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:Bs(8,p,i)}var m=p.child;if(m!==null)m.return=p,F=m;else for(;F!==null;){p=F;var v=p.sibling,x=p.return;if(kf(p),p===u){F=null;break}if(v!==null){v.return=x,F=v;break}F=x}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,F=g;break e}F=i.return}}var f=e.current;for(F=f;F!==null;){o=F;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,F=h;else e:for(o=f;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(S){me(a,a.return,S)}if(a===o){F=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,F=y;break e}F=a.return}}if(Z=l,hn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(zl,e)}catch{}s=!0}return s}finally{ee=n,it.transition=t}}return!1}function Zc(e,t,n){t=cs(n,t),t=hf(e,t,1),e=sn(e,t,1),t=ze(),e!==null&&(vr(e,1,t),He(e,t))}function me(e,t,n){if(e.tag===3)Zc(e,e,n);else for(;t!==null;){if(t.tag===3){Zc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rn===null||!rn.has(s))){e=cs(n,e),e=pf(t,e,1),t=sn(t,e,1),e=ze(),t!==null&&(vr(t,1,e),He(t,e));break}}t=t.return}}function Um(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Pe&n)===n&&(Ne===4||Ne===3&&(Pe&130023424)===Pe&&500>ye()-Sa?jn(e,0):Na|=n),He(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):t=1);var n=ze();e=_t(e,t),e!==null&&(vr(e,t,n),He(e,n))}function Vm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function Hm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Of(e,n)}var Lf;Lf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Im(e,t,n);We=!!(e.flags&131072)}else We=!1,ue&&t.flags&1048576&&Ad(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qr(e,t),e=t.pendingProps;var l=ls(t,Le.current);ts(t,n),l=ga(null,t,s,e,l,n);var i=va();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,ml(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,da(t),l.updater=Vl,t.stateNode=l,l._reactInternals=t,yo(t,s,e,n),t=jo(null,t,s,!0,i,n)):(t.tag=0,ue&&i&&ra(t),_e(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Gm(s),e=dt(s,e),l){case 0:t=wo(null,t,s,e,n);break e;case 1:t=Wc(null,t,s,e,n);break e;case 11:t=$c(null,t,s,e,n);break e;case 14:t=Bc(null,t,s,dt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),wo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Wc(e,t,s,l,n);case 3:e:{if(yf(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Vd(e,t),wl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=cs(Error(I(423)),t),t=Uc(e,t,s,n,l);break e}else if(s!==l){l=cs(Error(I(424)),t),t=Uc(e,t,s,n,l);break e}else for(Xe=nn(t.stateNode.containerInfo.firstChild),Je=t,ue=!0,ht=null,n=Wd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),s===l){t=zt(e,t,n);break e}_e(e,t,s,n)}t=t.child}return t;case 5:return Hd(t),e===null&&mo(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,co(s,l)?o=null:i!==null&&co(s,i)&&(t.flags|=32),vf(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&mo(t),null;case 13:return xf(e,t,n);case 4:return fa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=os(t,null,s,n):_e(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),$c(e,t,s,l,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,le(yl,s._currentValue),s._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===l.children&&!Ue.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),go(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),go(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,ts(t,n),l=ot(l),s=s(l),t.flags|=1,_e(e,t,s,n),t.child;case 14:return s=t.type,l=dt(s,t.pendingProps),l=dt(s.type,l),Bc(e,t,s,l,n);case 15:return mf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),qr(e,t),t.tag=1,Ve(s)?(e=!0,ml(t)):e=!1,ts(t,n),ff(t,s,l),yo(t,s,l,n),jo(null,t,s,!0,e,n);case 19:return wf(e,t,n);case 22:return gf(e,t,n)}throw Error(I(156,t.tag))};function _f(e,t){return ad(e,t)}function Km(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new Km(e,t,n,s)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gm(e){if(typeof e=="function")return Ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ko)return 11;if(e===Go)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")Ea(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zn:return Nn(n.children,l,i,t);case Ho:o=8,l|=8;break;case Bi:return e=lt(12,n,t,l|2),e.elementType=Bi,e.lanes=i,e;case Wi:return e=lt(13,n,t,l),e.elementType=Wi,e.lanes=i,e;case Ui:return e=lt(19,n,t,l),e.elementType=Ui,e.lanes=i,e;case Hu:return Gl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uu:o=10;break e;case Vu:o=9;break e;case Ko:o=11;break e;case Go:o=14;break e;case Kt:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=lt(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function Nn(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function Gl(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Hu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ri(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ii(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qm(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ta(e,t,n,s,l,i,o,a,c){return e=new Qm(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(i),e}function Ym(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function zf(e){if(!e)return cn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ve(n))return _d(e,n,t)}return t}function Af(e,t,n,s,l,i,o,a,c){return e=Ta(n,s,!0,e,l,i,o,a,c),e.context=zf(null),n=e.current,s=ze(),l=ln(n),i=Mt(s,l),i.callback=t??null,sn(n,i,l),e.current.lanes=l,vr(e,l,s),He(e,s),e}function Ql(e,t,n,s){var l=t.current,i=ze(),o=ln(l);return n=zf(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=sn(l,t,o),e!==null&&(mt(e,l,o,i),Xr(e,l,o)),o}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pa(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}function Xm(){return null}var Ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function Da(e){this._internalRoot=e}Yl.prototype.render=Da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ql(e,t,null,null)};Yl.prototype.unmount=Da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){Ql(null,e,null,null)}),t[Lt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=md();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&vd(e)}};function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function Jm(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=Tl(o);i.call(u)}}var o=Af(t,s,e,0,null,!1,!1,"",eu);return e._reactRootContainer=o,e[Lt]=o.current,sr(e.nodeType===8?e.parentNode:e),En(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var u=Tl(c);a.call(u)}}var c=Ta(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=c,e[Lt]=c.current,sr(e.nodeType===8?e.parentNode:e),En(function(){Ql(t,c,n,s)}),c}function Jl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Tl(o);a.call(c)}}Ql(t,o,e,l)}else o=Jm(n,t,e,l,s);return Tl(o)}hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(Xo(t,n|1),He(t,ye()),!(Z&6)&&(us=ye()+500,hn()))}break;case 13:En(function(){var s=_t(e,1);if(s!==null){var l=ze();mt(s,e,1,l)}}),Pa(e,1)}};Jo=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=ze();mt(t,e,134217728,n)}Pa(e,134217728)}};pd=function(e){if(e.tag===13){var t=ln(e),n=_t(e,t);if(n!==null){var s=ze();mt(n,e,t,s)}Pa(e,t)}};md=function(){return ee};gd=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};qi=function(e,t,n){switch(t){case"input":if(Ki(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Bl(s);if(!l)throw Error(I(90));Gu(s),Ki(s,l)}}}break;case"textarea":Yu(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};nd=ka;sd=En;var Zm={usingClientEntryPoint:!1,Events:[xr,Bn,Bl,ed,td,ka]},Ps={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qm={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=id(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||Xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{zl=Ur.inject(qm),kt=Ur}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ra(t))throw Error(I(200));return Ym(e,t,null,n)};qe.createRoot=function(e,t){if(!Ra(e))throw Error(I(299));var n=!1,s="",l=Ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ta(e,1,!1,null,null,n,!1,s,l),e[Lt]=t.current,sr(e.nodeType===8?e.parentNode:e),new Da(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=id(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return En(e)};qe.hydrate=function(e,t,n){if(!Xl(t))throw Error(I(200));return Jl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ra(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Ff;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Af(t,null,e,1,n??null,l,!1,i,o),e[Lt]=t.current,sr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Yl(t)};qe.render=function(e,t,n){if(!Xl(t))throw Error(I(200));return Jl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(I(40));return e._reactRootContainer?(En(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};qe.unstable_batchedUpdates=ka;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Xl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Jl(e,t,n,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function $f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($f)}catch(e){console.error(e)}}$f(),Fu.exports=qe;var Qn=Fu.exports,tu=Qn;Fi.createRoot=tu.createRoot,Fi.hydrateRoot=tu.hydrateRoot;const Zl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ps(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ia(e){return"nodeType"in e}function $e(e){var t,n;return e?ps(e)?e:Ia(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ma(e){const{Document:t}=$e(e);return e instanceof t}function jr(e){return ps(e)?!1:e instanceof $e(e).HTMLElement}function Bf(e){return e instanceof $e(e).SVGElement}function ms(e){return e?ps(e)?e.document:Ia(e)?Ma(e)?e:jr(e)||Bf(e)?e.ownerDocument:document:document:document}const At=Zl?d.useLayoutEffect:d.useEffect;function ql(e){const t=d.useRef(e);return At(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function eg(){const e=d.useRef(null),t=d.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fr(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return At(()=>{n.current!==e&&(n.current=e)},t),n}function Nr(e,t){const n=d.useRef();return d.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Pl(e){const t=ql(e),n=d.useRef(null),s=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Dl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Mi={};function ei(e,t){return d.useMemo(()=>{if(t)return t;const n=Mi[e]==null?0:Mi[e]+1;return Mi[e]=n,e+"-"+n},[e,t])}function Wf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const p=i[c];p!=null&&(i[c]=p+e*u)}return i},{...t})}}const ss=Wf(1),Rl=Wf(-1);function tg(e){return"clientX"in e&&"clientY"in e}function Oa(e){if(!e)return!1;const{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function ng(e){if(!e)return!1;const{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function Il(e){if(ng(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return tg(e)?{x:e.clientX,y:e.clientY}:null}const hr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hr.Translate.toString(e),hr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),nu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sg(e){return e.matches(nu)?e:e.querySelector(nu)}const rg={display:"none"};function lg(e){let{id:t,value:n}=e;return ge.createElement("div",{id:t,style:rg},n)}function ig(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ge.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function og(){const[e,t]=d.useState("");return{announce:d.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Uf=d.createContext(null);function ag(e){const t=d.useContext(Uf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function cg(){const[e]=d.useState(()=>new Set),t=d.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[d.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const ug={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},dg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function fg(e){let{announcements:t=dg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=ug}=e;const{announce:i,announcement:o}=og(),a=ei("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),ag(d.useMemo(()=>({onDragStart(m){let{active:v}=m;i(t.onDragStart({active:v}))},onDragMove(m){let{active:v,over:x}=m;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(m){let{active:v,over:x}=m;i(t.onDragOver({active:v,over:x}))},onDragEnd(m){let{active:v,over:x}=m;i(t.onDragEnd({active:v,over:x}))},onDragCancel(m){let{active:v,over:x}=m;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!c)return null;const p=ge.createElement(ge.Fragment,null,ge.createElement(lg,{id:s,value:l.draggable}),ge.createElement(ig,{id:a,announcement:o}));return n?Qn.createPortal(p,n):p}var je;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(je||(je={}));function Ml(){}function hg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const vt=Object.freeze({x:0,y:0});function mg(e,t){const n=Il(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function gg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function vg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function yg(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,p=o*a,m=p/(c+u-p);return Number(m.toFixed(4))}return 0}const xg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=yg(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(gg)};function wg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Vf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function jg(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Ng=jg(1);function Hf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Sg(e,t,n){const s=Hf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,m=i?e.height/i:e.height;return{width:p,height:m,top:u,right:c+p,bottom:u+m,left:c}}const kg={ignoreTransform:!1};function Sr(e,t){t===void 0&&(t=kg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:p}=$e(e).getComputedStyle(e);u&&(n=Sg(n,u,p))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function su(e){return Sr(e,{ignoreTransform:!0})}function bg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Cg(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position==="fixed"}function Eg(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function La(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Ma(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!jr(l)||Bf(l)||n.includes(l))return n;const i=$e(e).getComputedStyle(l);return l!==e&&Eg(l,i)&&n.push(l),Cg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Kf(e){const[t]=La(e,1);return t??null}function Oi(e){return!Zl||!e?null:ps(e)?e:Ia(e)?Ma(e)||e===ms(e).scrollingElement?window:jr(e)?e:null:null}function Gf(e){return ps(e)?e.scrollX:e.scrollLeft}function Qf(e){return ps(e)?e.scrollY:e.scrollTop}function Mo(e){return{x:Gf(e),y:Qf(e)}}var be;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(be||(be={}));function Yf(e){return!Zl||!e?!1:e===document.scrollingElement}function Xf(e){const t={x:0,y:0},n=Yf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Tg={x:.2,y:.2};function Pg(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Tg);const{isTop:u,isBottom:p,isLeft:m,isRight:v}=Xf(e),x={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(x.y=be.Backward,j.y=s*Math.abs((t.top+w.height-i)/w.height)):!p&&c>=t.bottom-w.height&&(x.y=be.Forward,j.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!v&&a>=t.right-w.width?(x.x=be.Forward,j.x=s*Math.abs((t.right-w.width-a)/w.width)):!m&&o<=t.left+w.width&&(x.x=be.Backward,j.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:j}}function Dg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Jf(e){return e.reduce((t,n)=>ss(t,Mo(n)),vt)}function Rg(e){return e.reduce((t,n)=>t+Gf(n),0)}function Ig(e){return e.reduce((t,n)=>t+Qf(n),0)}function Zf(e,t){if(t===void 0&&(t=Sr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Kf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mg=[["x",["left","right"],Rg],["y",["top","bottom"],Ig]];class _a{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=La(n),l=Jf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Mg)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(s),p=l[i]-u;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Og(e){const{EventTarget:t}=$e(e);return e instanceof t?e:ms(e)}function Li(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function ru(e){e.preventDefault()}function Lg(e){e.stopPropagation()}var ne;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ne||(ne={}));const qf={start:[ne.Space,ne.Enter],cancel:[ne.Esc],end:[ne.Space,ne.Enter,ne.Tab]},_g=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ne.Right:return{...n,x:n.x+25};case ne.Left:return{...n,x:n.x-25};case ne.Down:return{...n,y:n.y+25};case ne.Up:return{...n,y:n.y-25}}};class eh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vs(ms(n)),this.windowListeners=new Vs($e(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&Zf(s),n(vt)}handleKeyDown(t){if(Oa(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=qf,coordinateGetter:o=_g,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,p=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=p);const m=o(t,{active:n,context:s.current,currentCoordinates:p});if(m){const v=Rl(m,p),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const E=t.code,{isTop:g,isRight:f,isLeft:h,isBottom:y,maxScroll:S,minScroll:k}=Xf(w),N=Dg(w),b={x:Math.min(E===ne.Right?N.right-N.width/2:N.right,Math.max(E===ne.Right?N.left:N.left+N.width/2,m.x)),y:Math.min(E===ne.Down?N.bottom-N.height/2:N.bottom,Math.max(E===ne.Down?N.top:N.top+N.height/2,m.y))},C=E===ne.Right&&!f||E===ne.Left&&!h,T=E===ne.Down&&!y||E===ne.Up&&!g;if(C&&b.x!==m.x){const O=w.scrollLeft+v.x,K=E===ne.Right&&O<=S.x||E===ne.Left&&O>=k.x;if(K&&!v.y){w.scrollTo({left:O,behavior:a});return}K?x.x=w.scrollLeft-O:x.x=E===ne.Right?w.scrollLeft-S.x:w.scrollLeft-k.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(T&&b.y!==m.y){const O=w.scrollTop+v.y,K=E===ne.Down&&O<=S.y||E===ne.Up&&O>=k.y;if(K&&!v.x){w.scrollTo({top:O,behavior:a});return}K?x.y=w.scrollTop-O:x.y=E===ne.Down?w.scrollTop-S.y:w.scrollTop-k.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,ss(Rl(m,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}eh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=qf,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function lu(e){return!!(e&&"distance"in e)}function iu(e){return!!(e&&"delay"in e)}class za{constructor(t,n,s){var l;s===void 0&&(s=Og(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=ms(o),this.documentListeners=new Vs(this.document),this.listeners=new Vs(s),this.windowListeners=new Vs($e(o)),this.initialCoordinates=(l=Il(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,ru),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,ru),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(lu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,Lg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Il(t))!=null?n:vt,u=Rl(l,c);if(!s&&a){if(lu(a)){if(a.tolerance!=null&&Li(u,a.tolerance))return this.handleCancel();if(Li(u,a.distance))return this.handleStart()}if(iu(a)&&Li(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ne.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const zg={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Aa extends za{constructor(t){const{event:n}=t,s=ms(n.target);super(t,zg,s)}}Aa.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Ag={move:{name:"mousemove"},end:{name:"mouseup"}};var Oo;(function(e){e[e.RightClick=2]="RightClick"})(Oo||(Oo={}));class Fg extends za{constructor(t){super(t,Ag,ms(t.event.target))}}Fg.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Oo.RightClick?!1:(s==null||s({event:n}),!0)}}];const _i={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $g extends za{constructor(t){super(t,_i)}static setup(){return window.addEventListener(_i.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(_i.move.name,t)};function t(){}}}$g.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Hs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hs||(Hs={}));var Ol;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ol||(Ol={}));function Bg(e){let{acceleration:t,activator:n=Hs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Ol.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:p,delta:m,threshold:v}=e;const x=Ug({delta:m,disabled:!i}),[j,w]=eg(),E=d.useRef({x:0,y:0}),g=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Hs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hs.DraggableRect:return l}},[n,l,c]),h=d.useRef(null),y=d.useCallback(()=>{const k=h.current;if(!k)return;const N=E.current.x*g.current.x,b=E.current.y*g.current.y;k.scrollBy(N,b)},[]),S=d.useMemo(()=>a===Ol.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!i||!u.length||!f){w();return}for(const k of S){if((s==null?void 0:s(k))===!1)continue;const N=u.indexOf(k),b=p[N];if(!b)continue;const{direction:C,speed:T}=Pg(k,b,f,t,v);for(const O of["x","y"])x[O][C[O]]||(T[O]=0,C[O]=0);if(T.x>0||T.y>0){w(),h.current=k,j(y,o),E.current=T,g.current=C;return}}E.current={x:0,y:0},g.current={x:0,y:0},w()},[t,y,s,w,i,o,JSON.stringify(f),JSON.stringify(x),j,u,S,p,JSON.stringify(v)])}const Wg={x:{[be.Backward]:!1,[be.Forward]:!1},y:{[be.Backward]:!1,[be.Forward]:!1}};function Ug(e){let{delta:t,disabled:n}=e;const s=Dl(t);return Nr(l=>{if(n||!s||!l)return Wg;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[be.Backward]:l.x[be.Backward]||i.x===-1,[be.Forward]:l.x[be.Forward]||i.x===1},y:{[be.Backward]:l.y[be.Backward]||i.y===-1,[be.Forward]:l.y[be.Forward]||i.y===1}}},[n,t,s])}function Vg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Nr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Hg(e,t){return d.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var pr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(pr||(pr={}));var Lo;(function(e){e.Optimized="optimized"})(Lo||(Lo={}));const ou=new Map;function Kg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=d.useState(null),{frequency:a,measure:c,strategy:u}=l,p=d.useRef(e),m=E(),v=fr(m),x=d.useCallback(function(g){g===void 0&&(g=[]),!v.current&&o(f=>f===null?g:f.concat(g.filter(h=>!f.includes(h))))},[v]),j=d.useRef(null),w=Nr(g=>{if(m&&!n)return ou;if(!g||g===ou||p.current!==e||i!=null){const f=new Map;for(let h of e){if(!h)continue;if(i&&i.length>0&&!i.includes(h.id)&&h.rect.current){f.set(h.id,h.rect.current);continue}const y=h.node.current,S=y?new _a(c(y),y):null;h.rect.current=S,S&&f.set(h.id,S)}return f}return g},[e,i,n,m,c]);return d.useEffect(()=>{p.current=e},[e]),d.useEffect(()=>{m||x()},[n,m]),d.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),d.useEffect(()=>{m||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},a))},[a,m,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function E(){switch(u){case pr.Always:return!1;case pr.BeforeDragging:return n;default:return!n}}}function Fa(e,t){return Nr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Gg(e,t){return Fa(e,t)}function Qg(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ti(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Yg(e){return new _a(Sr(e),e)}function au(e,t,n){t===void 0&&(t=Yg);const[s,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const o=Qg({callback(c){if(e)for(const u of c){const{type:p,target:m}=u;if(p==="childList"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),a=ti({callback:i});return At(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function Xg(e){const t=Fa(e);return Vf(e,t)}const cu=[];function Jg(e){const t=d.useRef(e),n=Nr(s=>e?s&&s!==cu&&e&&t.current&&e.parentNode===t.current.parentNode?s:La(e):cu,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function Zg(e){const[t,n]=d.useState(null),s=d.useRef(e),l=d.useCallback(i=>{const o=Oi(i.target);o&&n(a=>a?(a.set(o,Mo(o)),new Map(a)):null)},[]);return d.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const u=Oi(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Mo(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Oi(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ss(i,o),vt):Jf(e):vt,[e,t])}function uu(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const s=e!==vt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Rl(e,n.current):vt}function qg(e){d.useEffect(()=>{if(!Zl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ev(e,t){return d.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function th(e){return d.useMemo(()=>e?bg(e):null,[e])}const du=[];function tv(e,t){t===void 0&&(t=Sr);const[n]=e,s=th(n?$e(n):null),[l,i]=d.useState(du);function o(){i(()=>e.length?e.map(c=>Yf(c)?s:new _a(t(c),c)):du)}const a=ti({callback:o});return At(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function nh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return jr(t)?t:e}function nv(e){let{measure:t}=e;const[n,s]=d.useState(null),l=d.useCallback(u=>{for(const{target:p}of u)if(jr(p)){s(m=>{const v=t(p);return m?{...m,width:v.width,height:v.height}:v});break}},[t]),i=ti({callback:l}),o=d.useCallback(u=>{const p=nh(u);i==null||i.disconnect(),p&&(i==null||i.observe(p)),s(p?t(p):null)},[t,i]),[a,c]=Pl(o);return d.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const sv=[{sensor:Aa,options:{}},{sensor:eh,options:{}}],rv={current:{}},sl={draggable:{measure:su},droppable:{measure:su,strategy:pr.WhileDragging,frequency:Lo.Optimized},dragOverlay:{measure:Sr}};class Ks extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const lv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ks,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ml},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sl,measureDroppableContainers:Ml,windowRect:null,measuringScheduled:!1},sh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ml,draggableNodes:new Map,over:null,measureDroppableContainers:Ml},kr=d.createContext(sh),rh=d.createContext(lv);function iv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ks}}}function ov(e,t){switch(t.type){case je.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case je.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case je.DragEnd:case je.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case je.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Ks(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case je.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Ks(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case je.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Ks(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function av(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=d.useContext(kr),i=Dl(s),o=Dl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!Oa(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const p of[c.current,u.current]){if(!p)continue;const m=sg(p);if(m){m.focus();break}}})}},[s,t,l,o,i]),null}function lh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function cv(e){return d.useMemo(()=>({draggable:{...sl.draggable,...e==null?void 0:e.draggable},droppable:{...sl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...sl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function uv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=d.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;At(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const p=n(u),m=Vf(p,s);if(o||(m.x=0),a||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const v=Kf(u);v&&v.scrollBy({top:m.y,left:m.x})}},[t,o,a,s,n])}const ni=d.createContext({...vt,scaleX:1,scaleY:1});var Qt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Qt||(Qt={}));const dv=d.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:p=sv,collisionDetection:m=xg,measuring:v,modifiers:x,...j}=t;const w=d.useReducer(ov,void 0,iv),[E,g]=w,[f,h]=cg(),[y,S]=d.useState(Qt.Uninitialized),k=y===Qt.Initialized,{draggable:{active:N,nodes:b,translate:C},droppable:{containers:T}}=E,O=N!=null?b.get(N):null,K=d.useRef({initial:null,translated:null}),R=d.useMemo(()=>{var Re;return N!=null?{id:N,data:(Re=O==null?void 0:O.data)!=null?Re:rv,rect:K}:null},[N,O]),U=d.useRef(null),[G,re]=d.useState(null),[q,L]=d.useState(null),W=fr(j,Object.values(j)),A=ei("DndDescribedBy",o),Q=d.useMemo(()=>T.getEnabled(),[T]),M=cv(v),{droppableRects:Y,measureDroppableContainers:J,measuringScheduled:ae}=Kg(Q,{dragging:k,dependencies:[C.x,C.y],config:M.droppable}),P=Vg(b,N),$=d.useMemo(()=>q?Il(q):null,[q]),D=bh(),_=Gg(P,M.draggable.measure);uv({activeNode:N!=null?b.get(N):null,config:D.layoutShiftCompensation,initialRect:_,measure:M.draggable.measure});const z=au(P,M.draggable.measure,_),V=au(P?P.parentElement:null),H=d.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=T.getNodeFor((n=H.current.over)==null?void 0:n.id),B=nv({measure:M.dragOverlay.measure}),te=(s=B.nodeRef.current)!=null?s:P,Se=k?(l=B.rect)!=null?l:z:null,de=!!(B.nodeRef.current&&B.rect),yt=Xg(de?null:z),Ct=th(te?$e(te):null),ve=Jg(k?ce??P:null),Et=tv(ve),$t=lh(x,{transform:{x:C.x-yt.x,y:C.y-yt.y,scaleX:1,scaleY:1},activatorEvent:q,active:R,activeNodeRect:z,containerNodeRect:V,draggingNodeRect:Se,over:H.current.over,overlayNodeRect:B.rect,scrollableAncestors:ve,scrollableAncestorRects:Et,windowRect:Ct}),vs=$?ss($,C):null,Cr=Zg(ve),yh=uu(Cr),xh=uu(Cr,[z]),Dn=ss($t,yh),Rn=Se?Ng(Se,$t):null,ys=R&&Rn?m({active:R,collisionRect:Rn,droppableRects:Y,droppableContainers:Q,pointerCoordinates:vs}):null,Wa=vg(ys,"id"),[Bt,Ua]=d.useState(null),wh=de?$t:ss($t,xh),jh=wg(wh,(i=Bt==null?void 0:Bt.rect)!=null?i:null,z),li=d.useRef(null),Va=d.useCallback((Re,Ke)=>{let{sensor:Ge,options:Wt}=Ke;if(U.current==null)return;const tt=b.get(U.current);if(!tt)return;const Qe=Re.nativeEvent,xt=new Ge({active:U.current,activeNode:tt,event:Qe,options:Wt,context:H,onAbort(Ee){if(!b.get(Ee))return;const{onDragAbort:wt}=W.current,Tt={id:Ee};wt==null||wt(Tt),f({type:"onDragAbort",event:Tt})},onPending(Ee,Ut,wt,Tt){if(!b.get(Ee))return;const{onDragPending:ws}=W.current,Vt={id:Ee,constraint:Ut,initialCoordinates:wt,offset:Tt};ws==null||ws(Vt),f({type:"onDragPending",event:Vt})},onStart(Ee){const Ut=U.current;if(Ut==null)return;const wt=b.get(Ut);if(!wt)return;const{onDragStart:Tt}=W.current,xs={activatorEvent:Qe,active:{id:Ut,data:wt.data,rect:K}};Qn.unstable_batchedUpdates(()=>{Tt==null||Tt(xs),S(Qt.Initializing),g({type:je.DragStart,initialCoordinates:Ee,active:Ut}),f({type:"onDragStart",event:xs}),re(li.current),L(Qe)})},onMove(Ee){g({type:je.DragMove,coordinates:Ee})},onEnd:In(je.DragEnd),onCancel:In(je.DragCancel)});li.current=xt;function In(Ee){return async function(){const{active:wt,collisions:Tt,over:xs,scrollAdjustedTranslate:ws}=H.current;let Vt=null;if(wt&&ws){const{cancelDrop:js}=W.current;Vt={activatorEvent:Qe,active:wt,collisions:Tt,delta:ws,over:xs},Ee===je.DragEnd&&typeof js=="function"&&await Promise.resolve(js(Vt))&&(Ee=je.DragCancel)}U.current=null,Qn.unstable_batchedUpdates(()=>{g({type:Ee}),S(Qt.Uninitialized),Ua(null),re(null),L(null),li.current=null;const js=Ee===je.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const ii=W.current[js];ii==null||ii(Vt),f({type:js,event:Vt})}})}}},[b]),Nh=d.useCallback((Re,Ke)=>(Ge,Wt)=>{const tt=Ge.nativeEvent,Qe=b.get(Wt);if(U.current!==null||!Qe||tt.dndKit||tt.defaultPrevented)return;const xt={active:Qe};Re(Ge,Ke.options,xt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},U.current=Wt,Va(Ge,Ke))},[b,Va]),Ha=Hg(p,Nh);qg(p),At(()=>{z&&y===Qt.Initializing&&S(Qt.Initialized)},[z,y]),d.useEffect(()=>{const{onDragMove:Re}=W.current,{active:Ke,activatorEvent:Ge,collisions:Wt,over:tt}=H.current;if(!Ke||!Ge)return;const Qe={active:Ke,activatorEvent:Ge,collisions:Wt,delta:{x:Dn.x,y:Dn.y},over:tt};Qn.unstable_batchedUpdates(()=>{Re==null||Re(Qe),f({type:"onDragMove",event:Qe})})},[Dn.x,Dn.y]),d.useEffect(()=>{const{active:Re,activatorEvent:Ke,collisions:Ge,droppableContainers:Wt,scrollAdjustedTranslate:tt}=H.current;if(!Re||U.current==null||!Ke||!tt)return;const{onDragOver:Qe}=W.current,xt=Wt.get(Wa),In=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,Ee={active:Re,activatorEvent:Ke,collisions:Ge,delta:{x:tt.x,y:tt.y},over:In};Qn.unstable_batchedUpdates(()=>{Ua(In),Qe==null||Qe(Ee),f({type:"onDragOver",event:Ee})})},[Wa]),At(()=>{H.current={activatorEvent:q,active:R,activeNode:P,collisionRect:Rn,collisions:ys,droppableRects:Y,draggableNodes:b,draggingNode:te,draggingNodeRect:Se,droppableContainers:T,over:Bt,scrollableAncestors:ve,scrollAdjustedTranslate:Dn},K.current={initial:Se,translated:Rn}},[R,P,ys,Rn,b,te,Se,Y,T,Bt,ve,Dn]),Bg({...D,delta:C,draggingRect:Rn,pointerCoordinates:vs,scrollableAncestors:ve,scrollableAncestorRects:Et});const Sh=d.useMemo(()=>({active:R,activeNode:P,activeNodeRect:z,activatorEvent:q,collisions:ys,containerNodeRect:V,dragOverlay:B,draggableNodes:b,droppableContainers:T,droppableRects:Y,over:Bt,measureDroppableContainers:J,scrollableAncestors:ve,scrollableAncestorRects:Et,measuringConfiguration:M,measuringScheduled:ae,windowRect:Ct}),[R,P,z,q,ys,V,B,b,T,Y,Bt,J,ve,Et,M,ae,Ct]),kh=d.useMemo(()=>({activatorEvent:q,activators:Ha,active:R,activeNodeRect:z,ariaDescribedById:{draggable:A},dispatch:g,draggableNodes:b,over:Bt,measureDroppableContainers:J}),[q,Ha,R,z,g,A,b,Bt,J]);return ge.createElement(Uf.Provider,{value:h},ge.createElement(kr.Provider,{value:kh},ge.createElement(rh.Provider,{value:Sh},ge.createElement(ni.Provider,{value:jh},u)),ge.createElement(av,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ge.createElement(fg,{...a,hiddenTextDescribedById:A}));function bh(){const Re=(G==null?void 0:G.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Ge=k&&!Re&&!Ke;return typeof c=="object"?{...c,enabled:Ge}:{enabled:Ge}}}),fv=d.createContext(null),fu="button",hv="Draggable";function ih(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ei(hv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:p,draggableNodes:m,over:v}=d.useContext(kr),{role:x=fu,roleDescription:j="draggable",tabIndex:w=0}=l??{},E=(c==null?void 0:c.id)===t,g=d.useContext(E?ni:fv),[f,h]=Pl(),[y,S]=Pl(),k=ev(o,t),N=fr(n);At(()=>(m.set(t,{id:t,key:i,node:f,activatorNode:y,data:N}),()=>{const C=m.get(t);C&&C.key===i&&m.delete(t)}),[m,t]);const b=d.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":E&&x===fu?!0:void 0,"aria-roledescription":j,"aria-describedby":p.draggable}),[s,x,w,E,j,p.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:E,listeners:s?void 0:k,node:f,over:v,setNodeRef:h,setActivatorNodeRef:S,transform:g}}function pv(){return d.useContext(rh)}const mv="Droppable",gv={timeout:25};function vv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ei(mv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(kr),p=d.useRef({disabled:n}),m=d.useRef(!1),v=d.useRef(null),x=d.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:E}={...gv,...l},g=fr(w??s),f=d.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),x.current=null},E)},[E]),h=ti({callback:f,disabled:j||!o}),y=d.useCallback((b,C)=>{h&&(C&&(h.unobserve(C),m.current=!1),b&&h.observe(b))},[h]),[S,k]=Pl(y),N=fr(t);return d.useEffect(()=>{!h||!S.current||(h.disconnect(),m.current=!1,h.observe(S.current))},[S,h]),d.useEffect(()=>(a({type:je.RegisterDroppable,element:{id:s,key:i,disabled:n,node:S,rect:v,data:N}}),()=>a({type:je.UnregisterDroppable,key:i,id:s})),[s]),d.useEffect(()=>{n!==p.current.disabled&&(a({type:je.SetDroppableDisabled,id:s,key:i,disabled:n}),p.current.disabled=n)},[s,i,n,a]),{active:o,rect:v,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:k}}function yv(e){let{animation:t,children:n}=e;const[s,l]=d.useState(null),[i,o]=d.useState(null),a=Dl(n);return!n&&!s&&a&&l(a),At(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),ge.createElement(ge.Fragment,null,n,s?d.cloneElement(s,{ref:o}):null)}const xv={x:0,y:0,scaleX:1,scaleY:1};function wv(e){let{children:t}=e;return ge.createElement(kr.Provider,{value:sh},ge.createElement(ni.Provider,{value:xv},t))}const jv={position:"fixed",touchAction:"none"},Nv=e=>Oa(e)?"transform 250ms ease":void 0,Sv=d.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:p=Nv}=e;if(!a)return null;const m=l?u:{...u,scaleX:1,scaleY:1},v={...jv,width:a.width,height:a.height,top:a.top,left:a.left,transform:hr.Transform.toString(m),transformOrigin:l&&s?mg(s,a):void 0,transition:typeof p=="function"?p(s):p,...c};return ge.createElement(n,{className:o,style:v,ref:t},i)}),kv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},bv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:hr.Transform.toString(t)},{transform:hr.Transform.toString(n)}]},Cv={duration:250,easing:"ease",keyframes:bv,sideEffects:kv({styles:{active:{opacity:"0"}}})};function Ev(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return ql((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=nh(o);if(!u)return;const{transform:p}=$e(o).getComputedStyle(o),m=Hf(p);if(!m)return;const v=typeof t=="function"?t:Tv(t);return Zf(c,l.draggable.measure),v({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:m})})}function Tv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Cv,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const p={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},m={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},v={x:c.x-p.x,y:c.y-p.y,...m},x=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:v}}),[j]=x,w=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const E=s==null?void 0:s({active:o,dragOverlay:a,...u}),g=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{g.onfinish=()=>{E==null||E(),f()}})}}let hu=0;function Pv(e){return d.useMemo(()=>{if(e!=null)return hu++,hu},[e])}const Dv=ge.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:p,active:m,activeNodeRect:v,containerNodeRect:x,draggableNodes:j,droppableContainers:w,dragOverlay:E,over:g,measuringConfiguration:f,scrollableAncestors:h,scrollableAncestorRects:y,windowRect:S}=pv(),k=d.useContext(ni),N=Pv(m==null?void 0:m.id),b=lh(o,{activatorEvent:p,active:m,activeNodeRect:v,containerNodeRect:x,draggingNodeRect:E.rect,over:g,overlayNodeRect:E.rect,scrollableAncestors:h,scrollableAncestorRects:y,transform:k,windowRect:S}),C=Fa(v),T=Ev({config:s,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),O=C?E.setRef:void 0;return ge.createElement(wv,null,ge.createElement(yv,{animation:T},m&&N?ge.createElement(Sv,{key:N,id:m.id,ref:O,as:a,activatorEvent:p,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...l},transform:b},n):null))}),oh={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Rv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},rl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:oh},pu=10,Yn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ll={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Iv(e){if(Ll[e])return Ll[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function mu(e){return Ll[e]?Ll[e].priority:e.startsWith("gt-")?3:99}const ah=d.createContext(null),gu=5;function Mv({children:e}){const[t,n]=d.useState([]),[s,l]=d.useState(1),i=d.useCallback((c,u)=>{const p=s;l(v=>v+1);const m={id:p,message:c,type:u,createdAt:Date.now()};n(v=>{const x=[m,...v];return x.length>gu?x.slice(0,gu):x})},[s]),o=d.useCallback(c=>{n(u=>u.filter(p=>p.id!==c))},[]),a=d.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(ah.Provider,{value:a,children:e})}function br(){const e=d.useContext(ah);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function vu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const ch="chrote-dashboard-state",uh="chrote-dashboard-presets",On=["terminal1","terminal2"];function Ov(){try{const e=localStorage.getItem(uh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Lv(e){try{localStorage.setItem(uh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function _v(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function yu(e){return JSON.parse(JSON.stringify(e))}function zv(){try{const e=localStorage.getItem(ch);if(e){const t=JSON.parse(e);return $v(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Av(e){try{localStorage.setItem(ch,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function mr(e){return Math.max(1,Math.min(4,e))}function Fv(e,t){const n=mr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Gs(e,t){return{windows:Fv(e,t),windowCount:mr(t)}}function Ds(e){return typeof e=="object"&&e!==null}function $v(e){if(Ds(e)){if(Ds(e.workspaces)&&Ds(e.workspaces.terminal1)&&Ds(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=(l,i)=>{const o=Ds(i)?i:{},a=mr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(p,m)=>{const v=c[m];return{id:`${l}-window-${m}`,boundSessions:(v==null?void 0:v.boundSessions)??[],activeSession:(v==null?void 0:v.activeSession)??null,colorIndex:typeof(v==null?void 0:v.colorIndex)=="number"?v.colorIndex:m}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=mr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Gs("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)},sidebarCollapsed:!1,settings:rl}}const dh=d.createContext(null);function Bv({children:e}){const t=d.useMemo(()=>zv(),[]),{addToast:n}=br(),[s,l]=d.useState([]),[i,o]=d.useState({}),[a,c]=d.useState(!0),[u,p]=d.useState(null),[m,v]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)}),[x,j]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,E]=d.useState(null),[g,f]=d.useState(!1),[h,y]=d.useState((t==null?void 0:t.settings)??rl),[S,k]=d.useState(null),[N,b]=d.useState(()=>Ov()),C=d.useMemo(()=>{const D=new Map;return On.forEach(_=>{m[_].windows.forEach((V,H)=>{V.boundSessions.forEach(ce=>{D.set(ce,{workspaceId:_,windowId:V.id,colorIndex:V.colorIndex,windowIndex:H+1})})})}),D},[m]);d.useEffect(()=>{v(D=>{let _=!1;const z={...D};return On.forEach(V=>{const H=D[V];H.windows.some(B=>B.activeSession==="INIT-PENDING")&&(_=!0,z[V]={...H,windows:H.windows.map(B=>B.activeSession==="INIT-PENDING"?{...B,activeSession:null}:B)})}),_?z:D})},[]),d.useEffect(()=>{const D={...m};On.forEach(_=>{const z=m[_];D[_]={...z,windows:z.windows.map(V=>V.activeSession==="INIT-PENDING"?{...V,activeSession:null}:V)}}),Av({workspaces:D,sidebarCollapsed:x,settings:h})},[m,x,h]),d.useEffect(()=>{Lv(N)},[N]);const T=d.useCallback(async()=>{try{const _=await(await fetch("/api/tmux/sessions")).json();if(_.error)p(_.error),l([]),o({});else{p(null),l(_.sessions),o(_.grouped);const z=new Set(_.sessions.map(V=>V.name));v(V=>{let H=!1;const ce={...V};return On.forEach(B=>{const te=V[B],Se=te.windows.map(de=>{const yt=de.boundSessions.filter(Ct=>z.has(Ct));if(yt.length!==de.boundSessions.length){H=!0;const Ct=de.boundSessions.filter(Et=>!z.has(Et));console.error(`Orphaned sessions removed from ${de.id}:`,Ct);const ve=yt.includes(de.activeSession??"")?de.activeSession:yt[0]??null;return{...de,boundSessions:yt,activeSession:ve}}return de});Se!==te.windows&&(ce[B]={...te,windows:Se})}),H?ce:V})}}catch(D){p("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);d.useEffect(()=>{T();const D=setInterval(T,h.autoRefreshInterval);return()=>clearInterval(D)},[T,h.autoRefreshInterval]),d.useEffect(()=>{const D={...oh,...h.tmuxAppearance};vu(D)},[]);const O=d.useCallback((D,_)=>{const z=mr(_);v(V=>{const H=V[D];if(!H)return V;const ce=(()=>{if(z>H.windows.length){const B=[...H.windows];for(let te=H.windows.length;te<z;te++)B.push({id:`${D}-window-${te}`,boundSessions:[],activeSession:null,colorIndex:te});return B}return z<H.windows.length?H.windows.slice(0,z):H.windows})();return{...V,[D]:{...H,windowCount:z,windows:ce}}})},[]),K=d.useCallback((D,_,z)=>{v(V=>{const H={...V};let ce=!1,B=!1;if(On.forEach(de=>{const yt=V[de],Ct=yt.windows.map(ve=>{const Et=de===D&&ve.id===_,$t=ve.boundSessions.includes(z);if(!Et&&!$t)return ve;if(!Et&&$t){const vs=ve.boundSessions.filter(Cr=>Cr!==z);return{...ve,boundSessions:vs,activeSession:ve.activeSession===z?vs[0]??null:ve.activeSession}}return B=!0,ce=ve.boundSessions.length===0||ve.boundSessions.length===1&&$t,ve});H[de]={...yt,windows:Ct}}),!B)return V;const te=H[D],Se=te.windows.map(de=>de.id!==_||de.boundSessions.includes(z)?de:{...de,boundSessions:[...de.boundSessions,z],activeSession:ce?z:de.activeSession});return{...H,[D]:{...te,windows:Se}}})},[]),R=d.useCallback((D,_,z)=>{v(V=>{const H=V[D];if(!H)return V;const ce=H.windows.map(B=>{if(B.id!==_||!B.boundSessions.includes(z))return B;const te=B.boundSessions.filter(Se=>Se!==z);return{...B,boundSessions:te,activeSession:B.activeSession===z?te[0]??null:B.activeSession}});return{...V,[D]:{...H,windows:ce}}})},[]),U=d.useCallback((D,_,z)=>{v(V=>{const H=V[D];if(!H)return V;const ce=H.windows.map(B=>B.id!==_||!B.boundSessions.includes(z)?B:{...B,activeSession:z});return{...V,[D]:{...H,windows:ce}}})},[]),G=d.useCallback((D,_,z)=>{v(V=>{const H=V[D];if(!H)return V;const ce=H.windows.map(B=>{if(B.id!==_||B.boundSessions.length<=1)return B;const te=B.activeSession?B.boundSessions.indexOf(B.activeSession):0,Se=z==="next"?(te+1)%B.boundSessions.length:(te-1+B.boundSessions.length)%B.boundSessions.length;return{...B,activeSession:B.boundSessions[Se]}});return{...V,[D]:{...H,windows:ce}}})},[]),re=d.useCallback(()=>{j(D=>!D)},[]),q=d.useCallback(D=>{E(D)},[]),L=d.useCallback(()=>{E(null)},[]),W=d.useCallback(D=>{const _=C.get(D);_?U(_.workspaceId,_.windowId,D):q(D)},[C,U,q]),A=d.useCallback(D=>{y(_=>{const z={..._,...D};return D.tmuxAppearance&&vu(z.tmuxAppearance),z})},[]),Q=d.useCallback(async D=>{try{const _=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(_.ok)n(`Session '${D}' deleted`,"info"),T();else{const z=await _.text();console.error("Failed to delete session:",z),n("Failed to delete session","error")}}catch(_){console.error("Failed to delete session:",_),n("Failed to delete session","error")}},[T,n]),M=d.useCallback(async(D,_)=>{try{const z=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:_})});if(z.ok)return v(V=>{const H={...V};return On.forEach(ce=>{const B=V[ce];H[ce]={...B,windows:B.windows.map(te=>({...te,boundSessions:te.boundSessions.map(Se=>Se===D?_:Se),activeSession:te.activeSession===D?_:te.activeSession}))}}),H}),n(`Session renamed to '${_}'`,"success"),T(),!0;{const V=await z.text();return console.error("Failed to rename session:",V),n("Failed to rename session","error"),!1}}catch(z){return console.error("Failed to rename session:",z),n("Failed to rename session","error"),!1}},[T,n]),Y=d.useCallback(D=>{if(N.length>=pu)return n(`Maximum ${pu} presets reached`,"warning"),!1;const _={id:_v(),name:D,createdAt:Date.now(),workspaces:yu(m)};return b(z=>[...z,_]),n(`Layout '${D}' saved`,"success"),!0},[N.length,m,n]),J=d.useCallback(D=>{const _=N.find(z=>z.id===D);if(!_){n("Preset not found","error");return}v(yu(_.workspaces)),n(`Layout '${_.name}' loaded`,"info")},[N,n]),ae=d.useCallback(D=>{const _=N.find(z=>z.id===D);_&&(b(z=>z.filter(V=>V.id!==D)),n(`Preset '${_.name}' deleted`,"info"))},[N,n]),P=d.useCallback((D,_)=>{b(z=>z.map(V=>V.id===D?{...V,name:_}:V))},[]),$=d.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:u,workspaces:m,sidebarCollapsed:x,floatingSession:w,assignedSessions:C,isDragging:g,settings:h,focusedWindowKey:S,layoutPresets:N,setWindowCount:O,addSessionToWindow:K,removeSessionFromWindow:R,setActiveSession:U,cycleSession:G,toggleSidebar:re,openFloatingModal:q,closeFloatingModal:L,handleSessionClick:W,refreshSessions:T,deleteSession:Q,renameSession:M,setIsDragging:f,updateSettings:A,setFocusedWindowKey:k,saveCurrentLayout:Y,loadPreset:J,deletePreset:ae,renamePreset:P}),[s,i,a,u,m,x,w,C,g,h,S,N,O,K,R,U,G,re,q,L,W,T,Q,M,f,A,k,Y,J,ae,P]);return r.jsx(dh.Provider,{value:$,children:e})}function ct(){const e=d.useContext(dh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const mn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function Wv(){const e=d.useRef(null),{settings:t,updateSettings:n}=ct(),[s,l]=d.useState(0),[i,o]=d.useState(!1);d.useEffect(()=>{const p=e.current;p&&(p.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?p.play().catch(m=>{console.warn("Audio playback failed:",m.message),n({musicEnabled:!1})}):p.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const p=e.current;p&&(p.src=mn[s].file,t.musicEnabled&&p.play().catch(m=>console.warn("Track change play failed:",m.message)))},[s,t.musicEnabled]);const a=()=>l(p=>(p+1)%mn.length),c=()=>l(p=>(p-1+mn.length)%mn.length),u=p=>{l(p),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[mn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",mn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:mn.map((p,m)=>r.jsxs("button",{className:`music-dropdown-item ${m===s?"active":""}`,onClick:()=>u(m),children:[m+1,". ",p.name," ",m===s&&t.musicEnabled&&""]},m))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:p=>n({musicVolume:parseFloat(p.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function Uv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){const[l,i]=d.useState(!1),o=d.useRef(null);d.useEffect(()=>{const u=p=>{o.current&&!o.current.contains(p.target)&&i(!1)};if(l)return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[l]);const a=[{id:"chat",label:" Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads",label:"Beads"},{id:"settings",label:"Settings"}],c=u=>{u.external?window.open(u.url,"_blank","noopener,noreferrer"):t(u.id)};return r.jsxs("div",{className:"tab-bar",children:[r.jsx("div",{className:"tab-bar-tabs",children:a.map(u=>r.jsx("button",{className:`tab ${!u.external&&e===u.id?"active":""} ${u.external?"external":""}`,onClick:()=>c(u),title:u.external?`Open ${u.label.replace(" ","")} in new tab`:void 0,children:u.label},u.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),r.jsxs("div",{className:"help-menu-container",ref:o,children:[r.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&r.jsxs("div",{className:"help-dropdown",children:[n&&r.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),r.jsx(Wv,{})]})]})}const Vv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Hv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Kv(e){const t=Hv(e);return t?{role:t,...Vv[t]}:null}function Gv({sessionName:e,compact:t=!1}){const n=Kv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Qv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[p,m]=d.useState({show:!1,x:0,y:0}),[v,x]=d.useState(!1),[j,w]=d.useState(""),[E,g]=d.useState(!1),f=d.useRef(null),h=c?Yn[c.colorIndex%Yn.length].border:void 0,y=c?{backgroundColor:h,color:"#000",borderColor:h}:void 0,S=c?{color:h}:void 0,{attributes:k,listeners:N,setNodeRef:b,transform:C,isDragging:T}=ih({id:e.name,data:{type:"session",session:e}}),O=C?{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,zIndex:T?1e3:void 0}:void 0,K=d.useCallback(A=>{A.preventDefault(),A.stopPropagation(),m({show:!0,x:A.clientX,y:A.clientY}),g(!1)},[]),R=d.useCallback(()=>{m({show:!1,x:0,y:0}),g(!1)},[]),U=d.useCallback(async()=>{R(),await s(e.name)},[s,e.name,R]),G=d.useCallback(()=>{w(e.name),x(!0),R()},[e.name,R]),re=d.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),x(!1)},[j,e.name,l]),q=d.useCallback(A=>{A.key==="Enter"?re():A.key==="Escape"&&x(!1)},[re]),L=d.useCallback(A=>{const Q=A.startsWith("terminal2-")?"terminal2":"terminal1";o(Q,A,e.name),R()},[o,e.name,R]),W=d.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),R()},[c,a,e.name,R]);return d.useEffect(()=>{v&&f.current&&(f.current.focus(),f.current.select())},[v]),d.useEffect(()=>{if(!p.show)return;const A=()=>R();return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[p.show,R]),v?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:A=>w(A.target.value),onKeyDown:q,onBlur:re})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:b,className:`session-item ${u?"assigned":""} ${T?"dragging":""}`,style:O,...N,...k,onClick:()=>n(e.name),onContextMenu:K,children:[c&&r.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(Gv,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:S,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),p.show&&r.jsxs("div",{className:"session-context-menu",style:{left:p.x,top:p.y},onClick:A=>A.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:G,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),E&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(A=>{const Q=i[A];return Q.windows.slice(0,Q.windowCount).map((M,Y)=>{const J=Yn[M.colorIndex%Yn.length],ae=(c==null?void 0:c.windowId)===M.id,P=A==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${ae?"active":""}`,onClick:()=>L(M.id),style:{borderLeft:`3px solid ${J.border}`},children:[P,"Window ",Y+1,ae&&r.jsx("span",{className:"session-context-check",children:""})]},M.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:W,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:U,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Yv({groupKey:e,sessions:t}){const[n,s]=d.useState(!0),l=Iv(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Qv,{session:i},i.name))})]})}function Xv({onConfirm:e,onCancel:t,sessionCount:n}){const[s,l]=d.useState(""),i=s==="NUKE",o=a=>{a.preventDefault(),i&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:a=>a.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:n})," tmux session",n!==1?"s":"","."]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:o,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:s,onChange:a=>l(a.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!i,children:"Destroy All"})]})]})]})]})})}function Jv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=br(),[u,p]=d.useState(!1),[m,v]=d.useState(""),[x,j]=d.useState(!1),[w,E]=d.useState(!1),g=d.useMemo(()=>{const y=Object.entries(e);return(m?y.map(([k,N])=>[k,N.filter(b=>b.name.toLowerCase().includes(m.toLowerCase()))]).filter(([k,N])=>N.length>0):y).sort(([k],[N])=>{const b=mu(k),C=mu(N);return b!==C?b-C:k.localeCompare(N)})},[e,m]),f=async()=>{p(!0);try{const y=a.defaultSessionPrefix||"tmux",S=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=new RegExp(`^${S}(\\d+)$`),N=o.map(O=>O.name.match(k)).filter(Boolean).map(O=>parseInt(O[1],10)),b=N.length>0?Math.max(...N)+1:1,C=`${y}${b}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})})).ok?(c(`Session '${C}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{p(!1)}},h=async()=>{E(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{E(!1),j(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:m,onChange:y=>v(y.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&g.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),g.map(([y,S])=>r.jsx(Yv,{groupKey:y,sessions:S},y))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&r.jsx(Xv,{sessionCount:o.length,onConfirm:h,onCancel:()=>j(!1)})]})}function Zv({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=d.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=br(),u=async()=>{l(!0);try{const p=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p})})).ok?(c(`Session '${p}' created`,"success"),await o(),a(e,t,p)):c("Failed to create session","error")}catch(p){console.error("Failed to create session:",p),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function qv({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=vv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ey({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:p}=ih({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),m=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:p?1e3:void 0}:void 0,v=e.includes("-")?e.split("-").slice(-1)[0]:e,x=j=>{p||j.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${p?"dragging":""}`,style:m,onClick:x,...a,...o,children:[r.jsx("span",{className:"tag-name",children:v}),r.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function ty({workspaceId:e,window:t,isDragging:n=!1}){const[s,l]=d.useState(new Set),i=d.useRef(new Map),o=d.useRef(null),a=d.useRef(null),{removeSessionFromWindow:c,setActiveSession:u,cycleSession:p,settings:m,focusedWindowKey:v,setFocusedWindowKey:x}=ct(),j=`${e}-${t.id}`,w=v===j,E=t.activeSession,g=E?s.has(E):!1,f=d.useCallback(()=>{if(E)try{const R=i.current.get(E);if(!(R!=null&&R.contentWindow))return;R.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[E]),h=d.useCallback((R,U)=>{if(!(R!=null&&R.contentWindow))return;let G=0;const re=20,q=()=>{try{const L=R.contentWindow;if(L.term){L.term.options.fontSize=U;return}}catch{}G++,G<re&&setTimeout(q,50)};q()},[]),y=d.useCallback(R=>{l(G=>new Set(G).add(R));const U=i.current.get(R);U&&(h(U,m.fontSize),setTimeout(()=>{R===t.activeSession&&f()},100),setTimeout(()=>{R===t.activeSession&&f()},300))},[h,m.fontSize,f,t.activeSession]);d.useEffect(()=>{s.forEach(R=>{const U=i.current.get(R);U&&h(U,m.fontSize)})},[m.fontSize,s,h]),d.useEffect(()=>{E&&s.has(E)&&setTimeout(f,50)},[E,s,f]),d.useEffect(()=>{const R=new Set(t.boundSessions);i.current.forEach((U,G)=>{R.has(G)||i.current.delete(G)}),l(U=>{const G=new Set;return U.forEach(re=>{R.has(re)&&G.add(re)}),G})},[t.boundSessions]);const S=d.useCallback(()=>{x(j)},[j,x]),k=d.useRef(w),N=d.useRef(t.boundSessions);d.useEffect(()=>{k.current=w,N.current=t.boundSessions},[w,t.boundSessions]),d.useEffect(()=>{const R=U=>{k.current&&U.ctrlKey&&(N.current.length<=1||(U.key==="ArrowRight"?(U.preventDefault(),p(e,t.id,"next")):U.key==="ArrowLeft"&&(U.preventDefault(),p(e,t.id,"prev"))))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,t.id,p]),d.useEffect(()=>{const R=o.current;if(!R)return;let U;const G=new ResizeObserver(()=>{clearTimeout(U),U=setTimeout(f,100)});return G.observe(R),()=>{clearTimeout(U),G.disconnect()}},[f]);const b=Yn[t.colorIndex%Yn.length],C=R=>{c(e,t.id,R)},T=R=>{u(e,t.id,R)},O=t.boundSessions.length>0,K=R=>`/terminal/?arg=${encodeURIComponent(R)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:a,className:`terminal-window ${w?"focused":""}`,tabIndex:-1,onClick:S,style:{"--window-accent":b.accent,"--window-bg":b.bg,"--window-border":b.border},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(R=>r.jsx(ey,{sessionName:R,isActive:R===E,workspaceId:e,windowId:t.id,onRemove:()=>C(R),onClick:()=>T(R)},R))}),r.jsxs("div",{className:"window-controls",children:[O&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${g?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:o,className:"terminal-window-body",children:[E==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:b.accent},children:r.jsx("span",{children:"Initializing Session..."})}):O?t.boundSessions.map(R=>{const U=R===E;return r.jsx("iframe",{ref:G=>{G&&i.current.set(R,G)},src:K(R),onLoad:()=>y(R),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:U?"block":"none",position:U?"relative":"absolute"},title:`Terminal ${t.id} - ${R}`},R)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(Zv,{workspaceId:e,windowId:t.id,accentColor:b.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(qv,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ny({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=ct(),l=t[e],i=l.windows,o=l.windowCount,a=()=>{switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsxs("div",{className:"terminal-area-controls",children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(c=>r.jsx("button",{className:`layout-btn ${o===c?"active":""}`,onClick:()=>n(e,c),title:`${c} window${c>1?"s":""}`,children:c},c))]}),r.jsx("div",{className:`terminal-grid ${a()}`,"data-workspace":e,children:i.slice(0,o).map(c=>r.jsx(ty,{workspaceId:e,window:c,isDragging:s},c.id))})]})}class se extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function $a(e){return`/${e}`}const pn="/api/files";function fh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new se('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new se("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new se("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new se('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function gs(e,t){if(!e.ok)switch(e.status){case 403:throw new se("Permission denied","PERMISSION",403);case 404:throw new se("File not found","NOT_FOUND",404);case 409:throw new se("Already exists","CONFLICT",409);case 413:throw new se("File too large","STORAGE",413);case 507:throw new se("Insufficient storage","STORAGE",507);default:throw new se(`${t}: ${e.status}`,"SERVER",e.status)}}function Xn(e,t){if(e instanceof se)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function hh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${pn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new se(l instanceof Error?l.message:"Network error","NETWORK")}gs(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new se("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new se("Invalid directory response","INVALID");if(s.isDir===!1)throw new se("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new se("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function ph(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${pn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new se(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new se("Folder already exists","CONFLICT",409);gs(s,"Failed to create folder")}async function sy(e,t){let n;try{n=await fetch(`${pn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new se(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new se("Destination already exists","CONFLICT",409);gs(n,"Failed to rename")}async function ry(e){let t;try{t=await fetch(`${pn}/resources${e}`,{method:"DELETE"})}catch(n){throw new se(n instanceof Error?n.message:"Network error","NETWORK")}gs(t,"Failed to delete")}async function _o(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=fh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${pn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new se(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new se("File too large","STORAGE",413);if(o.status===507)throw new se("Insufficient storage","STORAGE",507);gs(o,`Failed to upload ${l}`)}}async function ly(e){try{return(await fetch(`${pn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Ba(e){return`${pn}/raw${e}?inline=false`}async function iy(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(u=>u.length>0).map(u=>fh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${pn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new se(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new se("File too large","STORAGE",413);if(c.status===507)throw new se("Insufficient storage","STORAGE",507);gs(c,`Failed to upload ${o}`)}}function oy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?$a(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function zo(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function ay(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function mh(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function cy({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:mh(e)})}function zi({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function uy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:p,isAtRoot:m,disabled:v}){const x=d.useRef(null);d.useEffect(()=>{if(o&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{v||(e.isDir?s():window.open(Ba(e.path),"_blank"))},w=f=>{v||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},E=f=>{f.key==="Enter"?u():f.key==="Escape"&&p()},g=m?$a(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${v?"disabled":""}`,onClick:v?void 0:n,onDoubleClick:j,onContextMenu:v?void 0:l,onKeyDown:w,tabIndex:v?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(cy,{item:e}),o?r.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:E,onBlur:p}):r.jsx("span",{className:"fb-filename",children:g})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":zo(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:ay(e.modified)})]})}function dy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open(Ba(e.path),"_blank"))},c=i?$a(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:mh(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function fy({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const m=x=>{u.current&&!u.current.contains(x.target)&&s()},v=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",v),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",v)}},[s]);const p={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:p,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function hy({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=d.useState(""),o=d.useRef(null);d.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function py({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function my({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=d.useState(!1),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useRef(null),p=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},m=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},v=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const E=w.dataTransfer.files;E.length>0&&await x(E)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await _o(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(E){const g=Xn(E,"upload");c(null),n(g)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:p,onDragLeave:m,onDrop:v,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function gh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,p=await new Promise((m,v)=>{u.file(m,v)});n.push({file:p,relativePath:c})}else if(a.isDirectory){const u=await gh(a,c);n.push(...u)}}return n}async function gy(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await gh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function vy({onError:e}){const[t,n]=d.useState([]),[s,l]=d.useState(""),[i,o]=d.useState(!1),[a,c]=d.useState(!1),[u,p]=d.useState("idle"),m=d.useRef(null),v=d.useRef(null),x="/code/incoming",j=C=>{C.preventDefault(),C.stopPropagation(),o(!0)},w=C=>{C.preventDefault(),C.stopPropagation(),o(!1)},E=async C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),C.dataTransfer.items&&C.dataTransfer.items.length>0){const T=await gy(C.dataTransfer.items);T.length>0&&(n(O=>[...O,...T]),p("idle"))}else if(C.dataTransfer.files.length>0){const T=Array.from(C.dataTransfer.files).map(O=>({type:"file",name:O.name,size:O.size,file:O}));n(O=>[...O,...T]),p("idle")}},g=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files).map(O=>({type:"file",name:O.name,size:O.size,file:O}));n(O=>[...O,...T]),p("idle")}},f=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files),O=new Map;for(const R of T){const U=R.webkitRelativePath||R.name,G=U.split("/")[0];O.has(G)||O.set(G,[]),O.get(G).push({file:R,relativePath:U})}const K=Array.from(O.entries()).map(([R,U])=>({type:"folder",name:R,size:U.reduce((G,re)=>G+re.file.size,0),filesWithPaths:U}));n(R=>[...R,...K]),p("idle")}},h=C=>{n(T=>T.filter((O,K)=>K!==C))},y=async()=>{if(t.length!==0){c(!0);try{await ly(x)||await ph("/code","incoming");for(const T of t)T.type==="file"&&T.file?await _o(x,[T.file]):T.type==="folder"&&T.filesWithPaths&&await iy(x,T.filesWithPaths);if(s.trim()&&t.length>0){const T=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await _o(x,[T])}p("success"),n([]),l(""),m.current&&(m.current.value=""),v.current&&(v.current.value=""),setTimeout(()=>p("idle"),2e3)}catch(C){p("error");const T=Xn(C,"upload");e(`Failed to send: ${T}`),setTimeout(()=>p("idle"),2e3)}finally{c(!1)}}},S=t.reduce((C,T)=>C+T.size,0),k=t.reduce((C,T)=>{var O;return T.type==="file"?C+1:C+(((O=T.filesWithPaths)==null?void 0:O.length)||0)},0),N=t.filter(C=>C.type==="folder").length,b=t.filter(C=>C.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:E,children:[r.jsx("input",{ref:m,type:"file",multiple:!0,onChange:g,style:{display:"none"}}),r.jsx("input",{ref:v,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((C,T)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:C.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[C.name,C.type==="folder"&&C.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",C.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:zo(C.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:O=>{O.stopPropagation(),h(T)},children:""})]},`${C.name}-${T}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=m.current)==null||T.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=m.current)==null||T.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:C=>l(C.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&b>0&&", ",b>0&&`${b} file${b>1?"s":""}`," ","(",k," total)  ",zo(S)]}),r.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function yy(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function xy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function wy(){const[e,t]=d.useState("browser"),[n,s]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[o,a]=d.useState(null),[c,u]=d.useState(null),[p,m]=d.useState(null),[v,x]=d.useState(""),[j,w]=d.useState(!1),[E,g]=d.useState(null),[f,h]=d.useState(["/"]),[y,S]=d.useState(0),k=d.useCallback(P=>{a(P)},[]),N=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),b=d.useCallback(async P=>{s($=>({...$,loading:!0,error:null}));try{const $=await hh(P);s(D=>({...D,items:$,loading:!1,currentPath:P,selectedItems:new Set,error:null}))}catch($){const D=Xn($,"fetch");s(_=>({..._,loading:!1,error:D,items:[]}))}},[]);d.useEffect(()=>{b("/")},[b]);const C=d.useCallback((P,$=!0)=>{if($){const D=[...f.slice(0,y+1),P];h(D),S(D.length-1)}b(P)},[b,f,y]),T=d.useCallback(()=>{if(y>0){const P=y-1;S(P),b(f[P])}},[y,f,b]),O=d.useCallback(()=>{if(y<f.length-1){const P=y+1;S(P),b(f[P])}},[y,f,b]),K=d.useCallback(()=>{const P=n.currentPath.split("/").filter(Boolean);P.length>0&&(P.pop(),C("/"+P.join("/")))},[n.currentPath,C]),R=d.useMemo(()=>{const P=[...n.items],$=n.searchQuery?P.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):P;return $.sort((D,_)=>{if(D.isDir!==_.isDir)return D.isDir?-1:1;let z=0;switch(n.sortBy){case"name":z=D.name.localeCompare(_.name);break;case"size":z=D.size-_.size;break;case"modified":z=new Date(D.modified).getTime()-new Date(_.modified).getTime();break}return n.sortDir==="asc"?z:-z}),$},[n.items,n.sortBy,n.sortDir,n.searchQuery]),U=P=>{s($=>({...$,sortBy:P,sortDir:$.sortBy===P&&$.sortDir==="asc"?"desc":"asc"}))},G=(P,$)=>{if($.preventDefault(),$.ctrlKey||$.metaKey)s(D=>{const _=new Set(D.selectedItems);return _.has(P.name)?_.delete(P.name):_.add(P.name),{...D,selectedItems:_}});else if($.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),_=R.findIndex(B=>B.name===D),z=R.findIndex(B=>B.name===P.name),V=Math.min(_,z),H=Math.max(_,z),ce=new Set(R.slice(V,H+1).map(B=>B.name));s(B=>({...B,selectedItems:ce}))}else s(D=>({...D,selectedItems:new Set([P.name])}))},re=(P,$)=>{$.preventDefault(),u({x:$.clientX,y:$.clientY,item:P}),P&&!n.selectedItems.has(P.name)&&s(D=>({...D,selectedItems:new Set([P.name])}))},q=P=>{m(P.name),x(P.name),u(null)},L=async()=>{if(!p||!v.trim()||v===p){W();return}const P=n.items.find(D=>D.name===p);if(!P)return;const $=n.currentPath==="/"?`/${v}`:`${n.currentPath}/${v}`;i({type:"rename",loading:!0,error:null,target:P.name});try{await sy(P.path,$),await b(n.currentPath),N()}catch(D){const _=Xn(D,"rename");i({type:"rename",loading:!1,error:_,target:P.name}),k(_)}finally{W()}},W=()=>{m(null),x("")},A=async()=>{if(E){i({type:"delete",loading:!0,error:null,target:E.name});try{await ry(E.path),await b(n.currentPath),N(),g(null)}catch(P){const $=Xn(P,"delete");i({type:"delete",loading:!1,error:$,target:E.name}),k($)}}},Q=async P=>{i({type:"create",loading:!0,error:null,target:P});try{await ph(n.currentPath,P),await b(n.currentPath),N(),w(!1)}catch($){const D=Xn($,"create");i({type:"create",loading:!1,error:D,target:P})}},M=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Ba(c.item.path),"_blank"),u(null)},Y=()=>{if(c!=null&&c.item){const P=c.item.path;navigator.clipboard.writeText(P)}u(null)};d.useEffect(()=>{const P=$=>{if(e==="browser"&&!($.target.tagName==="INPUT"||$.target.tagName==="TEXTAREA"))if($.key==="F5")$.preventDefault(),b(n.currentPath);else if($.key==="Backspace")$.preventDefault(),K();else if($.key==="Delete"){const D=n.items.find(_=>n.selectedItems.has(_.name));D&&g(D)}else if($.key==="F2"){const D=n.items.find(_=>n.selectedItems.has(_.name));D&&q(D)}else $.ctrlKey&&$.key==="a"&&($.preventDefault(),s(D=>({...D,selectedItems:new Set(D.items.map(_=>_.name))})))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,n.currentPath,n.items,n.selectedItems,b,K]);const J=n.currentPath==="/"||n.currentPath==="",ae=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(xy,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(my,{currentPath:n.currentPath,onUploadComplete:()=>b(n.currentPath),onError:k}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:ae,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>b(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(vy,{onError:k}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:T,disabled:y===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:O,disabled:y>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:K,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(oy,{path:n.currentPath,onNavigate:C}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:P=>s($=>({...$,searchQuery:P.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:P=>{P.target.closest(".fb-row, .fb-grid-item")||re(null,P)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>b(n.currentPath),children:"Retry"})]}):R.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(zi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:U,className:"fb-cell-name"}),r.jsx(zi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:U,className:"fb-cell-size"}),r.jsx(zi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:U,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:R.map(P=>r.jsx(uy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:$=>G(P,$),onNavigate:()=>C(P.path),onContextMenu:$=>re(P,$),onRename:()=>q(P),isRenaming:p===P.name,renameValue:v,setRenameValue:x,onRenameSubmit:L,onRenameCancel:W,isAtRoot:J,disabled:ae},P.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:R.map(P=>r.jsx(dy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:$=>G(P,$),onNavigate:()=>C(P.path),onContextMenu:$=>re(P,$),isAtRoot:J,disabled:ae},P.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[R.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),ae&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(yy,{})}),c&&r.jsx(fy,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:M,onRename:()=>c.item&&q(c.item),onDelete:()=>c.item&&g(c.item),onCopyPath:Y,onNewFolder:()=>{u(null),w(!0)}}),j&&r.jsx(hy,{onClose:()=>{w(!1),N()},onCreate:Q,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),E&&r.jsx(py,{item:E,onClose:()=>{g(null),N()},onConfirm:A,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function jy({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=d.useState(n),[i,o]=d.useState([]),[a,c]=d.useState(!0),[u,p]=d.useState(null),[m,v]=d.useState(!1),x=d.useCallback(async y=>{try{const S=y==="/"?"/.beads":`${y}/.beads`,k=await fetch(`/api/files/resources${S}`);return k.ok?(await k.json()).isDir===!0:!1}catch{return!1}},[]),j=d.useCallback(async y=>{c(!0),p(null);try{const k=(await hh(y)).filter(C=>C.isDir),N=await x(y);v(N);const b=await Promise.all(k.map(async C=>({...C,hasBeads:await x(C.path)})));o(b)}catch(S){p(S instanceof Error?S.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);d.useEffect(()=>{j(s)},[s,j]);const w=y=>{l(y)},E=()=>{if(s==="/")return;const y=s.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},g=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((y,S,k)=>({name:y,path:"/"+k.slice(0,S+1).join("/")}))],f=()=>{e(s)},h=y=>{y.target===y.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:h,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:E,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:g.map((y,S)=>r.jsxs("span",{children:[S>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),m&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>r.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!m,title:m?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function Ln({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Ny(){var v,x,j,w,E,g;const{settings:e,updateSettings:t}=ct(),[n,s]=d.useState(!1),l=f=>{const h=e.beadsProjectPaths||[];h.includes(f)||t({beadsProjectPaths:[...h,f]}),s(!1)},i=f=>{const h=e.beadsProjectPaths||[];t({beadsProjectPaths:h.filter(y=>y!==f)})},o=f=>{t({theme:f})},a=f=>{const h=parseInt(f.target.value,10);h>=12&&h<=20&&t({fontSize:h})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},p=(f,h)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:h}})},m=f=>{const h=Rv[f];h&&t({tmuxAppearance:h})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>m(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Ln,{label:"Background",value:((v=e.tmuxAppearance)==null?void 0:v.statusBg)??"#000000",onChange:f=>p("statusBg",f)}),r.jsx(Ln,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>p("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Ln,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>p("paneBorderActive",f)}),r.jsx(Ln,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>p("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Ln,{label:"Background",value:((E=e.tmuxAppearance)==null?void 0:E.modeStyleBg)??"#00ff41",onChange:f=>p("modeStyleBg",f)}),r.jsx(Ln,{label:"Foreground",value:((g=e.tmuxAppearance)==null?void 0:g.modeStyleFg)??"#000000",onChange:f=>p("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(jy,{onSelect:l,onClose:()=>s(!1)})]})}function Sy(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[s,l]=d.useState(!1),[i,o]=d.useState({x:80,y:60}),[a]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),p=d.useRef({x:0,y:0}),m=d.useRef(null),v=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const x=d.useCallback(()=>{try{const f=m.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=d.useCallback(f=>{const h=m.current;if(!(h!=null&&h.contentWindow))return;let y=0;const S=20,k=()=>{try{const N=h.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}y++,y<S&&setTimeout(k,50)};k()},[]),w=d.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[j,n.fontSize,x]);d.useEffect(()=>{s&&j(n.fontSize)},[s,n.fontSize,j]),d.useEffect(()=>{const f=v.current;if(!f)return;let h;const y=new ResizeObserver(()=>{clearTimeout(h),h=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(h),y.disconnect()}},[x]);const E=f=>{f.target.closest(".modal-close")||(u(!0),p.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=y=>{o({x:y.clientX-p.current.x,y:y.clientY-p.current.y})},h=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h)}},[c]),!e)return null;const g=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:E,children:[r.jsx("span",{className:"modal-title",children:g}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:v,className:"floating-modal-body",children:r.jsx("iframe",{ref:m,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const ky=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function by(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(xu,{});case"terminals":return r.jsx(Cy,{});case"sessions":return r.jsx(Ey,{});case"files":return r.jsx(Ty,{});case"tmux":return r.jsx(Py,{});default:return r.jsx(xu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:ky.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function xu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Cy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Ey(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Py(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const si="/api/beads";async function ri(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Dy(){const{settings:e}=ct(),[t,n]=d.useState([]),[s,l]=d.useState(!0),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;l(!0),o(null);try{const u=await ri(`${si}/projects`);let p=[];u.success&&u.data&&(p=[...u.data.projects]);const m=e.beadsProjectPaths||[];for(const v of m){if(p.some(j=>j.path===v))continue;const x=v.split("/").filter(Boolean).pop()||v;p.push({name:x,path:v,beadsPath:`${v}/.beads`})}n(p),!u.success&&m.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function Ry(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await ri(`${si}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{issues:t,loading:s,error:i,refresh:a}}function Iy(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await ri(`${si}/triage`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch triage")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{triage:t,loading:s,error:i,refresh:a}}function My(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await ri(`${si}/insights`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch insights")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{insights:t,loading:s,error:i,refresh:a}}function Oy({projects:e,selectedPath:t,onSelect:n,loading:s}){return s?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"Loading projects..."})})}):e.length===0?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"No projects with .beads found"})})}):r.jsxs("div",{className:"project-selector",children:[r.jsx("label",{htmlFor:"project-select",children:"Project:"}),r.jsxs("select",{id:"project-select",value:t||"",onChange:l=>n(l.target.value),children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(l=>r.jsxs("option",{value:l.path,children:[l.name," (",l.path,")"]},l.path))]})]})}const Ly={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},_y={bug:"",feature:"",task:"",chore:"",epic:""};function wu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function ju(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function zy(e){return e.replace(/_/g," ")}function Qs({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=Ly[e.status]||"var(--text-secondary)",i=e.type&&_y[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${ju(e.priority)}`,children:wu(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${ju(e.priority)}`,children:wu(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:zy(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const Nu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Ay({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of Nu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[Nu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(Qs,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(Qs,{issue:i,showDependencies:!0},i.id))})]})]})}const Fy={high:"var(--beads-impact-high)",medium:"var(--beads-impact-medium)",low:"var(--beads-impact-low)"};function Ai(e,t){return e.find(n=>n.id===t)}function $y({triage:e,issues:t,loading:n,error:s}){if(n)return r.jsx("div",{className:"beads-triage loading",children:r.jsx("div",{className:"loading-message",children:"Analyzing issues..."})});if(s)return r.jsx("div",{className:"beads-triage error",children:r.jsx("div",{className:"error-message",children:s})});if(!e)return r.jsx("div",{className:"beads-triage empty",children:r.jsx("div",{className:"empty-message",children:"No triage data available"})});const l=e.recommendations||[],i=e.quickWins||[],o=e.blockers||[];return r.jsx("div",{className:"beads-triage",children:r.jsxs("div",{className:"triage-sections",children:[r.jsxs("section",{className:"triage-section recommendations",children:[r.jsx("h3",{children:"Recommended Next"}),l.length===0?r.jsx("p",{className:"no-items",children:"No recommendations"}):r.jsx("div",{className:"recommendation-list",children:l.map(a=>{const c=Ai(t,a.issueId);return r.jsxs("div",{className:"recommendation-item",children:[r.jsxs("div",{className:"rec-header",children:[r.jsxs("span",{className:"rec-rank",children:["#",a.rank]}),r.jsxs("span",{className:"rec-impact",style:{color:Fy[a.estimatedImpact]},children:[a.estimatedImpact," impact"]})]}),c?r.jsx(Qs,{issue:c}):r.jsxs("div",{className:"issue-card missing",children:[r.jsx("span",{className:"issue-id",children:a.issueId}),r.jsx("span",{className:"issue-missing",children:"(issue not found)"})]}),r.jsx("div",{className:"rec-reasoning",children:a.reasoning})]},a.issueId)})})]}),r.jsxs("section",{className:"triage-section quick-wins",children:[r.jsx("h3",{children:"Quick Wins"}),r.jsx("p",{className:"section-desc",children:"Low-effort issues with no dependencies"}),i.length===0?r.jsx("p",{className:"no-items",children:"No quick wins identified"}):r.jsx("div",{className:"quick-wins-list",children:i.map(a=>{const c=Ai(t,a);return c?r.jsx(Qs,{issue:c,compact:!0},a):r.jsx("div",{className:"issue-card compact missing",children:r.jsx("span",{className:"issue-id",children:a})},a)})})]}),r.jsxs("section",{className:"triage-section blockers",children:[r.jsx("h3",{children:"Blockers"}),r.jsx("p",{className:"section-desc",children:"Issues blocking other work"}),o.length===0?r.jsx("p",{className:"no-items",children:"No blockers identified"}):r.jsx("div",{className:"blockers-list",children:o.map(a=>{const c=Ai(t,a);return c?r.jsx(Qs,{issue:c,showDependencies:!0},a):r.jsx("div",{className:"issue-card missing",children:r.jsx("span",{className:"issue-id",children:a})},a)})})]})]})})}function By({score:e}){const t=n=>n>=80?"var(--beads-health-good)":n>=50?"var(--beads-health-warning)":"var(--beads-health-critical)";return r.jsxs("div",{className:"health-gauge",children:[r.jsxs("div",{className:"gauge-circle",children:[r.jsxs("svg",{viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t(e),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${e*2.83} 283`,transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"gauge-value",children:e})]}),r.jsx("div",{className:"gauge-label",children:"Health Score"})]})}function Vr({label:e,value:t,variant:n}){return r.jsxs("div",{className:`stat-card ${n||""}`,children:[r.jsx("div",{className:"stat-value",children:t}),r.jsx("div",{className:"stat-label",children:e})]})}function Wy({insights:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-insights loading",children:r.jsx("div",{className:"loading-message",children:"Calculating insights..."})});if(n)return r.jsx("div",{className:"beads-insights error",children:r.jsx("div",{className:"error-message",children:n})});if(!e)return r.jsx("div",{className:"beads-insights empty",children:r.jsx("div",{className:"empty-message",children:"No insights available"})});const s=e.health||{score:0,risks:[],warnings:[]},l=s.risks||[],i=s.warnings||[];return r.jsx("div",{className:"beads-insights",children:r.jsxs("div",{className:"insights-grid",children:[r.jsx("div",{className:"insights-section health-section",children:r.jsx(By,{score:s.score||0})}),r.jsxs("div",{className:"insights-section stats-section",children:[r.jsx("h3",{children:"Overview"}),r.jsxs("div",{className:"stats-grid",children:[r.jsx(Vr,{label:"Total Issues",value:e.issueCount}),r.jsx(Vr,{label:"Open",value:e.openCount,variant:"open"}),r.jsx(Vr,{label:"Blocked",value:e.blockedCount,variant:"blocked"}),r.jsx(Vr,{label:"Closed",value:e.closedCount||0,variant:"closed"})]})]}),e.byStatus&&Object.keys(e.byStatus).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Status"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byStatus).map(([o,a])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:o.replace(/_/g," ")}),r.jsx("span",{className:"breakdown-value",children:a}),r.jsx("div",{className:"breakdown-bar",style:{width:`${a/e.issueCount*100}%`}})]},o))})]}),e.byType&&Object.keys(e.byType).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Type"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byType).map(([o,a])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:o}),r.jsx("span",{className:"breakdown-value",children:a}),r.jsx("div",{className:"breakdown-bar type-bar",style:{width:`${a/e.issueCount*100}%`}})]},o))})]}),l.length>0&&r.jsxs("div",{className:"insights-section risks-section",children:[r.jsx("h3",{children:"Risks"}),r.jsx("ul",{className:"risks-list",children:l.map((o,a)=>r.jsx("li",{className:"risk-item",children:o},a))})]}),i.length>0&&r.jsxs("div",{className:"insights-section warnings-section",children:[r.jsx("h3",{children:"Warnings"}),r.jsx("ul",{className:"warnings-list",children:i.map((o,a)=>r.jsx("li",{className:"warning-item",children:o},a))})]}),e.metrics&&r.jsxs("div",{className:"insights-section metrics-section",children:[r.jsx("h3",{children:"Graph Metrics"}),r.jsxs("div",{className:"metrics-content",children:[e.metrics.density!==void 0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Graph Density"}),r.jsxs("span",{className:"metric-value",children:[(e.metrics.density*100).toFixed(1),"%"]})]}),e.metrics.cycles&&e.metrics.cycles.length>0&&r.jsxs("div",{className:"metric-item warning",children:[r.jsx("span",{className:"metric-label",children:"Circular Dependencies"}),r.jsx("span",{className:"metric-value",children:e.metrics.cycles.length})]}),e.metrics.criticalPath&&e.metrics.criticalPath.length>0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Critical Path Length"}),r.jsx("span",{className:"metric-value",children:e.metrics.criticalPath.length})]})]})]})]})})}const Uy=[{id:"kanban",label:"Kanban"},{id:"triage",label:"Triage"},{id:"insights",label:"Insights"}];function Vy(){const[e,t]=d.useState("kanban"),[n,s]=d.useState(null),{projects:l,loading:i}=Dy(),{issues:o,loading:a,error:c,refresh:u}=Ry(n),{triage:p,loading:m,error:v,refresh:x}=Iy(n),{insights:j,loading:w,error:E,refresh:g}=My(n),f=d.useCallback(S=>{s(S||null)},[]),h=d.useCallback(()=>{u(),x(),g()},[u,x,g]),y=a||m||w;return r.jsxs("div",{className:"beads-view",children:[r.jsxs("div",{className:"beads-header",children:[r.jsx(Oy,{projects:l,selectedPath:n,onSelect:f,loading:i}),n&&r.jsx("button",{className:"beads-refresh-btn",onClick:h,disabled:y,title:"Refresh data",children:y?"Loading...":"Refresh"})]}),n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"beads-subtabs",children:Uy.map(S=>r.jsx("button",{className:`beads-subtab ${e===S.id?"active":""}`,onClick:()=>t(S.id),children:S.label},S.id))}),r.jsxs("div",{className:"beads-content",children:[e==="kanban"&&r.jsx(Ay,{issues:o,loading:a,error:c}),e==="triage"&&r.jsx($y,{triage:p,issues:o,loading:m,error:v}),e==="insights"&&r.jsx(Wy,{insights:j,loading:w,error:E})]})]}):r.jsxs("div",{className:"beads-empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"Select a Project"}),r.jsx("p",{children:"Choose a project with a .beads directory to view issues and insights."}),l.length===0&&!i&&r.jsx("p",{className:"empty-hint",children:"No projects found. Create a .beads directory in /code or /workspace to get started."})]})]})}const Hy=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Ky(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(Su,{});case"agents":return r.jsx(Gy,{});case"molecules":return r.jsx(Qy,{});case"beads":return r.jsx(Yy,{});case"philosophy":return r.jsx(Xy,{});case"links":return r.jsx(Jy,{});default:return r.jsx(Su,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:Hy.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Su(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function Gy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function Qy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Yy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Xy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Jy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const un="/api/chat";function Zy(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),o=d.useCallback(async()=>{var a,c;try{s(!0);const p=await(await fetch(`${un}/conversations`)).json();((a=p.data)==null?void 0:a.conversations)!==void 0?(t(p.data.conversations||[]),i(null)):i(((c=p.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function qy(e,t){const[n,s]=d.useState([]),[l,i]=d.useState(!1),[o,a]=d.useState(null),c=d.useCallback(async(u=!1)=>{var p,m;if(!e||!t){s([]);return}try{u||i(!0);const v=encodeURIComponent(e),x=encodeURIComponent(t),w=await(await fetch(`${un}/history?target=${v}&workspace=${x}`)).json();((p=w.data)==null?void 0:p.messages)!==void 0?(s(w.data.messages||[]),a(null)):a(((m=w.error)==null?void 0:m.message)||"Failed to load history")}catch{a("Network error")}finally{u||i(!1)}},[e,t]);return d.useEffect(()=>{c()},[c]),{messages:n,loading:l,error:o,refresh:c}}async function ex(e,t,n){var l,i,o,a,c;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(s,null,2)),console.log("Endpoint:",`${un}/send`);try{const u=await fetch(`${un}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Response status:",u.status,u.statusText);const p=await u.json();return console.log("Response body:",JSON.stringify(p,null,2)),console.groupEnd(),(l=p.data)!=null&&l.success?{success:!0,messageId:(i=p.data)==null?void 0:i.messageId,mailSent:((o=p.data)==null?void 0:o.mailSent)??!1,nudged:((a=p.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=p.error)==null?void 0:c.message)||"Send failed"}}catch(u){return console.error("Network error:",u),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function tx(e,t,n){var l,i,o;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(s,null,2));try{const c=await(await fetch(`${un}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function nx(){var e,t;try{const s=await(await fetch(`${un}/session/status`)).json();return{exists:((e=s.data)==null?void 0:e.exists)??!1,workspace:(t=s.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function sx(e){var t;try{const s=await(await fetch(`${un}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.created??!1,workspace:s.data.workspace,message:s.data.message}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function rx(e){var t;try{const s=await(await fetch(`${un}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.restarted??!1,workspace:s.data.workspace}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}const ku="chrote-chat-selected";function lx(){const[e,t]=d.useState(()=>{try{return localStorage.getItem(ku)}catch{return null}}),[n,s]=d.useState("list"),[l,i]=d.useState(""),[o,a]=d.useState(!1),[c,u]=d.useState(null),[p,m]=d.useState(!1),[v,x]=d.useState(!1),[j,w]=d.useState({exists:!1,initializing:!1}),{conversations:E,loading:g,refresh:f}=Zy(),h=E.find(M=>M.target===e),{messages:y,loading:S,refresh:k}=qy(e,(h==null?void 0:h.workspace)??null),{addToast:N}=br(),b=d.useRef(null),C=d.useRef(null),T=d.useRef(null),O=d.useRef(!0),K=d.useRef(0),R=()=>{const M=C.current;if(!M)return;const{scrollTop:Y,scrollHeight:J,clientHeight:ae}=M;O.current=J-Y-ae<100};d.useEffect(()=>{var J;const M=y.length,Y=M>K.current;if(K.current=M,Y&&O.current&&((J=b.current)==null||J.scrollIntoView({behavior:"smooth"})),c&&y.length>0){const ae=[...y].reverse().find(P=>P.role==="user");ae&&ae.content===c&&u(null)}},[y,c]),d.useEffect(()=>{var M;o&&((M=b.current)==null||M.scrollIntoView({behavior:"smooth"}))},[o]),d.useEffect(()=>{var M;e&&((M=T.current)==null||M.focus())},[e]),d.useEffect(()=>{if(!e)return;const M=setInterval(()=>{k(!0)},5e3);return()=>clearInterval(M)},[e,k]),d.useEffect(()=>{nx().then(M=>{w({exists:M.exists,initializing:!1})})},[]),d.useEffect(()=>{(async()=>{if(!(h!=null&&h.workspace)||j.exists||j.initializing)return;w(J=>({...J,initializing:!0}));const Y=await sx(h.workspace);w({exists:Y.created||j.exists,initializing:!1}),Y.created&&N("Chat session initialized","success")})()},[h==null?void 0:h.workspace,j.exists,j.initializing,N]);const U=async()=>{var J;const M=(h==null?void 0:h.workspace)||((J=E.find(ae=>ae.workspace))==null?void 0:J.workspace);if(!M){N("No workspace available to restart session","error");return}w({exists:!1,initializing:!0});const Y=await rx(M);w({exists:Y.created,initializing:!1}),Y.created?N("Chat session restarted","success"):N(Y.message||"Failed to restart session","error")},G=M=>{t(M),s("chat");try{localStorage.setItem(ku,M)}catch{}},re=()=>{s("list")},q=async()=>{if(!h||!h.workspace||!l.trim()||o)return;const M=l.trim();i(""),a(!0);const Y=await ex(h.workspace,h.target,M);if(Y.success){const J=[];Y.mailSent&&J.push("Mail sent"),Y.nudged&&J.push("Agent nudged"),N(J.join(", ")||"Message sent","success"),u(M),a(!1),setTimeout(()=>{k()},1e3),setTimeout(()=>{u(null)},1e4)}else N(Y.error||"Send failed","error"),a(!1)},L=async()=>{if(!h||!h.workspace||p)return;m(!0);const M=await tx(h.workspace,h.target);M.success?N("Nudged!","success"):N(M.error||"Nudge failed","error"),m(!1)},W=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),q())},A=M=>{i(M.target.value);const Y=M.target;Y.style.height="auto",Y.style.height=Math.min(Y.scrollHeight,120)+"px"},Q=y;return r.jsxs("div",{className:`chrote-chat mobile-view-${n}`,children:[r.jsxs("div",{className:`chat-sidebar ${v?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>x(!v),title:v?"Expand":"Collapse",children:v?"":""}),!v&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>f(),disabled:g,title:"Refresh",children:""})]})]}),!v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"chat-conversations",children:g&&E.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):E.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):E.map(M=>r.jsx(ix,{conversation:M,selected:M.target===e,onClick:()=>G(M.target)},M.target))}),r.jsxs("div",{className:"chat-sidebar-footer",children:[r.jsx("button",{className:"restart-session-btn",onClick:U,disabled:j.initializing,title:"Restart the chrote-chat tmux session",children:j.initializing?"Restarting...":"Restart Chat Session"}),r.jsx("div",{className:"session-status",children:j.exists?"Session active":"No session"})]})]})]}),r.jsx("div",{className:"chat-main",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("button",{className:"chat-back-btn mobile-only",onClick:re,children:""}),r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(h==null?void 0:h.displayName)||e}),r.jsx("span",{className:`chat-header-status ${h!=null&&h.online?"online":"offline"}`,children:h!=null&&h.online?"Online":"Offline"})]}),r.jsx("button",{className:"refresh-btn",onClick:()=>k(),disabled:S,title:"Refresh history",children:""})]}),r.jsxs("div",{className:"chat-messages",ref:C,onScroll:R,children:[S&&Q.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):Q.length===0&&!o&&!c?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):Q.map(M=>r.jsx(cx,{message:M},M.id)),c&&r.jsx(ax,{content:c}),o&&r.jsx(ox,{}),r.jsx("div",{ref:b})]}),r.jsxs("div",{className:"chat-input-area",children:[!(h!=null&&h.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:T,className:"chat-input",value:l,onChange:A,onKeyDown:W,placeholder:h!=null&&h.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:o||!(h!=null&&h.workspace)}),r.jsx("button",{className:"chat-nudge-btn",onClick:L,disabled:p||!(h!=null&&h.workspace),title:"Send a quick nudge",children:p?"...":"Nudge!"}),r.jsx("button",{className:"chat-send-btn",onClick:q,disabled:!l.trim()||o||!(h!=null&&h.workspace),title:h!=null&&h.workspace?"Send (Enter)":"No workspace detected",children:o?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})})]})}function ix({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function ox(){return r.jsx("div",{className:"chat-sending-spinner",children:r.jsx("div",{className:"spinner"})})}function ax({content:e}){return r.jsxs("div",{className:"chat-message user pending",children:[r.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>r.jsx("p",{children:t||""},n))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function cx({message:e}){const t=e.role==="user",n=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((s,l)=>r.jsx("p",{children:s||""},l))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class bu extends d.Component{constructor(n){super(n);Ka(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Cu=4e3,Eu=300,ux={success:"",info:"",warning:"",error:""};function dx({toast:e,onRemove:t}){const[n,s]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const p=Date.now()-a,m=Math.max(0,100-p/Cu*100);i(m)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Eu)},Cu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),Eu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:ux[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function fx(){const{toasts:e,removeToast:t}=br();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(dx,{toast:n,onRemove:t},n.id))})}const hx=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function vh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function px({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(vh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function mx({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(px,{...n},s))})]})}function gx({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:hx.map((l,i)=>r.jsx(mx,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(vh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function vx({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=ct(),[a,c]=d.useState(""),[u,p]=d.useState(null),[m,v]=d.useState(""),x=()=>{a.trim()&&s(a.trim())&&c("")},j=y=>{l(y),t()},w=y=>{i(y)},E=y=>{p(y.id),v(y.name)},g=()=>{u&&m.trim()&&(o(u,m.trim()),p(null),v(""))},f=()=>{p(null),v("")},h=y=>{let S=0,k=0;return Object.values(y.workspaces).forEach(N=>{S+=N.windowCount,N.windows.forEach(b=>{k+=b.boundSessions.length})}),`${S} windows, ${k} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((y,S)=>r.jsx("li",{className:"preset-item",children:u===y.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:m,onChange:k=>v(k.target.value),onKeyDown:k=>{k.key==="Enter"&&g(),k.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:g,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",S+1]}),r.jsx("span",{className:"preset-name",children:y.name}),r.jsx("span",{className:"preset-summary",children:h(y)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>j(y.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>E(y),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function yx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:p,loadPreset:m,layoutPresets:v}=ct(),x=d.useCallback(async()=>{try{const E=u.defaultSessionPrefix||"tmux",g=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${g}(\\d+)$`),h=p.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),y=h.length>0?Math.max(...h)+1:1,S=`${E}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S})})).ok&&c()}catch(E){console.error("Failed to create session:",E)}},[u.defaultSessionPrefix,p,c]),j=d.useCallback(()=>{const E=document.querySelector(".session-search-input");E&&(E.focus(),E.select())},[]),w=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const E=g=>{const f=g.target,h=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(g.key==="Escape"){if(s)return;if(a){g.preventDefault(),o();return}}if(!(h||s)){if(g.key==="?"||g.shiftKey&&g.key==="/"){g.preventDefault(),n();return}if(g.key==="/"&&!g.ctrlKey&&!g.metaKey){g.preventDefault(),j();return}if(g.key==="Tab"&&!g.ctrlKey&&!g.shiftKey&&!g.altKey&&(e==="terminal1"||e==="terminal2")){g.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!g.ctrlKey&&!g.metaKey&&!g.altKey&&/^[1-4]$/.test(g.key)){const y=w();if(y){const S=parseInt(g.key,10),k=l[y];if(S<=k.windowCount){g.preventDefault();return}}}if(g.ctrlKey&&g.key==="s"){g.preventDefault(),i();return}if(g.ctrlKey&&g.key==="n"){g.preventDefault(),x();return}if(g.ctrlKey&&/^[1-9]$/.test(g.key)){const y=parseInt(g.key,10)-1;if(y<v.length){g.preventDefault(),m(v[y].id);return}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,t,n,s,a,o,j,i,x,w,l,m,v])}function xx({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function wx(){const[e,t]=d.useState("terminal1"),[n,s]=d.useState(null),[l,i]=d.useState(!1),[o,a]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:p,isDragging:m,settings:v}=ct(),x=d.useCallback(()=>i(!0),[]),j=d.useCallback(()=>i(!1),[]),w=d.useCallback(()=>a(!0),[]),E=d.useCallback(()=>a(!1),[]);yx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",v.theme)},[v.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${v.fontSize}px`)},[v.fontSize]);const g=pg(hg(Aa,{activationConstraint:{distance:4}})),f=y=>{var k,N;const S=(k=y.active.data.current)==null?void 0:k.type;s(S==="tag"?((N=y.active.data.current)==null?void 0:N.sessionName)??null:y.active.id),p(!0)},h=y=>{var N,b,C,T;const{active:S,over:k}=y;if(s(null),p(!1),!k){if(((N=S.data.current)==null?void 0:N.type)==="tag"){const{sessionName:O,sourceWindowId:K,sourceWorkspaceId:R}=S.data.current;u(R,K,O)}return}if(((b=k.data.current)==null?void 0:b.type)==="window"){const O=k.data.current.windowId,K=k.data.current.workspaceId;if(((C=S.data.current)==null?void 0:C.type)==="session")c(K,O,S.id);else if(((T=S.data.current)==null?void 0:T.type)==="tag"){const{sessionName:R,sourceWindowId:U,sourceWorkspaceId:G}=S.data.current;(U!==O||G!==K)&&c(K,O,R)}}};return r.jsxs(dv,{sensors:g,onDragStart:f,onDragEnd:h,children:[r.jsxs("div",{className:`dashboard ${m?"is-dragging":""}`,children:[r.jsx(Uv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(Jv,{}),r.jsx(ny,{workspaceId:e})]}),e==="files"&&r.jsx(wy,{}),e==="beads"&&r.jsx(bu,{children:r.jsx(Vy,{})}),e==="chat"&&r.jsx(bu,{children:r.jsx(lx,{})}),e==="manual"&&r.jsx(Ky,{}),e==="settings"&&r.jsx(Ny,{}),e==="help"&&r.jsx(by,{})]}),r.jsx(Sy,{}),r.jsx(gx,{isOpen:l,onClose:j}),r.jsx(vx,{isOpen:o,onClose:E})]}),r.jsx(fx,{}),r.jsx(Dv,{children:n?r.jsx(xx,{name:n}):null})]})}function jx(){return r.jsx(Bv,{children:r.jsx(wx,{})})}Fi.createRoot(document.getElementById("root")).render(r.jsx(ge.StrictMode,{children:r.jsx(Mv,{children:r.jsx(jx,{})})}));
