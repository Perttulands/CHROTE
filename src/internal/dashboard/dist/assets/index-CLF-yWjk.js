var Dh=Object.defineProperty;var Rh=(e,t,n)=>t in e?Dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ua=(e,t,n)=>Rh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},Ll={},Ru={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),Mh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),zh=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Bh=Symbol.for("react.memo"),Wh=Symbol.for("react.lazy"),Va=Symbol.iterator;function Uh(e){return e===null||typeof e!="object"?null:(e=Va&&e[Va]||e["@@iterator"],typeof e=="function"?e:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Ou={};function hs(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=hs.prototype;function Lo(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}var _o=Lo.prototype=new Lu;_o.constructor=Lo;Mu(_o,hs.prototype);_o.isPureReactComponent=!0;var Ha=Array.isArray,_u=Object.prototype.hasOwnProperty,zo={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_u.call(t,s)&&!zu.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:vr,type:e,key:i,ref:o,props:l,_owner:zo.current}}function Vh(e,t){return{$$typeof:vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ao(e){return typeof e=="object"&&e!==null&&e.$$typeof===vr}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ka=/\/+/g;function li(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function Vr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vr:case Mh:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+li(o,0):s,Ha(l)?(n="",e!=null&&(n=e.replace(Ka,"$&/")+"/"),Vr(l,t,n,"",function(u){return u})):l!=null&&(Ao(l)&&(l=Vh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ka,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ha(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+li(i,a);o+=Vr(i,t,n,c,l)}else if(c=Uh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+li(i,a++),o+=Vr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Er(e,t,n){if(e==null)return e;var s=[],l=0;return Vr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Kh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Hr={transition:null},Gh={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Hr,ReactCurrentOwner:zo};function Fu(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Er,forEach:function(e,t,n){Er(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Er(e,function(){t++}),t},toArray:function(e){return Er(e,function(t){return t})||[]},only:function(e){if(!Ao(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=hs;q.Fragment=Oh;q.Profiler=_h;q.PureComponent=Lo;q.StrictMode=Lh;q.Suspense=$h;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;q.act=Fu;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Mu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)_u.call(t,c)&&!zu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:vr,type:e.type,key:l,ref:i,props:s,_owner:o}};q.createContext=function(e){return e={$$typeof:Ah,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zh,_context:e},e.Consumer=e};q.createElement=Au;q.createFactory=function(e){var t=Au.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Fh,render:e}};q.isValidElement=Ao;q.lazy=function(e){return{$$typeof:Wh,_payload:{_status:-1,_result:e},_init:Kh}};q.memo=function(e,t){return{$$typeof:Bh,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Hr.transition;Hr.transition={};try{e()}finally{Hr.transition=t}};q.unstable_act=Fu;q.useCallback=function(e,t){return Be.current.useCallback(e,t)};q.useContext=function(e){return Be.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};q.useEffect=function(e,t){return Be.current.useEffect(e,t)};q.useId=function(){return Be.current.useId()};q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Be.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};q.useRef=function(e){return Be.current.useRef(e)};q.useState=function(e){return Be.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Be.current.useTransition()};q.version="18.3.1";Ru.exports=q;var d=Ru.exports;const xe=Ih(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=d,Yh=Symbol.for("react.element"),Xh=Symbol.for("react.fragment"),Jh=Object.prototype.hasOwnProperty,Zh=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Jh.call(t,s)&&!qh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Yh,type:e,key:i,ref:o,props:l,_owner:Zh.current}}Ll.Fragment=Xh;Ll.jsx=$u;Ll.jsxs=$u;Du.exports=Ll;var r=Du.exports,_i={},Bu={exports:{}},nt={},Wu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,$){var U=z.length;z.push($);e:for(;0<U;){var ee=U-1>>>1,V=z[ee];if(0<l(V,$))z[ee]=$,z[U]=V,U=ee;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var $=z[0],U=z.pop();if(U!==$){z[0]=U;e:for(var ee=0,V=z.length,de=V>>>1;ee<de;){var X=2*(ee+1)-1,oe=z[X],P=X+1,F=z[P];if(0>l(oe,U))P<V&&0>l(F,oe)?(z[ee]=F,z[P]=U,ee=P):(z[ee]=oe,z[X]=U,ee=X);else if(P<V&&0>l(F,U))z[ee]=F,z[P]=U,ee=P;else break e}}return $}function l(z,$){var U=z.sortIndex-$.sortIndex;return U!==0?U:z.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,g=3,x=!1,j=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var $=n(u);$!==null;){if($.callback===null)s(u);else if($.startTime<=z)s(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function y(z){if(w=!1,v(z),!j)if(n(c)!==null)j=!0,M(S);else{var $=n(u);$!==null&&Z(y,$.startTime-z)}}function S(z,$){j=!1,w&&(w=!1,m(k),k=-1),x=!0;var U=g;try{for(v($),p=n(c);p!==null&&(!(p.expirationTime>$)||z&&!L());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,g=p.priorityLevel;var V=ee(p.expirationTime<=$);$=e.unstable_now(),typeof V=="function"?p.callback=V:p===n(c)&&s(c),v($)}else s(c);p=n(c)}if(p!==null)var de=!0;else{var X=n(u);X!==null&&Z(y,X.startTime-$),de=!1}return de}finally{p=null,g=U,x=!1}}var C=!1,N=null,k=-1,b=5,T=-1;function L(){return!(e.unstable_now()-T<b)}function K(){if(N!==null){var z=e.unstable_now();T=z;var $=!0;try{$=N(!0,z)}finally{$?Y():(C=!1,N=null)}}else C=!1}var Y;if(typeof f=="function")Y=function(){f(K)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,G=_.port2;_.port1.onmessage=K,Y=function(){G.postMessage(null)}}else Y=function(){E(K,0)};function M(z){N=z,C||(C=!0,Y())}function Z(z,$){k=E(function(){z(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,M(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var U=g;g=$;try{return z()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=g;g=z;try{return $()}finally{g=U}},e.unstable_scheduleCallback=function(z,$,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,z={id:h++,callback:$,priorityLevel:z,startTime:U,expirationTime:V,sortIndex:-1},U>ee?(z.sortIndex=U,t(u,z),n(c)===null&&z===n(u)&&(w?(m(k),k=-1):w=!0,Z(y,U-ee))):(z.sortIndex=V,t(c,z),j||x||(j=!0,M(S))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var $=g;return function(){var U=g;g=$;try{return z.apply(this,arguments)}finally{g=U}}}})(Uu);Wu.exports=Uu;var ep=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=d,tt=ep;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=new Set,Xs={};function Rn(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(Xs[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ga={},Qa={};function sp(e){return zi.call(Qa,e)?!0:zi.call(Ga,e)?!1:np.test(e)?Qa[e]=!0:(Ga[e]=!0,!1)}function rp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lp(e,t,n,s){if(t===null||typeof t>"u"||rp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fo=/[\-:]([a-z])/g;function $o(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fo,$o);Ie[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fo,$o);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fo,$o);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bo(e,t,n,s){var l=Ie.hasOwnProperty(t)?Ie[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lp(t,n,l,s)&&(n=null),s||l===null?sp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Wt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tr=Symbol.for("react.element"),An=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Wo=Symbol.for("react.strict_mode"),Ai=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Uo=Symbol.for("react.forward_ref"),Fi=Symbol.for("react.suspense"),$i=Symbol.for("react.suspense_list"),Vo=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),Ya=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=Ya&&e[Ya]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ii;function Ms(e){if(ii===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ii=t&&t[1]||""}return`
`+ii+e}var oi=!1;function ai(e,t){if(!e||oi)return"";oi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{oi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ms(e):""}function ip(e){switch(e.tag){case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return e=ai(e.type,!1),e;case 11:return e=ai(e.type.render,!1),e;case 1:return e=ai(e.type,!0),e;default:return""}}function Bi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fn:return"Fragment";case An:return"Portal";case Ai:return"Profiler";case Wo:return"StrictMode";case Fi:return"Suspense";case $i:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ku:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case Uo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vo:return t=e.displayName||null,t!==null?t:Bi(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Bi(e(t))}catch{}}return null}function op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bi(t);case 8:return t===Wo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=Qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=ap(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Qu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wi(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xa(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xu(e,t){t=t.checked,t!=null&&Bo(e,"checked",t,!1)}function Ui(e,t){Xu(e,t);var n=un(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vi(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ja(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vi(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function qn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Hi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Za(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Os(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function Ju(e,t){var n=un(t.value),s=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function qa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ki(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cp=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ed(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var up=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(e,t){if(t){if(up[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Qi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,es=null,ts=null;function ec(e){if(e=wr(e)){if(typeof Xi!="function")throw Error(I(280));var t=e.stateNode;t&&(t=$l(t),Xi(e.stateNode,e.type,t))}}function nd(e){es?ts?ts.push(e):ts=[e]:es=e}function sd(){if(es){var e=es,t=ts;if(ts=es=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function rd(e,t){return e(t)}function ld(){}var ci=!1;function id(e,t,n){if(ci)return e(t,n);ci=!0;try{return rd(e,t,n)}finally{ci=!1,(es!==null||ts!==null)&&(ld(),sd())}}function Zs(e,t){var n=e.stateNode;if(n===null)return null;var s=$l(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Ji=!1;if(zt)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{Ji=!1}function dp(e,t,n,s,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var As=!1,ll=null,il=!1,Zi=null,fp={onError:function(e){As=!0,ll=e}};function hp(e,t,n,s,l,i,o,a,c){As=!1,ll=null,dp.apply(fp,arguments)}function pp(e,t,n,s,l,i,o,a,c){if(hp.apply(this,arguments),As){if(As){var u=ll;As=!1,ll=null}else throw Error(I(198));il||(il=!0,Zi=u)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(In(e)!==e)throw Error(I(188))}function mp(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return tc(l),e;if(i===s)return tc(l),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ad(e){return e=mp(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=tt.unstable_scheduleCallback,nc=tt.unstable_cancelCallback,gp=tt.unstable_shouldYield,vp=tt.unstable_requestPaint,we=tt.unstable_now,yp=tt.unstable_getCurrentPriorityLevel,Ko=tt.unstable_ImmediatePriority,dd=tt.unstable_UserBlockingPriority,ol=tt.unstable_NormalPriority,xp=tt.unstable_LowPriority,fd=tt.unstable_IdlePriority,_l=null,Pt=null;function wp(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Sp,jp=Math.log,Np=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(jp(e)/Np|0)|0}var Rr=64,Ir=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=Ls(a):(i&=o,i!==0&&(s=Ls(i)))}else o=n&~l,o!==0?s=Ls(o):i!==0&&(s=Ls(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-xt(t),l=1<<n,s|=e[n],t&=~l;return s}function kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-xt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=kp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=Rr;return Rr<<=1,!(Rr&4194240)&&(Rr=64),e}function ui(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function Cp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-xt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Go(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-xt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var se=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Qo,gd,vd,yd,eo=!1,Mr=[],tn=null,nn=null,sn=null,qs=new Map,er=new Map,Jt=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function bs(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=wr(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Tp(e,t,n,s,l){switch(t){case"focusin":return tn=bs(tn,e,t,n,s,l),!0;case"dragenter":return nn=bs(nn,e,t,n,s,l),!0;case"mouseover":return sn=bs(sn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return qs.set(i,bs(qs.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,er.set(i,bs(er.get(i)||null,e,t,n,s,l)),!0}return!1}function xd(e){var t=jn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,yd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=to(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Yi=s,n.target.dispatchEvent(s),Yi=null}else return t=wr(n),t!==null&&Qo(t),e.blockedOn=n,!1;t.shift()}return!0}function rc(e,t,n){Kr(e)&&n.delete(t)}function Pp(){eo=!1,tn!==null&&Kr(tn)&&(tn=null),nn!==null&&Kr(nn)&&(nn=null),sn!==null&&Kr(sn)&&(sn=null),qs.forEach(rc),er.forEach(rc)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,eo||(eo=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Pp)))}function tr(e){function t(l){return Cs(l,e)}if(0<Mr.length){Cs(Mr[0],e);for(var n=1;n<Mr.length;n++){var s=Mr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(tn!==null&&Cs(tn,e),nn!==null&&Cs(nn,e),sn!==null&&Cs(sn,e),qs.forEach(t),er.forEach(t),n=0;n<Jt.length;n++)s=Jt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&Jt.shift()}var ns=Wt.ReactCurrentBatchConfig,cl=!0;function Dp(e,t,n,s){var l=se,i=ns.transition;ns.transition=null;try{se=1,Yo(e,t,n,s)}finally{se=l,ns.transition=i}}function Rp(e,t,n,s){var l=se,i=ns.transition;ns.transition=null;try{se=4,Yo(e,t,n,s)}finally{se=l,ns.transition=i}}function Yo(e,t,n,s){if(cl){var l=to(e,t,n,s);if(l===null)wi(e,t,s,ul,n),sc(e,s);else if(Tp(l,e,t,n,s))s.stopPropagation();else if(sc(e,s),t&4&&-1<Ep.indexOf(e)){for(;l!==null;){var i=wr(l);if(i!==null&&md(i),i=to(e,t,n,s),i===null&&wi(e,t,s,ul,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else wi(e,t,s,null,n)}}var ul=null;function to(e,t,n,s){if(ul=null,e=Ho(s),e=jn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case Ko:return 1;case dd:return 4;case ol:case xp:return 16;case fd:return 536870912;default:return 16}default:return 16}}var qt=null,Xo=null,Gr=null;function jd(){if(Gr)return Gr;var e,t=Xo,n=t.length,s,l="value"in qt?qt.value:qt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Gr=l.slice(e,1<s?1-s:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function lc(){return!1}function st(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Or:lc,this.isPropagationStopped=lc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=st(ps),xr=ve({},ps,{view:0,detail:0}),Ip=st(xr),di,fi,Es,zl=ve({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(di=e.screenX-Es.screenX,fi=e.screenY-Es.screenY):fi=di=0,Es=e),di)},movementY:function(e){return"movementY"in e?e.movementY:fi}}),ic=st(zl),Mp=ve({},zl,{dataTransfer:0}),Op=st(Mp),Lp=ve({},xr,{relatedTarget:0}),hi=st(Lp),_p=ve({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),zp=st(_p),Ap=ve({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=st(Ap),$p=ve({},ps,{data:0}),oc=st($p),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function Zo(){return Vp}var Hp=ve({},xr,{key:function(e){if(e.key){var t=Bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=st(Hp),Gp=ve({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=st(Gp),Qp=ve({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),Yp=st(Qp),Xp=ve({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=st(Xp),Zp=ve({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=st(Zp),em=[9,13,27,32],qo=zt&&"CompositionEvent"in window,Fs=null;zt&&"documentMode"in document&&(Fs=document.documentMode);var tm=zt&&"TextEvent"in window&&!Fs,Nd=zt&&(!qo||Fs&&8<Fs&&11>=Fs),cc=" ",uc=!1;function Sd(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function nm(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function sm(e,t){if($n)return e==="compositionend"||!qo&&Sd(e,t)?(e=jd(),Gr=Xo=qt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rm[e.type]:t==="textarea"}function bd(e,t,n,s){nd(s),t=dl(t,"onChange"),0<t.length&&(n=new Jo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $s=null,nr=null;function lm(e){_d(e,0)}function Al(e){var t=Un(e);if(Yu(t))return e}function im(e,t){if(e==="change")return t}var Cd=!1;if(zt){var pi;if(zt){var mi="oninput"in document;if(!mi){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),mi=typeof fc.oninput=="function"}pi=mi}else pi=!1;Cd=pi&&(!document.documentMode||9<document.documentMode)}function hc(){$s&&($s.detachEvent("onpropertychange",Ed),nr=$s=null)}function Ed(e){if(e.propertyName==="value"&&Al(nr)){var t=[];bd(t,nr,e,Ho(e)),id(lm,t)}}function om(e,t,n){e==="focusin"?(hc(),$s=t,nr=n,$s.attachEvent("onpropertychange",Ed)):e==="focusout"&&hc()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(nr)}function cm(e,t){if(e==="click")return Al(t)}function um(e,t){if(e==="input"||e==="change")return Al(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:dm;function sr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!zi.call(t,l)||!jt(e[l],t[l]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=pc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fm(e){var t=Pd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(s!==null&&ea(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=mc(n,i);var o=mc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=zt&&"documentMode"in document&&11>=document.documentMode,Bn=null,no=null,Bs=null,so=!1;function gc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;so||Bn==null||Bn!==rl(s)||(s=Bn,"selectionStart"in s&&ea(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Bs&&sr(Bs,s)||(Bs=s,s=dl(no,"onSelect"),0<s.length&&(t=new Jo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Bn)))}function Lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wn={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},gi={},Dd={};zt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Fl(e){if(gi[e])return gi[e];if(!Wn[e])return e;var t=Wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dd)return gi[e]=t[n];return e}var Rd=Fl("animationend"),Id=Fl("animationiteration"),Md=Fl("animationstart"),Od=Fl("transitionend"),Ld=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){Ld.set(e,t),Rn(t,[e])}for(var vi=0;vi<vc.length;vi++){var yi=vc[vi],pm=yi.toLowerCase(),mm=yi[0].toUpperCase()+yi.slice(1);fn(pm,"on"+mm)}fn(Rd,"onAnimationEnd");fn(Id,"onAnimationIteration");fn(Md,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Od,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function yc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,pp(s,t,void 0,e),e.currentTarget=null}function _d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;yc(l,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;yc(l,a,u),i=c}}}if(il)throw e=Zi,il=!1,Zi=null,e}function ce(e,t){var n=t[ao];n===void 0&&(n=t[ao]=new Set);var s=e+"__bubble";n.has(s)||(zd(t,e,2,!1),n.add(s))}function xi(e,t,n){var s=0;t&&(s|=4),zd(n,e,s,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function rr(e){if(!e[_r]){e[_r]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||xi(n,!1,e),xi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,xi("selectionchange",!1,t))}}function zd(e,t,n,s){switch(wd(t)){case 1:var l=Dp;break;case 4:l=Rp;break;default:l=Yo}n=l.bind(null,t,n,e),l=void 0,!Ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function wi(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=jn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}id(function(){var u=i,h=Ho(n),p=[];e:{var g=Ld.get(e);if(g!==void 0){var x=Jo,j=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":x=Kp;break;case"focusin":j="focus",x=hi;break;case"focusout":j="blur",x=hi;break;case"beforeblur":case"afterblur":x=hi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Yp;break;case Rd:case Id:case Md:x=zp;break;case Od:x=Jp;break;case"scroll":x=Ip;break;case"wheel":x=qp;break;case"copy":case"cut":case"paste":x=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ac}var w=(t&4)!==0,E=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var f=u,v;f!==null;){v=f;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=Zs(f,m),y!=null&&w.push(lr(f,y,v)))),E)break;f=f.return}0<w.length&&(g=new x(g,j,null,n,h),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==Yi&&(j=n.relatedTarget||n.fromElement)&&(jn(j)||j[At]))break e;if((x||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?jn(j):null,j!==null&&(E=In(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(w=ic,y="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=ac,y="onPointerLeave",m="onPointerEnter",f="pointer"),E=x==null?g:Un(x),v=j==null?g:Un(j),g=new w(y,f+"leave",x,n,h),g.target=E,g.relatedTarget=v,y=null,jn(h)===u&&(w=new w(m,f+"enter",j,n,h),w.target=v,w.relatedTarget=E,y=w),E=y,x&&j)t:{for(w=x,m=j,f=0,v=w;v;v=_n(v))f++;for(v=0,y=m;y;y=_n(y))v++;for(;0<f-v;)w=_n(w),f--;for(;0<v-f;)m=_n(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=_n(w),m=_n(m)}w=null}else w=null;x!==null&&xc(p,g,x,w,!1),j!==null&&E!==null&&xc(p,E,j,w,!0)}}e:{if(g=u?Un(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var S=im;else if(dc(g))if(Cd)S=um;else{S=am;var C=om}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=cm);if(S&&(S=S(e,u))){bd(p,S,n,h);break e}C&&C(e,g,u),e==="focusout"&&(C=g._wrapperState)&&C.controlled&&g.type==="number"&&Vi(g,"number",g.value)}switch(C=u?Un(u):window,e){case"focusin":(dc(C)||C.contentEditable==="true")&&(Bn=C,no=u,Bs=null);break;case"focusout":Bs=no=Bn=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,gc(p,n,h);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":gc(p,n,h)}var N;if(qo)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $n?Sd(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Nd&&n.locale!=="ko"&&($n||k!=="onCompositionStart"?k==="onCompositionEnd"&&$n&&(N=jd()):(qt=h,Xo="value"in qt?qt.value:qt.textContent,$n=!0)),C=dl(u,k),0<C.length&&(k=new oc(k,e,null,n,h),p.push({event:k,listeners:C}),N?k.data=N:(N=kd(n),N!==null&&(k.data=N)))),(N=tm?nm(e,n):sm(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(h=new oc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=N))}_d(p,t)})}function lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Zs(e,n),i!=null&&s.unshift(lr(e,i,l)),i=Zs(e,t),i!=null&&s.push(lr(e,i,l))),e=e.return}return s}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,l?(c=Zs(n,i),c!=null&&o.unshift(lr(n,c,a))):l||(c=Zs(n,i),c!=null&&o.push(lr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(vm,`
`).replace(ym,"")}function zr(e,t,n){if(t=wc(t),wc(e)!==t&&n)throw Error(I(425))}function fl(){}var ro=null,lo=null;function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(jm)}:oo;function jm(e){setTimeout(function(){throw e})}function ji(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),tr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);tr(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ms,ir="__reactProps$"+ms,At="__reactContainer$"+ms,ao="__reactEvents$"+ms,Nm="__reactListeners$"+ms,Sm="__reactHandles$"+ms;function jn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nc(e);e!==null;){if(n=e[Tt])return n;e=Nc(e)}return t}e=n,n=e.parentNode}return null}function wr(e){return e=e[Tt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function $l(e){return e[ir]||null}var co=[],Vn=-1;function hn(e){return{current:e}}function ue(e){0>Vn||(e.current=co[Vn],co[Vn]=null,Vn--)}function ie(e,t){Vn++,co[Vn]=e.current,e.current=t}var dn={},Ae=hn(dn),Ke=hn(!1),Cn=dn;function os(e,t){var n=e.type.contextTypes;if(!n)return dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function hl(){ue(Ke),ue(Ae)}function Sc(e,t,n){if(Ae.current!==dn)throw Error(I(168));ie(Ae,t),ie(Ke,n)}function Ad(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(I(108,op(e)||"Unknown",l));return ve({},n,s)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Cn=Ae.current,ie(Ae,e),ie(Ke,Ke.current),!0}function kc(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=Ad(e,t,Cn),s.__reactInternalMemoizedMergedChildContext=e,ue(Ke),ue(Ae),ie(Ae,e)):ue(Ke),ie(Ke,n)}var Mt=null,Bl=!1,Ni=!1;function Fd(e){Mt===null?Mt=[e]:Mt.push(e)}function km(e){Bl=!0,Fd(e)}function pn(){if(!Ni&&Mt!==null){Ni=!0;var e=0,t=se;try{var n=Mt;for(se=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Mt=null,Bl=!1}catch(l){throw Mt!==null&&(Mt=Mt.slice(e+1)),ud(Ko,pn),l}finally{se=t,Ni=!1}}return null}var Hn=[],Kn=0,ml=null,gl=0,ot=[],at=0,En=null,Ot=1,Lt="";function xn(e,t){Hn[Kn++]=gl,Hn[Kn++]=ml,ml=e,gl=t}function $d(e,t,n){ot[at++]=Ot,ot[at++]=Lt,ot[at++]=En,En=e;var s=Ot;e=Lt;var l=32-xt(s)-1;s&=~(1<<l),n+=1;var i=32-xt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,Ot=1<<32-xt(t)+l|n<<l|s,Lt=i+e}else Ot=1<<i|n<<l|s,Lt=e}function ta(e){e.return!==null&&(xn(e,1),$d(e,1,0))}function na(e){for(;e===ml;)ml=Hn[--Kn],Hn[Kn]=null,gl=Hn[--Kn],Hn[Kn]=null;for(;e===En;)En=ot[--at],ot[at]=null,Lt=ot[--at],ot[at]=null,Ot=ot[--at],ot[at]=null}var et=null,qe=null,fe=!1,yt=null;function Bd(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,qe=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:Ot,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,qe=null,!0):!1;default:return!1}}function uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fo(e){if(fe){var t=qe;if(t){var n=t;if(!bc(e,t)){if(uo(e))throw Error(I(418));t=rn(n.nextSibling);var s=et;t&&bc(e,t)?Bd(s,n):(e.flags=e.flags&-4097|2,fe=!1,et=e)}}else{if(uo(e))throw Error(I(418));e.flags=e.flags&-4097|2,fe=!1,et=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Ar(e){if(e!==et)return!1;if(!fe)return Cc(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!io(e.type,e.memoizedProps)),t&&(t=qe)){if(uo(e))throw Wd(),Error(I(418));for(;t;)Bd(e,t),t=rn(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=et?rn(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=qe;e;)e=rn(e.nextSibling)}function as(){qe=et=null,fe=!1}function sa(e){yt===null?yt=[e]:yt.push(e)}var bm=Wt.ReactCurrentBatchConfig;function Ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Ud(e){function t(m,f){if(e){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function s(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=cn(m,f),m.index=0,m.sibling=null,m}function i(m,f,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,v,y){return f===null||f.tag!==6?(f=Pi(v,m.mode,y),f.return=m,f):(f=l(f,v),f.return=m,f)}function c(m,f,v,y){var S=v.type;return S===Fn?h(m,f,v.props.children,y,v.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qt&&Ec(S)===f.type)?(y=l(f,v.props),y.ref=Ts(m,f,v),y.return=m,y):(y=tl(v.type,v.key,v.props,null,m.mode,y),y.ref=Ts(m,f,v),y.return=m,y)}function u(m,f,v,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Di(v,m.mode,y),f.return=m,f):(f=l(f,v.children||[]),f.return=m,f)}function h(m,f,v,y,S){return f===null||f.tag!==7?(f=bn(v,m.mode,y,S),f.return=m,f):(f=l(f,v),f.return=m,f)}function p(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Pi(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Tr:return v=tl(f.type,f.key,f.props,null,m.mode,v),v.ref=Ts(m,null,f),v.return=m,v;case An:return f=Di(f,m.mode,v),f.return=m,f;case Qt:var y=f._init;return p(m,y(f._payload),v)}if(Os(f)||Ss(f))return f=bn(f,m.mode,v,null),f.return=m,f;Fr(m,f)}return null}function g(m,f,v,y){var S=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,f,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Tr:return v.key===S?c(m,f,v,y):null;case An:return v.key===S?u(m,f,v,y):null;case Qt:return S=v._init,g(m,f,S(v._payload),y)}if(Os(v)||Ss(v))return S!==null?null:h(m,f,v,y,null);Fr(m,v)}return null}function x(m,f,v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,a(f,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:return m=m.get(y.key===null?v:y.key)||null,c(f,m,y,S);case An:return m=m.get(y.key===null?v:y.key)||null,u(f,m,y,S);case Qt:var C=y._init;return x(m,f,v,C(y._payload),S)}if(Os(y)||Ss(y))return m=m.get(v)||null,h(f,m,y,S,null);Fr(f,y)}return null}function j(m,f,v,y){for(var S=null,C=null,N=f,k=f=0,b=null;N!==null&&k<v.length;k++){N.index>k?(b=N,N=null):b=N.sibling;var T=g(m,N,v[k],y);if(T===null){N===null&&(N=b);break}e&&N&&T.alternate===null&&t(m,N),f=i(T,f,k),C===null?S=T:C.sibling=T,C=T,N=b}if(k===v.length)return n(m,N),fe&&xn(m,k),S;if(N===null){for(;k<v.length;k++)N=p(m,v[k],y),N!==null&&(f=i(N,f,k),C===null?S=N:C.sibling=N,C=N);return fe&&xn(m,k),S}for(N=s(m,N);k<v.length;k++)b=x(N,m,k,v[k],y),b!==null&&(e&&b.alternate!==null&&N.delete(b.key===null?k:b.key),f=i(b,f,k),C===null?S=b:C.sibling=b,C=b);return e&&N.forEach(function(L){return t(m,L)}),fe&&xn(m,k),S}function w(m,f,v,y){var S=Ss(v);if(typeof S!="function")throw Error(I(150));if(v=S.call(v),v==null)throw Error(I(151));for(var C=S=null,N=f,k=f=0,b=null,T=v.next();N!==null&&!T.done;k++,T=v.next()){N.index>k?(b=N,N=null):b=N.sibling;var L=g(m,N,T.value,y);if(L===null){N===null&&(N=b);break}e&&N&&L.alternate===null&&t(m,N),f=i(L,f,k),C===null?S=L:C.sibling=L,C=L,N=b}if(T.done)return n(m,N),fe&&xn(m,k),S;if(N===null){for(;!T.done;k++,T=v.next())T=p(m,T.value,y),T!==null&&(f=i(T,f,k),C===null?S=T:C.sibling=T,C=T);return fe&&xn(m,k),S}for(N=s(m,N);!T.done;k++,T=v.next())T=x(N,m,k,T.value,y),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),f=i(T,f,k),C===null?S=T:C.sibling=T,C=T);return e&&N.forEach(function(K){return t(m,K)}),fe&&xn(m,k),S}function E(m,f,v,y){if(typeof v=="object"&&v!==null&&v.type===Fn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Tr:e:{for(var S=v.key,C=f;C!==null;){if(C.key===S){if(S=v.type,S===Fn){if(C.tag===7){n(m,C.sibling),f=l(C,v.props.children),f.return=m,m=f;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qt&&Ec(S)===C.type){n(m,C.sibling),f=l(C,v.props),f.ref=Ts(m,C,v),f.return=m,m=f;break e}n(m,C);break}else t(m,C);C=C.sibling}v.type===Fn?(f=bn(v.props.children,m.mode,y,v.key),f.return=m,m=f):(y=tl(v.type,v.key,v.props,null,m.mode,y),y.ref=Ts(m,f,v),y.return=m,m=y)}return o(m);case An:e:{for(C=v.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=l(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Di(v,m.mode,y),f.return=m,m=f}return o(m);case Qt:return C=v._init,E(m,f,C(v._payload),y)}if(Os(v))return j(m,f,v,y);if(Ss(v))return w(m,f,v,y);Fr(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,v),f.return=m,m=f):(n(m,f),f=Pi(v,m.mode,y),f.return=m,m=f),o(m)):n(m,f)}return E}var cs=Ud(!0),Vd=Ud(!1),vl=hn(null),yl=null,Gn=null,ra=null;function la(){ra=Gn=yl=null}function ia(e){var t=vl.current;ue(vl),e._currentValue=t}function ho(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){yl=e,ra=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(ra!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(yl===null)throw Error(I(308));Gn=e,yl.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var Nn=null;function oa(e){Nn===null?Nn=[e]:Nn.push(e)}function Hd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,oa(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,s)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ft(e,n)}return l=s.interleaved,l===null?(t.next=t,oa(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ft(e,n)}function Yr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Go(e,n)}}function Tc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xl(e,t,n,s){var l=e.updateQueue;Yt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,x=a.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(g=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(x,p,g);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,g=typeof j=="function"?j.call(x,p,g):j,g==null)break e;p=ve({},p,g);break e;case 2:Yt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Pn|=o,e.lanes=o,e.memoizedState=p}}function Pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(I(191,l));l.call(s)}}}var jr={},Dt=hn(jr),or=hn(jr),ar=hn(jr);function Sn(e){if(e===jr)throw Error(I(174));return e}function ca(e,t){switch(ie(ar,t),ie(or,e),ie(Dt,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ki(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ki(t,e)}ue(Dt),ie(Dt,t)}function us(){ue(Dt),ue(or),ue(ar)}function Gd(e){Sn(ar.current);var t=Sn(Dt.current),n=Ki(t,e.type);t!==n&&(ie(or,e),ie(Dt,n))}function ua(e){or.current===e&&(ue(Dt),ue(or))}var me=hn(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Si=[];function da(){for(var e=0;e<Si.length;e++)Si[e]._workInProgressVersionPrimary=null;Si.length=0}var Xr=Wt.ReactCurrentDispatcher,ki=Wt.ReactCurrentBatchConfig,Tn=0,ge=null,Ne=null,be=null,jl=!1,Ws=!1,cr=0,Cm=0;function Le(){throw Error(I(321))}function fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function ha(e,t,n,s,l,i){if(Tn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xr.current=e===null||e.memoizedState===null?Dm:Rm,e=n(s,l),Ws){i=0;do{if(Ws=!1,cr=0,25<=i)throw Error(I(301));i+=1,be=Ne=null,t.updateQueue=null,Xr.current=Im,e=n(s,l)}while(Ws)}if(Xr.current=Nl,t=Ne!==null&&Ne.next!==null,Tn=0,be=Ne=ge=null,jl=!1,t)throw Error(I(300));return e}function pa(){var e=cr!==0;return cr=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ge.memoizedState=be=e:be=be.next=e,be}function ft(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=be===null?ge.memoizedState:be.next;if(t!==null)be=t,Ne=e;else{if(e===null)throw Error(I(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},be===null?ge.memoizedState=be=e:be=be.next=e}return be}function ur(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=ft(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=Ne,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Tn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=s):c=c.next=p,ge.lanes|=h,Pn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,jt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ge.lanes|=i,Pn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ci(e){var t=ft(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);jt(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Qd(){}function Yd(e,t){var n=ge,s=ft(),l=t(),i=!jt(s.memoizedState,l);if(i&&(s.memoizedState=l,He=!0),s=s.queue,ma(Zd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,dr(9,Jd.bind(null,n,s,l,t),void 0,null),Ee===null)throw Error(I(349));Tn&30||Xd(n,t,l)}return l}function Xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,s){t.value=n,t.getSnapshot=s,qd(t)&&ef(e)}function Zd(e,t,n){return n(function(){qd(t)&&ef(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function ef(e){var t=Ft(e,1);t!==null&&wt(t,e,1,-1)}function Dc(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},t.queue=e,e=e.dispatch=Pm.bind(null,ge,e),[t.memoizedState,e]}function dr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function tf(){return ft().memoizedState}function Jr(e,t,n,s){var l=Et();ge.flags|=e,l.memoizedState=dr(1|t,n,void 0,s===void 0?null:s)}function Wl(e,t,n,s){var l=ft();s=s===void 0?null:s;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,s!==null&&fa(s,o.deps)){l.memoizedState=dr(t,n,i,s);return}}ge.flags|=e,l.memoizedState=dr(1|t,n,i,s)}function Rc(e,t){return Jr(8390656,8,e,t)}function ma(e,t){return Wl(2048,8,e,t)}function nf(e,t){return Wl(4,2,e,t)}function sf(e,t){return Wl(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,rf.bind(null,t,e),n)}function ga(){}function of(e,t){var n=ft();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&fa(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=ft();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&fa(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function cf(e,t,n){return Tn&21?(jt(n,t)||(n=hd(),ge.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Em(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var s=ki.transition;ki.transition={};try{e(!1),t()}finally{se=n,ki.transition=s}}function uf(){return ft().memoizedState}function Tm(e,t,n){var s=an(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,n);else if(n=Hd(e,t,n,s),n!==null){var l=$e();wt(n,e,s,l),hf(n,t,s)}}function Pm(e,t,n){var s=an(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,jt(a,o)){var c=t.interleaved;c===null?(l.next=l,oa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hd(e,t,l,s),n!==null&&(l=$e(),wt(n,e,s,l),hf(n,t,s))}}function df(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function ff(e,t){Ws=jl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Go(e,n)}}var Nl={readContext:dt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Dm={readContext:dt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Rc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jr(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Et();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Tm.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Dc,useDebugValue:ga,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Dc(!1),t=e[0];return e=Em.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ge,l=Et();if(fe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ee===null)throw Error(I(349));Tn&30||Xd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Rc(Zd.bind(null,s,i,e),[e]),s.flags|=2048,dr(9,Jd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=Ee.identifierPrefix;if(fe){var n=Lt,s=Ot;n=(s&~(1<<32-xt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=cr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:dt,useCallback:of,useContext:dt,useEffect:ma,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:bi,useRef:tf,useState:function(){return bi(ur)},useDebugValue:ga,useDeferredValue:function(e){var t=ft();return cf(t,Ne.memoizedState,e)},useTransition:function(){var e=bi(ur)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1},Im={readContext:dt,useCallback:of,useContext:dt,useEffect:ma,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:Ci,useRef:tf,useState:function(){return Ci(ur)},useDebugValue:ga,useDeferredValue:function(e){var t=ft();return Ne===null?t.memoizedState=e:cf(t,Ne.memoizedState,e)},useTransition:function(){var e=Ci(ur)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function po(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$e(),l=an(e),i=_t(s,l);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,l),t!==null&&(wt(t,e,l,s),Yr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$e(),l=an(e),i=_t(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,l),t!==null&&(wt(t,e,l,s),Yr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),s=an(e),l=_t(n,s);l.tag=2,t!=null&&(l.callback=t),t=ln(e,l,s),t!==null&&(wt(t,e,s,n),Yr(t,e,s))}};function Ic(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!sr(n,s)||!sr(l,i):!0}function pf(e,t,n){var s=!1,l=dn,i=t.contextType;return typeof i=="object"&&i!==null?i=dt(i):(l=Ge(t)?Cn:Ae.current,s=t.contextTypes,i=(s=s!=null)?os(e,l):dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function mo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},aa(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=dt(i):(i=Ge(t)?Cn:Ae.current,l.context=os(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(po(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ul.enqueueReplaceState(l,l.state,null),xl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var n="",s=t;do n+=ip(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ei(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function go(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mm=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){kl||(kl=!0,Co=s),go(e,t)},n}function gf(e,t,n){n=_t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){go(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){go(e,t),typeof s!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Oc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Mm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Gm.bind(null,e,t,n),t.then(e,e))}function Lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Om=Wt.ReactCurrentOwner,He=!1;function Fe(e,t,n,s){t.child=e===null?Vd(t,null,n,s):cs(t,e.child,n,s)}function zc(e,t,n,s,l){n=n.render;var i=t.ref;return ss(t,l),s=ha(e,t,n,s,i,l),n=pa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,$t(e,t,l)):(fe&&n&&ta(t),t.flags|=1,Fe(e,t,s,l),t.child)}function Ac(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!ka(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vf(e,t,i,s,l)):(e=tl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(o,s)&&e.ref===t.ref)return $t(e,t,l)}return t.flags|=1,e=cn(i,s),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(sr(i,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,$t(e,t,l)}return vo(e,t,n,s,l)}function yf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Yn,Ze),Ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Yn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ie(Yn,Ze),Ze|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ie(Yn,Ze),Ze|=s;return Fe(e,t,l,n),t.child}function xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vo(e,t,n,s,l){var i=Ge(n)?Cn:Ae.current;return i=os(t,i),ss(t,l),n=ha(e,t,n,s,i,l),s=pa(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,$t(e,t,l)):(fe&&s&&ta(t),t.flags|=1,Fe(e,t,n,l),t.child)}function Fc(e,t,n,s,l){if(Ge(n)){var i=!0;pl(t)}else i=!1;if(ss(t,l),t.stateNode===null)Zr(e,t),pf(t,n,s),mo(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ge(n)?Cn:Ae.current,u=os(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Mc(t,o,s,u),Yt=!1;var g=t.memoizedState;o.state=g,xl(t,s,o,l),c=t.memoizedState,a!==s||g!==c||Ke.current||Yt?(typeof h=="function"&&(po(t,n,h,s),c=t.memoizedState),(a=Yt||Ic(t,n,a,s,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Kd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gt(t.type,a),o.props=u,p=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=Ge(n)?Cn:Ae.current,c=os(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Mc(t,o,s,c),Yt=!1,g=t.memoizedState,o.state=g,xl(t,s,o,l);var j=t.memoizedState;a!==p||g!==j||Ke.current||Yt?(typeof x=="function"&&(po(t,n,x,s),j=t.memoizedState),(u=Yt||Ic(t,n,u,s,g,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return yo(e,t,n,s,i,l)}function yo(e,t,n,s,l,i){xf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&kc(t,n,!1),$t(e,t,i);s=t.stateNode,Om.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,i),t.child=cs(t,null,a,i)):Fe(e,t,a,i),t.memoizedState=s.state,l&&kc(t,n,!0),t.child}function wf(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),ca(e,t.containerInfo)}function $c(e,t,n,s,l){return as(),sa(l),t.flags|=256,Fe(e,t,n,s),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0};function wo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,n){var s=t.pendingProps,l=me.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(me,l&1),e===null)return fo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kl(o,s,0,null),e=bn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wo(n),t.memoizedState=xo,e):va(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Lm(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=cn(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=cn(a,i):(i=bn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?wo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=xo,s}return i=e.child,e=i.sibling,s=cn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function va(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $r(e,t,n,s){return s!==null&&sa(s),cs(t,e.child,null,n),e=va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lm(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Ei(Error(I(422))),$r(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Kl({mode:"visible",children:s.children},l,0,null),i=bn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=wo(o),t.memoizedState=xo,i);if(!(t.mode&1))return $r(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(I(419)),s=Ei(i,s,void 0),$r(e,t,o,s)}if(a=(o&e.childLanes)!==0,He||a){if(s=Ee,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Ft(e,l),wt(s,e,l,-1))}return Sa(),s=Ei(Error(I(421))),$r(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Qm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,qe=rn(l.nextSibling),et=t,fe=!0,yt=null,e!==null&&(ot[at++]=Ot,ot[at++]=Lt,ot[at++]=En,Ot=e.id,Lt=e.overflow,En=t),t=va(t,s.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ho(e.return,t,n)}function Ti(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function Nf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(Fe(e,t,s.children,n),s=me.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ie(me,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ti(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&wl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ti(t,!0,n,null,i);break;case"together":Ti(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _m(e,t,n){switch(t.tag){case 3:wf(t),as();break;case 5:Gd(t);break;case 1:Ge(t.type)&&pl(t);break;case 4:ca(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ie(vl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ie(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?jf(e,t,n):(ie(me,me.current&1),e=$t(e,t,n),e!==null?e.sibling:null);ie(me,me.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Nf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(me,me.current),s)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,n)}return $t(e,t,n)}var Sf,jo,kf,bf;Sf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jo=function(){};kf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Sn(Dt.current);var i=null;switch(n){case"input":l=Wi(e,l),s=Wi(e,s),i=[];break;case"select":l=ve({},l,{value:void 0}),s=ve({},s,{value:void 0}),i=[];break;case"textarea":l=Hi(e,l),s=Hi(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fl)}Gi(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ps(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function zm(e,t,n){var s=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ge(t.type)&&hl(),_e(t),null;case 3:return s=t.stateNode,us(),ue(Ke),ue(Ae),da(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Po(yt),yt=null))),jo(e,t),_e(t),null;case 5:ua(t);var l=Sn(ar.current);if(n=t.type,e!==null&&t.stateNode!=null)kf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return _e(t),null}if(e=Sn(Dt.current),Ar(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Tt]=t,s[ir]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(l=0;l<_s.length;l++)ce(_s[l],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Xa(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":Za(s,i),ce("invalid",s)}Gi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,a,e),l=["children",""+a]):Xs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":Pr(s),Ja(s,i,!0);break;case"textarea":Pr(s),qa(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=fl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Tt]=t,e[ir]=s,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qi(n,s),n){case"dialog":ce("cancel",e),ce("close",e),l=s;break;case"iframe":case"object":case"embed":ce("load",e),l=s;break;case"video":case"audio":for(l=0;l<_s.length;l++)ce(_s[l],e);l=s;break;case"source":ce("error",e),l=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),l=s;break;case"details":ce("toggle",e),l=s;break;case"input":Xa(e,s),l=Wi(e,s),ce("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ve({},s,{value:void 0}),ce("invalid",e);break;case"textarea":Za(e,s),l=Hi(e,s),ce("invalid",e);break;default:l=s}Gi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?td(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Js(e,c):typeof c=="number"&&Js(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&Bo(e,i,c,o))}switch(n){case"input":Pr(e),Ja(e,s,!1);break;case"textarea":Pr(e),qa(e);break;case"option":s.value!=null&&e.setAttribute("value",""+un(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?qn(e,!!s.multiple,i,!1):s.defaultValue!=null&&qn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)bf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=Sn(ar.current),Sn(Dt.current),Ar(t)){if(s=t.stateNode,n=t.memoizedProps,s[Tt]=t,(i=s.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:zr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Tt]=t,t.stateNode=s}return _e(t),null;case 13:if(ue(me),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&qe!==null&&t.mode&1&&!(t.flags&128))Wd(),as(),t.flags|=98560,i=!1;else if(i=Ar(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Tt]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else yt!==null&&(Po(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?ke===0&&(ke=3):Sa())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return us(),jo(e,t),e===null&&rr(t.stateNode.containerInfo),_e(t),null;case 10:return ia(t.type._context),_e(t),null;case 17:return Ge(t.type)&&hl(),_e(t),null;case 19:if(ue(me),i=t.memoizedState,i===null)return _e(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ps(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wl(e),o!==null){for(t.flags|=128,Ps(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>fs&&(t.flags|=128,s=!0,Ps(i,!1),t.lanes=4194304)}else{if(!s)if(e=wl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return _e(t),null}else 2*we()-i.renderingStartTime>fs&&n!==1073741824&&(t.flags|=128,s=!0,Ps(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=me.current,ie(me,s?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Na(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ze&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Am(e,t){switch(na(t),t.tag){case 1:return Ge(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),ue(Ke),ue(Ae),da(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ua(t),null;case 13:if(ue(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(me),null;case 4:return us(),null;case 10:return ia(t.type._context),null;case 22:case 23:return Na(),null;case 24:return null;default:return null}}var Br=!1,ze=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,B=null;function Qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function No(e,t,n){try{n()}catch(s){ye(e,t,s)}}var Wc=!1;function $m(e,t){if(ro=cl,e=Pd(),ea(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=e,g=null;t:for(;;){for(var x;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||s!==0&&p.nodeType!==3||(c=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===n&&++u===l&&(a=o),g===i&&++h===s&&(c=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(lo={focusedElem:e,selectionRange:n},cl=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,E=j.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:gt(t.type,w),E);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){ye(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return j=Wc,Wc=!1,j}function Us(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&No(t,n,i)}l=l.next}while(l!==s)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function So(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[ir],delete t[ao],delete t[Nm],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ko(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(s!==4&&(e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function bo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bo(e,t,n),e=e.sibling;e!==null;)bo(e,t,n),e=e.sibling}var De=null,vt=!1;function Gt(e,t,n){for(n=n.child;n!==null;)Tf(e,t,n),n=n.sibling}function Tf(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:ze||Qn(n,t);case 6:var s=De,l=vt;De=null,Gt(e,t,n),De=s,vt=l,De!==null&&(vt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(vt?(e=De,n=n.stateNode,e.nodeType===8?ji(e.parentNode,n):e.nodeType===1&&ji(e,n),tr(e)):ji(De,n.stateNode));break;case 4:s=De,l=vt,De=n.stateNode.containerInfo,vt=!0,Gt(e,t,n),De=s,vt=l;break;case 0:case 11:case 14:case 15:if(!ze&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&No(n,t,o),l=l.next}while(l!==s)}Gt(e,t,n);break;case 1:if(!ze&&(Qn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,t,a)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(ze=(s=ze)||n.memoizedState!==null,Gt(e,t,n),ze=s):Gt(e,t,n);break;default:Gt(e,t,n)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fm),t.forEach(function(s){var l=Ym.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,vt=!1;break e;case 3:De=a.stateNode.containerInfo,vt=!0;break e;case 4:De=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(De===null)throw Error(I(160));Tf(i,o,l),De=null,vt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){ye(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Ct(e),s&4){try{Us(3,e,e.return),Vl(3,e)}catch(w){ye(e,e.return,w)}try{Us(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:mt(t,e),Ct(e),s&512&&n!==null&&Qn(n,n.return);break;case 5:if(mt(t,e),Ct(e),s&512&&n!==null&&Qn(n,n.return),e.flags&32){var l=e.stateNode;try{Js(l,"")}catch(w){ye(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xu(l,i),Qi(a,o);var u=Qi(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?td(l,p):h==="dangerouslySetInnerHTML"?qu(l,p):h==="children"?Js(l,p):Bo(l,h,p,u)}switch(a){case"input":Ui(l,i);break;case"textarea":Ju(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?qn(l,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?qn(l,!!i.multiple,i.defaultValue,!0):qn(l,!!i.multiple,i.multiple?[]:"",!1))}l[ir]=i}catch(w){ye(e,e.return,w)}}break;case 6:if(mt(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){ye(e,e.return,w)}}break;case 3:if(mt(t,e),Ct(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{tr(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:mt(t,e),Ct(e);break;case 13:mt(t,e),Ct(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(wa=we())),s&4&&Vc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ze=(u=ze)||h,mt(t,e),ze=u):mt(t,e),Ct(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(B=e,h=e.child;h!==null;){for(p=B=h;B!==null;){switch(g=B,x=g.child,g.tag){case 0:case 11:case 14:case 15:Us(4,g,g.return);break;case 1:Qn(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){ye(s,n,w)}}break;case 5:Qn(g,g.return);break;case 22:if(g.memoizedState!==null){Kc(p);continue}}x!==null?(x.return=g,B=x):Kc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ed("display",o))}catch(w){ye(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){ye(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(t,e),Ct(e),s&4&&Vc(e);break;case 21:break;default:mt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ef(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Js(l,""),s.flags&=-33);var i=Uc(e);bo(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Uc(e);ko(e,a,o);break;default:throw Error(I(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e,t,n){B=e,Df(e)}function Df(e,t,n){for(var s=(e.mode&1)!==0;B!==null;){var l=B,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Br;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||ze;a=Br;var u=ze;if(Br=o,(ze=c)&&!u)for(B=l;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?Gc(l):c!==null?(c.return=o,B=c):Gc(l);for(;i!==null;)B=i,Df(i),i=i.sibling;B=l,Br=a,ze=u}Hc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,B=i):Hc(e)}}function Hc(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Vl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ze)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pc(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&tr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}ze||t.flags&512&&So(t)}catch(g){ye(t,t.return,g)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Kc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Gc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(c){ye(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){ye(t,l,c)}}var i=t.return;try{So(t)}catch(c){ye(t,i,c)}break;case 5:var o=t.return;try{So(t)}catch(c){ye(t,o,c)}}}catch(c){ye(t,t.return,c)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var Wm=Math.ceil,Sl=Wt.ReactCurrentDispatcher,ya=Wt.ReactCurrentOwner,ut=Wt.ReactCurrentBatchConfig,te=0,Ee=null,je=null,Re=0,Ze=0,Yn=hn(0),ke=0,fr=null,Pn=0,Hl=0,xa=0,Vs=null,Ve=null,wa=0,fs=1/0,It=null,kl=!1,Co=null,on=null,Wr=!1,en=null,bl=0,Hs=0,Eo=null,qr=-1,el=0;function $e(){return te&6?we():qr!==-1?qr:qr=we()}function an(e){return e.mode&1?te&2&&Re!==0?Re&-Re:bm.transition!==null?(el===0&&(el=hd()),el):(e=se,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e):1}function wt(e,t,n,s){if(50<Hs)throw Hs=0,Eo=null,Error(I(185));yr(e,n,s),(!(te&2)||e!==Ee)&&(e===Ee&&(!(te&2)&&(Hl|=n),ke===4&&Zt(e,Re)),Qe(e,s),n===1&&te===0&&!(t.mode&1)&&(fs=we()+500,Bl&&pn()))}function Qe(e,t){var n=e.callbackNode;bp(e,t);var s=al(e,e===Ee?Re:0);if(s===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?km(Qc.bind(null,e)):Fd(Qc.bind(null,e)),wm(function(){!(te&6)&&pn()}),n=null;else{switch(pd(s)){case 1:n=Ko;break;case 4:n=dd;break;case 16:n=ol;break;case 536870912:n=fd;break;default:n=ol}n=Af(n,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rf(e,t){if(qr=-1,el=0,te&6)throw Error(I(327));var n=e.callbackNode;if(rs()&&e.callbackNode!==n)return null;var s=al(e,e===Ee?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Cl(e,s);else{t=s;var l=te;te|=2;var i=Mf();(Ee!==e||Re!==t)&&(It=null,fs=we()+500,kn(e,t));do try{Hm();break}catch(a){If(e,a)}while(!0);la(),Sl.current=i,te=l,je!==null?t=0:(Ee=null,Re=0,t=ke)}if(t!==0){if(t===2&&(l=qi(e),l!==0&&(s=l,t=To(e,l))),t===1)throw n=fr,kn(e,0),Zt(e,s),Qe(e,we()),n;if(t===6)Zt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Um(l)&&(t=Cl(e,s),t===2&&(i=qi(e),i!==0&&(s=i,t=To(e,i))),t===1))throw n=fr,kn(e,0),Zt(e,s),Qe(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:wn(e,Ve,It);break;case 3:if(Zt(e,s),(s&130023424)===s&&(t=wa+500-we(),10<t)){if(al(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=oo(wn.bind(null,e,Ve,It),t);break}wn(e,Ve,It);break;case 4:if(Zt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-xt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wm(s/1960))-s,10<s){e.timeoutHandle=oo(wn.bind(null,e,Ve,It),s);break}wn(e,Ve,It);break;case 5:wn(e,Ve,It);break;default:throw Error(I(329))}}}return Qe(e,we()),e.callbackNode===n?Rf.bind(null,e):null}function To(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Po(t)),e}function Po(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Um(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!jt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~xa,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),s=1<<n;e[n]=-1,t&=~s}}function Qc(e){if(te&6)throw Error(I(327));rs();var t=al(e,0);if(!(t&1))return Qe(e,we()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var s=qi(e);s!==0&&(t=s,n=To(e,s))}if(n===1)throw n=fr,kn(e,0),Zt(e,t),Qe(e,we()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wn(e,Ve,It),Qe(e,we()),null}function ja(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(fs=we()+500,Bl&&pn())}}function Dn(e){en!==null&&en.tag===0&&!(te&6)&&rs();var t=te;te|=1;var n=ut.transition,s=se;try{if(ut.transition=null,se=1,e)return e()}finally{se=s,ut.transition=n,te=t,!(te&6)&&pn()}}function Na(){Ze=Yn.current,ue(Yn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xm(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(na(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hl();break;case 3:us(),ue(Ke),ue(Ae),da();break;case 5:ua(s);break;case 4:us();break;case 13:ue(me);break;case 19:ue(me);break;case 10:ia(s.type._context);break;case 22:case 23:Na()}n=n.return}if(Ee=e,je=e=cn(e.current,null),Re=Ze=t,ke=0,fr=null,xa=Hl=Pn=0,Ve=Vs=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}Nn=null}return e}function If(e,t){do{var n=je;try{if(la(),Xr.current=Nl,jl){for(var s=ge.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}jl=!1}if(Tn=0,be=Ne=ge=null,Ws=!1,cr=0,ya.current=null,n===null||n.return===null){ke=1,fr=t,je=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Re,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Lc(o);if(x!==null){x.flags&=-257,_c(x,o,a,i,t),x.mode&1&&Oc(i,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){Oc(i,u,t),Sa();break e}c=Error(I(426))}}else if(fe&&a.mode&1){var E=Lc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),_c(E,o,a,i,t),sa(ds(c,a));break e}}i=c=ds(c,a),ke!==4&&(ke=2),Vs===null?Vs=[i]:Vs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=mf(i,c,t);Tc(i,m);break e;case 1:a=c;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(on===null||!on.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=gf(i,a,t);Tc(i,y);break e}}i=i.return}while(i!==null)}Lf(n)}catch(S){t=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Mf(){var e=Sl.current;return Sl.current=Nl,e===null?Nl:e}function Sa(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(Pn&268435455)&&!(Hl&268435455)||Zt(Ee,Re)}function Cl(e,t){var n=te;te|=2;var s=Mf();(Ee!==e||Re!==t)&&(It=null,kn(e,t));do try{Vm();break}catch(l){If(e,l)}while(!0);if(la(),te=n,Sl.current=s,je!==null)throw Error(I(261));return Ee=null,Re=0,ke}function Vm(){for(;je!==null;)Of(je)}function Hm(){for(;je!==null&&!gp();)Of(je)}function Of(e){var t=zf(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Lf(e):je=t,ya.current=null}function Lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Am(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(n=zm(n,t,Ze),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function wn(e,t,n){var s=se,l=ut.transition;try{ut.transition=null,se=1,Km(e,t,n,s)}finally{ut.transition=l,se=s}return null}function Km(e,t,n,s){do rs();while(en!==null);if(te&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cp(e,i),e===Ee&&(je=Ee=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wr||(Wr=!0,Af(ol,function(){return rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var o=se;se=1;var a=te;te|=4,ya.current=null,$m(e,n),Pf(n,e),fm(lo),cl=!!ro,lo=ro=null,e.current=n,Bm(n),vp(),te=a,se=o,ut.transition=i}else e.current=n;if(Wr&&(Wr=!1,en=e,bl=l),i=e.pendingLanes,i===0&&(on=null),wp(n.stateNode),Qe(e,we()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(kl)throw kl=!1,e=Co,Co=null,e;return bl&1&&e.tag!==0&&rs(),i=e.pendingLanes,i&1?e===Eo?Hs++:(Hs=0,Eo=e):Hs=0,pn(),null}function rs(){if(en!==null){var e=pd(bl),t=ut.transition,n=se;try{if(ut.transition=null,se=16>e?16:e,en===null)var s=!1;else{if(e=en,en=null,bl=0,te&6)throw Error(I(331));var l=te;for(te|=4,B=e.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(B=u;B!==null;){var h=B;switch(h.tag){case 0:case 11:case 15:Us(8,h,i)}var p=h.child;if(p!==null)p.return=h,B=p;else for(;B!==null;){h=B;var g=h.sibling,x=h.return;if(Cf(h),h===u){B=null;break}if(g!==null){g.return=x,B=g;break}B=x}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Us(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,B=m;break e}B=i.return}}var f=e.current;for(B=f;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=f;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(S){ye(a,a.return,S)}if(a===o){B=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,B=y;break e}B=a.return}}if(te=l,pn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(_l,e)}catch{}s=!0}return s}finally{se=n,ut.transition=t}}return!1}function Yc(e,t,n){t=ds(n,t),t=mf(e,t,1),e=ln(e,t,1),t=$e(),e!==null&&(yr(e,1,t),Qe(e,t))}function ye(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(on===null||!on.has(s))){e=ds(n,e),e=gf(t,e,1),t=ln(t,e,1),e=$e(),t!==null&&(yr(t,1,e),Qe(t,e));break}}t=t.return}}function Gm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Re&n)===n&&(ke===4||ke===3&&(Re&130023424)===Re&&500>we()-wa?kn(e,0):xa|=n),Qe(e,t)}function _f(e,t){t===0&&(e.mode&1?(t=Ir,Ir<<=1,!(Ir&130023424)&&(Ir=4194304)):t=1);var n=$e();e=Ft(e,t),e!==null&&(yr(e,t,n),Qe(e,n))}function Qm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_f(e,n)}function Ym(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),_f(e,n)}var zf;zf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,_m(e,t,n);He=!!(e.flags&131072)}else He=!1,fe&&t.flags&1048576&&$d(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zr(e,t),e=t.pendingProps;var l=os(t,Ae.current);ss(t,n),l=ha(null,t,s,e,l,n);var i=pa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(s)?(i=!0,pl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,aa(t),l.updater=Ul,t.stateNode=l,l._reactInternals=t,mo(t,s,e,n),t=yo(null,t,s,!0,i,n)):(t.tag=0,fe&&i&&ta(t),Fe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Zr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Jm(s),e=gt(s,e),l){case 0:t=vo(null,t,s,e,n);break e;case 1:t=Fc(null,t,s,e,n);break e;case 11:t=zc(null,t,s,e,n);break e;case 14:t=Ac(null,t,s,gt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),vo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),Fc(e,t,s,l,n);case 3:e:{if(wf(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Kd(e,t),xl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=ds(Error(I(423)),t),t=$c(e,t,s,n,l);break e}else if(s!==l){l=ds(Error(I(424)),t),t=$c(e,t,s,n,l);break e}else for(qe=rn(t.stateNode.containerInfo.firstChild),et=t,fe=!0,yt=null,n=Vd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),s===l){t=$t(e,t,n);break e}Fe(e,t,s,n)}t=t.child}return t;case 5:return Gd(t),e===null&&fo(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,io(s,l)?o=null:i!==null&&io(s,i)&&(t.flags|=32),xf(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&fo(t),null;case 13:return jf(e,t,n);case 4:return ca(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cs(t,null,s,n):Fe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),zc(e,t,s,l,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,ie(vl,s._currentValue),s._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===l.children&&!Ke.current){t=$t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ho(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ho(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,ss(t,n),l=dt(l),s=s(l),t.flags|=1,Fe(e,t,s,n),t.child;case 14:return s=t.type,l=gt(s,t.pendingProps),l=gt(s.type,l),Ac(e,t,s,l,n);case 15:return vf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),Zr(e,t),t.tag=1,Ge(s)?(e=!0,pl(t)):e=!1,ss(t,n),pf(t,s,l),mo(t,s,l,n),yo(null,t,s,!0,e,n);case 19:return Nf(e,t,n);case 22:return yf(e,t,n)}throw Error(I(156,t.tag))};function Af(e,t){return ud(e,t)}function Xm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,s){return new Xm(e,t,n,s)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uo)return 11;if(e===Vo)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")ka(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fn:return bn(n.children,l,i,t);case Wo:o=8,l|=8;break;case Ai:return e=ct(12,n,t,l|2),e.elementType=Ai,e.lanes=i,e;case Fi:return e=ct(13,n,t,l),e.elementType=Fi,e.lanes=i,e;case $i:return e=ct(19,n,t,l),e.elementType=$i,e.lanes=i,e;case Gu:return Kl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:o=10;break e;case Ku:o=9;break e;case Uo:o=11;break e;case Vo:o=14;break e;case Qt:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ct(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function bn(e,t,n,s){return e=ct(7,e,s,t),e.lanes=n,e}function Kl(e,t,n,s){return e=ct(22,e,s,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Pi(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Di(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ui(0),this.expirationTimes=ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ba(e,t,n,s,l,i,o,a,c){return e=new Zm(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(i),e}function qm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return dn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Ad(e,n,t)}return t}function $f(e,t,n,s,l,i,o,a,c){return e=ba(n,s,!0,e,l,i,o,a,c),e.context=Ff(null),n=e.current,s=$e(),l=an(n),i=_t(s,l),i.callback=t??null,ln(n,i,l),e.current.lanes=l,yr(e,l,s),Qe(e,s),e}function Gl(e,t,n,s){var l=t.current,i=$e(),o=an(l);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ln(l,t,o),e!==null&&(wt(e,l,o,i),Yr(e,l,o)),o}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function eg(){return null}var Bf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ea(e){this._internalRoot=e}Ql.prototype.render=Ea.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Gl(e,t,null,null)};Ql.prototype.unmount=Ea.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dn(function(){Gl(null,e,null,null)}),t[At]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&xd(e)}};function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function tg(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=El(o);i.call(u)}}var o=$f(t,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[At]=o.current,rr(e.nodeType===8?e.parentNode:e),Dn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var u=El(c);a.call(u)}}var c=ba(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=c,e[At]=c.current,rr(e.nodeType===8?e.parentNode:e),Dn(function(){Gl(t,c,n,s)}),c}function Xl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=El(o);a.call(c)}}Gl(t,o,e,l)}else o=tg(n,t,e,l,s);return El(o)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ls(t.pendingLanes);n!==0&&(Go(t,n|1),Qe(t,we()),!(te&6)&&(fs=we()+500,pn()))}break;case 13:Dn(function(){var s=Ft(e,1);if(s!==null){var l=$e();wt(s,e,1,l)}}),Ca(e,1)}};Qo=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=$e();wt(t,e,134217728,n)}Ca(e,134217728)}};gd=function(e){if(e.tag===13){var t=an(e),n=Ft(e,t);if(n!==null){var s=$e();wt(n,e,t,s)}Ca(e,t)}};vd=function(){return se};yd=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Xi=function(e,t,n){switch(t){case"input":if(Ui(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=$l(s);if(!l)throw Error(I(90));Yu(s),Ui(s,l)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&qn(e,!!n.multiple,t,!1)}};rd=ja;ld=Dn;var ng={usingClientEntryPoint:!1,Events:[wr,Un,$l,nd,sd,ja]},Ds={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{_l=Ur.inject(sg),Pt=Ur}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(t))throw Error(I(200));return qm(e,t,null,n)};nt.createRoot=function(e,t){if(!Ta(e))throw Error(I(299));var n=!1,s="",l=Bf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ba(e,1,!1,null,null,n,!1,s,l),e[At]=t.current,rr(e.nodeType===8?e.parentNode:e),new Ea(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Dn(e)};nt.hydrate=function(e,t,n){if(!Yl(t))throw Error(I(200));return Xl(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Ta(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Bf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$f(t,null,e,1,n??null,l,!1,i,o),e[At]=t.current,rr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ql(t)};nt.render=function(e,t,n){if(!Yl(t))throw Error(I(200));return Xl(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(I(40));return e._reactRootContainer?(Dn(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};nt.unstable_batchedUpdates=ja;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Yl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Xl(e,t,n,!1,s)};nt.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),Bu.exports=nt;var Xn=Bu.exports,Zc=Xn;_i.createRoot=Zc.createRoot,_i.hydrateRoot=Zc.hydrateRoot;const Jl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Pa(e){return"nodeType"in e}function Ue(e){var t,n;return e?gs(e)?e:Pa(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Da(e){const{Document:t}=Ue(e);return e instanceof t}function Nr(e){return gs(e)?!1:e instanceof Ue(e).HTMLElement}function Uf(e){return e instanceof Ue(e).SVGElement}function vs(e){return e?gs(e)?e.document:Pa(e)?Da(e)?e:Nr(e)||Uf(e)?e.ownerDocument:document:document:document}const Bt=Jl?d.useLayoutEffect:d.useEffect;function Zl(e){const t=d.useRef(e);return Bt(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function rg(){const e=d.useRef(null),t=d.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function hr(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Bt(()=>{n.current!==e&&(n.current=e)},t),n}function Sr(e,t){const n=d.useRef();return d.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Tl(e){const t=Zl(e),n=d.useRef(null),s=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Pl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Ri={};function ql(e,t){return d.useMemo(()=>{if(t)return t;const n=Ri[e]==null?0:Ri[e]+1;return Ri[e]=n,e+"-"+n},[e,t])}function Vf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const ls=Vf(1),Dl=Vf(-1);function lg(e){return"clientX"in e&&"clientY"in e}function Ra(e){if(!e)return!1;const{KeyboardEvent:t}=Ue(e.target);return t&&e instanceof t}function ig(e){if(!e)return!1;const{TouchEvent:t}=Ue(e.target);return t&&e instanceof t}function Rl(e){if(ig(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return lg(e)?{x:e.clientX,y:e.clientY}:null}const pr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[pr.Translate.toString(e),pr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),qc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function og(e){return e.matches(qc)?e:e.querySelector(qc)}const ag={display:"none"};function cg(e){let{id:t,value:n}=e;return xe.createElement("div",{id:t,style:ag},n)}function ug(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function dg(){const[e,t]=d.useState("");return{announce:d.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Hf=d.createContext(null);function fg(e){const t=d.useContext(Hf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hg(){const[e]=d.useState(()=>new Set),t=d.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[d.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const pg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gg(e){let{announcements:t=mg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=pg}=e;const{announce:i,announcement:o}=dg(),a=ql("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),fg(d.useMemo(()=>({onDragStart(p){let{active:g}=p;i(t.onDragStart({active:g}))},onDragMove(p){let{active:g,over:x}=p;t.onDragMove&&i(t.onDragMove({active:g,over:x}))},onDragOver(p){let{active:g,over:x}=p;i(t.onDragOver({active:g,over:x}))},onDragEnd(p){let{active:g,over:x}=p;i(t.onDragEnd({active:g,over:x}))},onDragCancel(p){let{active:g,over:x}=p;i(t.onDragCancel({active:g,over:x}))}}),[i,t])),!c)return null;const h=xe.createElement(xe.Fragment,null,xe.createElement(cg,{id:s,value:l.draggable}),xe.createElement(ug,{id:a,announcement:o}));return n?Xn.createPortal(h,n):h}var Se;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Se||(Se={}));function Il(){}function vg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function yg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Nt=Object.freeze({x:0,y:0});function xg(e,t){const n=Rl(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function wg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function jg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ng(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const Sg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=Ng(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(wg)};function kg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Kf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Nt}function bg(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Cg=bg(1);function Gf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Eg(e,t,n){const s=Gf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const Tg={ignoreTransform:!1};function kr(e,t){t===void 0&&(t=Tg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=Ue(e).getComputedStyle(e);u&&(n=Eg(n,u,h))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function eu(e){return kr(e,{ignoreTransform:!0})}function Pg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Dg(e,t){return t===void 0&&(t=Ue(e).getComputedStyle(e)),t.position==="fixed"}function Rg(e,t){t===void 0&&(t=Ue(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function Ia(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Da(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Nr(l)||Uf(l)||n.includes(l))return n;const i=Ue(e).getComputedStyle(l);return l!==e&&Rg(l,i)&&n.push(l),Dg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Qf(e){const[t]=Ia(e,1);return t??null}function Ii(e){return!Jl||!e?null:gs(e)?e:Pa(e)?Da(e)||e===vs(e).scrollingElement?window:Nr(e)?e:null:null}function Yf(e){return gs(e)?e.scrollX:e.scrollLeft}function Xf(e){return gs(e)?e.scrollY:e.scrollTop}function Do(e){return{x:Yf(e),y:Xf(e)}}var Ce;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ce||(Ce={}));function Jf(e){return!Jl||!e?!1:e===document.scrollingElement}function Zf(e){const t={x:0,y:0},n=Jf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Ig={x:.2,y:.2};function Mg(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Ig);const{isTop:u,isBottom:h,isLeft:p,isRight:g}=Zf(e),x={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(x.y=Ce.Backward,j.y=s*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(x.y=Ce.Forward,j.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!g&&a>=t.right-w.width?(x.x=Ce.Forward,j.x=s*Math.abs((t.right-w.width-a)/w.width)):!p&&o<=t.left+w.width&&(x.x=Ce.Backward,j.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:j}}function Og(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function qf(e){return e.reduce((t,n)=>ls(t,Do(n)),Nt)}function Lg(e){return e.reduce((t,n)=>t+Yf(n),0)}function _g(e){return e.reduce((t,n)=>t+Xf(n),0)}function eh(e,t){if(t===void 0&&(t=kr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Qf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const zg=[["x",["left","right"],Lg],["y",["top","bottom"],_g]];class Ma{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ia(n),l=qf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of zg)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(s),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ks{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Ag(e){const{EventTarget:t}=Ue(e);return e instanceof t?e:vs(e)}function Mi(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var it;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(it||(it={}));function tu(e){e.preventDefault()}function Fg(e){e.stopPropagation()}var re;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(re||(re={}));const th={start:[re.Space,re.Enter],cancel:[re.Esc],end:[re.Space,re.Enter,re.Tab]},$g=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case re.Right:return{...n,x:n.x+25};case re.Left:return{...n,x:n.x-25};case re.Down:return{...n,y:n.y+25};case re.Up:return{...n,y:n.y-25}}};class nh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ks(vs(n)),this.windowListeners=new Ks(Ue(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(it.Resize,this.handleCancel),this.windowListeners.add(it.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(it.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&eh(s),n(Nt)}handleKeyDown(t){if(Ra(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=th,coordinateGetter:o=$g,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,h=u?{x:u.left,y:u.top}:Nt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:s.current,currentCoordinates:h});if(p){const g=Dl(p,h),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const E=t.code,{isTop:m,isRight:f,isLeft:v,isBottom:y,maxScroll:S,minScroll:C}=Zf(w),N=Og(w),k={x:Math.min(E===re.Right?N.right-N.width/2:N.right,Math.max(E===re.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(E===re.Down?N.bottom-N.height/2:N.bottom,Math.max(E===re.Down?N.top:N.top+N.height/2,p.y))},b=E===re.Right&&!f||E===re.Left&&!v,T=E===re.Down&&!y||E===re.Up&&!m;if(b&&k.x!==p.x){const L=w.scrollLeft+g.x,K=E===re.Right&&L<=S.x||E===re.Left&&L>=C.x;if(K&&!g.y){w.scrollTo({left:L,behavior:a});return}K?x.x=w.scrollLeft-L:x.x=E===re.Right?w.scrollLeft-S.x:w.scrollLeft-C.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(T&&k.y!==p.y){const L=w.scrollTop+g.y,K=E===re.Down&&L<=S.y||E===re.Up&&L>=C.y;if(K&&!g.x){w.scrollTo({top:L,behavior:a});return}K?x.y=w.scrollTop-L:x.y=E===re.Down?w.scrollTop-S.y:w.scrollTop-C.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,ls(Dl(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=th,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function nu(e){return!!(e&&"distance"in e)}function su(e){return!!(e&&"delay"in e)}class Oa{constructor(t,n,s){var l;s===void 0&&(s=Ag(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=vs(o),this.documentListeners=new Ks(this.document),this.listeners=new Ks(s),this.windowListeners=new Ks(Ue(o)),this.initialCoordinates=(l=Rl(i))!=null?l:Nt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(it.Resize,this.handleCancel),this.windowListeners.add(it.DragStart,tu),this.windowListeners.add(it.VisibilityChange,this.handleCancel),this.windowListeners.add(it.ContextMenu,tu),this.documentListeners.add(it.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(su(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(nu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(it.Click,Fg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(it.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Rl(t))!=null?n:Nt,u=Dl(l,c);if(!s&&a){if(nu(a)){if(a.tolerance!=null&&Mi(u,a.tolerance))return this.handleCancel();if(Mi(u,a.distance))return this.handleStart()}if(su(a)&&Mi(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===re.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Bg={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class La extends Oa{constructor(t){const{event:n}=t,s=vs(n.target);super(t,Bg,s)}}La.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Wg={move:{name:"mousemove"},end:{name:"mouseup"}};var Ro;(function(e){e[e.RightClick=2]="RightClick"})(Ro||(Ro={}));class Ug extends Oa{constructor(t){super(t,Wg,vs(t.event.target))}}Ug.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Ro.RightClick?!1:(s==null||s({event:n}),!0)}}];const Oi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vg extends Oa{constructor(t){super(t,Oi)}static setup(){return window.addEventListener(Oi.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Oi.move.name,t)};function t(){}}}Vg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Gs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Gs||(Gs={}));var Ml;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ml||(Ml={}));function Hg(e){let{acceleration:t,activator:n=Gs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Ml.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:g}=e;const x=Gg({delta:p,disabled:!i}),[j,w]=rg(),E=d.useRef({x:0,y:0}),m=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Gs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Gs.DraggableRect:return l}},[n,l,c]),v=d.useRef(null),y=d.useCallback(()=>{const C=v.current;if(!C)return;const N=E.current.x*m.current.x,k=E.current.y*m.current.y;C.scrollBy(N,k)},[]),S=d.useMemo(()=>a===Ml.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!i||!u.length||!f){w();return}for(const C of S){if((s==null?void 0:s(C))===!1)continue;const N=u.indexOf(C),k=h[N];if(!k)continue;const{direction:b,speed:T}=Mg(C,k,f,t,g);for(const L of["x","y"])x[L][b[L]]||(T[L]=0,b[L]=0);if(T.x>0||T.y>0){w(),v.current=C,j(y,o),E.current=T,m.current=b;return}}E.current={x:0,y:0},m.current={x:0,y:0},w()},[t,y,s,w,i,o,JSON.stringify(f),JSON.stringify(x),j,u,S,h,JSON.stringify(g)])}const Kg={x:{[Ce.Backward]:!1,[Ce.Forward]:!1},y:{[Ce.Backward]:!1,[Ce.Forward]:!1}};function Gg(e){let{delta:t,disabled:n}=e;const s=Pl(t);return Sr(l=>{if(n||!s||!l)return Kg;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ce.Backward]:l.x[Ce.Backward]||i.x===-1,[Ce.Forward]:l.x[Ce.Forward]||i.x===1},y:{[Ce.Backward]:l.y[Ce.Backward]||i.y===-1,[Ce.Forward]:l.y[Ce.Forward]||i.y===1}}},[n,t,s])}function Qg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Sr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Yg(e,t){return d.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var mr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(mr||(mr={}));var Io;(function(e){e.Optimized="optimized"})(Io||(Io={}));const ru=new Map;function Xg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=d.useState(null),{frequency:a,measure:c,strategy:u}=l,h=d.useRef(e),p=E(),g=hr(p),x=d.useCallback(function(m){m===void 0&&(m=[]),!g.current&&o(f=>f===null?m:f.concat(m.filter(v=>!f.includes(v))))},[g]),j=d.useRef(null),w=Sr(m=>{if(p&&!n)return ru;if(!m||m===ru||h.current!==e||i!=null){const f=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){f.set(v.id,v.rect.current);continue}const y=v.node.current,S=y?new Ma(c(y),y):null;v.rect.current=S,S&&f.set(v.id,S)}return f}return m},[e,i,n,p,c]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{p||x()},[n,p]),d.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},a))},[a,p,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function E(){switch(u){case mr.Always:return!1;case mr.BeforeDragging:return n;default:return!n}}}function _a(e,t){return Sr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Jg(e,t){return _a(e,t)}function Zg(e){let{callback:t,disabled:n}=e;const s=Zl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ei(e){let{callback:t,disabled:n}=e;const s=Zl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function qg(e){return new Ma(kr(e),e)}function lu(e,t,n){t===void 0&&(t=qg);const[s,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=Zg({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=ei({callback:i});return Bt(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function ev(e){const t=_a(e);return Kf(e,t)}const iu=[];function tv(e){const t=d.useRef(e),n=Sr(s=>e?s&&s!==iu&&e&&t.current&&e.parentNode===t.current.parentNode?s:Ia(e):iu,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function nv(e){const[t,n]=d.useState(null),s=d.useRef(e),l=d.useCallback(i=>{const o=Ii(i.target);o&&n(a=>a?(a.set(o,Do(o)),new Map(a)):null)},[]);return d.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const u=Ii(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Do(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Ii(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ls(i,o),Nt):qf(e):Nt,[e,t])}function ou(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const s=e!==Nt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Dl(e,n.current):Nt}function sv(e){d.useEffect(()=>{if(!Jl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function rv(e,t){return d.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function sh(e){return d.useMemo(()=>e?Pg(e):null,[e])}const au=[];function lv(e,t){t===void 0&&(t=kr);const[n]=e,s=sh(n?Ue(n):null),[l,i]=d.useState(au);function o(){i(()=>e.length?e.map(c=>Jf(c)?s:new Ma(t(c),c)):au)}const a=ei({callback:o});return Bt(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function rh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Nr(t)?t:e}function iv(e){let{measure:t}=e;const[n,s]=d.useState(null),l=d.useCallback(u=>{for(const{target:h}of u)if(Nr(h)){s(p=>{const g=t(h);return p?{...p,width:g.width,height:g.height}:g});break}},[t]),i=ei({callback:l}),o=d.useCallback(u=>{const h=rh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),s(h?t(h):null)},[t,i]),[a,c]=Tl(o);return d.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const ov=[{sensor:La,options:{}},{sensor:nh,options:{}}],av={current:{}},nl={draggable:{measure:eu},droppable:{measure:eu,strategy:mr.WhileDragging,frequency:Io.Optimized},dragOverlay:{measure:kr}};class Qs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const cv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Il},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nl,measureDroppableContainers:Il,windowRect:null,measuringScheduled:!1},lh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Il,draggableNodes:new Map,over:null,measureDroppableContainers:Il},br=d.createContext(lh),ih=d.createContext(cv);function uv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qs}}}function dv(e,t){switch(t.type){case Se.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Se.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Se.DragEnd:case Se.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Se.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Qs(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case Se.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Qs(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case Se.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Qs(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fv(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=d.useContext(br),i=Pl(s),o=Pl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!Ra(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=og(h);if(p){p.focus();break}}})}},[s,t,l,o,i]),null}function oh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function hv(e){return d.useMemo(()=>({draggable:{...nl.draggable,...e==null?void 0:e.draggable},droppable:{...nl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function pv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=d.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;Bt(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Kf(h,s);if(o||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=Qf(u);g&&g.scrollBy({top:p.y,left:p.x})}},[t,o,a,s,n])}const ti=d.createContext({...Nt,scaleX:1,scaleY:1});var Xt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xt||(Xt={}));const mv=d.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=ov,collisionDetection:p=Sg,measuring:g,modifiers:x,...j}=t;const w=d.useReducer(dv,void 0,uv),[E,m]=w,[f,v]=hg(),[y,S]=d.useState(Xt.Uninitialized),C=y===Xt.Initialized,{draggable:{active:N,nodes:k,translate:b},droppable:{containers:T}}=E,L=N!=null?k.get(N):null,K=d.useRef({initial:null,translated:null}),Y=d.useMemo(()=>{var Oe;return N!=null?{id:N,data:(Oe=L==null?void 0:L.data)!=null?Oe:av,rect:K}:null},[N,L]),_=d.useRef(null),[G,M]=d.useState(null),[Z,z]=d.useState(null),$=hr(j,Object.values(j)),U=ql("DndDescribedBy",o),ee=d.useMemo(()=>T.getEnabled(),[T]),V=hv(g),{droppableRects:de,measureDroppableContainers:X,measuringScheduled:oe}=Xg(ee,{dragging:C,dependencies:[b.x,b.y],config:V.droppable}),P=Qg(k,N),F=d.useMemo(()=>Z?Rl(Z):null,[Z]),D=Ph(),O=Jg(P,V.draggable.measure);pv({activeNode:N!=null?k.get(N):null,config:D.layoutShiftCompensation,initialRect:O,measure:V.draggable.measure});const A=lu(P,V.draggable.measure,O),H=lu(P?P.parentElement:null),Q=d.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=T.getNodeFor((n=Q.current.over)==null?void 0:n.id),W=iv({measure:V.dragOverlay.measure}),ae=(s=W.nodeRef.current)!=null?s:P,Te=C?(l=W.rect)!=null?l:A:null,Me=!!(W.nodeRef.current&&W.rect),gn=ev(Me?null:A),vn=sh(ae?Ue(ae):null),pe=tv(C?he??P:null),St=lv(pe),R=oh(x,{transform:{x:b.x-gn.x,y:b.y-gn.y,scaleX:1,scaleY:1},activatorEvent:Z,active:Y,activeNodeRect:A,containerNodeRect:H,draggingNodeRect:Te,over:Q.current.over,overlayNodeRect:W.rect,scrollableAncestors:pe,scrollableAncestorRects:St,windowRect:vn}),J=F?ls(F,b):null,ne=nv(pe),rt=ou(ne),ni=ou(ne,[A]),Mn=ls(R,rt),On=Te?Cg(Te,R):null,xs=Y&&On?p({active:Y,collisionRect:On,droppableRects:de,droppableContainers:ee,pointerCoordinates:J}):null,Fa=jg(xs,"id"),[Ut,$a]=d.useState(null),kh=Me?R:ls(R,ni),bh=kg(kh,(i=Ut==null?void 0:Ut.rect)!=null?i:null,A),si=d.useRef(null),Ba=d.useCallback((Oe,Ye)=>{let{sensor:Xe,options:Vt}=Ye;if(_.current==null)return;const lt=k.get(_.current);if(!lt)return;const Je=Oe.nativeEvent,kt=new Xe({active:_.current,activeNode:lt,event:Je,options:Vt,context:Q,onAbort(Pe){if(!k.get(Pe))return;const{onDragAbort:bt}=$.current,Rt={id:Pe};bt==null||bt(Rt),f({type:"onDragAbort",event:Rt})},onPending(Pe,Ht,bt,Rt){if(!k.get(Pe))return;const{onDragPending:js}=$.current,Kt={id:Pe,constraint:Ht,initialCoordinates:bt,offset:Rt};js==null||js(Kt),f({type:"onDragPending",event:Kt})},onStart(Pe){const Ht=_.current;if(Ht==null)return;const bt=k.get(Ht);if(!bt)return;const{onDragStart:Rt}=$.current,ws={activatorEvent:Je,active:{id:Ht,data:bt.data,rect:K}};Xn.unstable_batchedUpdates(()=>{Rt==null||Rt(ws),S(Xt.Initializing),m({type:Se.DragStart,initialCoordinates:Pe,active:Ht}),f({type:"onDragStart",event:ws}),M(si.current),z(Je)})},onMove(Pe){m({type:Se.DragMove,coordinates:Pe})},onEnd:Ln(Se.DragEnd),onCancel:Ln(Se.DragCancel)});si.current=kt;function Ln(Pe){return async function(){const{active:bt,collisions:Rt,over:ws,scrollAdjustedTranslate:js}=Q.current;let Kt=null;if(bt&&js){const{cancelDrop:Ns}=$.current;Kt={activatorEvent:Je,active:bt,collisions:Rt,delta:js,over:ws},Pe===Se.DragEnd&&typeof Ns=="function"&&await Promise.resolve(Ns(Kt))&&(Pe=Se.DragCancel)}_.current=null,Xn.unstable_batchedUpdates(()=>{m({type:Pe}),S(Xt.Uninitialized),$a(null),M(null),z(null),si.current=null;const Ns=Pe===Se.DragEnd?"onDragEnd":"onDragCancel";if(Kt){const ri=$.current[Ns];ri==null||ri(Kt),f({type:Ns,event:Kt})}})}}},[k]),Ch=d.useCallback((Oe,Ye)=>(Xe,Vt)=>{const lt=Xe.nativeEvent,Je=k.get(Vt);if(_.current!==null||!Je||lt.dndKit||lt.defaultPrevented)return;const kt={active:Je};Oe(Xe,Ye.options,kt)===!0&&(lt.dndKit={capturedBy:Ye.sensor},_.current=Vt,Ba(Xe,Ye))},[k,Ba]),Wa=Yg(h,Ch);sv(h),Bt(()=>{A&&y===Xt.Initializing&&S(Xt.Initialized)},[A,y]),d.useEffect(()=>{const{onDragMove:Oe}=$.current,{active:Ye,activatorEvent:Xe,collisions:Vt,over:lt}=Q.current;if(!Ye||!Xe)return;const Je={active:Ye,activatorEvent:Xe,collisions:Vt,delta:{x:Mn.x,y:Mn.y},over:lt};Xn.unstable_batchedUpdates(()=>{Oe==null||Oe(Je),f({type:"onDragMove",event:Je})})},[Mn.x,Mn.y]),d.useEffect(()=>{const{active:Oe,activatorEvent:Ye,collisions:Xe,droppableContainers:Vt,scrollAdjustedTranslate:lt}=Q.current;if(!Oe||_.current==null||!Ye||!lt)return;const{onDragOver:Je}=$.current,kt=Vt.get(Fa),Ln=kt&&kt.rect.current?{id:kt.id,rect:kt.rect.current,data:kt.data,disabled:kt.disabled}:null,Pe={active:Oe,activatorEvent:Ye,collisions:Xe,delta:{x:lt.x,y:lt.y},over:Ln};Xn.unstable_batchedUpdates(()=>{$a(Ln),Je==null||Je(Pe),f({type:"onDragOver",event:Pe})})},[Fa]),Bt(()=>{Q.current={activatorEvent:Z,active:Y,activeNode:P,collisionRect:On,collisions:xs,droppableRects:de,draggableNodes:k,draggingNode:ae,draggingNodeRect:Te,droppableContainers:T,over:Ut,scrollableAncestors:pe,scrollAdjustedTranslate:Mn},K.current={initial:Te,translated:On}},[Y,P,xs,On,k,ae,Te,de,T,Ut,pe,Mn]),Hg({...D,delta:b,draggingRect:On,pointerCoordinates:J,scrollableAncestors:pe,scrollableAncestorRects:St});const Eh=d.useMemo(()=>({active:Y,activeNode:P,activeNodeRect:A,activatorEvent:Z,collisions:xs,containerNodeRect:H,dragOverlay:W,draggableNodes:k,droppableContainers:T,droppableRects:de,over:Ut,measureDroppableContainers:X,scrollableAncestors:pe,scrollableAncestorRects:St,measuringConfiguration:V,measuringScheduled:oe,windowRect:vn}),[Y,P,A,Z,xs,H,W,k,T,de,Ut,X,pe,St,V,oe,vn]),Th=d.useMemo(()=>({activatorEvent:Z,activators:Wa,active:Y,activeNodeRect:A,ariaDescribedById:{draggable:U},dispatch:m,draggableNodes:k,over:Ut,measureDroppableContainers:X}),[Z,Wa,Y,A,m,U,k,Ut,X]);return xe.createElement(Hf.Provider,{value:v},xe.createElement(br.Provider,{value:Th},xe.createElement(ih.Provider,{value:Eh},xe.createElement(ti.Provider,{value:bh},u)),xe.createElement(fv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),xe.createElement(gg,{...a,hiddenTextDescribedById:U}));function Ph(){const Oe=(G==null?void 0:G.autoScrollEnabled)===!1,Ye=typeof c=="object"?c.enabled===!1:c===!1,Xe=C&&!Oe&&!Ye;return typeof c=="object"?{...c,enabled:Xe}:{enabled:Xe}}}),gv=d.createContext(null),cu="button",vv="Draggable";function ah(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ql(vv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:g}=d.useContext(br),{role:x=cu,roleDescription:j="draggable",tabIndex:w=0}=l??{},E=(c==null?void 0:c.id)===t,m=d.useContext(E?ti:gv),[f,v]=Tl(),[y,S]=Tl(),C=rv(o,t),N=hr(n);Bt(()=>(p.set(t,{id:t,key:i,node:f,activatorNode:y,data:N}),()=>{const b=p.get(t);b&&b.key===i&&p.delete(t)}),[p,t]);const k=d.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":E&&x===cu?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[s,x,w,E,j,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:E,listeners:s?void 0:C,node:f,over:g,setNodeRef:v,setActivatorNodeRef:S,transform:m}}function yv(){return d.useContext(ih)}const xv="Droppable",wv={timeout:25};function jv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ql(xv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(br),h=d.useRef({disabled:n}),p=d.useRef(!1),g=d.useRef(null),x=d.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:E}={...wv,...l},m=hr(w??s),f=d.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),x.current=null},E)},[E]),v=ei({callback:f,disabled:j||!o}),y=d.useCallback((k,b)=>{v&&(b&&(v.unobserve(b),p.current=!1),k&&v.observe(k))},[v]),[S,C]=Tl(y),N=hr(t);return d.useEffect(()=>{!v||!S.current||(v.disconnect(),p.current=!1,v.observe(S.current))},[S,v]),d.useEffect(()=>(a({type:Se.RegisterDroppable,element:{id:s,key:i,disabled:n,node:S,rect:g,data:N}}),()=>a({type:Se.UnregisterDroppable,key:i,id:s})),[s]),d.useEffect(()=>{n!==h.current.disabled&&(a({type:Se.SetDroppableDisabled,id:s,key:i,disabled:n}),h.current.disabled=n)},[s,i,n,a]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:C}}function Nv(e){let{animation:t,children:n}=e;const[s,l]=d.useState(null),[i,o]=d.useState(null),a=Pl(n);return!n&&!s&&a&&l(a),Bt(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),xe.createElement(xe.Fragment,null,n,s?d.cloneElement(s,{ref:o}):null)}const Sv={x:0,y:0,scaleX:1,scaleY:1};function kv(e){let{children:t}=e;return xe.createElement(br.Provider,{value:lh},xe.createElement(ti.Provider,{value:Sv},t))}const bv={position:"fixed",touchAction:"none"},Cv=e=>Ra(e)?"transform 250ms ease":void 0,Ev=d.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:h=Cv}=e;if(!a)return null;const p=l?u:{...u,scaleX:1,scaleY:1},g={...bv,width:a.width,height:a.height,top:a.top,left:a.left,transform:pr.Transform.toString(p),transformOrigin:l&&s?xg(s,a):void 0,transition:typeof h=="function"?h(s):h,...c};return xe.createElement(n,{className:o,style:g,ref:t},i)}),Tv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Pv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:pr.Transform.toString(t)},{transform:pr.Transform.toString(n)}]},Dv={duration:250,easing:"ease",keyframes:Pv,sideEffects:Tv({styles:{active:{opacity:"0"}}})};function Rv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return Zl((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=rh(o);if(!u)return;const{transform:h}=Ue(o).getComputedStyle(o),p=Gf(h);if(!p)return;const g=typeof t=="function"?t:Iv(t);return eh(c,l.draggable.measure),g({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:p})})}function Iv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Dv,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-h.x,y:c.y-h.y,...p},x=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:g}}),[j]=x,w=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const E=s==null?void 0:s({active:o,dragOverlay:a,...u}),m=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{m.onfinish=()=>{E==null||E(),f()}})}}let uu=0;function Mv(e){return d.useMemo(()=>{if(e!=null)return uu++,uu},[e])}const Ov=xe.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggableNodes:j,droppableContainers:w,dragOverlay:E,over:m,measuringConfiguration:f,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:S}=yv(),C=d.useContext(ti),N=Mv(p==null?void 0:p.id),k=oh(o,{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:E.rect,over:m,overlayNodeRect:E.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:C,windowRect:S}),b=_a(g),T=Rv({config:s,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),L=b?E.setRef:void 0;return xe.createElement(kv,null,xe.createElement(Nv,{animation:T},p&&N?xe.createElement(Ev,{key:N,id:p.id,ref:L,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:b,style:{zIndex:u,...l},transform:k},n):null))}),ch={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Lv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},sl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:ch},du=10,Jn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ol={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function _v(e){if(Ol[e])return Ol[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function fu(e){return Ol[e]?Ol[e].priority:e.startsWith("gt-")?3:99}const uh=d.createContext(null),hu=5;function zv({children:e}){const[t,n]=d.useState([]),[s,l]=d.useState(1),i=d.useCallback((c,u)=>{const h=s;l(g=>g+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(g=>{const x=[p,...g];return x.length>hu?x.slice(0,hu):x})},[s]),o=d.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=d.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(uh.Provider,{value:a,children:e})}function Cr(){const e=d.useContext(uh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function pu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const dh="chrote-dashboard-state",fh="chrote-dashboard-presets",Rs=["terminal1","terminal2"];function Av(){try{const e=localStorage.getItem(fh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Fv(e){try{localStorage.setItem(fh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function $v(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function mu(e){return JSON.parse(JSON.stringify(e))}function Bv(){try{const e=localStorage.getItem(dh);if(e){const t=JSON.parse(e);return Vv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Wv(e){try{localStorage.setItem(dh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function gr(e){return Math.max(1,Math.min(4,e))}function Uv(e,t){const n=gr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Ys(e,t){return{windows:Uv(e,t),windowCount:gr(t)}}function Is(e){return typeof e=="object"&&e!==null}function Vv(e){if(Is(e)){if(Is(e.workspaces)&&Is(e.workspaces.terminal1)&&Is(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??sl,s=(l,i)=>{const o=Is(i)?i:{},a=gr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,p)=>{const g=c[p];return{id:`${l}-window-${p}`,boundSessions:(g==null?void 0:g.boundSessions)??[],activeSession:(g==null?void 0:g.activeSession)??null,colorIndex:typeof(g==null?void 0:g.colorIndex)=="number"?g.colorIndex:p}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??sl,s=gr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Ys("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Ys("terminal1",2),terminal2:Ys("terminal2",2)},sidebarCollapsed:!1,settings:sl}}const hh=d.createContext(null);function Hv({children:e}){const t=d.useMemo(()=>Bv(),[]),{addToast:n}=Cr(),[s,l]=d.useState([]),[i,o]=d.useState({}),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,g]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Ys("terminal1",2),terminal2:Ys("terminal2",2)}),[x,j]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,E]=d.useState(null),[m,f]=d.useState(!1),[v,y]=d.useState((t==null?void 0:t.settings)??sl),[S,C]=d.useState(null),[N,k]=d.useState(()=>Av()),b=d.useMemo(()=>{const D=new Map;return Rs.forEach(O=>{p[O].windows.forEach((H,Q)=>{H.boundSessions.forEach(he=>{D.set(he,{workspaceId:O,windowId:H.id,colorIndex:H.colorIndex,windowIndex:Q+1})})})}),D},[p]);d.useEffect(()=>{g(D=>{let O=!1;const A={...D};return Rs.forEach(H=>{const Q=D[H];Q.windows.some(W=>W.activeSession==="INIT-PENDING")&&(O=!0,A[H]={...Q,windows:Q.windows.map(W=>W.activeSession==="INIT-PENDING"?{...W,activeSession:null}:W)})}),O?A:D})},[]),d.useEffect(()=>{const D={...p};Rs.forEach(O=>{const A=p[O];D[O]={...A,windows:A.windows.map(H=>H.activeSession==="INIT-PENDING"?{...H,activeSession:null}:H)}}),Wv({workspaces:D,sidebarCollapsed:x,settings:v})},[p,x,v]),d.useEffect(()=>{Fv(N)},[N]);const T=d.useCallback(async()=>{try{const O=await(await fetch("/api/tmux/sessions")).json();O.error?(h(O.error),l([]),o({})):(h(null),l(O.sessions),o(O.grouped))}catch(D){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);d.useEffect(()=>{T();const D=setInterval(T,v.autoRefreshInterval);return()=>clearInterval(D)},[T,v.autoRefreshInterval]),d.useEffect(()=>{const D={...ch,...v.tmuxAppearance};pu(D)},[]);const L=d.useCallback((D,O)=>{const A=gr(O);g(H=>{const Q=H[D];if(!Q)return H;const he=(()=>{if(A>Q.windows.length){const W=[...Q.windows];for(let ae=Q.windows.length;ae<A;ae++)W.push({id:`${D}-window-${ae}`,boundSessions:[],activeSession:null,colorIndex:ae});return W}return A<Q.windows.length?Q.windows.slice(0,A):Q.windows})();return{...H,[D]:{...Q,windowCount:A,windows:he}}})},[]),K=d.useCallback((D,O,A)=>{g(H=>{const Q={...H};let he=!1,W=!1;if(Rs.forEach(Me=>{const gn=H[Me],vn=gn.windows.map(pe=>{const St=Me===D&&pe.id===O,R=pe.boundSessions.includes(A);if(!St&&!R)return pe;if(!St&&R){const J=pe.boundSessions.filter(ne=>ne!==A);return{...pe,boundSessions:J,activeSession:pe.activeSession===A?J[0]??null:pe.activeSession}}return W=!0,he=pe.boundSessions.length===0||pe.boundSessions.length===1&&R,pe});Q[Me]={...gn,windows:vn}}),!W)return H;const ae=Q[D],Te=ae.windows.map(Me=>Me.id!==O||Me.boundSessions.includes(A)?Me:{...Me,boundSessions:[...Me.boundSessions,A],activeSession:he?A:Me.activeSession});return{...Q,[D]:{...ae,windows:Te}}})},[]),Y=d.useCallback((D,O,A)=>{g(H=>{const Q=H[D];if(!Q)return H;const he=Q.windows.map(W=>{if(W.id!==O||!W.boundSessions.includes(A))return W;const ae=W.boundSessions.filter(Te=>Te!==A);return{...W,boundSessions:ae,activeSession:W.activeSession===A?ae[0]??null:W.activeSession}});return{...H,[D]:{...Q,windows:he}}})},[]),_=d.useCallback((D,O,A)=>{g(H=>{const Q=H[D];if(!Q)return H;const he=Q.windows.map(W=>W.id!==O||!W.boundSessions.includes(A)?W:{...W,activeSession:A});return{...H,[D]:{...Q,windows:he}}})},[]),G=d.useCallback((D,O,A)=>{g(H=>{const Q=H[D];if(!Q)return H;const he=Q.windows.map(W=>{if(W.id!==O||W.boundSessions.length<=1)return W;const ae=W.activeSession?W.boundSessions.indexOf(W.activeSession):0,Te=A==="next"?(ae+1)%W.boundSessions.length:(ae-1+W.boundSessions.length)%W.boundSessions.length;return{...W,activeSession:W.boundSessions[Te]}});return{...H,[D]:{...Q,windows:he}}})},[]),M=d.useCallback(()=>{j(D=>!D)},[]),Z=d.useCallback(D=>{E(D)},[]),z=d.useCallback(()=>{E(null)},[]),$=d.useCallback(D=>{const O=b.get(D);O?_(O.workspaceId,O.windowId,D):Z(D)},[b,_,Z]),U=d.useCallback(D=>{y(O=>{const A={...O,...D};return D.tmuxAppearance&&pu(A.tmuxAppearance),A})},[]),ee=d.useCallback(async D=>{try{const O=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(O.ok)n(`Session '${D}' deleted`,"info"),T();else{const A=await O.text();console.error("Failed to delete session:",A),n("Failed to delete session","error")}}catch(O){console.error("Failed to delete session:",O),n("Failed to delete session","error")}},[T,n]),V=d.useCallback(async(D,O)=>{try{const A=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:O})});if(A.ok)return g(H=>{const Q={...H};return Rs.forEach(he=>{const W=H[he];Q[he]={...W,windows:W.windows.map(ae=>({...ae,boundSessions:ae.boundSessions.map(Te=>Te===D?O:Te),activeSession:ae.activeSession===D?O:ae.activeSession}))}}),Q}),n(`Session renamed to '${O}'`,"success"),T(),!0;{const H=await A.text();return console.error("Failed to rename session:",H),n("Failed to rename session","error"),!1}}catch(A){return console.error("Failed to rename session:",A),n("Failed to rename session","error"),!1}},[T,n]),de=d.useCallback(D=>{if(N.length>=du)return n(`Maximum ${du} presets reached`,"warning"),!1;const O={id:$v(),name:D,createdAt:Date.now(),workspaces:mu(p)};return k(A=>[...A,O]),n(`Layout '${D}' saved`,"success"),!0},[N.length,p,n]),X=d.useCallback(D=>{const O=N.find(A=>A.id===D);if(!O){n("Preset not found","error");return}g(mu(O.workspaces)),n(`Layout '${O.name}' loaded`,"info")},[N,n]),oe=d.useCallback(D=>{const O=N.find(A=>A.id===D);O&&(k(A=>A.filter(H=>H.id!==D)),n(`Preset '${O.name}' deleted`,"info"))},[N,n]),P=d.useCallback((D,O)=>{k(A=>A.map(H=>H.id===D?{...H,name:O}:H))},[]),F=d.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:u,workspaces:p,sidebarCollapsed:x,floatingSession:w,assignedSessions:b,isDragging:m,settings:v,focusedWindowKey:S,layoutPresets:N,setWindowCount:L,addSessionToWindow:K,removeSessionFromWindow:Y,setActiveSession:_,cycleSession:G,toggleSidebar:M,openFloatingModal:Z,closeFloatingModal:z,handleSessionClick:$,refreshSessions:T,deleteSession:ee,renameSession:V,setIsDragging:f,updateSettings:U,setFocusedWindowKey:C,saveCurrentLayout:de,loadPreset:X,deletePreset:oe,renamePreset:P}),[s,i,a,u,p,x,w,b,m,v,S,N,L,K,Y,_,G,M,Z,z,$,T,ee,V,f,U,C,de,X,oe,P]);return r.jsx(hh.Provider,{value:F,children:e})}function pt(){const e=d.useContext(hh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const yn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function gu(){const e=d.useRef(null),{settings:t,updateSettings:n}=pt(),[s,l]=d.useState(0),[i,o]=d.useState(!1);d.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const h=e.current;h&&(h.src=yn[s].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[s,t.musicEnabled]);const a=()=>l(h=>(h+1)%yn.length),c=()=>l(h=>(h-1+yn.length)%yn.length),u=h=>{l(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[yn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",yn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:yn.map((h,p)=>r.jsxs("button",{className:`music-dropdown-item ${p===s?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===s&&t.musicEnabled&&""]},p))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function ph(e){const[t,n]=d.useState(!1);return d.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const l=()=>n(s.matches);return s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[t,e]),t}function Kv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){var x;const[l,i]=d.useState(!1),[o,a]=d.useState(!1),c=d.useRef(null),u=ph("(max-width: 768px)");d.useEffect(()=>{const j=w=>{c.current&&!c.current.contains(w.target)&&i(!1);const E=w.target;o&&!E.closest(".tab-bar")&&a(!1)};if(l||o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[l,o]);const h=[{id:"chat",label:" Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads_viewer",label:"Beads"},{id:"settings",label:"Settings"}],p=j=>{j.external?window.open(j.url,"_blank","noopener,noreferrer"):(t(j.id),a(!1))},g=((x=h.find(j=>j.id===e))==null?void 0:x.label)||"Menu";return r.jsx("div",{className:`tab-bar ${u?"mobile-mode":""}`,children:u?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tab-bar-mobile-start",children:[r.jsx("button",{className:`tab hamburger-btn ${o?"active":""}`,onClick:()=>a(!o),children:""}),r.jsx("span",{className:"mobile-active-tab",children:g})]}),o&&r.jsxs("div",{className:"mobile-nav-dropdown",children:[h.map(j=>r.jsx("button",{className:`mobile-nav-item ${!j.external&&e===j.id?"active":""}`,onClick:()=>p(j),children:j.label},j.id)),r.jsx("div",{className:"mobile-nav-divider"}),s&&r.jsx("button",{className:"mobile-nav-item",onClick:()=>{s(),a(!1)},children:" Layouts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{n&&n(),a(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("help"),a(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("manual"),a(!1)},children:"Gastown Operators Manual"})]}),r.jsx("div",{className:"tab-bar-actions",children:r.jsx(gu,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"tab-bar-tabs",children:h.map(j=>r.jsx("button",{className:`tab ${!j.external&&e===j.id?"active":""} ${j.external?"external":""}`,onClick:()=>p(j),title:j.external?`Open ${j.label.replace(" ","")} in new tab`:void 0,children:j.label},j.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),r.jsxs("div",{className:"help-menu-container",ref:c,children:[r.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&r.jsxs("div",{className:"help-dropdown",children:[n&&r.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),r.jsx(gu,{})]})]})})}const Gv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Qv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t.includes("/witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t.includes("/polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")||/\/pc\//.test(t)||t.endsWith("/pc")?"polecat":t.includes("-refinery")||t.includes("/refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("/crew/")||t.includes("-crew")||t.includes("/crew")||t==="crew"||t.startsWith("crew-")||t.startsWith("crew/")?"crew":null}function Yv(e){const t=Qv(e);return t?{role:t,...Gv[t]}:null}function mh({sessionName:e,compact:t=!1}){const n=Yv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Xv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=pt(),c=t.get(e.name),u=!!c,[h,p]=d.useState({show:!1,x:0,y:0}),[g,x]=d.useState(!1),[j,w]=d.useState(""),[E,m]=d.useState(!1),f=d.useRef(null),v=c?Jn[c.colorIndex%Jn.length].border:void 0,y=c?{backgroundColor:v,color:"#000",borderColor:v}:void 0,S=c?{color:v}:void 0,{attributes:C,listeners:N,setNodeRef:k,transform:b,isDragging:T}=ah({id:e.name,data:{type:"session",session:e}}),L=b?{transform:`translate3d(${b.x}px, ${b.y}px, 0)`,zIndex:T?1e3:void 0}:void 0,K=d.useRef(null),Y=d.useCallback(X=>{X.persist(),K.current=setTimeout(()=>{if(K.current){const oe=X.touches[0];p({show:!0,x:oe.clientX,y:oe.clientY}),m(!1)}},500)},[]),_=d.useCallback(()=>{K.current&&(clearTimeout(K.current),K.current=null)},[]),G=d.useCallback(()=>{K.current&&(clearTimeout(K.current),K.current=null)},[]),M=d.useCallback(X=>{X.preventDefault(),X.stopPropagation(),p({show:!0,x:X.clientX,y:X.clientY}),m(!1)},[]),Z=d.useCallback(()=>{p({show:!1,x:0,y:0}),m(!1)},[]),z=d.useCallback(async()=>{Z(),await s(e.name)},[s,e.name,Z]),$=d.useCallback(()=>{w(e.name),x(!0),Z()},[e.name,Z]),U=d.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),x(!1)},[j,e.name,l]),ee=d.useCallback(X=>{X.key==="Enter"?U():X.key==="Escape"&&x(!1)},[U]),V=d.useCallback(X=>{const oe=X.startsWith("terminal2-")?"terminal2":"terminal1";o(oe,X,e.name),Z()},[o,e.name,Z]),de=d.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),Z()},[c,a,e.name,Z]);return d.useEffect(()=>{g&&f.current&&(f.current.focus(),f.current.select())},[g]),d.useEffect(()=>{if(!h.show)return;const X=()=>Z();return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[h.show,Z]),g?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:X=>w(X.target.value),onKeyDown:ee,onBlur:U})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:k,className:`session-item ${u?"assigned":""} ${T?"dragging":""}`,style:L,...N,...C,onClick:()=>n(e.name),onContextMenu:M,onTouchStart:Y,onTouchEnd:_,onTouchMove:G,children:[c&&r.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(mh,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:S,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&r.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:X=>X.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:$,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),E&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(X=>{const oe=i[X];return oe.windows.slice(0,oe.windowCount).map((P,F)=>{const D=Jn[P.colorIndex%Jn.length],O=(c==null?void 0:c.windowId)===P.id,A=X==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${O?"active":""}`,onClick:()=>V(P.id),style:{borderLeft:`3px solid ${D.border}`},children:[A,"Window ",F+1,O&&r.jsx("span",{className:"session-context-check",children:""})]},P.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:de,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:z,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Jv({groupKey:e,sessions:t}){const[n,s]=d.useState(!0),l=_v(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Xv,{session:i},i.name))})]})}const vu=["chrote-chat"];function Zv({onConfirm:e,onCancel:t,sessionCount:n,sessionNames:s=[]}){const[l,i]=d.useState(""),o=l==="NUKE",a=s.filter(h=>vu.includes(h)).length,c=n-a,u=h=>{h.preventDefault(),o&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:c})," tmux session",c!==1?"s":"","."]}),a>0&&r.jsxs("p",{className:"nuke-protected",children:[r.jsx("strong",{children:a})," protected session",a!==1?"s":""," will be preserved: ",vu.filter(h=>s.includes(h)).join(", ")]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:u,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:l,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!o,children:"Destroy All"})]})]})]})]})})}function qv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=pt(),{addToast:c}=Cr(),[u,h]=d.useState(!1),[p,g]=d.useState(""),[x,j]=d.useState(!1),[w,E]=d.useState(!1),m=d.useMemo(()=>{const y=Object.entries(e);return(p?y.map(([C,N])=>[C,N.filter(k=>k.name.toLowerCase().includes(p.toLowerCase()))]).filter(([C,N])=>N.length>0):y).sort(([C],[N])=>{const k=fu(C),b=fu(N);return k!==b?k-b:C.localeCompare(N)})},[e,p]),f=async()=>{h(!0);try{const y=a.defaultSessionPrefix||"tmux",S=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),C=new RegExp(`^${S}(\\d+)$`),N=o.map(L=>L.name.match(C)).filter(Boolean).map(L=>parseInt(L[1],10)),k=N.length>0?Math.max(...N)+1:1,b=`${y}${k}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b})})).ok?(c(`Session '${b}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{h(!1)}},v=async()=>{E(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{E(!1),j(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:y=>g(y.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&m.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),m.map(([y,S])=>r.jsx(Jv,{groupKey:y,sessions:S},y))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&r.jsx(Zv,{sessionCount:o.length,sessionNames:o.map(y=>y.name),onConfirm:v,onCancel:()=>j(!1)})]})}function ey({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=d.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=pt(),{addToast:c}=Cr(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function ty({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=jv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ny({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=ah({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,g=e.includes("-")?e.split("-").slice(-1)[0]:e,x=j=>{h||j.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:x,...a,...o,children:[r.jsx("span",{className:"tag-name",children:g}),r.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function sy({workspaceId:e,window:t,isDragging:n=!1,style:s}){const[l,i]=d.useState(new Set),o=d.useRef(new Map),a=d.useRef(null),c=d.useRef(null),{removeSessionFromWindow:u,setActiveSession:h,cycleSession:p,settings:g,focusedWindowKey:x,setFocusedWindowKey:j}=pt(),w=`${e}-${t.id}`,E=x===w,m=t.activeSession,f=m?l.has(m):!1,v=d.useCallback(()=>{if(m)try{const _=o.current.get(m);if(!(_!=null&&_.contentWindow))return;_.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[m]),y=d.useCallback((_,G)=>{if(!(_!=null&&_.contentWindow))return;let M=0;const Z=20,z=()=>{try{const $=_.contentWindow;if($.term){$.term.options.fontSize=G;return}}catch{}M++,M<Z&&setTimeout(z,50)};z()},[]),S=d.useCallback(_=>{i(M=>new Set(M).add(_));const G=o.current.get(_);G&&(y(G,g.fontSize),setTimeout(()=>{_===t.activeSession&&v()},100),setTimeout(()=>{_===t.activeSession&&v()},300))},[y,g.fontSize,v,t.activeSession]);d.useEffect(()=>{l.forEach(_=>{const G=o.current.get(_);G&&y(G,g.fontSize)})},[g.fontSize,l,y]),d.useEffect(()=>{m&&l.has(m)&&setTimeout(v,50)},[m,l,v]),d.useEffect(()=>{const _=new Set(t.boundSessions);o.current.forEach((G,M)=>{_.has(M)||o.current.delete(M)}),i(G=>{const M=new Set;return G.forEach(Z=>{_.has(Z)&&M.add(Z)}),M})},[t.boundSessions]);const C=d.useCallback(()=>{j(w)},[w,j]),N=d.useRef(E),k=d.useRef(t.boundSessions);d.useEffect(()=>{N.current=E,k.current=t.boundSessions},[E,t.boundSessions]),d.useEffect(()=>{const _=G=>{N.current&&G.ctrlKey&&(k.current.length<=1||(G.key==="ArrowRight"?(G.preventDefault(),p(e,t.id,"next")):G.key==="ArrowLeft"&&(G.preventDefault(),p(e,t.id,"prev"))))};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e,t.id,p]),d.useEffect(()=>{const _=a.current;if(!_)return;let G;const M=new ResizeObserver(()=>{clearTimeout(G),G=setTimeout(v,100)});return M.observe(_),()=>{clearTimeout(G),M.disconnect()}},[v]);const b=Jn[t.colorIndex%Jn.length],T=_=>{u(e,t.id,_)},L=_=>{h(e,t.id,_)},K=t.boundSessions.length>0,Y=_=>`/terminal/?arg=${encodeURIComponent(_)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:c,className:`terminal-window ${E?"focused":""}`,tabIndex:-1,onClick:C,style:{"--window-accent":b.accent,"--window-bg":b.bg,"--window-border":b.border,...s},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(_=>r.jsx(ny,{sessionName:_,isActive:_===m,workspaceId:e,windowId:t.id,onRemove:()=>T(_),onClick:()=>L(_)},_))}),r.jsxs("div",{className:"window-controls",children:[K&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${f?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:a,className:"terminal-window-body",children:[m==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:b.accent},children:r.jsx("span",{children:"Initializing Session..."})}):K?t.boundSessions.map(_=>{const G=_===m;return r.jsx("iframe",{ref:M=>{M&&o.current.set(_,M)},src:Y(_),onLoad:()=>S(_),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:G?"block":"none",position:G?"relative":"absolute"},title:`Terminal ${t.id} - ${_}`},_)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(ey,{workspaceId:e,windowId:t.id,accentColor:b.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(ty,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ry({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=pt(),l=t[e],i=l.windows,o=l.windowCount,a=ph("(max-width: 768px)"),[c,u]=d.useState(0);d.useEffect(()=>{c>=o&&u(0)},[o,c]);const h=()=>{if(a)return"grid-1";switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsx("div",{className:"terminal-area-controls",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"View:"}),r.jsxs("div",{className:"mobile-controls-row",style:{display:"flex",gap:"4px",alignItems:"center",flex:1,overflowX:"auto"},children:[Array.from({length:o}).map((p,g)=>r.jsx("button",{className:`layout-btn ${c===g?"active":""}`,onClick:()=>u(g),children:g+1},`view-${g}`)),r.jsx("div",{style:{width:"1px",height:"16px",background:"var(--divider)",margin:"0 8px"}}),r.jsx("span",{className:"layout-label",children:"Count:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),style:{opacity:o===p?1:.7},children:p},`count-${p}`))]})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),title:`${p} window${p>1?"s":""}`,children:p},p))]})}),r.jsx("div",{className:`terminal-grid ${h()}`,"data-workspace":e,children:i.slice(0,o).map((p,g)=>{const x=!a||g===c;return r.jsx(sy,{workspaceId:e,window:p,isDragging:s,style:{display:x?"flex":"none"}},p.id)})})]})}class le extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function za(e){return`/${e}`}const mn="/api/files";function gh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new le('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new le("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new le("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new le('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function ys(e,t){if(!e.ok)switch(e.status){case 403:throw new le("Permission denied","PERMISSION",403);case 404:throw new le("File not found","NOT_FOUND",404);case 409:throw new le("Already exists","CONFLICT",409);case 413:throw new le("File too large","STORAGE",413);case 507:throw new le("Insufficient storage","STORAGE",507);default:throw new le(`${t}: ${e.status}`,"SERVER",e.status)}}function Zn(e,t){if(e instanceof le)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function vh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${mn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new le(l instanceof Error?l.message:"Network error","NETWORK")}ys(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new le("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new le("Invalid directory response","INVALID");if(s.isDir===!1)throw new le("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new le("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function yh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${mn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new le(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new le("Folder already exists","CONFLICT",409);ys(s,"Failed to create folder")}async function ly(e,t){let n;try{n=await fetch(`${mn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new le(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new le("Destination already exists","CONFLICT",409);ys(n,"Failed to rename")}async function iy(e){let t;try{t=await fetch(`${mn}/resources${e}`,{method:"DELETE"})}catch(n){throw new le(n instanceof Error?n.message:"Network error","NETWORK")}ys(t,"Failed to delete")}async function Mo(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=gh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${mn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new le(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new le("File too large","STORAGE",413);if(o.status===507)throw new le("Insufficient storage","STORAGE",507);ys(o,`Failed to upload ${l}`)}}async function oy(e){try{return(await fetch(`${mn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Aa(e){return`${mn}/raw${e}?inline=false`}async function ay(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(u=>u.length>0).map(u=>gh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${mn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new le(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new le("File too large","STORAGE",413);if(c.status===507)throw new le("Insufficient storage","STORAGE",507);ys(c,`Failed to upload ${o}`)}}function cy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?za(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function Oo(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function uy(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function xh(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function dy({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:xh(e)})}function Li({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function fy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:g}){const x=d.useRef(null);d.useEffect(()=>{if(o&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{g||(e.isDir?s():window.open(Aa(e.path),"_blank"))},w=f=>{g||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},E=f=>{f.key==="Enter"?u():f.key==="Escape"&&h()},m=p?za(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${g?"disabled":""}`,onClick:g?void 0:n,onDoubleClick:j,onContextMenu:g?void 0:l,onKeyDown:w,tabIndex:g?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(dy,{item:e}),o?r.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:E,onBlur:h}):r.jsx("span",{className:"fb-filename",children:m})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Oo(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:uy(e.modified)})]})}function hy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open(Aa(e.path),"_blank"))},c=i?za(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:xh(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function py({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&s()},g=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",g)}},[s]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function my({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=d.useState(""),o=d.useRef(null);d.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function gy({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function vy({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=d.useState(!1),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},p=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},g=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const E=w.dataTransfer.files;E.length>0&&await x(E)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Mo(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(E){const m=Zn(E,"upload");c(null),n(m)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:g,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function wh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((p,g)=>{u.file(p,g)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await wh(a,c);n.push(...u)}}return n}async function yy(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await wh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function xy({onError:e}){const[t,n]=d.useState([]),[s,l]=d.useState(""),[i,o]=d.useState(!1),[a,c]=d.useState(!1),[u,h]=d.useState("idle"),p=d.useRef(null),g=d.useRef(null),x="/code/incoming",j=b=>{b.preventDefault(),b.stopPropagation(),o(!0)},w=b=>{b.preventDefault(),b.stopPropagation(),o(!1)},E=async b=>{if(b.preventDefault(),b.stopPropagation(),o(!1),b.dataTransfer.items&&b.dataTransfer.items.length>0){const T=await yy(b.dataTransfer.items);T.length>0&&(n(L=>[...L,...T]),h("idle"))}else if(b.dataTransfer.files.length>0){const T=Array.from(b.dataTransfer.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...T]),h("idle")}},m=b=>{if(b.target.files&&b.target.files.length>0){const T=Array.from(b.target.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...T]),h("idle")}},f=b=>{if(b.target.files&&b.target.files.length>0){const T=Array.from(b.target.files),L=new Map;for(const Y of T){const _=Y.webkitRelativePath||Y.name,G=_.split("/")[0];L.has(G)||L.set(G,[]),L.get(G).push({file:Y,relativePath:_})}const K=Array.from(L.entries()).map(([Y,_])=>({type:"folder",name:Y,size:_.reduce((G,M)=>G+M.file.size,0),filesWithPaths:_}));n(Y=>[...Y,...K]),h("idle")}},v=b=>{n(T=>T.filter((L,K)=>K!==b))},y=async()=>{if(t.length!==0){c(!0);try{await oy(x)||await yh("/code","incoming");for(const T of t)T.type==="file"&&T.file?await Mo(x,[T.file]):T.type==="folder"&&T.filesWithPaths&&await ay(x,T.filesWithPaths);if(s.trim()&&t.length>0){const T=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await Mo(x,[T])}h("success"),n([]),l(""),p.current&&(p.current.value=""),g.current&&(g.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(b){h("error");const T=Zn(b,"upload");e(`Failed to send: ${T}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},S=t.reduce((b,T)=>b+T.size,0),C=t.reduce((b,T)=>{var L;return T.type==="file"?b+1:b+(((L=T.filesWithPaths)==null?void 0:L.length)||0)},0),N=t.filter(b=>b.type==="folder").length,k=t.filter(b=>b.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:E,children:[r.jsx("input",{ref:p,type:"file",multiple:!0,onChange:m,style:{display:"none"}}),r.jsx("input",{ref:g,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((b,T)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:b.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[b.name,b.type==="folder"&&b.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",b.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:Oo(b.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:L=>{L.stopPropagation(),v(T)},children:""})]},`${b.name}-${T}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:b=>{var T;b.stopPropagation(),(T=p.current)==null||T.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:b=>{var T;b.stopPropagation(),(T=g.current)==null||T.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:b=>{var T;b.stopPropagation(),(T=p.current)==null||T.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:b=>{var T;b.stopPropagation(),(T=g.current)==null||T.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:b=>l(b.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&k>0&&", ",k>0&&`${k} file${k>1?"s":""}`," ","(",C," total)  ",Oo(S)]}),r.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function wy(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function jy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function Ny(){const[e,t]=d.useState("browser"),[n,s]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[o,a]=d.useState(null),[c,u]=d.useState(null),[h,p]=d.useState(null),[g,x]=d.useState(""),[j,w]=d.useState(!1),[E,m]=d.useState(null),[f,v]=d.useState(["/"]),[y,S]=d.useState(0),C=d.useCallback(P=>{a(P)},[]),N=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),k=d.useCallback(async P=>{s(F=>({...F,loading:!0,error:null}));try{const F=await vh(P);s(D=>({...D,items:F,loading:!1,currentPath:P,selectedItems:new Set,error:null}))}catch(F){const D=Zn(F,"fetch");s(O=>({...O,loading:!1,error:D,items:[]}))}},[]);d.useEffect(()=>{k("/")},[k]);const b=d.useCallback((P,F=!0)=>{if(F){const D=[...f.slice(0,y+1),P];v(D),S(D.length-1)}k(P)},[k,f,y]),T=d.useCallback(()=>{if(y>0){const P=y-1;S(P),k(f[P])}},[y,f,k]),L=d.useCallback(()=>{if(y<f.length-1){const P=y+1;S(P),k(f[P])}},[y,f,k]),K=d.useCallback(()=>{const P=n.currentPath.split("/").filter(Boolean);P.length>0&&(P.pop(),b("/"+P.join("/")))},[n.currentPath,b]),Y=d.useMemo(()=>{const P=[...n.items],F=n.searchQuery?P.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):P;return F.sort((D,O)=>{if(D.isDir!==O.isDir)return D.isDir?-1:1;let A=0;switch(n.sortBy){case"name":A=D.name.localeCompare(O.name);break;case"size":A=D.size-O.size;break;case"modified":A=new Date(D.modified).getTime()-new Date(O.modified).getTime();break}return n.sortDir==="asc"?A:-A}),F},[n.items,n.sortBy,n.sortDir,n.searchQuery]),_=P=>{s(F=>({...F,sortBy:P,sortDir:F.sortBy===P&&F.sortDir==="asc"?"desc":"asc"}))},G=(P,F)=>{if(F.preventDefault(),F.ctrlKey||F.metaKey)s(D=>{const O=new Set(D.selectedItems);return O.has(P.name)?O.delete(P.name):O.add(P.name),{...D,selectedItems:O}});else if(F.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),O=Y.findIndex(W=>W.name===D),A=Y.findIndex(W=>W.name===P.name),H=Math.min(O,A),Q=Math.max(O,A),he=new Set(Y.slice(H,Q+1).map(W=>W.name));s(W=>({...W,selectedItems:he}))}else s(D=>({...D,selectedItems:new Set([P.name])}))},M=(P,F)=>{F.preventDefault(),u({x:F.clientX,y:F.clientY,item:P}),P&&!n.selectedItems.has(P.name)&&s(D=>({...D,selectedItems:new Set([P.name])}))},Z=P=>{p(P.name),x(P.name),u(null)},z=async()=>{if(!h||!g.trim()||g===h){$();return}const P=n.items.find(D=>D.name===h);if(!P)return;const F=n.currentPath==="/"?`/${g}`:`${n.currentPath}/${g}`;i({type:"rename",loading:!0,error:null,target:P.name});try{await ly(P.path,F),await k(n.currentPath),N()}catch(D){const O=Zn(D,"rename");i({type:"rename",loading:!1,error:O,target:P.name}),C(O)}finally{$()}},$=()=>{p(null),x("")},U=async()=>{if(E){i({type:"delete",loading:!0,error:null,target:E.name});try{await iy(E.path),await k(n.currentPath),N(),m(null)}catch(P){const F=Zn(P,"delete");i({type:"delete",loading:!1,error:F,target:E.name}),C(F)}}},ee=async P=>{i({type:"create",loading:!0,error:null,target:P});try{await yh(n.currentPath,P),await k(n.currentPath),N(),w(!1)}catch(F){const D=Zn(F,"create");i({type:"create",loading:!1,error:D,target:P})}},V=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Aa(c.item.path),"_blank"),u(null)},de=()=>{if(c!=null&&c.item){const P=c.item.path;navigator.clipboard.writeText(P)}u(null)};d.useEffect(()=>{const P=F=>{if(e==="browser"&&!(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"))if(F.key==="F5")F.preventDefault(),k(n.currentPath);else if(F.key==="Backspace")F.preventDefault(),K();else if(F.key==="Delete"){const D=n.items.find(O=>n.selectedItems.has(O.name));D&&m(D)}else if(F.key==="F2"){const D=n.items.find(O=>n.selectedItems.has(O.name));D&&Z(D)}else F.ctrlKey&&F.key==="a"&&(F.preventDefault(),s(D=>({...D,selectedItems:new Set(D.items.map(O=>O.name))})))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,n.currentPath,n.items,n.selectedItems,k,K]);const X=n.currentPath==="/"||n.currentPath==="",oe=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(jy,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(vy,{currentPath:n.currentPath,onUploadComplete:()=>k(n.currentPath),onError:C}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:oe,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>k(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(xy,{onError:C}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:T,disabled:y===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:L,disabled:y>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:K,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(cy,{path:n.currentPath,onNavigate:b}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:P=>s(F=>({...F,searchQuery:P.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:P=>{P.target.closest(".fb-row, .fb-grid-item")||M(null,P)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>k(n.currentPath),children:"Retry"})]}):Y.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(Li,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:_,className:"fb-cell-name"}),r.jsx(Li,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:_,className:"fb-cell-size"}),r.jsx(Li,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:_,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:Y.map(P=>r.jsx(fy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:F=>G(P,F),onNavigate:()=>b(P.path),onContextMenu:F=>M(P,F),onRename:()=>Z(P),isRenaming:h===P.name,renameValue:g,setRenameValue:x,onRenameSubmit:z,onRenameCancel:$,isAtRoot:X,disabled:oe},P.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:Y.map(P=>r.jsx(hy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:F=>G(P,F),onNavigate:()=>b(P.path),onContextMenu:F=>M(P,F),isAtRoot:X,disabled:oe},P.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[Y.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),oe&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(wy,{})}),c&&r.jsx(py,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:V,onRename:()=>c.item&&Z(c.item),onDelete:()=>c.item&&m(c.item),onCopyPath:de,onNewFolder:()=>{u(null),w(!0)}}),j&&r.jsx(my,{onClose:()=>{w(!1),N()},onCreate:ee,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),E&&r.jsx(gy,{item:E,onClose:()=>{m(null),N()},onConfirm:U,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function Sy({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=d.useState(n),[i,o]=d.useState([]),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,g]=d.useState(!1),x=d.useCallback(async y=>{try{const S=y==="/"?"/.beads":`${y}/.beads`,C=await fetch(`/api/files/resources${S}`);return C.ok?(await C.json()).isDir===!0:!1}catch{return!1}},[]),j=d.useCallback(async y=>{c(!0),h(null);try{const C=(await vh(y)).filter(b=>b.isDir),N=await x(y);g(N);const k=await Promise.all(C.map(async b=>({...b,hasBeads:await x(b.path)})));o(k)}catch(S){h(S instanceof Error?S.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);d.useEffect(()=>{j(s)},[s,j]);const w=y=>{l(y)},E=()=>{if(s==="/")return;const y=s.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},m=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((y,S,C)=>({name:y,path:"/"+C.slice(0,S+1).join("/")}))],f=()=>{e(s)},v=y=>{y.target===y.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:v,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:E,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:m.map((y,S)=>r.jsxs("span",{children:[S>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),p&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>r.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function zn({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function ky(){var g,x,j,w,E,m;const{settings:e,updateSettings:t}=pt(),[n,s]=d.useState(!1),l=f=>{const v=e.beadsProjectPaths||[];v.includes(f)||t({beadsProjectPaths:[...v,f]}),s(!1)},i=f=>{const v=e.beadsProjectPaths||[];t({beadsProjectPaths:v.filter(y=>y!==f)})},o=f=>{t({theme:f})},a=f=>{const v=parseInt(f.target.value,10);v>=12&&v<=20&&t({fontSize:v})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},h=(f,v)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:v}})},p=f=>{const v=Lv[f];v&&t({tmuxAppearance:v})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>p(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Background",value:((g=e.tmuxAppearance)==null?void 0:g.statusBg)??"#000000",onChange:f=>h("statusBg",f)}),r.jsx(zn,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>h("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>h("paneBorderActive",f)}),r.jsx(zn,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>h("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Background",value:((E=e.tmuxAppearance)==null?void 0:E.modeStyleBg)??"#00ff41",onChange:f=>h("modeStyleBg",f)}),r.jsx(zn,{label:"Foreground",value:((m=e.tmuxAppearance)==null?void 0:m.modeStyleFg)??"#000000",onChange:f=>h("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(Sy,{onSelect:l,onClose:()=>s(!1)})]})}function by(){const{floatingSession:e,closeFloatingModal:t,settings:n}=pt(),[s,l]=d.useState(!1),[i,o]=d.useState({x:80,y:60}),[a]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),h=d.useRef({x:0,y:0}),p=d.useRef(null),g=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const x=d.useCallback(()=>{try{const f=p.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=d.useCallback(f=>{const v=p.current;if(!(v!=null&&v.contentWindow))return;let y=0;const S=20,C=()=>{try{const N=v.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}y++,y<S&&setTimeout(C,50)};C()},[]),w=d.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[j,n.fontSize,x]);d.useEffect(()=>{s&&j(n.fontSize)},[s,n.fontSize,j]),d.useEffect(()=>{const f=g.current;if(!f)return;let v;const y=new ResizeObserver(()=>{clearTimeout(v),v=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(v),y.disconnect()}},[x]);const E=f=>{f.target.closest(".modal-close")||(u(!0),h.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=y=>{o({x:y.clientX-h.current.x,y:y.clientY-h.current.y})},v=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)}},[c]),!e)return null;const m=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:E,children:[r.jsx("span",{className:"modal-title",children:m}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:g,className:"floating-modal-body",children:r.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const Cy=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function Ey(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(yu,{});case"terminals":return r.jsx(Ty,{});case"sessions":return r.jsx(Py,{});case"files":return r.jsx(Dy,{});case"tmux":return r.jsx(Ry,{});default:return r.jsx(yu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:Cy.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function yu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Py(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Dy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Ry(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const jh="/api/beads";async function Nh(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Iy(){const{settings:e}=pt(),[t,n]=d.useState([]),[s,l]=d.useState(!0),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;l(!0),o(null);try{const u=await Nh(`${jh}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const g of p){if(h.some(j=>j.path===g))continue;const x=g.split("/").filter(Boolean).pop()||g;h.push({name:x,path:g,beadsPath:`${g}/.beads`})}n(h),!u.success&&p.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function My(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await Nh(`${jh}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{issues:t,loading:s,error:i,refresh:a}}const Oy={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},Ly={bug:"",feature:"",task:"",chore:"",epic:""};function xu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function wu(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function _y(e){return e.replace(/_/g," ")}function ju({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=Oy[e.status]||"var(--text-secondary)",i=e.type&&Ly[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${wu(e.priority)}`,children:xu(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${wu(e.priority)}`,children:xu(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:_y(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const Nu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function zy({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of Nu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[Nu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(ju,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(ju,{issue:i,showDependencies:!0},i.id))})]})]})}const Ay=`
## Beads Viewer (bv) - Quick Reference

**bv** is a high-performance Terminal UI for browsing and managing tasks in projects using the Beads issue tracking system.

### Navigation
| Key | Action |
|-----|--------|
| \`j/k\` | Move down/up |
| \`/\` | Fuzzy search |
| \`Enter\` | Select/expand |
| \`q\` | Quit |

### Views
| Key | View |
|-----|------|
| \`b\` | Kanban board |
| \`g\` | Dependency graph |
| \`i\` | Insights & metrics |
| \`h\` | History timeline |

### Filters
| Key | Filter |
|-----|--------|
| \`o\` | Open issues |
| \`c\` | Closed issues |
| \`r\` | Ready (unblocked) |

### Actions
| Key | Action |
|-----|--------|
| \`E\` | Export to Markdown |
| \`C\` | Copy issue as Markdown |
| \`O\` | Open in editor |
| \`t\` | Time-travel (pick revision) |
| \`T\` | Compare with HEAD~5 |

### Features
- **Live Reload**: Auto-refreshes when beads.jsonl changes
- **Split View**: List + details on wide screens
- **Markdown**: Beautiful rendering with syntax highlighting
- **AI-Ready**: Structured insights for coding agents
`;function Fy(){const{projects:e,loading:t}=Iy(),[n,s]=d.useState(null),[l,i]=d.useState(!1),{issues:o,loading:a,error:c}=My(n);d.useEffect(()=>{!n&&e.length>0&&s(e[0].path)},[e,n]);const u=d.useCallback(async p=>{if(p){s(p);try{await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(p)}`,{method:"POST"})}catch(g){console.error("Failed to restart bv terminal:",g)}}},[]),h=d.useCallback(()=>{window.open("/bv-terminal/","_blank")},[]);return r.jsxs("div",{className:"bv-container",children:[r.jsx("div",{className:"bv-toolbar",children:r.jsxs("div",{className:"bv-toolbar-left",children:[r.jsx("label",{htmlFor:"bv-project-select",children:"Project:"}),r.jsx("select",{id:"bv-project-select",value:n||"",onChange:p=>u(p.target.value),disabled:t,children:t?r.jsx("option",{children:"Loading projects..."}):e.length===0?r.jsx("option",{children:"No projects with .beads found"}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(p=>r.jsx("option",{value:p.path,children:p.name},p.path))]})}),r.jsx("button",{className:"bv-btn bv-btn-primary",onClick:h,disabled:!n,title:"Open interactive beads_viewer in new tab",children:"Open Beads Viewer"}),r.jsx("button",{className:"bv-btn",onClick:()=>i(!0),title:"BV keyboard shortcuts and help",children:"BV Help"})]})}),l&&r.jsx("div",{className:"bv-help-overlay",onClick:()=>i(!1),children:r.jsxs("div",{className:"bv-help-modal",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"bv-help-header",children:[r.jsx("h2",{children:"Beads Viewer Help"}),r.jsx("button",{className:"bv-help-close",onClick:()=>i(!1),children:""})]}),r.jsx("div",{className:"bv-help-content",children:r.jsx("pre",{children:Ay})})]})}),r.jsx("div",{className:"bv-kanban-full",children:r.jsx(zy,{issues:o,loading:a,error:c})})]})}const $y=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function By(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(Su,{});case"agents":return r.jsx(Wy,{});case"molecules":return r.jsx(Uy,{});case"beads":return r.jsx(Vy,{});case"philosophy":return r.jsx(Hy,{});case"links":return r.jsx(Ky,{});default:return r.jsx(Su,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:$y.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Su(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function Wy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function Uy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Vy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Hy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Ky(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const ht="/api/chat";function Gy(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),o=d.useCallback(async()=>{var a,c;try{s(!0);const h=await(await fetch(`${ht}/conversations`)).json();((a=h.data)==null?void 0:a.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function Qy(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),i=d.useCallback(async()=>{var o;if(!e){n([]);return}try{l(!0);const c=await(await fetch(`${ht}/channel/list?workspace=${encodeURIComponent(e)}`)).json();(o=c.data)!=null&&o.channels&&n(c.data.channels)}catch{}finally{l(!1)}},[e]);return d.useEffect(()=>{i()},[i]),{channels:t,loading:s,refresh:i}}function Yy(e,t,n=!1){const[s,l]=d.useState([]),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useCallback(async(h=!1)=>{var p,g;if(!e||!t){l([]);return}try{h||o(!0);const x=encodeURIComponent(e),j=encodeURIComponent(t);let w=`${ht}/history?target=${x}&workspace=${j}`;n&&(w=`${ht}/channel/messages?channel=${x}&workspace=${j}`);const m=await(await fetch(w)).json();((p=m.data)==null?void 0:p.messages)!==void 0?(l(m.data.messages||[]),c(null)):c(((g=m.error)==null?void 0:g.message)||"Failed to load history")}catch{c("Network error")}finally{h||o(!1)}},[e,t,n]);return d.useEffect(()=>{u()},[u]),{messages:s,loading:i,error:a,refresh:u}}async function Xy(e,t,n){var l,i,o,a,c;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(s,null,2)),console.log("Endpoint:",`${ht}/send`);try{const u=await fetch(`${ht}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Response status:",u.status,u.statusText);const h=await u.json();return console.log("Response body:",JSON.stringify(h,null,2)),console.groupEnd(),(l=h.data)!=null&&l.success?{success:!0,messageId:(i=h.data)==null?void 0:i.messageId,mailSent:((o=h.data)==null?void 0:o.mailSent)??!1,nudged:((a=h.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=h.error)==null?void 0:c.message)||"Send failed"}}catch(u){return console.error("Network error:",u),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function Jy(e,t,n){var l,i,o;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(s,null,2));try{const c=await(await fetch(`${ht}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function Zy(){var e,t;try{const s=await(await fetch(`${ht}/session/status`)).json();return{exists:((e=s.data)==null?void 0:e.exists)??!1,workspace:(t=s.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function qy(e){var t;try{const s=await(await fetch(`${ht}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.created??!1,workspace:s.data.workspace,message:s.data.message}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function ex(e){var t;try{const s=await(await fetch(`${ht}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.restarted??!1,workspace:s.data.workspace}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}async function tx(e,t){var n,s;try{const i=await(await fetch(`${ht}/channel/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,name:t})})).json();return(n=i.data)!=null&&n.success?{success:!0}:{success:!1,message:((s=i.error)==null?void 0:s.message)||"Failed to create channel"}}catch{return{success:!1,message:"Network error"}}}async function nx(e,t,n){var s,l;try{const o=await(await fetch(`${ht}/channel/invite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,channel:t,targets:n})})).json();return(s=o.data)!=null&&s.success?{success:!0,sent:o.data.sent,total:o.data.total}:{success:!1,message:((l=o.error)==null?void 0:l.message)||"Failed to invite members"}}catch{return{success:!1,message:"Network error"}}}const ku="chrote-chat-selected",bu="chrote-chat-collapsed-groups";function Cu(e){return e==="channels"?-1:e==="hq"?0:e==="main"?1:e.startsWith("gt-")?3:4}function sx(e){if(e==="channels")return"Channels";if(e==="hq")return"HQ";if(e==="main")return"Main";if(e==="other")return"Other";if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function rx(e){if(e.role==="channel")return"channels";const t=e.displayName.toLowerCase();if(t.startsWith("hq-"))return"hq";if(t==="main"||t==="shell")return"main";if(t.startsWith("gt-")){const n=t.split("-");return n.length>=2?n[0]+"-"+n[1]:"gt-unknown"}return"other"}function lx(e){const t={};for(const n of e){const s=rx(n);t[s]||(t[s]=[]),t[s].push(n)}return t}function ix(){var St;const[e,t]=d.useState(()=>{try{return localStorage.getItem(ku)}catch{return null}}),[n,s]=d.useState(""),[l,i]=d.useState(!1),[o,a]=d.useState(null),[c,u]=d.useState(!1),[h,p]=d.useState(()=>window.innerWidth<=768),[g,x]=d.useState({exists:!1,initializing:!1}),[j,w]=d.useState(!1),[E,m]=d.useState(""),[f,v]=d.useState(""),[y,S]=d.useState([]),[C,N]=d.useState(()=>{try{const R=localStorage.getItem(bu);if(R)return new Set(JSON.parse(R))}catch{}return new Set(["other"])}),{conversations:k,loading:b,refresh:T}=Gy(),L=((St=k.find(R=>R.workspace))==null?void 0:St.workspace)||null,{channels:K,refresh:Y}=Qy(L),_=d.useMemo(()=>{const R=K.map(J=>({target:`channel:${J.name}`,displayName:`#${J.name}`,role:"channel",online:!0,unreadCount:0,workspace:L||void 0}));return[...k,...R]},[k,K,L]),G=d.useMemo(()=>{const R=lx(_);return Object.entries(R).sort(([J],[ne])=>Cu(J)-Cu(ne))},[_]),M=_.find(R=>R.target===e),Z=(e==null?void 0:e.startsWith("channel:"))??!1,z=Z?e.replace("channel:",""):e,{messages:$,loading:U,refresh:ee}=Yy(z,(M==null?void 0:M.workspace)??null,Z),{addToast:V}=Cr(),de=d.useRef(null),X=d.useRef(null),oe=d.useRef(null),P=d.useRef(null),F=d.useRef(!0),D=d.useRef(0);d.useEffect(()=>{const R=()=>{window.innerWidth<=768&&p(!0)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),d.useEffect(()=>{const R=()=>{F.current&&de.current&&de.current.scrollIntoView({behavior:"smooth"})};return window.visualViewport&&window.visualViewport.addEventListener("resize",R),window.addEventListener("resize",R),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",R),window.removeEventListener("resize",R)}},[]);const O=()=>{const R=X.current;if(!R)return;const{scrollTop:J,scrollHeight:ne,clientHeight:rt}=R;F.current=ne-J-rt<100};d.useEffect(()=>{var ne;const R=$.length,J=R>D.current;if(D.current=R,J&&F.current&&((ne=de.current)==null||ne.scrollIntoView({behavior:"smooth"})),o&&$.length>0){const rt=[...$].reverse().find(ni=>ni.role==="user");rt&&rt.content===o&&a(null)}},[$,o]),d.useEffect(()=>{var R;l&&((R=de.current)==null||R.scrollIntoView({behavior:"smooth"}))},[l]),d.useEffect(()=>{var R;e&&(window.matchMedia("(max-width: 768px)").matches||(R=oe.current)==null||R.focus())},[e]),d.useEffect(()=>{if(!e)return;const R=setInterval(()=>{ee(!0)},5e3);return()=>clearInterval(R)},[e,ee]),d.useEffect(()=>{Zy().then(R=>{x({exists:R.exists,initializing:!1})})},[]),d.useEffect(()=>{(async()=>{if(!(M!=null&&M.workspace)||g.exists||g.initializing)return;x(ne=>({...ne,initializing:!0}));const J=await qy(M.workspace);x({exists:J.created||g.exists,initializing:!1}),J.created&&V("Chat session initialized","success")})()},[M==null?void 0:M.workspace,g.exists,g.initializing,V]);const A=async()=>{var ne;const R=(M==null?void 0:M.workspace)||((ne=k.find(rt=>rt.workspace))==null?void 0:ne.workspace);if(!R){V("No workspace available to restart session","error");return}x({exists:!1,initializing:!0});const J=await ex(R);x({exists:J.created,initializing:!1}),J.created?V("Chat session restarted","success"):V(J.message||"Failed to restart session","error")},H=R=>{t(R),window.innerWidth<=768&&p(!0);try{localStorage.setItem(ku,R)}catch{}},Q=async()=>{if(!M||!M.workspace||!n.trim()||l)return;const R=n.trim();s(""),i(!0);const J=await Xy(M.workspace,M.target,R);if(J.success){const ne=[];J.mailSent&&ne.push("Mail sent"),J.nudged&&ne.push("Agent nudged"),V(ne.join(", ")||"Message sent","success"),a(R),i(!1),setTimeout(()=>{ee()},1e3),setTimeout(()=>{a(null)},1e4)}else V(J.error||"Send failed","error"),i(!1)},he=async()=>{if(!M||!M.workspace||c)return;u(!0);const R=await Jy(M.workspace,M.target);R.success?V("Nudged!","success"):V(R.error||"Nudge failed","error"),u(!1)},W=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),Q())},ae=R=>{s(R.target.value);const J=R.target;J.style.height="auto",J.style.height=Math.min(J.scrollHeight,120)+"px"},Te=async()=>{var ne;const R=(M==null?void 0:M.workspace)||((ne=k.find(rt=>rt.workspace))==null?void 0:ne.workspace);if(!E||!R){V("Select an agent first to define workspace","error");return}const J=await tx(R,E);J.success?(V(`Channel '${E}' created`,"success"),m(""),v(E),Y()):V(J.message||"Failed","error")},Me=async()=>{var ne;const R=(M==null?void 0:M.workspace)||((ne=k.find(rt=>rt.workspace))==null?void 0:ne.workspace);if(!f||y.length===0||!R){V("Missing info or workspace","error");return}V("Sending invites...","info");const J=await nx(R,f,y);J.success?(V(`Invited ${J.sent} agents`,"success"),S([]),w(!1)):V(J.message||"Failed","error")},gn=R=>{y.includes(R)?S(y.filter(J=>J!==R)):S([...y,R])},vn=R=>{N(J=>{const ne=new Set(J);ne.has(R)?ne.delete(R):ne.add(R);try{localStorage.setItem(bu,JSON.stringify([...ne]))}catch{}return ne})},pe=$;return r.jsxs("div",{ref:P,className:"chrote-chat",children:[r.jsxs("div",{className:`chat-sidebar ${h?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>p(!h),title:h?"Expand":"Collapse",children:h?"":""}),!h&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>{T(),Y()},disabled:b,title:"Refresh",children:""})]})]}),!h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"chat-conversations",children:b&&k.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):k.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):G.map(([R,J])=>r.jsx(ox,{role:R,conversations:J,collapsed:C.has(R),onToggle:()=>vn(R),selectedTarget:e,onSelect:H},R))}),r.jsxs("div",{className:"chat-sidebar-footer",children:[r.jsx("button",{className:"restart-session-btn",onClick:()=>w(!0),title:"Create or invite to channels",children:" Manage Channels"}),g.exists?r.jsx("div",{className:"session-status",children:"Session active"}):r.jsx("button",{className:"restart-session-btn",onClick:A,disabled:g.initializing,title:"Start the chrote-chat tmux session",children:g.initializing?"Starting...":"Start Chat Session"})]})]})]}),r.jsxs("div",{className:"chat-main",children:[r.jsxs("div",{className:"chat-header",children:[r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(M==null?void 0:M.displayName)||e||"Chat"}),e&&r.jsx("span",{className:`chat-header-status ${M!=null&&M.online?"online":"offline"}`,children:M!=null&&M.online?"Online":"Offline"})]}),e&&r.jsx("button",{className:"refresh-btn",onClick:()=>ee(),disabled:U,title:"Refresh history",children:""})]}),e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-messages",ref:X,onScroll:O,children:[U&&pe.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):pe.length===0&&!l&&!o?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):pe.map(R=>r.jsx(dx,{message:R},R.id)),o&&r.jsx(ux,{content:o}),l&&r.jsx(cx,{}),r.jsx("div",{ref:de})]}),r.jsxs("div",{className:"chat-input-area",children:[!(M!=null&&M.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:oe,className:"chat-input",value:n,onChange:ae,onKeyDown:W,placeholder:M!=null&&M.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:l||!(M!=null&&M.workspace)}),r.jsx("button",{className:"chat-nudge-btn",onClick:he,disabled:c||!(M!=null&&M.workspace),title:"Send a quick nudge",children:c?"...":"Nudge!"}),r.jsx("button",{className:"chat-send-btn",onClick:Q,disabled:!n.trim()||l||!(M!=null&&M.workspace),title:M!=null&&M.workspace?"Send (Enter)":"No workspace detected",children:l?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})]}),j&&r.jsx("div",{className:"channel-modal-overlay",onClick:()=>w(!1),children:r.jsxs("div",{className:"channel-modal",onClick:R=>R.stopPropagation(),children:[r.jsxs("div",{className:"channel-modal-header",children:[r.jsx("h3",{children:" Channels"}),r.jsx("button",{className:"close-btn",onClick:()=>w(!1),children:""})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Create Channel"}),r.jsxs("div",{className:"channel-row",children:[r.jsx("input",{value:E,onChange:R=>m(R.target.value),placeholder:"Channel Name"}),r.jsx("button",{onClick:Te,children:"Create"})]})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Invite Members"}),r.jsx("p",{className:"hint",children:"Selected agents receive a DM with subscription instructions."}),r.jsx("input",{value:f,onChange:R=>v(R.target.value),placeholder:"Channel Name to Invite To",className:"full-width"}),r.jsx("div",{className:"agent-select-list",children:k.map(R=>r.jsxs("label",{className:"agent-select-item",children:[r.jsx("input",{type:"checkbox",checked:y.includes(R.target),onChange:()=>gn(R.target)}),r.jsx("span",{children:R.displayName})]},R.target))}),r.jsxs("button",{className:"invite-btn full-width",disabled:!f||y.length===0,onClick:Me,children:["Invite ",y.length," Agents"]})]})]})})]})}function ox({role:e,conversations:t,collapsed:n,onToggle:s,selectedTarget:l,onSelect:i}){const o=sx(e);return r.jsxs("div",{className:"chat-group",children:[r.jsxs("div",{className:"chat-group-header",onClick:s,children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:o}),r.jsx("span",{className:"chat-group-count",children:t.length})]}),!n&&r.jsx("div",{className:"chat-group-items",children:t.map(a=>r.jsx(ax,{conversation:a,selected:a.target===l,onClick:()=>i(a.target)},a.target))})]})}function ax({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsx(mh,{sessionName:e.target}),r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function cx(){return r.jsx("div",{className:"chat-sending-spinner",children:r.jsx("div",{className:"spinner"})})}function ux({content:e}){return r.jsxs("div",{className:"chat-message user pending",children:[r.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>r.jsx("p",{children:t||""},n))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function dx({message:e}){const t=e.role==="user",n=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((s,l)=>r.jsx("p",{children:s||""},l))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class Eu extends d.Component{constructor(n){super(n);Ua(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Tu=4e3,Pu=300,fx={success:"",info:"",warning:"",error:""};function hx({toast:e,onRemove:t}){const[n,s]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,p=Math.max(0,100-h/Tu*100);i(p)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Pu)},Tu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),Pu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:fx[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function px(){const{toasts:e,removeToast:t}=Cr();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(hx,{toast:n,onRemove:t},n.id))})}const mx=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function Sh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function gx({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(Sh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function vx({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(gx,{...n},s))})]})}function yx({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:mx.map((l,i)=>r.jsx(vx,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(Sh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function xx({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=pt(),[a,c]=d.useState(""),[u,h]=d.useState(null),[p,g]=d.useState(""),x=()=>{a.trim()&&s(a.trim())&&c("")},j=y=>{l(y),t()},w=y=>{i(y)},E=y=>{h(y.id),g(y.name)},m=()=>{u&&p.trim()&&(o(u,p.trim()),h(null),g(""))},f=()=>{h(null),g("")},v=y=>{let S=0,C=0;return Object.values(y.workspaces).forEach(N=>{S+=N.windowCount,N.windows.forEach(k=>{C+=k.boundSessions.length})}),`${S} windows, ${C} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((y,S)=>r.jsx("li",{className:"preset-item",children:u===y.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:C=>g(C.target.value),onKeyDown:C=>{C.key==="Enter"&&m(),C.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:m,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",S+1]}),r.jsx("span",{className:"preset-name",children:y.name}),r.jsx("span",{className:"preset-summary",children:v(y)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>j(y.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>E(y),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function wx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:g}=pt(),x=d.useCallback(async()=>{try{const E=u.defaultSessionPrefix||"tmux",m=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${m}(\\d+)$`),v=h.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),y=v.length>0?Math.max(...v)+1:1,S=`${E}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S})})).ok&&c()}catch(E){console.error("Failed to create session:",E)}},[u.defaultSessionPrefix,h,c]),j=d.useCallback(()=>{const E=document.querySelector(".session-search-input");E&&(E.focus(),E.select())},[]),w=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const E=m=>{const f=m.target,v=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(m.key==="Escape"){if(s)return;if(a){m.preventDefault(),o();return}}if(!(v||s)){if(m.key==="?"||m.shiftKey&&m.key==="/"){m.preventDefault(),n();return}if(m.key==="/"&&!m.ctrlKey&&!m.metaKey){m.preventDefault(),j();return}if(m.key==="Tab"&&!m.ctrlKey&&!m.shiftKey&&!m.altKey&&(e==="terminal1"||e==="terminal2")){m.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!m.ctrlKey&&!m.metaKey&&!m.altKey&&/^[1-4]$/.test(m.key)){const y=w();if(y){const S=parseInt(m.key,10),C=l[y];if(S<=C.windowCount){m.preventDefault();return}}}if(m.ctrlKey&&m.key==="s"){m.preventDefault(),i();return}if(m.ctrlKey&&m.key==="n"){m.preventDefault(),x();return}if(m.ctrlKey&&/^[1-9]$/.test(m.key)){const y=parseInt(m.key,10)-1;if(y<g.length){m.preventDefault(),p(g[y].id);return}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,t,n,s,a,o,j,i,x,w,l,p,g])}function jx({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function Nx(){const[e,t]=d.useState("terminal1"),[n,s]=d.useState(null),[l,i]=d.useState(!1),[o,a]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:g}=pt(),x=d.useCallback(()=>i(!0),[]),j=d.useCallback(()=>i(!1),[]),w=d.useCallback(()=>a(!0),[]),E=d.useCallback(()=>a(!1),[]);wx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",g.theme)},[g.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${g.fontSize}px`)},[g.fontSize]);const m=yg(vg(La,{activationConstraint:{distance:4}})),f=y=>{var C,N;const S=(C=y.active.data.current)==null?void 0:C.type;s(S==="tag"?((N=y.active.data.current)==null?void 0:N.sessionName)??null:y.active.id),h(!0)},v=y=>{var N,k,b,T;const{active:S,over:C}=y;if(s(null),h(!1),!C){if(((N=S.data.current)==null?void 0:N.type)==="tag"){const{sessionName:L,sourceWindowId:K,sourceWorkspaceId:Y}=S.data.current;u(Y,K,L)}return}if(((k=C.data.current)==null?void 0:k.type)==="window"){const L=C.data.current.windowId,K=C.data.current.workspaceId;if(((b=S.data.current)==null?void 0:b.type)==="session")c(K,L,S.id);else if(((T=S.data.current)==null?void 0:T.type)==="tag"){const{sessionName:Y,sourceWindowId:_,sourceWorkspaceId:G}=S.data.current;(_!==L||G!==K)&&c(K,L,Y)}}};return r.jsxs(mv,{sensors:m,onDragStart:f,onDragEnd:v,children:[r.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[r.jsx(Kv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(qv,{}),r.jsx(ry,{workspaceId:e})]}),e==="files"&&r.jsx(Ny,{}),e==="beads_viewer"&&r.jsx(Eu,{children:r.jsx(Fy,{})}),e==="chat"&&r.jsx(Eu,{children:r.jsx(ix,{})}),e==="manual"&&r.jsx(By,{}),e==="settings"&&r.jsx(ky,{}),e==="help"&&r.jsx(Ey,{})]}),r.jsx(by,{}),r.jsx(yx,{isOpen:l,onClose:j}),r.jsx(xx,{isOpen:o,onClose:E})]}),r.jsx(px,{}),r.jsx(Ov,{children:n?r.jsx(jx,{name:n}):null})]})}function Sx(){return r.jsx(Hv,{children:r.jsx(Nx,{})})}_i.createRoot(document.getElementById("root")).render(r.jsx(xe.StrictMode,{children:r.jsx(zv,{children:r.jsx(Sx,{})})}));
