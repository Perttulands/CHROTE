var Eh=Object.defineProperty;var Th=(e,t,n)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ba=(e,t,n)=>Th(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cu={exports:{}},Ol={},Eu={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Ah=Symbol.for("react.memo"),Fh=Symbol.for("react.lazy"),Wa=Symbol.iterator;function $h(e){return e===null||typeof e!="object"?null:(e=Wa&&e[Wa]||e["@@iterator"],typeof e=="function"?e:null)}var Tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pu=Object.assign,Du={};function ar(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}ar.prototype.isReactComponent={};ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=ar.prototype;function Mo(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}var Oo=Mo.prototype=new Ru;Oo.constructor=Mo;Pu(Oo,ar.prototype);Oo.isPureReactComponent=!0;var Ua=Array.isArray,Iu=Object.prototype.hasOwnProperty,Lo={current:null},Mu={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var r,l={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Iu.call(t,r)&&!Mu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:ms,type:e,key:i,ref:o,props:l,_owner:Lo.current}}function Bh(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _o(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function Wh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Va=/\/+/g;function ri(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wh(""+e.key):t.toString(36)}function Us(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case Dh:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+ri(o,0):r,Ua(l)?(n="",e!=null&&(n=e.replace(Va,"$&/")+"/"),Us(l,t,n,"",function(u){return u})):l!=null&&(_o(l)&&(l=Bh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Va,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Ua(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ri(i,a);o+=Us(i,t,n,c,l)}else if(c=$h(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ri(i,a++),o+=Us(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cs(e,t,n){if(e==null)return e;var r=[],l=0;return Us(e,r,"","",function(i){return t.call(n,i,l++)}),r}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},Vs={transition:null},Vh={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Vs,ReactCurrentOwner:Lo};function Lu(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Cs,forEach:function(e,t,n){Cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!_o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ar;Z.Fragment=Rh;Z.Profiler=Mh;Z.PureComponent=Mo;Z.StrictMode=Ih;Z.Suspense=zh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;Z.act=Lu;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Lo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Iu.call(t,c)&&!Mu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ms,type:e.type,key:l,ref:i,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:Lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oh,_context:e},e.Consumer=e};Z.createElement=Ou;Z.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:_h,render:e}};Z.isValidElement=_o;Z.lazy=function(e){return{$$typeof:Fh,_payload:{_status:-1,_result:e},_init:Uh}};Z.memo=function(e,t){return{$$typeof:Ah,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Vs.transition;Vs.transition={};try{e()}finally{Vs.transition=t}};Z.unstable_act=Lu;Z.useCallback=function(e,t){return ze.current.useCallback(e,t)};Z.useContext=function(e){return ze.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};Z.useEffect=function(e,t){return ze.current.useEffect(e,t)};Z.useId=function(){return ze.current.useId()};Z.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ze.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};Z.useRef=function(e){return ze.current.useRef(e)};Z.useState=function(e){return ze.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return ze.current.useTransition()};Z.version="18.3.1";Eu.exports=Z;var d=Eu.exports;const pe=Ph(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=d,Kh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Gh=Object.prototype.hasOwnProperty,Yh=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function _u(e,t,n){var r,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Gh.call(t,r)&&!Xh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Kh,type:e,key:i,ref:o,props:l,_owner:Yh.current}}Ol.Fragment=Qh;Ol.jsx=_u;Ol.jsxs=_u;Cu.exports=Ol;var s=Cu.exports,Oi={},zu={exports:{}},qe={},Au={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var U=O.length;O.push(B);e:for(;0<U;){var ee=U-1>>>1,J=O[ee];if(0<l(J,B))O[ee]=B,O[U]=J,U=ee;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],U=O.pop();if(U!==B){O[0]=U;e:for(var ee=0,J=O.length,A=J>>>1;ee<A;){var F=2*(ee+1)-1,X=O[F],P=F+1,z=O[P];if(0>l(X,U))P<J&&0>l(z,X)?(O[ee]=z,O[P]=U,ee=P):(O[ee]=X,O[F]=U,ee=F);else if(P<J&&0>l(z,U))O[ee]=z,O[P]=U,ee=P;else break e}}return B}function l(O,B){var U=O.sortIndex-B.sortIndex;return U!==0?U:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,v=3,x=!1,j=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function y(O){if(w=!1,m(O),!j)if(n(c)!==null)j=!0,q(S);else{var B=n(u);B!==null&&Y(y,B.startTime-O)}}function S(O,B){j=!1,w&&(w=!1,g(b),b=-1),x=!0;var U=v;try{for(m(B),p=n(c);p!==null&&(!(p.expirationTime>B)||O&&!I());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,v=p.priorityLevel;var J=ee(p.expirationTime<=B);B=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(c)&&r(c),m(B)}else r(c);p=n(c)}if(p!==null)var A=!0;else{var F=n(u);F!==null&&Y(y,F.startTime-B),A=!1}return A}finally{p=null,v=U,x=!1}}var k=!1,N=null,b=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function V(){if(N!==null){var O=e.unstable_now();T=O;var B=!0;try{B=N(!0,O)}finally{B?Q():(k=!1,N=null)}}else k=!1}var Q;if(typeof f=="function")Q=function(){f(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,K=L.port2;L.port1.onmessage=V,Q=function(){K.postMessage(null)}}else Q=function(){E(V,0)};function q(O){N=O,k||(k=!0,Q())}function Y(O,B){b=E(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,q(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var U=v;v=B;try{return O()}finally{v=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=v;v=O;try{return B()}finally{v=U}},e.unstable_scheduleCallback=function(O,B,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,O={id:h++,callback:B,priorityLevel:O,startTime:U,expirationTime:J,sortIndex:-1},U>ee?(O.sortIndex=U,t(u,O),n(c)===null&&O===n(u)&&(w?(g(b),b=-1):w=!0,Y(y,U-ee))):(O.sortIndex=J,t(c,O),j||x||(j=!0,q(S))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var B=v;return function(){var U=v;v=B;try{return O.apply(this,arguments)}finally{v=U}}}})(Fu);Au.exports=Fu;var Jh=Au.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=d,Ze=Jh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $u=new Set,Gr={};function Cn(e,t){tr(e,t),tr(e+"Capture",t)}function tr(e,t){for(Gr[e]=t,e=0;e<t.length;e++)$u.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=Object.prototype.hasOwnProperty,qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ha={},Ka={};function ep(e){return Li.call(Ka,e)?!0:Li.call(Ha,e)?!1:qh.test(e)?Ka[e]=!0:(Ha[e]=!0,!1)}function tp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,n,r){if(t===null||typeof t>"u"||tp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var zo=/[\-:]([a-z])/g;function Ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zo,Ao);Te[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zo,Ao);Te[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zo,Ao);Te[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fo(e,t,n,r){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,n,l,r)&&(n=null),r||l===null?ep(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _t=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),_i=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Wu=Symbol.for("react.context"),Bo=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Ai=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Uu=Symbol.for("react.offscreen"),Qa=Symbol.iterator;function jr(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,si;function Rr(e){if(si===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);si=t&&t[1]||""}return`
`+si+e}var li=!1;function ii(e,t){if(!e||li)return"";li=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=r.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{li=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function rp(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=ii(e.type,!1),e;case 11:return e=ii(e.type.render,!1),e;case 1:return e=ii(e.type,!0),e;default:return""}}function Fi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case On:return"Fragment";case Mn:return"Portal";case _i:return"Profiler";case $o:return"StrictMode";case zi:return"Suspense";case Ai:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wu:return(e.displayName||"Context")+".Consumer";case Bu:return(e._context.displayName||"Context")+".Provider";case Bo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wo:return t=e.displayName||null,t!==null?t:Fi(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Fi(e(t))}catch{}}return null}function sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fi(t);case 8:return t===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=Vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=lp(e))}function Hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $i(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ga(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&Fo(e,"checked",t,!1)}function Bi(e,t){Ku(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wi(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ya(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wi(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ir=Array.isArray;function Gn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ui(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Ir(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function Qu(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ja(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lr[t]=Lr[e]})});function Xu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lr.hasOwnProperty(e)&&Lr[e]?(""+t).trim():t+"px"}function Ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Xu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var op=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hi(e,t){if(t){if(op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ki(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,Yn=null,Xn=null;function Za(e){if(e=ys(e)){if(typeof Gi!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Fl(t),Gi(e.stateNode,e.type,t))}}function Zu(e){Yn?Xn?Xn.push(e):Xn=[e]:Yn=e}function qu(){if(Yn){var e=Yn,t=Xn;if(Xn=Yn=null,Za(e),t)for(e=0;e<t.length;e++)Za(t[e])}}function ed(e,t){return e(t)}function td(){}var oi=!1;function nd(e,t,n){if(oi)return e(t,n);oi=!0;try{return ed(e,t,n)}finally{oi=!1,(Yn!==null||Xn!==null)&&(td(),qu())}}function Xr(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Yi=!1;if(Rt)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Yi=!1}function ap(e,t,n,r,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _r=!1,sl=null,ll=!1,Xi=null,cp={onError:function(e){_r=!0,sl=e}};function up(e,t,n,r,l,i,o,a,c){_r=!1,sl=null,ap.apply(cp,arguments)}function dp(e,t,n,r,l,i,o,a,c){if(up.apply(this,arguments),_r){if(_r){var u=sl;_r=!1,sl=null}else throw Error(R(198));ll||(ll=!0,Xi=u)}}function En(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qa(e){if(En(e)!==e)throw Error(R(188))}function fp(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return qa(l),e;if(i===r)return qa(l),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=l,r=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=i;break}if(a===r){o=!0,r=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=l;break}if(a===r){o=!0,r=i,n=l;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function sd(e){return e=fp(e),e!==null?ld(e):null}function ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ld(e);if(t!==null)return t;e=e.sibling}return null}var id=Ze.unstable_scheduleCallback,ec=Ze.unstable_cancelCallback,hp=Ze.unstable_shouldYield,pp=Ze.unstable_requestPaint,ge=Ze.unstable_now,mp=Ze.unstable_getCurrentPriorityLevel,Vo=Ze.unstable_ImmediatePriority,od=Ze.unstable_UserBlockingPriority,il=Ze.unstable_NormalPriority,gp=Ze.unstable_LowPriority,ad=Ze.unstable_IdlePriority,Ll=null,St=null;function vp(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:wp,yp=Math.log,xp=Math.LN2;function wp(e){return e>>>=0,e===0?32:31-(yp(e)/xp|0)|0}var Ds=64,Rs=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=Mr(a):(i&=o,i!==0&&(r=Mr(i)))}else o=n&~l,o!==0?r=Mr(o):i!==0&&(r=Mr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pt(t),l=1<<n,r|=e[n],t&=~l;return r}function jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&r)&&(l[o]=jp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cd(){var e=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),e}function ai(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Sp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Ho(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function ud(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dd,Ko,fd,hd,pd,Zi=!1,Is=[],Xt=null,Jt=null,Zt=null,Jr=new Map,Zr=new Map,Kt=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Sr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=ys(t),t!==null&&Ko(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bp(e,t,n,r,l){switch(t){case"focusin":return Xt=Sr(Xt,e,t,n,r,l),!0;case"dragenter":return Jt=Sr(Jt,e,t,n,r,l),!0;case"mouseover":return Zt=Sr(Zt,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return Jr.set(i,Sr(Jr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Zr.set(i,Sr(Zr.get(i)||null,e,t,n,r,l)),!0}return!1}function md(e){var t=gn(e.target);if(t!==null){var n=En(t);if(n!==null){if(t=n.tag,t===13){if(t=rd(n),t!==null){e.blockedOn=t,pd(e.priority,function(){fd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Qi=r,n.target.dispatchEvent(r),Qi=null}else return t=ys(n),t!==null&&Ko(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){Hs(e)&&n.delete(t)}function Cp(){Zi=!1,Xt!==null&&Hs(Xt)&&(Xt=null),Jt!==null&&Hs(Jt)&&(Jt=null),Zt!==null&&Hs(Zt)&&(Zt=null),Jr.forEach(nc),Zr.forEach(nc)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Cp)))}function qr(e){function t(l){return kr(l,e)}if(0<Is.length){kr(Is[0],e);for(var n=1;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xt!==null&&kr(Xt,e),Jt!==null&&kr(Jt,e),Zt!==null&&kr(Zt,e),Jr.forEach(t),Zr.forEach(t),n=0;n<Kt.length;n++)r=Kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)md(n),n.blockedOn===null&&Kt.shift()}var Jn=_t.ReactCurrentBatchConfig,al=!0;function Ep(e,t,n,r){var l=ne,i=Jn.transition;Jn.transition=null;try{ne=1,Qo(e,t,n,r)}finally{ne=l,Jn.transition=i}}function Tp(e,t,n,r){var l=ne,i=Jn.transition;Jn.transition=null;try{ne=4,Qo(e,t,n,r)}finally{ne=l,Jn.transition=i}}function Qo(e,t,n,r){if(al){var l=qi(e,t,n,r);if(l===null)yi(e,t,r,cl,n),tc(e,r);else if(bp(l,e,t,n,r))r.stopPropagation();else if(tc(e,r),t&4&&-1<kp.indexOf(e)){for(;l!==null;){var i=ys(l);if(i!==null&&dd(i),i=qi(e,t,n,r),i===null&&yi(e,t,r,cl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else yi(e,t,r,null,n)}}var cl=null;function qi(e,t,n,r){if(cl=null,e=Uo(r),e=gn(e),e!==null)if(t=En(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mp()){case Vo:return 1;case od:return 4;case il:case gp:return 16;case ad:return 536870912;default:return 16}default:return 16}}var Gt=null,Go=null,Ks=null;function vd(){if(Ks)return Ks;var e,t=Go,n=t.length,r,l="value"in Gt?Gt.value:Gt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[i-r];r++);return Ks=l.slice(e,1<r?1-r:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function rc(){return!1}function et(e){function t(n,r,l,i,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ms:rc,this.isPropagationStopped=rc,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=et(cr),vs=fe({},cr,{view:0,detail:0}),Pp=et(vs),ci,ui,br,_l=fe({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(ci=e.screenX-br.screenX,ui=e.screenY-br.screenY):ui=ci=0,br=e),ci)},movementY:function(e){return"movementY"in e?e.movementY:ui}}),sc=et(_l),Dp=fe({},_l,{dataTransfer:0}),Rp=et(Dp),Ip=fe({},vs,{relatedTarget:0}),di=et(Ip),Mp=fe({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=et(Mp),Lp=fe({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_p=et(Lp),zp=fe({},cr,{data:0}),lc=et(zp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function Xo(){return Bp}var Wp=fe({},vs,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Up=et(Wp),Vp=fe({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=et(Vp),Hp=fe({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Kp=et(Hp),Qp=fe({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=et(Qp),Yp=fe({},_l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=et(Yp),Jp=[9,13,27,32],Jo=Rt&&"CompositionEvent"in window,zr=null;Rt&&"documentMode"in document&&(zr=document.documentMode);var Zp=Rt&&"TextEvent"in window&&!zr,yd=Rt&&(!Jo||zr&&8<zr&&11>=zr),oc=" ",ac=!1;function xd(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function qp(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(ac=!0,oc);case"textInput":return e=t.data,e===oc&&ac?null:e;default:return null}}function em(e,t){if(Ln)return e==="compositionend"||!Jo&&xd(e,t)?(e=vd(),Ks=Go=Gt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tm[e.type]:t==="textarea"}function jd(e,t,n,r){Zu(r),t=ul(t,"onChange"),0<t.length&&(n=new Yo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,es=null;function nm(e){Id(e,0)}function zl(e){var t=An(e);if(Hu(t))return e}function rm(e,t){if(e==="change")return t}var Nd=!1;if(Rt){var fi;if(Rt){var hi="oninput"in document;if(!hi){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),hi=typeof uc.oninput=="function"}fi=hi}else fi=!1;Nd=fi&&(!document.documentMode||9<document.documentMode)}function dc(){Ar&&(Ar.detachEvent("onpropertychange",Sd),es=Ar=null)}function Sd(e){if(e.propertyName==="value"&&zl(es)){var t=[];jd(t,es,e,Uo(e)),nd(nm,t)}}function sm(e,t,n){e==="focusin"?(dc(),Ar=t,es=n,Ar.attachEvent("onpropertychange",Sd)):e==="focusout"&&dc()}function lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(es)}function im(e,t){if(e==="click")return zl(t)}function om(e,t){if(e==="input"||e==="change")return zl(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:am;function ts(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Li.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cm(e){var t=bd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(r!==null&&Zo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=hc(n,i);var o=hc(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var um=Rt&&"documentMode"in document&&11>=document.documentMode,_n=null,eo=null,Fr=null,to=!1;function pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;to||_n==null||_n!==rl(r)||(r=_n,"selectionStart"in r&&Zo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&ts(Fr,r)||(Fr=r,r=ul(eo,"onSelect"),0<r.length&&(t=new Yo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_n)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},pi={},Cd={};Rt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Al(e){if(pi[e])return pi[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return pi[e]=t[n];return e}var Ed=Al("animationend"),Td=Al("animationiteration"),Pd=Al("animationstart"),Dd=Al("transitionend"),Rd=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Rd.set(e,t),Cn(t,[e])}for(var mi=0;mi<mc.length;mi++){var gi=mc[mi],dm=gi.toLowerCase(),fm=gi[0].toUpperCase()+gi.slice(1);an(dm,"on"+fm)}an(Ed,"onAnimationEnd");an(Td,"onAnimationIteration");an(Pd,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Dd,"onTransitionEnd");tr("onMouseEnter",["mouseout","mouseover"]);tr("onMouseLeave",["mouseout","mouseover"]);tr("onPointerEnter",["pointerout","pointerover"]);tr("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function gc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dp(r,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;gc(l,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;gc(l,a,u),i=c}}}if(ll)throw e=Xi,ll=!1,Xi=null,e}function ie(e,t){var n=t[io];n===void 0&&(n=t[io]=new Set);var r=e+"__bubble";n.has(r)||(Md(t,e,2,!1),n.add(r))}function vi(e,t,n){var r=0;t&&(r|=4),Md(n,e,r,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Ls]){e[Ls]=!0,$u.forEach(function(n){n!=="selectionchange"&&(hm.has(n)||vi(n,!1,e),vi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,vi("selectionchange",!1,t))}}function Md(e,t,n,r){switch(gd(t)){case 1:var l=Ep;break;case 4:l=Tp;break;default:l=Qo}n=l.bind(null,t,n,e),l=void 0,!Yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function yi(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=gn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nd(function(){var u=i,h=Uo(n),p=[];e:{var v=Rd.get(e);if(v!==void 0){var x=Yo,j=e;switch(e){case"keypress":if(Qs(n)===0)break e;case"keydown":case"keyup":x=Up;break;case"focusin":j="focus",x=di;break;case"focusout":j="blur",x=di;break;case"beforeblur":case"afterblur":x=di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Kp;break;case Ed:case Td:case Pd:x=Op;break;case Dd:x=Gp;break;case"scroll":x=Pp;break;case"wheel":x=Xp;break;case"copy":case"cut":case"paste":x=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ic}var w=(t&4)!==0,E=!w&&e==="scroll",g=w?v!==null?v+"Capture":null:v;w=[];for(var f=u,m;f!==null;){m=f;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=Xr(f,g),y!=null&&w.push(rs(f,y,m)))),E)break;f=f.return}0<w.length&&(v=new x(v,j,null,n,h),p.push({event:v,listeners:w}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==Qi&&(j=n.relatedTarget||n.fromElement)&&(gn(j)||j[It]))break e;if((x||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?gn(j):null,j!==null&&(E=En(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(w=sc,y="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=ic,y="onPointerLeave",g="onPointerEnter",f="pointer"),E=x==null?v:An(x),m=j==null?v:An(j),v=new w(y,f+"leave",x,n,h),v.target=E,v.relatedTarget=m,y=null,gn(h)===u&&(w=new w(g,f+"enter",j,n,h),w.target=m,w.relatedTarget=E,y=w),E=y,x&&j)t:{for(w=x,g=j,f=0,m=w;m;m=Rn(m))f++;for(m=0,y=g;y;y=Rn(y))m++;for(;0<f-m;)w=Rn(w),f--;for(;0<m-f;)g=Rn(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Rn(w),g=Rn(g)}w=null}else w=null;x!==null&&vc(p,v,x,w,!1),j!==null&&E!==null&&vc(p,E,j,w,!0)}}e:{if(v=u?An(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var S=rm;else if(cc(v))if(Nd)S=om;else{S=lm;var k=sm}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(S=im);if(S&&(S=S(e,u))){jd(p,S,n,h);break e}k&&k(e,v,u),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&Wi(v,"number",v.value)}switch(k=u?An(u):window,e){case"focusin":(cc(k)||k.contentEditable==="true")&&(_n=k,eo=u,Fr=null);break;case"focusout":Fr=eo=_n=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,pc(p,n,h);break;case"selectionchange":if(um)break;case"keydown":case"keyup":pc(p,n,h)}var N;if(Jo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?xd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yd&&n.locale!=="ko"&&(Ln||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ln&&(N=vd()):(Gt=h,Go="value"in Gt?Gt.value:Gt.textContent,Ln=!0)),k=ul(u,b),0<k.length&&(b=new lc(b,e,null,n,h),p.push({event:b,listeners:k}),N?b.data=N:(N=wd(n),N!==null&&(b.data=N)))),(N=Zp?qp(e,n):em(e,n))&&(u=ul(u,"onBeforeInput"),0<u.length&&(h=new lc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=N))}Id(p,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Xr(e,n),i!=null&&r.unshift(rs(e,i,l)),i=Xr(e,t),i!=null&&r.push(rs(e,i,l))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,r,l){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,l?(c=Xr(n,i),c!=null&&o.unshift(rs(n,c,a))):l||(c=Xr(n,i),c!=null&&o.push(rs(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pm=/\r\n?/g,mm=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(pm,`
`).replace(mm,"")}function _s(e,t,n){if(t=yc(t),yc(e)!==t&&n)throw Error(R(425))}function dl(){}var no=null,ro=null;function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=typeof setTimeout=="function"?setTimeout:void 0,gm=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(ym)}:lo;function ym(e){setTimeout(function(){throw e})}function xi(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),qr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);qr(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ur,ss="__reactProps$"+ur,It="__reactContainer$"+ur,io="__reactEvents$"+ur,xm="__reactListeners$"+ur,wm="__reactHandles$"+ur;function gn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[It]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wc(e);e!==null;){if(n=e[Nt])return n;e=wc(e)}return t}e=n,n=e.parentNode}return null}function ys(e){return e=e[Nt]||e[It],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Fl(e){return e[ss]||null}var oo=[],Fn=-1;function cn(e){return{current:e}}function oe(e){0>Fn||(e.current=oo[Fn],oo[Fn]=null,Fn--)}function le(e,t){Fn++,oo[Fn]=e.current,e.current=t}var ln={},Me=cn(ln),Ue=cn(!1),jn=ln;function nr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function fl(){oe(Ue),oe(Me)}function jc(e,t,n){if(Me.current!==ln)throw Error(R(168));le(Me,t),le(Ue,n)}function Od(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(R(108,sp(e)||"Unknown",l));return fe({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,jn=Me.current,le(Me,e),le(Ue,Ue.current),!0}function Nc(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Od(e,t,jn),r.__reactInternalMemoizedMergedChildContext=e,oe(Ue),oe(Me),le(Me,e)):oe(Ue),le(Ue,n)}var Et=null,$l=!1,wi=!1;function Ld(e){Et===null?Et=[e]:Et.push(e)}function jm(e){$l=!0,Ld(e)}function un(){if(!wi&&Et!==null){wi=!0;var e=0,t=ne;try{var n=Et;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,$l=!1}catch(l){throw Et!==null&&(Et=Et.slice(e+1)),id(Vo,un),l}finally{ne=t,wi=!1}}return null}var $n=[],Bn=0,pl=null,ml=0,rt=[],st=0,Nn=null,Tt=1,Pt="";function pn(e,t){$n[Bn++]=ml,$n[Bn++]=pl,pl=e,ml=t}function _d(e,t,n){rt[st++]=Tt,rt[st++]=Pt,rt[st++]=Nn,Nn=e;var r=Tt;e=Pt;var l=32-pt(r)-1;r&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var o=l-l%5;i=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Tt=1<<32-pt(t)+l|n<<l|r,Pt=i+e}else Tt=1<<i|n<<l|r,Pt=e}function qo(e){e.return!==null&&(pn(e,1),_d(e,1,0))}function ea(e){for(;e===pl;)pl=$n[--Bn],$n[Bn]=null,ml=$n[--Bn],$n[Bn]=null;for(;e===Nn;)Nn=rt[--st],rt[st]=null,Pt=rt[--st],rt[st]=null,Tt=rt[--st],rt[st]=null}var Je=null,Xe=null,ae=!1,ht=null;function zd(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Tt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function co(e){if(ae){var t=Xe;if(t){var n=t;if(!Sc(e,t)){if(ao(e))throw Error(R(418));t=qt(n.nextSibling);var r=Je;t&&Sc(e,t)?zd(r,n):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(ao(e))throw Error(R(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function zs(e){if(e!==Je)return!1;if(!ae)return kc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!so(e.type,e.memoizedProps)),t&&(t=Xe)){if(ao(e))throw Ad(),Error(R(418));for(;t;)zd(e,t),t=qt(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?qt(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=Xe;e;)e=qt(e.nextSibling)}function rr(){Xe=Je=null,ae=!1}function ta(e){ht===null?ht=[e]:ht.push(e)}var Nm=_t.ReactCurrentBatchConfig;function Cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bc(e){var t=e._init;return t(e._payload)}function Fd(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function l(g,f){return g=rn(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,f,m,y){return f===null||f.tag!==6?(f=Ei(m,g.mode,y),f.return=g,f):(f=l(f,m),f.return=g,f)}function c(g,f,m,y){var S=m.type;return S===On?h(g,f,m.props.children,y,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&bc(S)===f.type)?(y=l(f,m.props),y.ref=Cr(g,f,m),y.return=g,y):(y=el(m.type,m.key,m.props,null,g.mode,y),y.ref=Cr(g,f,m),y.return=g,y)}function u(g,f,m,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ti(m,g.mode,y),f.return=g,f):(f=l(f,m.children||[]),f.return=g,f)}function h(g,f,m,y,S){return f===null||f.tag!==7?(f=wn(m,g.mode,y,S),f.return=g,f):(f=l(f,m),f.return=g,f)}function p(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ei(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Es:return m=el(f.type,f.key,f.props,null,g.mode,m),m.ref=Cr(g,null,f),m.return=g,m;case Mn:return f=Ti(f,g.mode,m),f.return=g,f;case Ut:var y=f._init;return p(g,y(f._payload),m)}if(Ir(f)||jr(f))return f=wn(f,g.mode,m,null),f.return=g,f;As(g,f)}return null}function v(g,f,m,y){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(g,f,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:return m.key===S?c(g,f,m,y):null;case Mn:return m.key===S?u(g,f,m,y):null;case Ut:return S=m._init,v(g,f,S(m._payload),y)}if(Ir(m)||jr(m))return S!==null?null:h(g,f,m,y,null);As(g,m)}return null}function x(g,f,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,a(f,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Es:return g=g.get(y.key===null?m:y.key)||null,c(f,g,y,S);case Mn:return g=g.get(y.key===null?m:y.key)||null,u(f,g,y,S);case Ut:var k=y._init;return x(g,f,m,k(y._payload),S)}if(Ir(y)||jr(y))return g=g.get(m)||null,h(f,g,y,S,null);As(f,y)}return null}function j(g,f,m,y){for(var S=null,k=null,N=f,b=f=0,C=null;N!==null&&b<m.length;b++){N.index>b?(C=N,N=null):C=N.sibling;var T=v(g,N,m[b],y);if(T===null){N===null&&(N=C);break}e&&N&&T.alternate===null&&t(g,N),f=i(T,f,b),k===null?S=T:k.sibling=T,k=T,N=C}if(b===m.length)return n(g,N),ae&&pn(g,b),S;if(N===null){for(;b<m.length;b++)N=p(g,m[b],y),N!==null&&(f=i(N,f,b),k===null?S=N:k.sibling=N,k=N);return ae&&pn(g,b),S}for(N=r(g,N);b<m.length;b++)C=x(N,g,b,m[b],y),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?b:C.key),f=i(C,f,b),k===null?S=C:k.sibling=C,k=C);return e&&N.forEach(function(I){return t(g,I)}),ae&&pn(g,b),S}function w(g,f,m,y){var S=jr(m);if(typeof S!="function")throw Error(R(150));if(m=S.call(m),m==null)throw Error(R(151));for(var k=S=null,N=f,b=f=0,C=null,T=m.next();N!==null&&!T.done;b++,T=m.next()){N.index>b?(C=N,N=null):C=N.sibling;var I=v(g,N,T.value,y);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(g,N),f=i(I,f,b),k===null?S=I:k.sibling=I,k=I,N=C}if(T.done)return n(g,N),ae&&pn(g,b),S;if(N===null){for(;!T.done;b++,T=m.next())T=p(g,T.value,y),T!==null&&(f=i(T,f,b),k===null?S=T:k.sibling=T,k=T);return ae&&pn(g,b),S}for(N=r(g,N);!T.done;b++,T=m.next())T=x(N,g,b,T.value,y),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?b:T.key),f=i(T,f,b),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(V){return t(g,V)}),ae&&pn(g,b),S}function E(g,f,m,y){if(typeof m=="object"&&m!==null&&m.type===On&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Es:e:{for(var S=m.key,k=f;k!==null;){if(k.key===S){if(S=m.type,S===On){if(k.tag===7){n(g,k.sibling),f=l(k,m.props.children),f.return=g,g=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&bc(S)===k.type){n(g,k.sibling),f=l(k,m.props),f.ref=Cr(g,k,m),f.return=g,g=f;break e}n(g,k);break}else t(g,k);k=k.sibling}m.type===On?(f=wn(m.props.children,g.mode,y,m.key),f.return=g,g=f):(y=el(m.type,m.key,m.props,null,g.mode,y),y.ref=Cr(g,f,m),y.return=g,g=y)}return o(g);case Mn:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(g,f.sibling),f=l(f,m.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Ti(m,g.mode,y),f.return=g,g=f}return o(g);case Ut:return k=m._init,E(g,f,k(m._payload),y)}if(Ir(m))return j(g,f,m,y);if(jr(m))return w(g,f,m,y);As(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(g,f.sibling),f=l(f,m),f.return=g,g=f):(n(g,f),f=Ei(m,g.mode,y),f.return=g,g=f),o(g)):n(g,f)}return E}var sr=Fd(!0),$d=Fd(!1),gl=cn(null),vl=null,Wn=null,na=null;function ra(){na=Wn=vl=null}function sa(e){var t=gl.current;oe(gl),e._currentValue=t}function uo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){vl=e,na=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(na!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(vl===null)throw Error(R(308));Wn=e,vl.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var vn=null;function la(e){vn===null?vn=[e]:vn.push(e)}function Bd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,la(t)):(n.next=l.next,l.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Mt(e,n)}return l=r.interleaved,l===null?(t.next=t,la(r)):(t.next=l.next,l.next=t),r.interleaved=t,Mt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ho(e,n)}}function Cc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,r){var l=e.updateQueue;Vt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;o=0,h=u=c=null,a=i;do{var v=a.lane,x=a.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(v=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(x,p,v);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,v=typeof j=="function"?j.call(x,p,v):j,v==null)break e;p=fe({},p,v);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[a]:v.push(a))}else x={eventTime:x,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,o|=v;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;v=a,a=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);kn|=o,e.lanes=o,e.memoizedState=p}}function Ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(R(191,l));l.call(r)}}}var xs={},kt=cn(xs),ls=cn(xs),is=cn(xs);function yn(e){if(e===xs)throw Error(R(174));return e}function oa(e,t){switch(le(is,t),le(ls,e),le(kt,xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vi(t,e)}oe(kt),le(kt,t)}function lr(){oe(kt),oe(ls),oe(is)}function Ud(e){yn(is.current);var t=yn(kt.current),n=Vi(t,e.type);t!==n&&(le(ls,e),le(kt,n))}function aa(e){ls.current===e&&(oe(kt),oe(ls))}var ue=cn(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ji=[];function ca(){for(var e=0;e<ji.length;e++)ji[e]._workInProgressVersionPrimary=null;ji.length=0}var Ys=_t.ReactCurrentDispatcher,Ni=_t.ReactCurrentBatchConfig,Sn=0,de=null,xe=null,Ne=null,wl=!1,$r=!1,os=0,Sm=0;function De(){throw Error(R(321))}function ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function da(e,t,n,r,l,i){if(Sn=i,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?Em:Tm,e=n(r,l),$r){i=0;do{if($r=!1,os=0,25<=i)throw Error(R(301));i+=1,Ne=xe=null,t.updateQueue=null,Ys.current=Pm,e=n(r,l)}while($r)}if(Ys.current=jl,t=xe!==null&&xe.next!==null,Sn=0,Ne=xe=de=null,wl=!1,t)throw Error(R(300));return e}function fa(){var e=os!==0;return os=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function at(){if(xe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Ne===null?de.memoizedState:Ne.next;if(t!==null)Ne=t,xe=e;else{if(e===null)throw Error(R(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ne===null?de.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function as(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=xe,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Sn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,de.lanes|=h,kn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,gt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,de.lanes|=i,kn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vd(){}function Hd(e,t){var n=de,r=at(),l=t(),i=!gt(r.memoizedState,l);if(i&&(r.memoizedState=l,We=!0),r=r.queue,ha(Gd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,cs(9,Qd.bind(null,n,r,l,t),void 0,null),ke===null)throw Error(R(349));Sn&30||Kd(n,t,l)}return l}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,r){t.value=n,t.getSnapshot=r,Yd(t)&&Xd(e)}function Gd(e,t,n){return n(function(){Yd(t)&&Xd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Xd(e){var t=Mt(e,1);t!==null&&mt(t,e,1,-1)}function Tc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,de,e),[t.memoizedState,e]}function cs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jd(){return at().memoizedState}function Xs(e,t,n,r){var l=jt();de.flags|=e,l.memoizedState=cs(1|t,n,void 0,r===void 0?null:r)}function Bl(e,t,n,r){var l=at();r=r===void 0?null:r;var i=void 0;if(xe!==null){var o=xe.memoizedState;if(i=o.destroy,r!==null&&ua(r,o.deps)){l.memoizedState=cs(t,n,i,r);return}}de.flags|=e,l.memoizedState=cs(1|t,n,i,r)}function Pc(e,t){return Xs(8390656,8,e,t)}function ha(e,t){return Bl(2048,8,e,t)}function Zd(e,t){return Bl(4,2,e,t)}function qd(e,t){return Bl(4,4,e,t)}function ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,ef.bind(null,t,e),n)}function pa(){}function nf(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rf(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sf(e,t,n){return Sn&21?(gt(n,t)||(n=cd(),de.lanes|=n,kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function km(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=Ni.transition;Ni.transition={};try{e(!1),t()}finally{ne=n,Ni.transition=r}}function lf(){return at().memoizedState}function bm(e,t,n){var r=nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},of(e))af(t,n);else if(n=Bd(e,t,n,r),n!==null){var l=_e();mt(n,e,r,l),cf(n,t,r)}}function Cm(e,t,n){var r=nn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(of(e))af(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(l.next=l,la(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Bd(e,t,l,r),n!==null&&(l=_e(),mt(n,e,r,l),cf(n,t,r))}}function of(e){var t=e.alternate;return e===de||t!==null&&t===de}function af(e,t){$r=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ho(e,n)}}var jl={readContext:ot,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Em={readContext:ot,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bm.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:pa,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=km.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,l=jt();if(ae){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ke===null)throw Error(R(349));Sn&30||Kd(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Pc(Gd.bind(null,r,i,e),[e]),r.flags|=2048,cs(9,Qd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=jt(),t=ke.identifierPrefix;if(ae){var n=Pt,r=Tt;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=os++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tm={readContext:ot,useCallback:nf,useContext:ot,useEffect:ha,useImperativeHandle:tf,useInsertionEffect:Zd,useLayoutEffect:qd,useMemo:rf,useReducer:Si,useRef:Jd,useState:function(){return Si(as)},useDebugValue:pa,useDeferredValue:function(e){var t=at();return sf(t,xe.memoizedState,e)},useTransition:function(){var e=Si(as)[0],t=at().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Hd,useId:lf,unstable_isNewReconciler:!1},Pm={readContext:ot,useCallback:nf,useContext:ot,useEffect:ha,useImperativeHandle:tf,useInsertionEffect:Zd,useLayoutEffect:qd,useMemo:rf,useReducer:ki,useRef:Jd,useState:function(){return ki(as)},useDebugValue:pa,useDeferredValue:function(e){var t=at();return xe===null?t.memoizedState=e:sf(t,xe.memoizedState,e)},useTransition:function(){var e=ki(as)[0],t=at().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Hd,useId:lf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_e(),l=nn(e),i=Dt(r,l);i.payload=t,n!=null&&(i.callback=n),t=en(e,i,l),t!==null&&(mt(t,e,l,r),Gs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_e(),l=nn(e),i=Dt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=en(e,i,l),t!==null&&(mt(t,e,l,r),Gs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_e(),r=nn(e),l=Dt(n,r);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,r),t!==null&&(mt(t,e,r,n),Gs(t,e,r))}};function Dc(e,t,n,r,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ts(n,r)||!ts(l,i):!0}function uf(e,t,n){var r=!1,l=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(l=Ve(t)?jn:Me.current,r=t.contextTypes,i=(r=r!=null)?nr(e,l):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ia(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ot(i):(i=Ve(t)?jn:Me.current,l.context=nr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Wl.enqueueReplaceState(l,l.state,null),yl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ir(e,t){try{var n="",r=t;do n+=rp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function bi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function po(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function df(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sl||(Sl=!0,ko=r),po(e,t)},n}function ff(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){po(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){po(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Vm.bind(null,e,t,n),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var Rm=_t.ReactCurrentOwner,We=!1;function Le(e,t,n,r){t.child=e===null?$d(t,null,n,r):sr(t,e.child,n,r)}function Lc(e,t,n,r,l){n=n.render;var i=t.ref;return Zn(t,l),r=da(e,t,n,r,i,l),n=fa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(ae&&n&&qo(t),t.flags|=1,Le(e,t,r,l),t.child)}function _c(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Na(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hf(e,t,i,r,l)):(e=el(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(o,r)&&e.ref===t.ref)return Ot(e,t,l)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function hf(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(ts(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Ot(e,t,l)}return mo(e,t,n,r,l)}function pf(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Vn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Vn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(Vn,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(Vn,Ye),Ye|=r;return Le(e,t,l,n),t.child}function mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mo(e,t,n,r,l){var i=Ve(n)?jn:Me.current;return i=nr(t,i),Zn(t,l),n=da(e,t,n,r,i,l),r=fa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ot(e,t,l)):(ae&&r&&qo(t),t.flags|=1,Le(e,t,n,l),t.child)}function zc(e,t,n,r,l){if(Ve(n)){var i=!0;hl(t)}else i=!1;if(Zn(t,l),t.stateNode===null)Js(e,t),uf(t,n,r),ho(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?jn:Me.current,u=nr(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Rc(t,o,r,u),Vt=!1;var v=t.memoizedState;o.state=v,yl(t,r,o,l),c=t.memoizedState,a!==r||v!==c||Ue.current||Vt?(typeof h=="function"&&(fo(t,n,h,r),c=t.memoizedState),(a=Vt||Dc(t,n,a,r,v,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Wd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,p=t.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?jn:Me.current,c=nr(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==c)&&Rc(t,o,r,c),Vt=!1,v=t.memoizedState,o.state=v,yl(t,r,o,l);var j=t.memoizedState;a!==p||v!==j||Ue.current||Vt?(typeof x=="function"&&(fo(t,n,x,r),j=t.memoizedState),(u=Vt||Dc(t,n,u,r,v,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return go(e,t,n,r,i,l)}function go(e,t,n,r,l,i){mf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&Nc(t,n,!1),Ot(e,t,i);r=t.stateNode,Rm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=sr(t,e.child,null,i),t.child=sr(t,null,a,i)):Le(e,t,a,i),t.memoizedState=r.state,l&&Nc(t,n,!0),t.child}function gf(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),oa(e,t.containerInfo)}function Ac(e,t,n,r,l){return rr(),ta(l),t.flags|=256,Le(e,t,n,r),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0};function yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function vf(e,t,n){var r=t.pendingProps,l=ue.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),le(ue,l&1),e===null)return co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hl(o,r,0,null),e=wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yo(n),t.memoizedState=vo,e):ma(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Im(e,t,o,r,a,l,n);if(i){i=r.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=rn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=rn(a,i):(i=wn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?yo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=vo,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ma(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&ta(r),sr(t,e.child,null,n),e=ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,n,r,l,i,o){if(n)return t.flags&256?(t.flags&=-257,r=bi(Error(R(422))),Fs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Hl({mode:"visible",children:r.children},l,0,null),i=wn(i,l,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&sr(t,e.child,null,o),t.child.memoizedState=yo(o),t.memoizedState=vo,i);if(!(t.mode&1))return Fs(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=bi(i,r,void 0),Fs(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=ke,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Mt(e,l),mt(r,e,l,-1))}return ja(),r=bi(Error(R(421))),Fs(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Hm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=qt(l.nextSibling),Je=t,ae=!0,ht=null,e!==null&&(rt[st++]=Tt,rt[st++]=Pt,rt[st++]=Nn,Tt=e.id,Pt=e.overflow,Nn=t),t=ma(t,r.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uo(e.return,t,n)}function Ci(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function yf(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Le(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(ue,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ci(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ci(t,!0,n,null,i);break;case"together":Ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mm(e,t,n){switch(t.tag){case 3:gf(t),rr();break;case 5:Ud(t);break;case 1:Ve(t.type)&&hl(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;le(gl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?vf(e,t,n):(le(ue,ue.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);le(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),le(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,pf(e,t,n)}return Ot(e,t,n)}var xf,xo,wf,jf;xf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xo=function(){};wf=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,yn(kt.current);var i=null;switch(n){case"input":l=$i(e,l),r=$i(e,r),i=[];break;case"select":l=fe({},l,{value:void 0}),r=fe({},r,{value:void 0}),i=[];break;case"textarea":l=Ui(e,l),r=Ui(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dl)}Hi(n,r);var o;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Er(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Om(e,t,n){var r=t.pendingProps;switch(ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ve(t.type)&&fl(),Re(t),null;case 3:return r=t.stateNode,lr(),oe(Ue),oe(Me),ca(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Eo(ht),ht=null))),xo(e,t),Re(t),null;case 5:aa(t);var l=yn(is.current);if(n=t.type,e!==null&&t.stateNode!=null)wf(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Re(t),null}if(e=yn(kt.current),zs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[ss]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(l=0;l<Or.length;l++)ie(Or[l],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Ga(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":Xa(r,i),ie("invalid",r)}Hi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),l=["children",""+a]):Gr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":Ts(r),Ya(r,i,!0);break;case"textarea":Ts(r),Ja(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nt]=t,e[ss]=r,xf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ki(n,r),n){case"dialog":ie("cancel",e),ie("close",e),l=r;break;case"iframe":case"object":case"embed":ie("load",e),l=r;break;case"video":case"audio":for(l=0;l<Or.length;l++)ie(Or[l],e);l=r;break;case"source":ie("error",e),l=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=r;break;case"details":ie("toggle",e),l=r;break;case"input":Ga(e,r),l=$i(e,r),ie("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=fe({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Xa(e,r),l=Ui(e,r),ie("invalid",e);break;default:l=r}Hi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ju(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yr(e,c):typeof c=="number"&&Yr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Fo(e,i,c,o))}switch(n){case"input":Ts(e),Ya(e,r,!1);break;case"textarea":Ts(e),Ja(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)jf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=yn(is.current),yn(kt.current),zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Re(t),null;case 13:if(oe(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Xe!==null&&t.mode&1&&!(t.flags&128))Ad(),rr(),t.flags|=98560,i=!1;else if(i=zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Nt]=t}else rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else ht!==null&&(Eo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?je===0&&(je=3):ja())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return lr(),xo(e,t),e===null&&ns(t.stateNode.containerInfo),Re(t),null;case 10:return sa(t.type._context),Re(t),null;case 17:return Ve(t.type)&&fl(),Re(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Er(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xl(e),o!==null){for(t.flags|=128,Er(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>or&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304)}else{if(!r)if(e=xl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Re(t),null}else 2*ge()-i.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,n=ue.current,le(ue,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return wa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Lm(e,t){switch(ea(t),t.tag){case 1:return Ve(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),oe(Ue),oe(Me),ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aa(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return lr(),null;case 10:return sa(t.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var $s=!1,Ie=!1,_m=typeof WeakSet=="function"?WeakSet:Set,$=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function wo(e,t,n){try{n()}catch(r){he(e,t,r)}}var $c=!1;function zm(e,t){if(no=al,e=bd(),Zo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=e,v=null;t:for(;;){for(var x;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)v=p,p=x;for(;;){if(p===e)break t;if(v===n&&++u===l&&(a=o),v===i&&++h===r&&(c=o),(x=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:e,selectionRange:n},al=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,E=j.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),E);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(y){he(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=$c,$c=!1,j}function Br(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&wo(t,n,i)}l=l.next}while(l!==r)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nf(e){var t=e.alternate;t!==null&&(e.alternate=null,Nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[ss],delete t[io],delete t[xm],delete t[wm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(r!==4&&(e=e.child,e!==null))for(No(e,t,n),e=e.sibling;e!==null;)No(e,t,n),e=e.sibling}function So(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(So(e,t,n),e=e.sibling;e!==null;)So(e,t,n),e=e.sibling}var Ce=null,ft=!1;function Wt(e,t,n){for(n=n.child;n!==null;)kf(e,t,n),n=n.sibling}function kf(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Ie||Un(n,t);case 6:var r=Ce,l=ft;Ce=null,Wt(e,t,n),Ce=r,ft=l,Ce!==null&&(ft?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(ft?(e=Ce,n=n.stateNode,e.nodeType===8?xi(e.parentNode,n):e.nodeType===1&&xi(e,n),qr(e)):xi(Ce,n.stateNode));break;case 4:r=Ce,l=ft,Ce=n.stateNode.containerInfo,ft=!0,Wt(e,t,n),Ce=r,ft=l;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wo(n,t,o),l=l.next}while(l!==r)}Wt(e,t,n);break;case 1:if(!Ie&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Wt(e,t,n),Ie=r):Wt(e,t,n);break;default:Wt(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _m),t.forEach(function(r){var l=Km.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,ft=!1;break e;case 3:Ce=a.stateNode.containerInfo,ft=!0;break e;case 4:Ce=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Ce===null)throw Error(R(160));kf(i,o,l),Ce=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){he(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}function bf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),wt(e),r&4){try{Br(3,e,e.return),Ul(3,e)}catch(w){he(e,e.return,w)}try{Br(5,e,e.return)}catch(w){he(e,e.return,w)}}break;case 1:ut(t,e),wt(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(ut(t,e),wt(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var l=e.stateNode;try{Yr(l,"")}catch(w){he(e,e.return,w)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ku(l,i),Ki(a,o);var u=Ki(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?Ju(l,p):h==="dangerouslySetInnerHTML"?Yu(l,p):h==="children"?Yr(l,p):Fo(l,h,p,u)}switch(a){case"input":Bi(l,i);break;case"textarea":Qu(l,i);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Gn(l,!!i.multiple,x,!1):v!==!!i.multiple&&(i.defaultValue!=null?Gn(l,!!i.multiple,i.defaultValue,!0):Gn(l,!!i.multiple,i.multiple?[]:"",!1))}l[ss]=i}catch(w){he(e,e.return,w)}}break;case 6:if(ut(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(R(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){he(e,e.return,w)}}break;case 3:if(ut(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(w){he(e,e.return,w)}break;case 4:ut(t,e),wt(e);break;case 13:ut(t,e),wt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ya=ge())),r&4&&Wc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||h,ut(t,e),Ie=u):ut(t,e),wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for($=e,h=e.child;h!==null;){for(p=$=h;$!==null;){switch(v=$,x=v.child,v.tag){case 0:case 11:case 14:case 15:Br(4,v,v.return);break;case 1:Un(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){he(r,n,w)}}break;case 5:Un(v,v.return);break;case 22:if(v.memoizedState!==null){Vc(p);continue}}x!==null?(x.return=v,$=x):Vc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Xu("display",o))}catch(w){he(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){he(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),wt(e),r&4&&Wc(e);break;case 21:break;default:ut(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sf(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Yr(l,""),r.flags&=-33);var i=Bc(e);So(e,i,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bc(e);No(e,a,o);break;default:throw Error(R(161))}}catch(c){he(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Am(e,t,n){$=e,Cf(e)}function Cf(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||$s;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Ie;a=$s;var u=Ie;if($s=o,(Ie=c)&&!u)for($=l;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Hc(l):c!==null?(c.return=o,$=c):Hc(l);for(;i!==null;)$=i,Cf(i),i=i.sibling;$=l,$s=a,Ie=u}Uc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):Uc(e)}}function Uc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Ul(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ec(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ec(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&qr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ie||t.flags&512&&jo(t)}catch(v){he(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Vc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Hc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ul(4,t)}catch(c){he(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){he(t,l,c)}}var i=t.return;try{jo(t)}catch(c){he(t,i,c)}break;case 5:var o=t.return;try{jo(t)}catch(c){he(t,o,c)}}}catch(c){he(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Fm=Math.ceil,Nl=_t.ReactCurrentDispatcher,ga=_t.ReactCurrentOwner,it=_t.ReactCurrentBatchConfig,te=0,ke=null,ve=null,Ee=0,Ye=0,Vn=cn(0),je=0,us=null,kn=0,Vl=0,va=0,Wr=null,Be=null,ya=0,or=1/0,Ct=null,Sl=!1,ko=null,tn=null,Bs=!1,Yt=null,kl=0,Ur=0,bo=null,Zs=-1,qs=0;function _e(){return te&6?ge():Zs!==-1?Zs:Zs=ge()}function nn(e){return e.mode&1?te&2&&Ee!==0?Ee&-Ee:Nm.transition!==null?(qs===0&&(qs=cd()),qs):(e=ne,e!==0||(e=window.event,e=e===void 0?16:gd(e.type)),e):1}function mt(e,t,n,r){if(50<Ur)throw Ur=0,bo=null,Error(R(185));gs(e,n,r),(!(te&2)||e!==ke)&&(e===ke&&(!(te&2)&&(Vl|=n),je===4&&Qt(e,Ee)),He(e,r),n===1&&te===0&&!(t.mode&1)&&(or=ge()+500,$l&&un()))}function He(e,t){var n=e.callbackNode;Np(e,t);var r=ol(e,e===ke?Ee:0);if(r===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?jm(Kc.bind(null,e)):Ld(Kc.bind(null,e)),vm(function(){!(te&6)&&un()}),n=null;else{switch(ud(r)){case 1:n=Vo;break;case 4:n=od;break;case 16:n=il;break;case 536870912:n=ad;break;default:n=il}n=Of(n,Ef.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ef(e,t){if(Zs=-1,qs=0,te&6)throw Error(R(327));var n=e.callbackNode;if(qn()&&e.callbackNode!==n)return null;var r=ol(e,e===ke?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var l=te;te|=2;var i=Pf();(ke!==e||Ee!==t)&&(Ct=null,or=ge()+500,xn(e,t));do try{Wm();break}catch(a){Tf(e,a)}while(!0);ra(),Nl.current=i,te=l,ve!==null?t=0:(ke=null,Ee=0,t=je)}if(t!==0){if(t===2&&(l=Ji(e),l!==0&&(r=l,t=Co(e,l))),t===1)throw n=us,xn(e,0),Qt(e,r),He(e,ge()),n;if(t===6)Qt(e,r);else{if(l=e.current.alternate,!(r&30)&&!$m(l)&&(t=bl(e,r),t===2&&(i=Ji(e),i!==0&&(r=i,t=Co(e,i))),t===1))throw n=us,xn(e,0),Qt(e,r),He(e,ge()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:mn(e,Be,Ct);break;case 3:if(Qt(e,r),(r&130023424)===r&&(t=ya+500-ge(),10<t)){if(ol(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){_e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=lo(mn.bind(null,e,Be,Ct),t);break}mn(e,Be,Ct);break;case 4:if(Qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-pt(r);i=1<<o,o=t[o],o>l&&(l=o),r&=~i}if(r=l,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fm(r/1960))-r,10<r){e.timeoutHandle=lo(mn.bind(null,e,Be,Ct),r);break}mn(e,Be,Ct);break;case 5:mn(e,Be,Ct);break;default:throw Error(R(329))}}}return He(e,ge()),e.callbackNode===n?Ef.bind(null,e):null}function Co(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Eo(t)),e}function Eo(e){Be===null?Be=e:Be.push.apply(Be,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~va,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function Kc(e){if(te&6)throw Error(R(327));qn();var t=ol(e,0);if(!(t&1))return He(e,ge()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=Ji(e);r!==0&&(t=r,n=Co(e,r))}if(n===1)throw n=us,xn(e,0),Qt(e,t),He(e,ge()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,Be,Ct),He(e,ge()),null}function xa(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(or=ge()+500,$l&&un())}}function bn(e){Yt!==null&&Yt.tag===0&&!(te&6)&&qn();var t=te;te|=1;var n=it.transition,r=ne;try{if(it.transition=null,ne=1,e)return e()}finally{ne=r,it.transition=n,te=t,!(te&6)&&un()}}function wa(){Ye=Vn.current,oe(Vn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gm(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(ea(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:lr(),oe(Ue),oe(Me),ca();break;case 5:aa(r);break;case 4:lr();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:sa(r.type._context);break;case 22:case 23:wa()}n=n.return}if(ke=e,ve=e=rn(e.current,null),Ee=Ye=t,je=0,us=null,va=Vl=kn=0,Be=Wr=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,r.next=o}n.pending=r}vn=null}return e}function Tf(e,t){do{var n=ve;try{if(ra(),Ys.current=jl,wl){for(var r=de.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}wl=!1}if(Sn=0,Ne=xe=de=null,$r=!1,os=0,ga.current=null,n===null||n.return===null){je=1,us=t,ve=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Ee,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Mc(o);if(x!==null){x.flags&=-257,Oc(x,o,a,i,t),x.mode&1&&Ic(i,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){Ic(i,u,t),ja();break e}c=Error(R(426))}}else if(ae&&a.mode&1){var E=Mc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Oc(E,o,a,i,t),ta(ir(c,a));break e}}i=c=ir(c,a),je!==4&&(je=2),Wr===null?Wr=[i]:Wr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=df(i,c,t);Cc(i,g);break e;case 1:a=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tn===null||!tn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=ff(i,a,t);Cc(i,y);break e}}i=i.return}while(i!==null)}Rf(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Pf(){var e=Nl.current;return Nl.current=jl,e===null?jl:e}function ja(){(je===0||je===3||je===2)&&(je=4),ke===null||!(kn&268435455)&&!(Vl&268435455)||Qt(ke,Ee)}function bl(e,t){var n=te;te|=2;var r=Pf();(ke!==e||Ee!==t)&&(Ct=null,xn(e,t));do try{Bm();break}catch(l){Tf(e,l)}while(!0);if(ra(),te=n,Nl.current=r,ve!==null)throw Error(R(261));return ke=null,Ee=0,je}function Bm(){for(;ve!==null;)Df(ve)}function Wm(){for(;ve!==null&&!hp();)Df(ve)}function Df(e){var t=Mf(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Rf(e):ve=t,ga.current=null}function Rf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lm(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(n=Om(n,t,Ye),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function mn(e,t,n){var r=ne,l=it.transition;try{it.transition=null,ne=1,Um(e,t,n,r)}finally{it.transition=l,ne=r}return null}function Um(e,t,n,r){do qn();while(Yt!==null);if(te&6)throw Error(R(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sp(e,i),e===ke&&(ve=ke=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bs||(Bs=!0,Of(il,function(){return qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=ne;ne=1;var a=te;te|=4,ga.current=null,zm(e,n),bf(n,e),cm(ro),al=!!no,ro=no=null,e.current=n,Am(n),pp(),te=a,ne=o,it.transition=i}else e.current=n;if(Bs&&(Bs=!1,Yt=e,kl=l),i=e.pendingLanes,i===0&&(tn=null),vp(n.stateNode),He(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Sl)throw Sl=!1,e=ko,ko=null,e;return kl&1&&e.tag!==0&&qn(),i=e.pendingLanes,i&1?e===bo?Ur++:(Ur=0,bo=e):Ur=0,un(),null}function qn(){if(Yt!==null){var e=ud(kl),t=it.transition,n=ne;try{if(it.transition=null,ne=16>e?16:e,Yt===null)var r=!1;else{if(e=Yt,Yt=null,kl=0,te&6)throw Error(R(331));var l=te;for(te|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for($=u;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:Br(8,h,i)}var p=h.child;if(p!==null)p.return=h,$=p;else for(;$!==null;){h=$;var v=h.sibling,x=h.return;if(Nf(h),h===u){$=null;break}if(v!==null){v.return=x,$=v;break}$=x}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Br(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ul(9,a)}}catch(S){he(a,a.return,S)}if(a===o){$=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}if(te=l,un(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Ll,e)}catch{}r=!0}return r}finally{ne=n,it.transition=t}}return!1}function Qc(e,t,n){t=ir(n,t),t=df(e,t,1),e=en(e,t,1),t=_e(),e!==null&&(gs(e,1,t),He(e,t))}function he(e,t,n){if(e.tag===3)Qc(e,e,n);else for(;t!==null;){if(t.tag===3){Qc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=ir(n,e),e=ff(t,e,1),t=en(t,e,1),e=_e(),t!==null&&(gs(t,1,e),He(t,e));break}}t=t.return}}function Vm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ee&n)===n&&(je===4||je===3&&(Ee&130023424)===Ee&&500>ge()-ya?xn(e,0):va|=n),He(e,t)}function If(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var n=_e();e=Mt(e,t),e!==null&&(gs(e,t,n),He(e,n))}function Hm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),If(e,n)}function Km(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),If(e,n)}var Mf;Mf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Mm(e,t,n);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&_d(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var l=nr(t,Me.current);Zn(t,n),l=da(null,t,r,e,l,n);var i=fa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,hl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ia(t),l.updater=Wl,t.stateNode=l,l._reactInternals=t,ho(t,r,e,n),t=go(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&qo(t),Le(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Gm(r),e=dt(r,e),l){case 0:t=mo(null,t,r,e,n);break e;case 1:t=zc(null,t,r,e,n);break e;case 11:t=Lc(null,t,r,e,n);break e;case 14:t=_c(null,t,r,dt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),mo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),zc(e,t,r,l,n);case 3:e:{if(gf(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,l=i.element,Wd(e,t),yl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=ir(Error(R(423)),t),t=Ac(e,t,r,n,l);break e}else if(r!==l){l=ir(Error(R(424)),t),t=Ac(e,t,r,n,l);break e}else for(Xe=qt(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,ht=null,n=$d(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rr(),r===l){t=Ot(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Ud(t),e===null&&co(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,so(r,l)?o=null:i!==null&&so(r,i)&&(t.flags|=32),mf(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&co(t),null;case 13:return vf(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sr(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Lc(e,t,r,l,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,le(gl,r._currentValue),r._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===l.children&&!Ue.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Dt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),uo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Zn(t,n),l=ot(l),r=r(l),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,l=dt(r,t.pendingProps),l=dt(r.type,l),_c(e,t,r,l,n);case 15:return hf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Js(e,t),t.tag=1,Ve(r)?(e=!0,hl(t)):e=!1,Zn(t,n),uf(t,r,l),ho(t,r,l,n),go(null,t,r,!0,e,n);case 19:return yf(e,t,n);case 22:return pf(e,t,n)}throw Error(R(156,t.tag))};function Of(e,t){return id(e,t)}function Qm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Qm(e,t,n,r)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gm(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bo)return 11;if(e===Wo)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function el(e,t,n,r,l,i){var o=2;if(r=e,typeof e=="function")Na(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case On:return wn(n.children,l,i,t);case $o:o=8,l|=8;break;case _i:return e=lt(12,n,t,l|2),e.elementType=_i,e.lanes=i,e;case zi:return e=lt(13,n,t,l),e.elementType=zi,e.lanes=i,e;case Ai:return e=lt(19,n,t,l),e.elementType=Ai,e.lanes=i,e;case Uu:return Hl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bu:o=10;break e;case Wu:o=9;break e;case Bo:o=11;break e;case Wo:o=14;break e;case Ut:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=lt(o,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function wn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Hl(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Uu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ei(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ti(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ym(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Sa(e,t,n,r,l,i,o,a,c){return e=new Ym(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(i),e}function Xm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lf(e){if(!e)return ln;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Od(e,n,t)}return t}function _f(e,t,n,r,l,i,o,a,c){return e=Sa(n,r,!0,e,l,i,o,a,c),e.context=Lf(null),n=e.current,r=_e(),l=nn(n),i=Dt(r,l),i.callback=t??null,en(n,i,l),e.current.lanes=l,gs(e,l,r),He(e,r),e}function Kl(e,t,n,r){var l=t.current,i=_e(),o=nn(l);return n=Lf(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(l,t,o),e!==null&&(mt(e,l,o,i),Gs(e,l,o)),o}function Cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ka(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Jm(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ba(e){this._internalRoot=e}Ql.prototype.render=ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Kl(e,t,null,null)};Ql.prototype.unmount=ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bn(function(){Kl(null,e,null,null)}),t[It]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&md(e)}};function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Zm(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var u=Cl(o);i.call(u)}}var o=_f(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=o,e[It]=o.current,ns(e.nodeType===8?e.parentNode:e),bn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var u=Cl(c);a.call(u)}}var c=Sa(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=c,e[It]=c.current,ns(e.nodeType===8?e.parentNode:e),bn(function(){Kl(t,c,n,r)}),c}function Yl(e,t,n,r,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Cl(o);a.call(c)}}Kl(t,o,e,l)}else o=Zm(n,t,e,l,r);return Cl(o)}dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(Ho(t,n|1),He(t,ge()),!(te&6)&&(or=ge()+500,un()))}break;case 13:bn(function(){var r=Mt(e,1);if(r!==null){var l=_e();mt(r,e,1,l)}}),ka(e,1)}};Ko=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=_e();mt(t,e,134217728,n)}ka(e,134217728)}};fd=function(e){if(e.tag===13){var t=nn(e),n=Mt(e,t);if(n!==null){var r=_e();mt(n,e,t,r)}ka(e,t)}};hd=function(){return ne};pd=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Gi=function(e,t,n){switch(t){case"input":if(Bi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Fl(r);if(!l)throw Error(R(90));Hu(r),Bi(r,l)}}}break;case"textarea":Qu(e,n);break;case"select":t=n.value,t!=null&&Gn(e,!!n.multiple,t,!1)}};ed=xa;td=bn;var qm={usingClientEntryPoint:!1,Events:[ys,An,Fl,Zu,qu,xa]},Tr={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eg={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sd(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||Jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Ll=Ws.inject(eg),St=Ws}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(t))throw Error(R(200));return Xm(e,t,null,n)};qe.createRoot=function(e,t){if(!Ca(e))throw Error(R(299));var n=!1,r="",l=zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Sa(e,1,!1,null,null,n,!1,r,l),e[It]=t.current,ns(e.nodeType===8?e.parentNode:e),new ba(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=sd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return bn(e)};qe.hydrate=function(e,t,n){if(!Gl(t))throw Error(R(200));return Yl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ca(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",o=zf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_f(t,null,e,1,n??null,l,!1,i,o),e[It]=t.current,ns(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ql(t)};qe.render=function(e,t,n){if(!Gl(t))throw Error(R(200));return Yl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(R(40));return e._reactRootContainer?(bn(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[It]=null})}),!0):!1};qe.unstable_batchedUpdates=xa;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Yl(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Af(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Af)}catch(e){console.error(e)}}Af(),zu.exports=qe;var Hn=zu.exports,Xc=Hn;Oi.createRoot=Xc.createRoot,Oi.hydrateRoot=Xc.hydrateRoot;const Xl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ea(e){return"nodeType"in e}function Fe(e){var t,n;return e?dr(e)?e:Ea(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ta(e){const{Document:t}=Fe(e);return e instanceof t}function ws(e){return dr(e)?!1:e instanceof Fe(e).HTMLElement}function Ff(e){return e instanceof Fe(e).SVGElement}function fr(e){return e?dr(e)?e.document:Ea(e)?Ta(e)?e:ws(e)||Ff(e)?e.ownerDocument:document:document:document}const Lt=Xl?d.useLayoutEffect:d.useEffect;function Jl(e){const t=d.useRef(e);return Lt(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function tg(){const e=d.useRef(null),t=d.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ds(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Lt(()=>{n.current!==e&&(n.current=e)},t),n}function js(e,t){const n=d.useRef();return d.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function El(e){const t=Jl(e),n=d.useRef(null),r=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,r]}function Tl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Pi={};function Zl(e,t){return d.useMemo(()=>{if(t)return t;const n=Pi[e]==null?0:Pi[e]+1;return Pi[e]=n,e+"-"+n},[e,t])}function $f(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const er=$f(1),Pl=$f(-1);function ng(e){return"clientX"in e&&"clientY"in e}function Pa(e){if(!e)return!1;const{KeyboardEvent:t}=Fe(e.target);return t&&e instanceof t}function rg(e){if(!e)return!1;const{TouchEvent:t}=Fe(e.target);return t&&e instanceof t}function Dl(e){if(rg(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ng(e)?{x:e.clientX,y:e.clientY}:null}const fs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[fs.Translate.toString(e),fs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Jc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function sg(e){return e.matches(Jc)?e:e.querySelector(Jc)}const lg={display:"none"};function ig(e){let{id:t,value:n}=e;return pe.createElement("div",{id:t,style:lg},n)}function og(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pe.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function ag(){const[e,t]=d.useState("");return{announce:d.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Bf=d.createContext(null);function cg(e){const t=d.useContext(Bf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ug(){const[e]=d.useState(()=>new Set),t=d.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[d.useCallback(r=>{let{type:l,event:i}=r;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const dg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hg(e){let{announcements:t=fg,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=dg}=e;const{announce:i,announcement:o}=ag(),a=Zl("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),cg(d.useMemo(()=>({onDragStart(p){let{active:v}=p;i(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:x}=p;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(p){let{active:v,over:x}=p;i(t.onDragOver({active:v,over:x}))},onDragEnd(p){let{active:v,over:x}=p;i(t.onDragEnd({active:v,over:x}))},onDragCancel(p){let{active:v,over:x}=p;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!c)return null;const h=pe.createElement(pe.Fragment,null,pe.createElement(ig,{id:r,value:l.draggable}),pe.createElement(og,{id:a,announcement:o}));return n?Hn.createPortal(h,n):h}var we;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(we||(we={}));function Rl(){}function pg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function mg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const vt=Object.freeze({x:0,y:0});function gg(e,t){const n=Dl(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function vg(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function yg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function xg(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-r,a=i-n;if(r<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const wg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const c=xg(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(vg)};function jg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Wf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function Ng(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),i=1;i<r;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Sg=Ng(1);function Uf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function kg(e,t,n){const r=Uf(t);if(!r)return e;const{scaleX:l,scaleY:i,x:o,y:a}=r,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const bg={ignoreTransform:!1};function Ns(e,t){t===void 0&&(t=bg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=Fe(e).getComputedStyle(e);u&&(n=kg(n,u,h))}const{top:r,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:r,left:l,width:i,height:o,bottom:a,right:c}}function Zc(e){return Ns(e,{ignoreTransform:!0})}function Cg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Eg(e,t){return t===void 0&&(t=Fe(e).getComputedStyle(e)),t.position==="fixed"}function Tg(e,t){t===void 0&&(t=Fe(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function Da(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(Ta(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!ws(l)||Ff(l)||n.includes(l))return n;const i=Fe(e).getComputedStyle(l);return l!==e&&Tg(l,i)&&n.push(l),Eg(l,i)?n:r(l.parentNode)}return e?r(e):n}function Vf(e){const[t]=Da(e,1);return t??null}function Di(e){return!Xl||!e?null:dr(e)?e:Ea(e)?Ta(e)||e===fr(e).scrollingElement?window:ws(e)?e:null:null}function Hf(e){return dr(e)?e.scrollX:e.scrollLeft}function Kf(e){return dr(e)?e.scrollY:e.scrollTop}function To(e){return{x:Hf(e),y:Kf(e)}}var Se;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Se||(Se={}));function Qf(e){return!Xl||!e?!1:e===document.scrollingElement}function Gf(e){const t={x:0,y:0},n=Qf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const Pg={x:.2,y:.2};function Dg(e,t,n,r,l){let{top:i,left:o,right:a,bottom:c}=n;r===void 0&&(r=10),l===void 0&&(l=Pg);const{isTop:u,isBottom:h,isLeft:p,isRight:v}=Gf(e),x={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(x.y=Se.Backward,j.y=r*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(x.y=Se.Forward,j.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!v&&a>=t.right-w.width?(x.x=Se.Forward,j.x=r*Math.abs((t.right-w.width-a)/w.width)):!p&&o<=t.left+w.width&&(x.x=Se.Backward,j.x=r*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:j}}function Rg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Yf(e){return e.reduce((t,n)=>er(t,To(n)),vt)}function Ig(e){return e.reduce((t,n)=>t+Hf(n),0)}function Mg(e){return e.reduce((t,n)=>t+Kf(n),0)}function Xf(e,t){if(t===void 0&&(t=Ns),!e)return;const{top:n,left:r,bottom:l,right:i}=t(e);Vf(e)&&(l<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Og=[["x",["left","right"],Ig],["y",["top","bottom"],Mg]];class Ra{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Da(n),l=Yf(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Og)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(r),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Lg(e){const{EventTarget:t}=Fe(e);return e instanceof t?e:fr(e)}function Ri(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function qc(e){e.preventDefault()}function _g(e){e.stopPropagation()}var re;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(re||(re={}));const Jf={start:[re.Space,re.Enter],cancel:[re.Esc],end:[re.Space,re.Enter,re.Tab]},zg=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case re.Right:return{...n,x:n.x+25};case re.Left:return{...n,x:n.x-25};case re.Down:return{...n,y:n.y+25};case re.Up:return{...n,y:n.y-25}}};class Zf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vr(fr(n)),this.windowListeners=new Vr(Fe(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Xf(r),n(vt)}handleKeyDown(t){if(Pa(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:i=Jf,coordinateGetter:o=zg,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:r.current,currentCoordinates:h});if(p){const v=Pl(p,h),x={x:0,y:0},{scrollableAncestors:j}=r.current;for(const w of j){const E=t.code,{isTop:g,isRight:f,isLeft:m,isBottom:y,maxScroll:S,minScroll:k}=Gf(w),N=Rg(w),b={x:Math.min(E===re.Right?N.right-N.width/2:N.right,Math.max(E===re.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(E===re.Down?N.bottom-N.height/2:N.bottom,Math.max(E===re.Down?N.top:N.top+N.height/2,p.y))},C=E===re.Right&&!f||E===re.Left&&!m,T=E===re.Down&&!y||E===re.Up&&!g;if(C&&b.x!==p.x){const I=w.scrollLeft+v.x,V=E===re.Right&&I<=S.x||E===re.Left&&I>=k.x;if(V&&!v.y){w.scrollTo({left:I,behavior:a});return}V?x.x=w.scrollLeft-I:x.x=E===re.Right?w.scrollLeft-S.x:w.scrollLeft-k.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(T&&b.y!==p.y){const I=w.scrollTop+v.y,V=E===re.Down&&I<=S.y||E===re.Up&&I>=k.y;if(V&&!v.x){w.scrollTo({top:I,behavior:a});return}V?x.y=w.scrollTop-I:x.y=E===re.Down?w.scrollTop-S.y:w.scrollTop-k.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,er(Pl(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Jf,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function eu(e){return!!(e&&"distance"in e)}function tu(e){return!!(e&&"delay"in e)}class Ia{constructor(t,n,r){var l;r===void 0&&(r=Lg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=fr(o),this.documentListeners=new Vr(this.document),this.listeners=new Vr(r),this.windowListeners=new Vr(Fe(o)),this.initialCoordinates=(l=Dl(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,qc),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,qc),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(eu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,_g,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Dl(t))!=null?n:vt,u=Pl(l,c);if(!r&&a){if(eu(a)){if(a.tolerance!=null&&Ri(u,a.tolerance))return this.handleCancel();if(Ri(u,a.distance))return this.handleStart()}if(tu(a)&&Ri(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===re.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ag={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ma extends Ia{constructor(t){const{event:n}=t,r=fr(n.target);super(t,Ag,r)}}Ma.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Fg={move:{name:"mousemove"},end:{name:"mouseup"}};var Po;(function(e){e[e.RightClick=2]="RightClick"})(Po||(Po={}));class $g extends Ia{constructor(t){super(t,Fg,fr(t.event.target))}}$g.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Po.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ii={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bg extends Ia{constructor(t){super(t,Ii)}static setup(){return window.addEventListener(Ii.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ii.move.name,t)};function t(){}}}Bg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r==null||r({event:n}),!0)}}];var Hr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hr||(Hr={}));var Il;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Il||(Il={}));function Wg(e){let{acceleration:t,activator:n=Hr.Pointer,canScroll:r,draggingRect:l,enabled:i,interval:o=5,order:a=Il.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:v}=e;const x=Vg({delta:p,disabled:!i}),[j,w]=tg(),E=d.useRef({x:0,y:0}),g=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Hr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hr.DraggableRect:return l}},[n,l,c]),m=d.useRef(null),y=d.useCallback(()=>{const k=m.current;if(!k)return;const N=E.current.x*g.current.x,b=E.current.y*g.current.y;k.scrollBy(N,b)},[]),S=d.useMemo(()=>a===Il.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!i||!u.length||!f){w();return}for(const k of S){if((r==null?void 0:r(k))===!1)continue;const N=u.indexOf(k),b=h[N];if(!b)continue;const{direction:C,speed:T}=Dg(k,b,f,t,v);for(const I of["x","y"])x[I][C[I]]||(T[I]=0,C[I]=0);if(T.x>0||T.y>0){w(),m.current=k,j(y,o),E.current=T,g.current=C;return}}E.current={x:0,y:0},g.current={x:0,y:0},w()},[t,y,r,w,i,o,JSON.stringify(f),JSON.stringify(x),j,u,S,h,JSON.stringify(v)])}const Ug={x:{[Se.Backward]:!1,[Se.Forward]:!1},y:{[Se.Backward]:!1,[Se.Forward]:!1}};function Vg(e){let{delta:t,disabled:n}=e;const r=Tl(t);return js(l=>{if(n||!r||!l)return Ug;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Se.Backward]:l.x[Se.Backward]||i.x===-1,[Se.Forward]:l.x[Se.Forward]||i.x===1},y:{[Se.Backward]:l.y[Se.Backward]||i.y===-1,[Se.Forward]:l.y[Se.Forward]||i.y===1}}},[n,t,r])}function Hg(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return js(l=>{var i;return t==null?null:(i=r??l)!=null?i:null},[r,t])}function Kg(e,t){return d.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var hs;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(hs||(hs={}));var Do;(function(e){e.Optimized="optimized"})(Do||(Do={}));const nu=new Map;function Qg(e,t){let{dragging:n,dependencies:r,config:l}=t;const[i,o]=d.useState(null),{frequency:a,measure:c,strategy:u}=l,h=d.useRef(e),p=E(),v=ds(p),x=d.useCallback(function(g){g===void 0&&(g=[]),!v.current&&o(f=>f===null?g:f.concat(g.filter(m=>!f.includes(m))))},[v]),j=d.useRef(null),w=js(g=>{if(p&&!n)return nu;if(!g||g===nu||h.current!==e||i!=null){const f=new Map;for(let m of e){if(!m)continue;if(i&&i.length>0&&!i.includes(m.id)&&m.rect.current){f.set(m.id,m.rect.current);continue}const y=m.node.current,S=y?new Ra(c(y),y):null;m.rect.current=S,S&&f.set(m.id,S)}return f}return g},[e,i,n,p,c]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{p||x()},[n,p]),d.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},a))},[a,p,x,...r]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function E(){switch(u){case hs.Always:return!1;case hs.BeforeDragging:return n;default:return!n}}}function Oa(e,t){return js(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Gg(e,t){return Oa(e,t)}function Yg(e){let{callback:t,disabled:n}=e;const r=Jl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ql(e){let{callback:t,disabled:n}=e;const r=Jl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Xg(e){return new Ra(Ns(e),e)}function ru(e,t,n){t===void 0&&(t=Xg);const[r,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=Yg({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=ql({callback:i});return Lt(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function Jg(e){const t=Oa(e);return Wf(e,t)}const su=[];function Zg(e){const t=d.useRef(e),n=js(r=>e?r&&r!==su&&e&&t.current&&e.parentNode===t.current.parentNode?r:Da(e):su,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function qg(e){const[t,n]=d.useState(null),r=d.useRef(e),l=d.useCallback(i=>{const o=Di(i.target);o&&n(a=>a?(a.set(o,To(o)),new Map(a)):null)},[]);return d.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(c=>{const u=Di(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,To(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Di(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>er(i,o),vt):Yf(e):vt,[e,t])}function lu(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const r=e!==vt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Pl(e,n.current):vt}function ev(e){d.useEffect(()=>{if(!Xl)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function tv(e,t){return d.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:i}=r;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function qf(e){return d.useMemo(()=>e?Cg(e):null,[e])}const iu=[];function nv(e,t){t===void 0&&(t=Ns);const[n]=e,r=qf(n?Fe(n):null),[l,i]=d.useState(iu);function o(){i(()=>e.length?e.map(c=>Qf(c)?r:new Ra(t(c),c)):iu)}const a=ql({callback:o});return Lt(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function eh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ws(t)?t:e}function rv(e){let{measure:t}=e;const[n,r]=d.useState(null),l=d.useCallback(u=>{for(const{target:h}of u)if(ws(h)){r(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),i=ql({callback:l}),o=d.useCallback(u=>{const h=eh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?t(h):null)},[t,i]),[a,c]=El(o);return d.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const sv=[{sensor:Ma,options:{}},{sensor:Zf,options:{}}],lv={current:{}},tl={draggable:{measure:Zc},droppable:{measure:Zc,strategy:hs.WhileDragging,frequency:Do.Optimized},dragOverlay:{measure:Ns}};class Kr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const iv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tl,measureDroppableContainers:Rl,windowRect:null,measuringScheduled:!1},th={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rl,draggableNodes:new Map,over:null,measureDroppableContainers:Rl},Ss=d.createContext(th),nh=d.createContext(iv);function ov(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kr}}}function av(e,t){switch(t.type){case we.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case we.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case we.DragEnd:case we.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case we.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new Kr(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case we.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Kr(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case we.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const i=new Kr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function cv(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=d.useContext(Ss),i=Tl(r),o=Tl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Pa(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=sg(h);if(p){p.focus();break}}})}},[r,t,l,o,i]),null}function rh(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...r}),n):n}function uv(e){return d.useMemo(()=>({draggable:{...tl.draggable,...e==null?void 0:e.draggable},droppable:{...tl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...tl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function dv(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const i=d.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;Lt(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Wf(h,r);if(o||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=Vf(u);v&&v.scrollBy({top:p.y,left:p.x})}},[t,o,a,r,n])}const ei=d.createContext({...vt,scaleX:1,scaleY:1});var Ht;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ht||(Ht={}));const fv=d.memo(function(t){var n,r,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=sv,collisionDetection:p=wg,measuring:v,modifiers:x,...j}=t;const w=d.useReducer(av,void 0,ov),[E,g]=w,[f,m]=ug(),[y,S]=d.useState(Ht.Uninitialized),k=y===Ht.Initialized,{draggable:{active:N,nodes:b,translate:C},droppable:{containers:T}}=E,I=N!=null?b.get(N):null,V=d.useRef({initial:null,translated:null}),Q=d.useMemo(()=>{var Pe;return N!=null?{id:N,data:(Pe=I==null?void 0:I.data)!=null?Pe:lv,rect:V}:null},[N,I]),L=d.useRef(null),[K,q]=d.useState(null),[Y,O]=d.useState(null),B=ds(j,Object.values(j)),U=Zl("DndDescribedBy",o),ee=d.useMemo(()=>T.getEnabled(),[T]),J=uv(v),{droppableRects:A,measureDroppableContainers:F,measuringScheduled:X}=Qg(ee,{dragging:k,dependencies:[C.x,C.y],config:J.droppable}),P=Hg(b,N),z=d.useMemo(()=>Y?Dl(Y):null,[Y]),D=Ch(),M=Gg(P,J.draggable.measure);dv({activeNode:N!=null?b.get(N):null,config:D.layoutShiftCompensation,initialRect:M,measure:J.draggable.measure});const _=ru(P,J.draggable.measure,M),H=ru(P?P.parentElement:null),G=d.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:A,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),me=T.getNodeFor((n=G.current.over)==null?void 0:n.id),W=rv({measure:J.dragOverlay.measure}),ce=(r=W.nodeRef.current)!=null?r:P,Oe=k?(l=W.rect)!=null?l:_:null,$e=!!(W.nodeRef.current&&W.rect),pr=Jg($e?null:_),mr=qf(ce?Fe(ce):null),ye=Zg(k?me??P:null),fn=nv(ye),zt=rh(x,{transform:{x:C.x-pr.x,y:C.y-pr.y,scaleX:1,scaleY:1},activatorEvent:Y,active:Q,activeNodeRect:_,containerNodeRect:H,draggingNodeRect:Oe,over:G.current.over,overlayNodeRect:W.rect,scrollableAncestors:ye,scrollableAncestorRects:fn,windowRect:mr}),gr=z?er(z,C):null,bs=qg(ye),xh=lu(bs),wh=lu(bs,[_]),Tn=er(zt,xh),Pn=Oe?Sg(Oe,zt):null,vr=Q&&Pn?p({active:Q,collisionRect:Pn,droppableRects:A,droppableContainers:ee,pointerCoordinates:gr}):null,za=yg(vr,"id"),[At,Aa]=d.useState(null),jh=$e?zt:er(zt,wh),Nh=jg(jh,(i=At==null?void 0:At.rect)!=null?i:null,_),ti=d.useRef(null),Fa=d.useCallback((Pe,Ke)=>{let{sensor:Qe,options:Ft}=Ke;if(L.current==null)return;const tt=b.get(L.current);if(!tt)return;const Ge=Pe.nativeEvent,yt=new Qe({active:L.current,activeNode:tt,event:Ge,options:Ft,context:G,onAbort(be){if(!b.get(be))return;const{onDragAbort:xt}=B.current,bt={id:be};xt==null||xt(bt),f({type:"onDragAbort",event:bt})},onPending(be,$t,xt,bt){if(!b.get(be))return;const{onDragPending:xr}=B.current,Bt={id:be,constraint:$t,initialCoordinates:xt,offset:bt};xr==null||xr(Bt),f({type:"onDragPending",event:Bt})},onStart(be){const $t=L.current;if($t==null)return;const xt=b.get($t);if(!xt)return;const{onDragStart:bt}=B.current,yr={activatorEvent:Ge,active:{id:$t,data:xt.data,rect:V}};Hn.unstable_batchedUpdates(()=>{bt==null||bt(yr),S(Ht.Initializing),g({type:we.DragStart,initialCoordinates:be,active:$t}),f({type:"onDragStart",event:yr}),q(ti.current),O(Ge)})},onMove(be){g({type:we.DragMove,coordinates:be})},onEnd:Dn(we.DragEnd),onCancel:Dn(we.DragCancel)});ti.current=yt;function Dn(be){return async function(){const{active:xt,collisions:bt,over:yr,scrollAdjustedTranslate:xr}=G.current;let Bt=null;if(xt&&xr){const{cancelDrop:wr}=B.current;Bt={activatorEvent:Ge,active:xt,collisions:bt,delta:xr,over:yr},be===we.DragEnd&&typeof wr=="function"&&await Promise.resolve(wr(Bt))&&(be=we.DragCancel)}L.current=null,Hn.unstable_batchedUpdates(()=>{g({type:be}),S(Ht.Uninitialized),Aa(null),q(null),O(null),ti.current=null;const wr=be===we.DragEnd?"onDragEnd":"onDragCancel";if(Bt){const ni=B.current[wr];ni==null||ni(Bt),f({type:wr,event:Bt})}})}}},[b]),Sh=d.useCallback((Pe,Ke)=>(Qe,Ft)=>{const tt=Qe.nativeEvent,Ge=b.get(Ft);if(L.current!==null||!Ge||tt.dndKit||tt.defaultPrevented)return;const yt={active:Ge};Pe(Qe,Ke.options,yt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},L.current=Ft,Fa(Qe,Ke))},[b,Fa]),$a=Kg(h,Sh);ev(h),Lt(()=>{_&&y===Ht.Initializing&&S(Ht.Initialized)},[_,y]),d.useEffect(()=>{const{onDragMove:Pe}=B.current,{active:Ke,activatorEvent:Qe,collisions:Ft,over:tt}=G.current;if(!Ke||!Qe)return;const Ge={active:Ke,activatorEvent:Qe,collisions:Ft,delta:{x:Tn.x,y:Tn.y},over:tt};Hn.unstable_batchedUpdates(()=>{Pe==null||Pe(Ge),f({type:"onDragMove",event:Ge})})},[Tn.x,Tn.y]),d.useEffect(()=>{const{active:Pe,activatorEvent:Ke,collisions:Qe,droppableContainers:Ft,scrollAdjustedTranslate:tt}=G.current;if(!Pe||L.current==null||!Ke||!tt)return;const{onDragOver:Ge}=B.current,yt=Ft.get(za),Dn=yt&&yt.rect.current?{id:yt.id,rect:yt.rect.current,data:yt.data,disabled:yt.disabled}:null,be={active:Pe,activatorEvent:Ke,collisions:Qe,delta:{x:tt.x,y:tt.y},over:Dn};Hn.unstable_batchedUpdates(()=>{Aa(Dn),Ge==null||Ge(be),f({type:"onDragOver",event:be})})},[za]),Lt(()=>{G.current={activatorEvent:Y,active:Q,activeNode:P,collisionRect:Pn,collisions:vr,droppableRects:A,draggableNodes:b,draggingNode:ce,draggingNodeRect:Oe,droppableContainers:T,over:At,scrollableAncestors:ye,scrollAdjustedTranslate:Tn},V.current={initial:Oe,translated:Pn}},[Q,P,vr,Pn,b,ce,Oe,A,T,At,ye,Tn]),Wg({...D,delta:C,draggingRect:Pn,pointerCoordinates:gr,scrollableAncestors:ye,scrollableAncestorRects:fn});const kh=d.useMemo(()=>({active:Q,activeNode:P,activeNodeRect:_,activatorEvent:Y,collisions:vr,containerNodeRect:H,dragOverlay:W,draggableNodes:b,droppableContainers:T,droppableRects:A,over:At,measureDroppableContainers:F,scrollableAncestors:ye,scrollableAncestorRects:fn,measuringConfiguration:J,measuringScheduled:X,windowRect:mr}),[Q,P,_,Y,vr,H,W,b,T,A,At,F,ye,fn,J,X,mr]),bh=d.useMemo(()=>({activatorEvent:Y,activators:$a,active:Q,activeNodeRect:_,ariaDescribedById:{draggable:U},dispatch:g,draggableNodes:b,over:At,measureDroppableContainers:F}),[Y,$a,Q,_,g,U,b,At,F]);return pe.createElement(Bf.Provider,{value:m},pe.createElement(Ss.Provider,{value:bh},pe.createElement(nh.Provider,{value:kh},pe.createElement(ei.Provider,{value:Nh},u)),pe.createElement(cv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),pe.createElement(hg,{...a,hiddenTextDescribedById:U}));function Ch(){const Pe=(K==null?void 0:K.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Qe=k&&!Pe&&!Ke;return typeof c=="object"?{...c,enabled:Qe}:{enabled:Qe}}}),hv=d.createContext(null),ou="button",pv="Draggable";function sh(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const i=Zl(pv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:v}=d.useContext(Ss),{role:x=ou,roleDescription:j="draggable",tabIndex:w=0}=l??{},E=(c==null?void 0:c.id)===t,g=d.useContext(E?ei:hv),[f,m]=El(),[y,S]=El(),k=tv(o,t),N=ds(n);Lt(()=>(p.set(t,{id:t,key:i,node:f,activatorNode:y,data:N}),()=>{const C=p.get(t);C&&C.key===i&&p.delete(t)}),[p,t]);const b=d.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":r,"aria-pressed":E&&x===ou?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[r,x,w,E,j,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:E,listeners:r?void 0:k,node:f,over:v,setNodeRef:m,setActivatorNodeRef:S,transform:g}}function mv(){return d.useContext(nh)}const gv="Droppable",vv={timeout:25};function yv(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const i=Zl(gv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(Ss),h=d.useRef({disabled:n}),p=d.useRef(!1),v=d.useRef(null),x=d.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:E}={...vv,...l},g=ds(w??r),f=d.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(g.current)?g.current:[g.current]),x.current=null},E)},[E]),m=ql({callback:f,disabled:j||!o}),y=d.useCallback((b,C)=>{m&&(C&&(m.unobserve(C),p.current=!1),b&&m.observe(b))},[m]),[S,k]=El(y),N=ds(t);return d.useEffect(()=>{!m||!S.current||(m.disconnect(),p.current=!1,m.observe(S.current))},[S,m]),d.useEffect(()=>(a({type:we.RegisterDroppable,element:{id:r,key:i,disabled:n,node:S,rect:v,data:N}}),()=>a({type:we.UnregisterDroppable,key:i,id:r})),[r]),d.useEffect(()=>{n!==h.current.disabled&&(a({type:we.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,a]),{active:o,rect:v,isOver:(c==null?void 0:c.id)===r,node:S,over:c,setNodeRef:k}}function xv(e){let{animation:t,children:n}=e;const[r,l]=d.useState(null),[i,o]=d.useState(null),a=Tl(n);return!n&&!r&&a&&l(a),Lt(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,r,i]),pe.createElement(pe.Fragment,null,n,r?d.cloneElement(r,{ref:o}):null)}const wv={x:0,y:0,scaleX:1,scaleY:1};function jv(e){let{children:t}=e;return pe.createElement(Ss.Provider,{value:th},pe.createElement(ei.Provider,{value:wv},t))}const Nv={position:"fixed",touchAction:"none"},Sv=e=>Pa(e)?"transform 250ms ease":void 0,kv=d.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:h=Sv}=e;if(!a)return null;const p=l?u:{...u,scaleX:1,scaleY:1},v={...Nv,width:a.width,height:a.height,top:a.top,left:a.left,transform:fs.Transform.toString(p),transformOrigin:l&&r?gg(r,a):void 0,transition:typeof h=="function"?h(r):h,...c};return pe.createElement(n,{className:o,style:v,ref:t},i)}),bv=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Cv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:fs.Transform.toString(t)},{transform:fs.Transform.toString(n)}]},Ev={duration:250,easing:"ease",keyframes:Cv,sideEffects:bv({styles:{active:{opacity:"0"}}})};function Tv(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return Jl((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=eh(o);if(!u)return;const{transform:h}=Fe(o).getComputedStyle(o),p=Uf(h);if(!p)return;const v=typeof t=="function"?t:Pv(t);return Xf(c,l.draggable.measure),v({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:l,transform:p})})}function Pv(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...Ev,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},v={x:c.x-h.x,y:c.y-h.y,...p},x=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:v}}),[j]=x,w=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const E=r==null?void 0:r({active:o,dragOverlay:a,...u}),g=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{g.onfinish=()=>{E==null||E(),f()}})}}let au=0;function Dv(e){return d.useMemo(()=>{if(e!=null)return au++,au},[e])}const Rv=pe.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:x,draggableNodes:j,droppableContainers:w,dragOverlay:E,over:g,measuringConfiguration:f,scrollableAncestors:m,scrollableAncestorRects:y,windowRect:S}=mv(),k=d.useContext(ei),N=Dv(p==null?void 0:p.id),b=rh(o,{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:x,draggingNodeRect:E.rect,over:g,overlayNodeRect:E.rect,scrollableAncestors:m,scrollableAncestorRects:y,transform:k,windowRect:S}),C=Oa(v),T=Tv({config:r,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),I=C?E.setRef:void 0;return pe.createElement(jv,null,pe.createElement(xv,{animation:T},p&&N?pe.createElement(kv,{key:N,id:p.id,ref:I,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...l},transform:b},n):null))}),lh={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Iv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},nl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:lh},cu=10,Kn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ml={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Mv(e){if(Ml[e])return Ml[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function uu(e){return Ml[e]?Ml[e].priority:e.startsWith("gt-")?3:99}const ih=d.createContext(null),du=5;function Ov({children:e}){const[t,n]=d.useState([]),[r,l]=d.useState(1),i=d.useCallback((c,u)=>{const h=r;l(v=>v+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(v=>{const x=[p,...v];return x.length>du?x.slice(0,du):x})},[r]),o=d.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=d.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return s.jsx(ih.Provider,{value:a,children:e})}function ks(){const e=d.useContext(ih);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function fu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const oh="chrote-dashboard-state",ah="chrote-dashboard-presets",Pr=["terminal1","terminal2"];function Lv(){try{const e=localStorage.getItem(ah);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function _v(e){try{localStorage.setItem(ah,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function zv(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function hu(e){return JSON.parse(JSON.stringify(e))}function Av(){try{const e=localStorage.getItem(oh);if(e){const t=JSON.parse(e);return Bv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Fv(e){try{localStorage.setItem(oh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function ps(e){return Math.max(1,Math.min(4,e))}function $v(e,t){const n=ps(t);return Array.from({length:n},(r,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Qr(e,t){return{windows:$v(e,t),windowCount:ps(t)}}function Dr(e){return typeof e=="object"&&e!==null}function Bv(e){if(Dr(e)){if(Dr(e.workspaces)&&Dr(e.workspaces.terminal1)&&Dr(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??nl,r=(l,i)=>{const o=Dr(i)?i:{},a=ps(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,p)=>{const v=c[p];return{id:`${l}-window-${p}`,boundSessions:(v==null?void 0:v.boundSessions)??[],activeSession:(v==null?void 0:v.activeSession)??null,colorIndex:typeof(v==null?void 0:v.colorIndex)=="number"?v.colorIndex:p}}),windowCount:a}};return{workspaces:{terminal1:r("terminal1",e.workspaces.terminal1),terminal2:r("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??nl,r=ps(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:r},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:r},terminal2:Qr("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Qr("terminal1",2),terminal2:Qr("terminal2",2)},sidebarCollapsed:!1,settings:nl}}const ch=d.createContext(null);function Wv({children:e}){const t=d.useMemo(()=>Av(),[]),{addToast:n}=ks(),[r,l]=d.useState([]),[i,o]=d.useState({}),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Qr("terminal1",2),terminal2:Qr("terminal2",2)}),[x,j]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,E]=d.useState(null),[g,f]=d.useState(!1),[m,y]=d.useState((t==null?void 0:t.settings)??nl),[S,k]=d.useState(null),[N,b]=d.useState(()=>Lv()),C=d.useMemo(()=>{const D=new Map;return Pr.forEach(M=>{p[M].windows.forEach((H,G)=>{H.boundSessions.forEach(me=>{D.set(me,{workspaceId:M,windowId:H.id,colorIndex:H.colorIndex,windowIndex:G+1})})})}),D},[p]);d.useEffect(()=>{v(D=>{let M=!1;const _={...D};return Pr.forEach(H=>{const G=D[H];G.windows.some(W=>W.activeSession==="INIT-PENDING")&&(M=!0,_[H]={...G,windows:G.windows.map(W=>W.activeSession==="INIT-PENDING"?{...W,activeSession:null}:W)})}),M?_:D})},[]),d.useEffect(()=>{const D={...p};Pr.forEach(M=>{const _=p[M];D[M]={..._,windows:_.windows.map(H=>H.activeSession==="INIT-PENDING"?{...H,activeSession:null}:H)}}),Fv({workspaces:D,sidebarCollapsed:x,settings:m})},[p,x,m]),d.useEffect(()=>{_v(N)},[N]);const T=d.useCallback(async()=>{try{const M=await(await fetch("/api/tmux/sessions")).json();M.error?(h(M.error),l([]),o({})):(h(null),l(M.sessions),o(M.grouped))}catch(D){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);d.useEffect(()=>{T();const D=setInterval(T,m.autoRefreshInterval);return()=>clearInterval(D)},[T,m.autoRefreshInterval]),d.useEffect(()=>{const D={...lh,...m.tmuxAppearance};fu(D)},[]);const I=d.useCallback((D,M)=>{const _=ps(M);v(H=>{const G=H[D];if(!G)return H;const me=(()=>{if(_>G.windows.length){const W=[...G.windows];for(let ce=G.windows.length;ce<_;ce++)W.push({id:`${D}-window-${ce}`,boundSessions:[],activeSession:null,colorIndex:ce});return W}return _<G.windows.length?G.windows.slice(0,_):G.windows})();return{...H,[D]:{...G,windowCount:_,windows:me}}})},[]),V=d.useCallback((D,M,_)=>{v(H=>{const G={...H};let me=!1,W=!1;if(Pr.forEach($e=>{const pr=H[$e],mr=pr.windows.map(ye=>{const fn=$e===D&&ye.id===M,zt=ye.boundSessions.includes(_);if(!fn&&!zt)return ye;if(!fn&&zt){const gr=ye.boundSessions.filter(bs=>bs!==_);return{...ye,boundSessions:gr,activeSession:ye.activeSession===_?gr[0]??null:ye.activeSession}}return W=!0,me=ye.boundSessions.length===0||ye.boundSessions.length===1&&zt,ye});G[$e]={...pr,windows:mr}}),!W)return H;const ce=G[D],Oe=ce.windows.map($e=>$e.id!==M||$e.boundSessions.includes(_)?$e:{...$e,boundSessions:[...$e.boundSessions,_],activeSession:me?_:$e.activeSession});return{...G,[D]:{...ce,windows:Oe}}})},[]),Q=d.useCallback((D,M,_)=>{v(H=>{const G=H[D];if(!G)return H;const me=G.windows.map(W=>{if(W.id!==M||!W.boundSessions.includes(_))return W;const ce=W.boundSessions.filter(Oe=>Oe!==_);return{...W,boundSessions:ce,activeSession:W.activeSession===_?ce[0]??null:W.activeSession}});return{...H,[D]:{...G,windows:me}}})},[]),L=d.useCallback((D,M,_)=>{v(H=>{const G=H[D];if(!G)return H;const me=G.windows.map(W=>W.id!==M||!W.boundSessions.includes(_)?W:{...W,activeSession:_});return{...H,[D]:{...G,windows:me}}})},[]),K=d.useCallback((D,M,_)=>{v(H=>{const G=H[D];if(!G)return H;const me=G.windows.map(W=>{if(W.id!==M||W.boundSessions.length<=1)return W;const ce=W.activeSession?W.boundSessions.indexOf(W.activeSession):0,Oe=_==="next"?(ce+1)%W.boundSessions.length:(ce-1+W.boundSessions.length)%W.boundSessions.length;return{...W,activeSession:W.boundSessions[Oe]}});return{...H,[D]:{...G,windows:me}}})},[]),q=d.useCallback(()=>{j(D=>!D)},[]),Y=d.useCallback(D=>{E(D)},[]),O=d.useCallback(()=>{E(null)},[]),B=d.useCallback(D=>{const M=C.get(D);M?L(M.workspaceId,M.windowId,D):Y(D)},[C,L,Y]),U=d.useCallback(D=>{y(M=>{const _={...M,...D};return D.tmuxAppearance&&fu(_.tmuxAppearance),_})},[]),ee=d.useCallback(async D=>{try{const M=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(M.ok)n(`Session '${D}' deleted`,"info"),T();else{const _=await M.text();console.error("Failed to delete session:",_),n("Failed to delete session","error")}}catch(M){console.error("Failed to delete session:",M),n("Failed to delete session","error")}},[T,n]),J=d.useCallback(async(D,M)=>{try{const _=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:M})});if(_.ok)return v(H=>{const G={...H};return Pr.forEach(me=>{const W=H[me];G[me]={...W,windows:W.windows.map(ce=>({...ce,boundSessions:ce.boundSessions.map(Oe=>Oe===D?M:Oe),activeSession:ce.activeSession===D?M:ce.activeSession}))}}),G}),n(`Session renamed to '${M}'`,"success"),T(),!0;{const H=await _.text();return console.error("Failed to rename session:",H),n("Failed to rename session","error"),!1}}catch(_){return console.error("Failed to rename session:",_),n("Failed to rename session","error"),!1}},[T,n]),A=d.useCallback(D=>{if(N.length>=cu)return n(`Maximum ${cu} presets reached`,"warning"),!1;const M={id:zv(),name:D,createdAt:Date.now(),workspaces:hu(p)};return b(_=>[..._,M]),n(`Layout '${D}' saved`,"success"),!0},[N.length,p,n]),F=d.useCallback(D=>{const M=N.find(_=>_.id===D);if(!M){n("Preset not found","error");return}v(hu(M.workspaces)),n(`Layout '${M.name}' loaded`,"info")},[N,n]),X=d.useCallback(D=>{const M=N.find(_=>_.id===D);M&&(b(_=>_.filter(H=>H.id!==D)),n(`Preset '${M.name}' deleted`,"info"))},[N,n]),P=d.useCallback((D,M)=>{b(_=>_.map(H=>H.id===D?{...H,name:M}:H))},[]),z=d.useMemo(()=>({sessions:r,groupedSessions:i,loading:a,error:u,workspaces:p,sidebarCollapsed:x,floatingSession:w,assignedSessions:C,isDragging:g,settings:m,focusedWindowKey:S,layoutPresets:N,setWindowCount:I,addSessionToWindow:V,removeSessionFromWindow:Q,setActiveSession:L,cycleSession:K,toggleSidebar:q,openFloatingModal:Y,closeFloatingModal:O,handleSessionClick:B,refreshSessions:T,deleteSession:ee,renameSession:J,setIsDragging:f,updateSettings:U,setFocusedWindowKey:k,saveCurrentLayout:A,loadPreset:F,deletePreset:X,renamePreset:P}),[r,i,a,u,p,x,w,C,g,m,S,N,I,V,Q,L,K,q,Y,O,B,T,ee,J,f,U,k,A,F,X,P]);return s.jsx(ch.Provider,{value:z,children:e})}function ct(){const e=d.useContext(ch);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const hn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function pu(){const e=d.useRef(null),{settings:t,updateSettings:n}=ct(),[r,l]=d.useState(0),[i,o]=d.useState(!1);d.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const h=e.current;h&&(h.src=hn[r].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[r,t.musicEnabled]);const a=()=>l(h=>(h+1)%hn.length),c=()=>l(h=>(h-1+hn.length)%hn.length),u=h=>{l(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return s.jsxs("div",{className:"music-player",children:[s.jsx("audio",{ref:e,onEnded:a}),s.jsxs("div",{className:"music-controls",children:[s.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),s.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),s.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),s.jsxs("div",{className:"music-dropdown-wrap",children:[s.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[hn[r].name," ",s.jsxs("span",{className:"track-num",children:[r+1,"/",hn.length]})]}),i&&s.jsx("div",{className:"music-dropdown",children:hn.map((h,p)=>s.jsxs("button",{className:`music-dropdown-item ${p===r?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===r&&t.musicEnabled&&""]},p))})]}),s.jsxs("div",{className:"music-volume-inline",children:[s.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&s.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function uh(e){const[t,n]=d.useState(!1);return d.useEffect(()=>{const r=window.matchMedia(e);r.matches!==t&&n(r.matches);const l=()=>n(r.matches);return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[t,e]),t}function Uv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:r}){var x;const[l,i]=d.useState(!1),[o,a]=d.useState(!1),c=d.useRef(null),u=uh("(max-width: 768px)");d.useEffect(()=>{const j=w=>{c.current&&!c.current.contains(w.target)&&i(!1);const E=w.target;o&&!E.closest(".tab-bar")&&a(!1)};if(l||o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[l,o]);const h=[{id:"chat",label:" Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads_viewer",label:"Beads"},{id:"settings",label:"Settings"}],p=j=>{j.external?window.open(j.url,"_blank","noopener,noreferrer"):(t(j.id),a(!1))},v=((x=h.find(j=>j.id===e))==null?void 0:x.label)||"Menu";return s.jsx("div",{className:`tab-bar ${u?"mobile-mode":""}`,children:u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"tab-bar-mobile-start",children:[s.jsx("button",{className:`tab hamburger-btn ${o?"active":""}`,onClick:()=>a(!o),children:""}),s.jsx("span",{className:"mobile-active-tab",children:v})]}),o&&s.jsxs("div",{className:"mobile-nav-dropdown",children:[h.map(j=>s.jsx("button",{className:`mobile-nav-item ${!j.external&&e===j.id?"active":""}`,onClick:()=>p(j),children:j.label},j.id)),s.jsx("div",{className:"mobile-nav-divider"}),r&&s.jsx("button",{className:"mobile-nav-item",onClick:()=>{r(),a(!1)},children:" Layouts"}),s.jsx("button",{className:"mobile-nav-item",onClick:()=>{n&&n(),a(!1)},children:"Keyboard Shortcuts"}),s.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("help"),a(!1)},children:"Dashboard Help"}),s.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("manual"),a(!1)},children:"Gastown Operators Manual"})]}),s.jsx("div",{className:"tab-bar-actions",children:s.jsx(pu,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"tab-bar-tabs",children:h.map(j=>s.jsx("button",{className:`tab ${!j.external&&e===j.id?"active":""} ${j.external?"external":""}`,onClick:()=>p(j),title:j.external?`Open ${j.label.replace(" ","")} in new tab`:void 0,children:j.label},j.id))}),s.jsxs("div",{className:"tab-bar-actions",children:[r&&s.jsx("button",{className:"tab",onClick:r,title:"Layout Presets",children:" Layouts"}),s.jsxs("div",{className:"help-menu-container",ref:c,children:[s.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&s.jsxs("div",{className:"help-dropdown",children:[n&&s.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),s.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),s.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),s.jsx(pu,{})]})]})})}const Vv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Hv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Kv(e){const t=Hv(e);return t?{role:t,...Vv[t]}:null}function Qv({sessionName:e,compact:t=!1}){const n=Kv(e);if(!n)return null;const r={"--role-color":n.color,"--role-glow":n.glowColor};return s.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:r,title:n.name,"aria-label":n.name,children:n.emoji})}function Gv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:r,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[h,p]=d.useState({show:!1,x:0,y:0}),[v,x]=d.useState(!1),[j,w]=d.useState(""),[E,g]=d.useState(!1),f=d.useRef(null),m=c?Kn[c.colorIndex%Kn.length].border:void 0,y=c?{backgroundColor:m,color:"#000",borderColor:m}:void 0,S=c?{color:m}:void 0,{attributes:k,listeners:N,setNodeRef:b,transform:C,isDragging:T}=sh({id:e.name,data:{type:"session",session:e}}),I=C?{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,zIndex:T?1e3:void 0}:void 0,V=d.useRef(null),Q=d.useCallback(F=>{F.persist(),V.current=setTimeout(()=>{if(V.current){const X=F.touches[0];p({show:!0,x:X.clientX,y:X.clientY}),g(!1)}},500)},[]),L=d.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),K=d.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),q=d.useCallback(F=>{F.preventDefault(),F.stopPropagation(),p({show:!0,x:F.clientX,y:F.clientY}),g(!1)},[]),Y=d.useCallback(()=>{p({show:!1,x:0,y:0}),g(!1)},[]),O=d.useCallback(async()=>{Y(),await r(e.name)},[r,e.name,Y]),B=d.useCallback(()=>{w(e.name),x(!0),Y()},[e.name,Y]),U=d.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),x(!1)},[j,e.name,l]),ee=d.useCallback(F=>{F.key==="Enter"?U():F.key==="Escape"&&x(!1)},[U]),J=d.useCallback(F=>{const X=F.startsWith("terminal2-")?"terminal2":"terminal1";o(X,F,e.name),Y()},[o,e.name,Y]),A=d.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),Y()},[c,a,e.name,Y]);return d.useEffect(()=>{v&&f.current&&(f.current.focus(),f.current.select())},[v]),d.useEffect(()=>{if(!h.show)return;const F=()=>Y();return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[h.show,Y]),v?s.jsx("div",{className:"session-item renaming",children:s.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:F=>w(F.target.value),onKeyDown:ee,onBlur:U})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:b,className:`session-item ${u?"assigned":""} ${T?"dragging":""}`,style:I,...N,...k,onClick:()=>n(e.name),onContextMenu:q,onTouchStart:Q,onTouchEnd:L,onTouchMove:K,children:[c&&s.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),s.jsx(Qv,{sessionName:e.name}),s.jsx("span",{className:"session-name",style:S,children:e.name}),e.attached&&!u&&s.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&s.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:F=>F.stopPropagation(),children:[s.jsxs("button",{className:"session-context-item",onClick:B,children:[s.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),s.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[s.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",s.jsx("span",{className:"session-context-arrow",children:""}),E&&s.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(F=>{const X=i[F];return X.windows.slice(0,X.windowCount).map((P,z)=>{const D=Kn[P.colorIndex%Kn.length],M=(c==null?void 0:c.windowId)===P.id,_=F==="terminal2"?"Terminal 2 - ":"";return s.jsxs("button",{className:`session-context-item ${M?"active":""}`,onClick:()=>J(P.id),style:{borderLeft:`3px solid ${D.border}`},children:[_,"Window ",z+1,M&&s.jsx("span",{className:"session-context-check",children:""})]},P.id)})})})]}),u&&s.jsxs("button",{className:"session-context-item",onClick:A,children:[s.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),s.jsx("div",{className:"session-context-divider"}),s.jsxs("button",{className:"session-context-item session-context-danger",onClick:O,children:[s.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Yv({groupKey:e,sessions:t}){const[n,r]=d.useState(!0),l=Mv(e);return s.jsxs("div",{className:"session-group",children:[s.jsxs("div",{className:"session-group-header",onClick:()=>r(!n),children:[s.jsx("span",{className:"expand-icon",children:n?"":""}),s.jsx("span",{className:"group-name",children:l}),s.jsx("span",{className:"session-count",children:t.length})]}),n&&s.jsx("div",{className:"session-group-items",children:t.map(i=>s.jsx(Gv,{session:i},i.name))})]})}const mu=["chrote-chat"];function Xv({onConfirm:e,onCancel:t,sessionCount:n,sessionNames:r=[]}){const[l,i]=d.useState(""),o=l==="NUKE",a=r.filter(h=>mu.includes(h)).length,c=n-a,u=h=>{h.preventDefault(),o&&e()};return s.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:s.jsxs("div",{className:"nuke-modal",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"nuke-modal-header",children:[s.jsx("span",{className:"nuke-icon",children:""}),s.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),s.jsxs("div",{className:"nuke-modal-body",children:[s.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",s.jsx("strong",{children:c})," tmux session",c!==1?"s":"","."]}),a>0&&s.jsxs("p",{className:"nuke-protected",children:[s.jsx("strong",{children:a})," protected session",a!==1?"s":""," will be preserved: ",mu.filter(h=>r.includes(h)).join(", ")]}),s.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("label",{className:"nuke-label",children:["Type ",s.jsx("strong",{children:"NUKE"})," to confirm:"]}),s.jsx("input",{type:"text",className:"nuke-input",value:l,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),s.jsxs("div",{className:"nuke-buttons",children:[s.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!o,children:"Destroy All"})]})]})]})]})})}function Jv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:r,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=ks(),[u,h]=d.useState(!1),[p,v]=d.useState(""),[x,j]=d.useState(!1),[w,E]=d.useState(!1),g=d.useMemo(()=>{const y=Object.entries(e);return(p?y.map(([k,N])=>[k,N.filter(b=>b.name.toLowerCase().includes(p.toLowerCase()))]).filter(([k,N])=>N.length>0):y).sort(([k],[N])=>{const b=uu(k),C=uu(N);return b!==C?b-C:k.localeCompare(N)})},[e,p]),f=async()=>{h(!0);try{const y=a.defaultSessionPrefix||"tmux",S=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=new RegExp(`^${S}(\\d+)$`),N=o.map(I=>I.name.match(k)).filter(Boolean).map(I=>parseInt(I[1],10)),b=N.length>0?Math.max(...N)+1:1,C=`${y}${b}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})})).ok?(c(`Session '${C}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{h(!1)}},m=async()=>{E(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{E(!1),j(!1)}};return s.jsxs("div",{className:`session-panel ${r?"collapsed":""}`,children:[s.jsxs("div",{className:"session-panel-header",children:[s.jsx("button",{className:"toggle-btn",onClick:l,title:r?"Expand":"Collapse",children:r?"":""}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"panel-title",children:"Sessions"}),s.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),s.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!r&&s.jsx("div",{className:"session-search-container",children:s.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:y=>v(y.target.value)})}),!r&&s.jsxs("div",{className:"session-panel-content",children:[t&&s.jsx("div",{className:"panel-status",children:"Loading..."}),n&&s.jsx("div",{className:"panel-error",children:n}),!t&&!n&&g.length===0&&s.jsxs("div",{className:"getting-started",children:[s.jsx("div",{className:"getting-started-title",children:"Getting Started"}),s.jsxs("div",{className:"getting-started-text",children:["Click ",s.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",s.jsx("code",{children:"tmux new -s mysession"})]}),s.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),g.map(([y,S])=>s.jsx(Yv,{groupKey:y,sessions:S},y))]}),!r&&o.length>0&&s.jsx("div",{className:"session-panel-footer",children:s.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&s.jsx(Xv,{sessionCount:o.length,sessionNames:o.map(y=>y.name),onConfirm:m,onCancel:()=>j(!1)})]})}function Zv({workspaceId:e,windowId:t,accentColor:n}){const[r,l]=d.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=ks(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return s.jsxs("button",{className:"create-session-btn",onClick:u,disabled:r,style:{"--btn-accent":n},title:"Create new session",children:[s.jsx("span",{className:"create-session-icon",children:r?"...":"+"}),s.jsx("span",{className:"create-session-label",children:"New Session"})]})}function qv({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:r,isOver:l}=yv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?s.jsx("div",{ref:r,className:`terminal-drop-overlay ${l?"is-over":""}`,children:s.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ey({sessionName:e,isActive:t,workspaceId:n,windowId:r,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=sh({id:`tag-${n}-${r}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:r,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,v=e.includes("-")?e.split("-").slice(-1)[0]:e,x=j=>{h||j.target.closest(".tag-remove")||i()};return s.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:x,...a,...o,children:[s.jsx("span",{className:"tag-name",children:v}),s.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function ty({workspaceId:e,window:t,isDragging:n=!1,style:r}){const[l,i]=d.useState(new Set),o=d.useRef(new Map),a=d.useRef(null),c=d.useRef(null),{removeSessionFromWindow:u,setActiveSession:h,cycleSession:p,settings:v,focusedWindowKey:x,setFocusedWindowKey:j}=ct(),w=`${e}-${t.id}`,E=x===w,g=t.activeSession,f=g?l.has(g):!1,m=d.useCallback(()=>{if(g)try{const L=o.current.get(g);if(!(L!=null&&L.contentWindow))return;L.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[g]),y=d.useCallback((L,K)=>{if(!(L!=null&&L.contentWindow))return;let q=0;const Y=20,O=()=>{try{const B=L.contentWindow;if(B.term){B.term.options.fontSize=K;return}}catch{}q++,q<Y&&setTimeout(O,50)};O()},[]),S=d.useCallback(L=>{i(q=>new Set(q).add(L));const K=o.current.get(L);K&&(y(K,v.fontSize),setTimeout(()=>{L===t.activeSession&&m()},100),setTimeout(()=>{L===t.activeSession&&m()},300))},[y,v.fontSize,m,t.activeSession]);d.useEffect(()=>{l.forEach(L=>{const K=o.current.get(L);K&&y(K,v.fontSize)})},[v.fontSize,l,y]),d.useEffect(()=>{g&&l.has(g)&&setTimeout(m,50)},[g,l,m]),d.useEffect(()=>{const L=new Set(t.boundSessions);o.current.forEach((K,q)=>{L.has(q)||o.current.delete(q)}),i(K=>{const q=new Set;return K.forEach(Y=>{L.has(Y)&&q.add(Y)}),q})},[t.boundSessions]);const k=d.useCallback(()=>{j(w)},[w,j]),N=d.useRef(E),b=d.useRef(t.boundSessions);d.useEffect(()=>{N.current=E,b.current=t.boundSessions},[E,t.boundSessions]),d.useEffect(()=>{const L=K=>{N.current&&K.ctrlKey&&(b.current.length<=1||(K.key==="ArrowRight"?(K.preventDefault(),p(e,t.id,"next")):K.key==="ArrowLeft"&&(K.preventDefault(),p(e,t.id,"prev"))))};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,t.id,p]),d.useEffect(()=>{const L=a.current;if(!L)return;let K;const q=new ResizeObserver(()=>{clearTimeout(K),K=setTimeout(m,100)});return q.observe(L),()=>{clearTimeout(K),q.disconnect()}},[m]);const C=Kn[t.colorIndex%Kn.length],T=L=>{u(e,t.id,L)},I=L=>{h(e,t.id,L)},V=t.boundSessions.length>0,Q=L=>`/terminal/?arg=${encodeURIComponent(L)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return s.jsxs("div",{ref:c,className:`terminal-window ${E?"focused":""}`,tabIndex:-1,onClick:k,style:{"--window-accent":C.accent,"--window-bg":C.bg,"--window-border":C.border,...r},children:[s.jsxs("div",{className:"terminal-window-header",children:[s.jsx("div",{className:"session-tags",children:t.boundSessions.map(L=>s.jsx(ey,{sessionName:L,isActive:L===g,workspaceId:e,windowId:t.id,onRemove:()=>T(L),onClick:()=>I(L)},L))}),s.jsxs("div",{className:"window-controls",children:[V&&t.boundSessions.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"prev"),title:"Previous session",children:""}),s.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"next"),title:"Next session",children:""})]}),s.jsx("span",{className:`status-dot ${f?"":"disconnected"}`})]})]}),s.jsxs("div",{ref:a,className:"terminal-window-body",children:[g==="INIT-PENDING"?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:C.accent},children:s.jsx("span",{children:"Initializing Session..."})}):V?t.boundSessions.map(L=>{const K=L===g;return s.jsx("iframe",{ref:q=>{q&&o.current.set(L,q)},src:Q(L),onLoad:()=>S(L),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:K?"block":"none",position:K?"relative":"absolute"},title:`Terminal ${t.id} - ${L}`},L)}):s.jsxs("div",{className:"empty-window-state",children:[s.jsx(Zv,{workspaceId:e,windowId:t.id,accentColor:C.accent}),s.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),s.jsx(qv,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ny({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:r}=ct(),l=t[e],i=l.windows,o=l.windowCount,a=uh("(max-width: 768px)"),[c,u]=d.useState(0);d.useEffect(()=>{c>=o&&u(0)},[o,c]);const h=()=>{if(a)return"grid-1";switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return s.jsxs("div",{className:"terminal-area",children:[s.jsx("div",{className:"terminal-area-controls",children:a?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"layout-label",children:"View:"}),s.jsxs("div",{className:"mobile-controls-row",style:{display:"flex",gap:"4px",alignItems:"center",flex:1,overflowX:"auto"},children:[Array.from({length:o}).map((p,v)=>s.jsx("button",{className:`layout-btn ${c===v?"active":""}`,onClick:()=>u(v),children:v+1},`view-${v}`)),s.jsx("div",{style:{width:"1px",height:"16px",background:"var(--divider)",margin:"0 8px"}}),s.jsx("span",{className:"layout-label",children:"Count:"}),[1,2,3,4].map(p=>s.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),style:{opacity:o===p?1:.7},children:p},`count-${p}`))]})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(p=>s.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),title:`${p} window${p>1?"s":""}`,children:p},p))]})}),s.jsx("div",{className:`terminal-grid ${h()}`,"data-workspace":e,children:i.slice(0,o).map((p,v)=>{const x=!a||v===c;return s.jsx(ty,{workspaceId:e,window:p,isDragging:r,style:{display:x?"flex":"none"}},p.id)})})]})}class se extends Error{constructor(t,n,r){super(t),this.code=n,this.status=r,this.name="FileOperationError"}}function La(e){return`/${e}`}const dn="/api/files";function dh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new se('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new se("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new se("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new se('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function hr(e,t){if(!e.ok)switch(e.status){case 403:throw new se("Permission denied","PERMISSION",403);case 404:throw new se("File not found","NOT_FOUND",404);case 409:throw new se("Already exists","CONFLICT",409);case 413:throw new se("File too large","STORAGE",413);case 507:throw new se("Insufficient storage","STORAGE",507);default:throw new se(`${t}: ${e.status}`,"SERVER",e.status)}}function Qn(e,t){if(e instanceof se)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function fh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${dn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new se(l instanceof Error?l.message:"Network error","NETWORK")}hr(n,"Failed to fetch directory");let r;try{r=await n.json()}catch{throw new se("Invalid server response","INVALID")}if(typeof r!="object"||r===null)throw new se("Invalid directory response","INVALID");if(r.isDir===!1)throw new se("Path is not a directory","INVALID");if(!("items"in r)||!Array.isArray(r.items))throw new se("Invalid directory response","INVALID");return r.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function hh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let r;try{r=await fetch(`${dn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new se(l instanceof Error?l.message:"Network error","NETWORK")}if(r.status===409)throw new se("Folder already exists","CONFLICT",409);hr(r,"Failed to create folder")}async function ry(e,t){let n;try{n=await fetch(`${dn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(r){throw new se(r instanceof Error?r.message:"Network error","NETWORK")}if(n.status===409)throw new se("Destination already exists","CONFLICT",409);hr(n,"Failed to rename")}async function sy(e){let t;try{t=await fetch(`${dn}/resources${e}`,{method:"DELETE"})}catch(n){throw new se(n instanceof Error?n.message:"Network error","NETWORK")}hr(t,"Failed to delete")}async function Ro(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const r of n){const l=dh(r.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${dn}/resources${i}`,{method:"POST",headers:{"Content-Type":r.type||"application/octet-stream"},body:r})}catch(a){throw new se(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new se("File too large","STORAGE",413);if(o.status===507)throw new se("Insufficient storage","STORAGE",507);hr(o,`Failed to upload ${l}`)}}async function ly(e){try{return(await fetch(`${dn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function _a(e){return`${dn}/raw${e}?inline=false`}async function iy(e,t){for(const{file:n,relativePath:r}of t){const o=r.split("/").filter(u=>u.length>0).map(u=>dh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${dn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new se(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new se("File too large","STORAGE",413);if(c.status===507)throw new se("Insufficient storage","STORAGE",507);hr(c,`Failed to upload ${o}`)}}function oy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),r=n.length===0,l=e;return s.jsxs("nav",{className:"fb-breadcrumbs",children:[s.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:r&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?La(i):i;return s.jsxs("span",{className:"fb-breadcrumb-segment",children:[s.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),s.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function Io(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function ay(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),l=Math.floor(r/(1e3*60*60*24));if(l===0){const i=Math.floor(r/36e5);if(i===0){const o=Math.floor(r/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function ph(e){var r;if(e.isDir)return"";const t=((r=e.name.split(".").pop())==null?void 0:r.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function cy({item:e}){return s.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:ph(e)})}function Mi({label:e,sortKey:t,currentSort:n,currentDir:r,onSort:l,className:i}){const o=n===t;return s.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&s.jsx("span",{className:"fb-sort-indicator",children:r==="asc"?"":""})]})}function uy({item:e,isSelected:t,onSelect:n,onNavigate:r,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:v}){const x=d.useRef(null);d.useEffect(()=>{if(o&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{v||(e.isDir?r():window.open(_a(e.path),"_blank"))},w=f=>{v||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},E=f=>{f.key==="Enter"?u():f.key==="Escape"&&h()},g=p?La(e.name):e.name;return s.jsxs("div",{className:`fb-row ${t?"selected":""} ${v?"disabled":""}`,onClick:v?void 0:n,onDoubleClick:j,onContextMenu:v?void 0:l,onKeyDown:w,tabIndex:v?-1:0,role:"row",children:[s.jsxs("div",{className:"fb-cell fb-cell-name",children:[s.jsx(cy,{item:e}),o?s.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:E,onBlur:h}):s.jsx("span",{className:"fb-filename",children:g})]}),s.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Io(e.size)}),s.jsx("div",{className:"fb-cell fb-cell-modified",children:ay(e.modified)})]})}function dy({item:e,isSelected:t,onSelect:n,onNavigate:r,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?r():window.open(_a(e.path),"_blank"))},c=i?La(e.name):e.name;return s.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[s.jsx("div",{className:"fb-grid-icon",children:ph(e)}),s.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function fy({x:e,y:t,item:n,onClose:r,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&r()},v=x=>{x.key==="Escape"&&r()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",v),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}},[r]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return s.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&s.jsxs("button",{className:"fb-context-item",onClick:l,children:[s.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"fb-context-item",onClick:i,children:[s.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),s.jsxs("button",{className:"fb-context-item",onClick:a,children:[s.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),s.jsx("div",{className:"fb-context-divider"}),s.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[s.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&s.jsxs("button",{className:"fb-context-item",onClick:c,children:[s.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function hy({onClose:e,onCreate:t,loading:n,error:r}){const[l,i]=d.useState(""),o=d.useRef(null);d.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return s.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:s.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[s.jsxs("div",{className:"fb-dialog-header",children:[s.jsx("h3",{children:"New Folder"}),s.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),s.jsxs("form",{onSubmit:a,children:[s.jsxs("div",{className:"fb-dialog-body",children:[s.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),s.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),r&&s.jsx("div",{className:"fb-dialog-error",children:r})]}),s.jsxs("div",{className:"fb-dialog-footer",children:[s.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function py({item:e,onClose:t,onConfirm:n,loading:r,error:l}){return s.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:s.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[s.jsxs("div",{className:"fb-dialog-header",children:[s.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),s.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:r,children:""})]}),s.jsxs("div",{className:"fb-dialog-body",children:[s.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",s.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&s.jsx("div",{className:"fb-dialog-error",children:l})]}),s.jsxs("div",{className:"fb-dialog-footer",children:[s.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:r,children:"Cancel"}),s.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:r,children:r?"Deleting...":"Delete"})]})]})})}function my({currentPath:e,onUploadComplete:t,onError:n}){const[r,l]=d.useState(!1),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},p=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},v=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const E=w.dataTransfer.files;E.length>0&&await x(E)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Ro(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(E){const g=Qn(E,"upload");c(null),n(g)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return s.jsxs("div",{className:`fb-upload-zone ${r?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:v,children:[s.jsx("input",{ref:u,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?s.jsx("span",{className:"fb-upload-status",children:a}):s.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[s.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function mh(e,t=""){const n=[],r=e.createReader(),l=()=>new Promise((a,c)=>{r.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((p,v)=>{u.file(p,v)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await mh(a,c);n.push(...u)}}return n}async function gy(e){var n;const t=[];for(let r=0;r<e.length;r++){const l=e[r];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await mh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function vy({onError:e}){const[t,n]=d.useState([]),[r,l]=d.useState(""),[i,o]=d.useState(!1),[a,c]=d.useState(!1),[u,h]=d.useState("idle"),p=d.useRef(null),v=d.useRef(null),x="/code/incoming",j=C=>{C.preventDefault(),C.stopPropagation(),o(!0)},w=C=>{C.preventDefault(),C.stopPropagation(),o(!1)},E=async C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),C.dataTransfer.items&&C.dataTransfer.items.length>0){const T=await gy(C.dataTransfer.items);T.length>0&&(n(I=>[...I,...T]),h("idle"))}else if(C.dataTransfer.files.length>0){const T=Array.from(C.dataTransfer.files).map(I=>({type:"file",name:I.name,size:I.size,file:I}));n(I=>[...I,...T]),h("idle")}},g=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files).map(I=>({type:"file",name:I.name,size:I.size,file:I}));n(I=>[...I,...T]),h("idle")}},f=C=>{if(C.target.files&&C.target.files.length>0){const T=Array.from(C.target.files),I=new Map;for(const Q of T){const L=Q.webkitRelativePath||Q.name,K=L.split("/")[0];I.has(K)||I.set(K,[]),I.get(K).push({file:Q,relativePath:L})}const V=Array.from(I.entries()).map(([Q,L])=>({type:"folder",name:Q,size:L.reduce((K,q)=>K+q.file.size,0),filesWithPaths:L}));n(Q=>[...Q,...V]),h("idle")}},m=C=>{n(T=>T.filter((I,V)=>V!==C))},y=async()=>{if(t.length!==0){c(!0);try{await ly(x)||await hh("/code","incoming");for(const T of t)T.type==="file"&&T.file?await Ro(x,[T.file]):T.type==="folder"&&T.filesWithPaths&&await iy(x,T.filesWithPaths);if(r.trim()&&t.length>0){const T=new File([r.trim()],`${t[0].name}.note`,{type:"text/plain"});await Ro(x,[T])}h("success"),n([]),l(""),p.current&&(p.current.value=""),v.current&&(v.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(C){h("error");const T=Qn(C,"upload");e(`Failed to send: ${T}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},S=t.reduce((C,T)=>C+T.size,0),k=t.reduce((C,T)=>{var I;return T.type==="file"?C+1:C+(((I=T.filesWithPaths)==null?void 0:I.length)||0)},0),N=t.filter(C=>C.type==="folder").length,b=t.filter(C=>C.type==="file").length;return s.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[s.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:E,children:[s.jsx("input",{ref:p,type:"file",multiple:!0,onChange:g,style:{display:"none"}}),s.jsx("input",{ref:v,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?s.jsxs("div",{className:"inbox-files-list",children:[t.map((C,T)=>s.jsxs("div",{className:"inbox-file-item",children:[s.jsx("span",{className:"inbox-file-icon",children:C.type==="folder"?"":""}),s.jsxs("span",{className:"inbox-file-name",children:[C.name,C.type==="folder"&&C.filesWithPaths&&s.jsxs("span",{className:"inbox-file-count",children:[" (",C.filesWithPaths.length," files)"]})]}),s.jsx("span",{className:"inbox-file-size",children:Io(C.size)}),s.jsx("button",{className:"inbox-file-remove",onClick:I=>{I.stopPropagation(),m(T)},children:""})]},`${C.name}-${T}`)),s.jsxs("div",{className:"inbox-add-buttons",children:[s.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=p.current)==null||T.click()},children:"+ Files"}),s.jsx("button",{className:"inbox-add-more",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"+ Folder"})]})]}):s.jsxs("div",{className:"inbox-placeholder",children:[s.jsx("span",{className:"inbox-icon",children:""}),s.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),s.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),s.jsxs("div",{className:"inbox-browse-buttons",children:[s.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=p.current)==null||T.click()},children:"Browse Files"}),s.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var T;C.stopPropagation(),(T=v.current)==null||T.click()},children:"Browse Folder"})]})]})]}),s.jsxs("div",{className:"inbox-bottom",children:[s.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:r,onChange:C=>l(C.target.value),disabled:a,rows:2}),s.jsxs("div",{className:"inbox-actions",children:[t.length>0&&s.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&b>0&&", ",b>0&&`${b} file${b>1?"s":""}`," ","(",k," total)  ",Io(S)]}),s.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function yy(){return s.jsxs("div",{className:"fb-info-panel",children:[s.jsxs("div",{className:"fb-info-card",children:[s.jsx("h3",{children:"Available Directories"}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"/code"}),s.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"/vault"}),s.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),s.jsxs("div",{className:"fb-info-card",children:[s.jsx("h3",{children:"Keyboard Shortcuts"}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),s.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Go Back"}),s.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Rename"}),s.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Delete"}),s.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Select All"}),s.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),s.jsxs("div",{className:"fb-info-item",children:[s.jsx("span",{className:"fb-info-label",children:"Refresh"}),s.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),s.jsxs("div",{className:"fb-info-card",children:[s.jsx("h3",{children:"Tips"}),s.jsxs("ul",{className:"fb-info-tips",children:[s.jsx("li",{children:"Double-click folders to open them"}),s.jsx("li",{children:"Double-click files to download"}),s.jsx("li",{children:"Right-click for more options"}),s.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function xy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),s.jsxs("div",{className:"fb-error-toast",role:"alert",children:[s.jsx("span",{className:"fb-error-toast-icon",children:"!"}),s.jsx("span",{className:"fb-error-toast-message",children:e}),s.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function wy(){const[e,t]=d.useState("browser"),[n,r]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[o,a]=d.useState(null),[c,u]=d.useState(null),[h,p]=d.useState(null),[v,x]=d.useState(""),[j,w]=d.useState(!1),[E,g]=d.useState(null),[f,m]=d.useState(["/"]),[y,S]=d.useState(0),k=d.useCallback(P=>{a(P)},[]),N=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),b=d.useCallback(async P=>{r(z=>({...z,loading:!0,error:null}));try{const z=await fh(P);r(D=>({...D,items:z,loading:!1,currentPath:P,selectedItems:new Set,error:null}))}catch(z){const D=Qn(z,"fetch");r(M=>({...M,loading:!1,error:D,items:[]}))}},[]);d.useEffect(()=>{b("/")},[b]);const C=d.useCallback((P,z=!0)=>{if(z){const D=[...f.slice(0,y+1),P];m(D),S(D.length-1)}b(P)},[b,f,y]),T=d.useCallback(()=>{if(y>0){const P=y-1;S(P),b(f[P])}},[y,f,b]),I=d.useCallback(()=>{if(y<f.length-1){const P=y+1;S(P),b(f[P])}},[y,f,b]),V=d.useCallback(()=>{const P=n.currentPath.split("/").filter(Boolean);P.length>0&&(P.pop(),C("/"+P.join("/")))},[n.currentPath,C]),Q=d.useMemo(()=>{const P=[...n.items],z=n.searchQuery?P.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):P;return z.sort((D,M)=>{if(D.isDir!==M.isDir)return D.isDir?-1:1;let _=0;switch(n.sortBy){case"name":_=D.name.localeCompare(M.name);break;case"size":_=D.size-M.size;break;case"modified":_=new Date(D.modified).getTime()-new Date(M.modified).getTime();break}return n.sortDir==="asc"?_:-_}),z},[n.items,n.sortBy,n.sortDir,n.searchQuery]),L=P=>{r(z=>({...z,sortBy:P,sortDir:z.sortBy===P&&z.sortDir==="asc"?"desc":"asc"}))},K=(P,z)=>{if(z.preventDefault(),z.ctrlKey||z.metaKey)r(D=>{const M=new Set(D.selectedItems);return M.has(P.name)?M.delete(P.name):M.add(P.name),{...D,selectedItems:M}});else if(z.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),M=Q.findIndex(W=>W.name===D),_=Q.findIndex(W=>W.name===P.name),H=Math.min(M,_),G=Math.max(M,_),me=new Set(Q.slice(H,G+1).map(W=>W.name));r(W=>({...W,selectedItems:me}))}else r(D=>({...D,selectedItems:new Set([P.name])}))},q=(P,z)=>{z.preventDefault(),u({x:z.clientX,y:z.clientY,item:P}),P&&!n.selectedItems.has(P.name)&&r(D=>({...D,selectedItems:new Set([P.name])}))},Y=P=>{p(P.name),x(P.name),u(null)},O=async()=>{if(!h||!v.trim()||v===h){B();return}const P=n.items.find(D=>D.name===h);if(!P)return;const z=n.currentPath==="/"?`/${v}`:`${n.currentPath}/${v}`;i({type:"rename",loading:!0,error:null,target:P.name});try{await ry(P.path,z),await b(n.currentPath),N()}catch(D){const M=Qn(D,"rename");i({type:"rename",loading:!1,error:M,target:P.name}),k(M)}finally{B()}},B=()=>{p(null),x("")},U=async()=>{if(E){i({type:"delete",loading:!0,error:null,target:E.name});try{await sy(E.path),await b(n.currentPath),N(),g(null)}catch(P){const z=Qn(P,"delete");i({type:"delete",loading:!1,error:z,target:E.name}),k(z)}}},ee=async P=>{i({type:"create",loading:!0,error:null,target:P});try{await hh(n.currentPath,P),await b(n.currentPath),N(),w(!1)}catch(z){const D=Qn(z,"create");i({type:"create",loading:!1,error:D,target:P})}},J=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(_a(c.item.path),"_blank"),u(null)},A=()=>{if(c!=null&&c.item){const P=c.item.path;navigator.clipboard.writeText(P)}u(null)};d.useEffect(()=>{const P=z=>{if(e==="browser"&&!(z.target.tagName==="INPUT"||z.target.tagName==="TEXTAREA"))if(z.key==="F5")z.preventDefault(),b(n.currentPath);else if(z.key==="Backspace")z.preventDefault(),V();else if(z.key==="Delete"){const D=n.items.find(M=>n.selectedItems.has(M.name));D&&g(D)}else if(z.key==="F2"){const D=n.items.find(M=>n.selectedItems.has(M.name));D&&Y(D)}else z.ctrlKey&&z.key==="a"&&(z.preventDefault(),r(D=>({...D,selectedItems:new Set(D.items.map(M=>M.name))})))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,n.currentPath,n.items,n.selectedItems,b,V]);const F=n.currentPath==="/"||n.currentPath==="",X=l.loading;return s.jsxs("div",{className:"fb-container files-view",children:[o&&s.jsx(xy,{message:o,onDismiss:()=>a(null)}),s.jsxs("div",{className:"fb-header",children:[s.jsxs("div",{className:"fb-header-left",children:[s.jsx("h2",{className:"fb-title",children:"Files"}),s.jsxs("div",{className:"fb-tabs",children:[s.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),s.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),s.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&s.jsxs(s.Fragment,{children:[s.jsx(my,{currentPath:n.currentPath,onUploadComplete:()=>b(n.currentPath),onError:k}),s.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:X,children:"+"})]}),s.jsx("button",{className:"fb-btn",onClick:()=>b(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),s.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),s.jsx("div",{className:"fb-content",children:e==="browser"?s.jsxs(s.Fragment,{children:[s.jsx(vy,{onError:k}),s.jsxs("div",{className:"fb-toolbar",children:[s.jsxs("div",{className:"fb-toolbar-nav",children:[s.jsx("button",{className:"fb-nav-btn",onClick:T,disabled:y===0,title:"Back",children:""}),s.jsx("button",{className:"fb-nav-btn",onClick:I,disabled:y>=f.length-1,title:"Forward",children:""}),s.jsx("button",{className:"fb-nav-btn",onClick:V,disabled:n.currentPath==="/",title:"Up",children:""})]}),s.jsx(oy,{path:n.currentPath,onNavigate:C}),s.jsxs("div",{className:"fb-toolbar-actions",children:[s.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:P=>r(z=>({...z,searchQuery:P.target.value}))}),s.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>r(P=>({...P,viewMode:"list"})),title:"List view",children:""}),s.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>r(P=>({...P,viewMode:"grid"})),title:"Grid view",children:""})]})]}),s.jsx("div",{className:"fb-list-container",onContextMenu:P=>{P.target.closest(".fb-row, .fb-grid-item")||q(null,P)},children:n.loading?s.jsxs("div",{className:"fb-loading",children:[s.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?s.jsxs("div",{className:"fb-error",children:[s.jsx("span",{className:"fb-error-icon",children:""}),s.jsx("span",{className:"fb-error-message",children:n.error}),s.jsx("button",{className:"fb-retry-btn",onClick:()=>b(n.currentPath),children:"Retry"})]}):Q.length===0?s.jsxs("div",{className:"fb-empty",children:[s.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?s.jsxs("div",{className:"fb-list",role:"grid",children:[s.jsxs("div",{className:"fb-list-header",role:"row",children:[s.jsx(Mi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-name"}),s.jsx(Mi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-size"}),s.jsx(Mi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-modified"})]}),s.jsx("div",{className:"fb-list-body",children:Q.map(P=>s.jsx(uy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:z=>K(P,z),onNavigate:()=>C(P.path),onContextMenu:z=>q(P,z),onRename:()=>Y(P),isRenaming:h===P.name,renameValue:v,setRenameValue:x,onRenameSubmit:O,onRenameCancel:B,isAtRoot:F,disabled:X},P.name))})]}):s.jsx("div",{className:"fb-grid",role:"grid",children:Q.map(P=>s.jsx(dy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:z=>K(P,z),onNavigate:()=>C(P.path),onContextMenu:z=>q(P,z),isAtRoot:F,disabled:X},P.name))})}),s.jsxs("div",{className:"fb-statusbar",children:[s.jsxs("span",{children:[Q.length," items"]}),n.selectedItems.size>0&&s.jsxs("span",{children:[n.selectedItems.size," selected"]}),X&&s.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):s.jsx(yy,{})}),c&&s.jsx(fy,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:J,onRename:()=>c.item&&Y(c.item),onDelete:()=>c.item&&g(c.item),onCopyPath:A,onNewFolder:()=>{u(null),w(!0)}}),j&&s.jsx(hy,{onClose:()=>{w(!1),N()},onCreate:ee,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),E&&s.jsx(py,{item:E,onClose:()=>{g(null),N()},onConfirm:U,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function jy({onSelect:e,onClose:t,initialPath:n="/"}){const[r,l]=d.useState(n),[i,o]=d.useState([]),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState(!1),x=d.useCallback(async y=>{try{const S=y==="/"?"/.beads":`${y}/.beads`,k=await fetch(`/api/files/resources${S}`);return k.ok?(await k.json()).isDir===!0:!1}catch{return!1}},[]),j=d.useCallback(async y=>{c(!0),h(null);try{const k=(await fh(y)).filter(C=>C.isDir),N=await x(y);v(N);const b=await Promise.all(k.map(async C=>({...C,hasBeads:await x(C.path)})));o(b)}catch(S){h(S instanceof Error?S.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);d.useEffect(()=>{j(r)},[r,j]);const w=y=>{l(y)},E=()=>{if(r==="/")return;const y=r.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},g=r==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...r.split("/").filter(Boolean).map((y,S,k)=>({name:y,path:"/"+k.slice(0,S+1).join("/")}))],f=()=>{e(r)},m=y=>{y.target===y.currentTarget&&t()};return s.jsx("div",{className:"fb-dialog-overlay",onClick:m,children:s.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"fb-dialog-header",children:[s.jsx("h3",{children:"Select Beads Project Folder"}),s.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),s.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[s.jsxs("div",{className:"folder-picker-nav",children:[s.jsx("button",{className:"folder-picker-up-btn",onClick:E,disabled:r==="/",title:"Go up",children:""}),s.jsx("div",{className:"fb-breadcrumbs",children:g.map((y,S)=>s.jsxs("span",{children:[S>0&&s.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),s.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),s.jsxs("div",{className:"folder-picker-path",children:[s.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),s.jsx("code",{children:r}),p&&s.jsx("span",{className:"beads-badge",children:".beads"})]}),s.jsx("div",{className:"folder-picker-list",children:a?s.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?s.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?s.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>s.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[s.jsx("span",{className:"folder-picker-icon",children:""}),s.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&s.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),s.jsxs("div",{className:"fb-dialog-footer",children:[s.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),s.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function In({label:e,value:t,onChange:n}){return s.jsxs("div",{className:"color-input-group",children:[s.jsx("span",{className:"color-input-label",children:e}),s.jsxs("div",{className:"color-input-controls",children:[s.jsx("input",{type:"color",value:t,onChange:r=>n(r.target.value),className:"color-picker"}),s.jsx("input",{type:"text",value:t,onChange:r=>n(r.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Ny(){var v,x,j,w,E,g;const{settings:e,updateSettings:t}=ct(),[n,r]=d.useState(!1),l=f=>{const m=e.beadsProjectPaths||[];m.includes(f)||t({beadsProjectPaths:[...m,f]}),r(!1)},i=f=>{const m=e.beadsProjectPaths||[];t({beadsProjectPaths:m.filter(y=>y!==f)})},o=f=>{t({theme:f})},a=f=>{const m=parseInt(f.target.value,10);m>=12&&m<=20&&t({fontSize:m})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},h=(f,m)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:m}})},p=f=>{const m=Iv[f];m&&t({tmuxAppearance:m})};return s.jsxs("div",{className:"settings-view",children:[s.jsx("h1",{className:"settings-title",children:"Settings"}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{className:"settings-section-title",children:"Appearance"}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Theme"}),s.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>s.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),s.jsxs("div",{className:"settings-field",children:[s.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),s.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),s.jsxs("div",{className:"slider-labels",children:[s.jsx("span",{children:"12px"}),s.jsx("span",{children:"20px"})]})]})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),s.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Presets"}),s.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>s.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>p(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Status Bar"}),s.jsxs("div",{className:"settings-color-row",children:[s.jsx(In,{label:"Background",value:((v=e.tmuxAppearance)==null?void 0:v.statusBg)??"#000000",onChange:f=>h("statusBg",f)}),s.jsx(In,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>h("statusFg",f)})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Pane Borders"}),s.jsxs("div",{className:"settings-color-row",children:[s.jsx(In,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>h("paneBorderActive",f)}),s.jsx(In,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>h("paneBorderInactive",f)})]})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),s.jsxs("div",{className:"settings-color-row",children:[s.jsx(In,{label:"Background",value:((E=e.tmuxAppearance)==null?void 0:E.modeStyleBg)??"#00ff41",onChange:f=>h("modeStyleBg",f)}),s.jsx(In,{label:"Foreground",value:((g=e.tmuxAppearance)==null?void 0:g.modeStyleFg)??"#000000",onChange:f=>h("modeStyleFg",f)})]})]}),s.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),s.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[s.jsx("option",{value:1e3,children:"1 second"}),s.jsx("option",{value:2e3,children:"2 seconds"}),s.jsx("option",{value:5e3,children:"5 seconds"}),s.jsx("option",{value:1e4,children:"10 seconds"}),s.jsx("option",{value:3e4,children:"30 seconds"})]}),s.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),s.jsxs("div",{className:"settings-field",children:[s.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),s.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),s.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),s.jsxs("section",{className:"settings-section",children:[s.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),s.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),s.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>s.jsxs("div",{className:"beads-project-item",children:[s.jsx("span",{className:"beads-project-path",children:f}),s.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):s.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),s.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>r(!0),children:"+ Add Project"})]}),s.jsx("section",{className:"settings-section settings-info",children:s.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&s.jsx(jy,{onSelect:l,onClose:()=>r(!1)})]})}function Sy(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[r,l]=d.useState(!1),[i,o]=d.useState({x:80,y:60}),[a]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),h=d.useRef({x:0,y:0}),p=d.useRef(null),v=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const x=d.useCallback(()=>{try{const f=p.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=d.useCallback(f=>{const m=p.current;if(!(m!=null&&m.contentWindow))return;let y=0;const S=20,k=()=>{try{const N=m.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}y++,y<S&&setTimeout(k,50)};k()},[]),w=d.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[j,n.fontSize,x]);d.useEffect(()=>{r&&j(n.fontSize)},[r,n.fontSize,j]),d.useEffect(()=>{const f=v.current;if(!f)return;let m;const y=new ResizeObserver(()=>{clearTimeout(m),m=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(m),y.disconnect()}},[x]);const E=f=>{f.target.closest(".modal-close")||(u(!0),h.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=y=>{o({x:y.clientX-h.current.x,y:y.clientY-h.current.y})},m=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)}},[c]),!e)return null;const g=e.includes("-")?e.split("-").slice(-1)[0]:e;return s.jsx("div",{className:"floating-modal-overlay",onClick:t,children:s.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"floating-modal-header",onMouseDown:E,children:[s.jsx("span",{className:"modal-title",children:g}),s.jsxs("div",{className:"modal-controls",children:[s.jsx("span",{className:`status-dot ${r?"":"disconnected"}`}),s.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),s.jsx("div",{ref:v,className:"floating-modal-body",children:s.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const ky=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function by(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return s.jsx(gu,{});case"terminals":return s.jsx(Cy,{});case"sessions":return s.jsx(Ey,{});case"files":return s.jsx(Ty,{});case"tmux":return s.jsx(Py,{});default:return s.jsx(gu,{})}};return s.jsxs("div",{className:"help-view",children:[s.jsxs("div",{className:"help-header",children:[s.jsx("h1",{className:"help-title",children:"Dashboard Help"}),s.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),s.jsx("nav",{className:"help-nav",children:ky.map(r=>s.jsxs("button",{className:`help-nav-item ${e===r.id?"active":""}`,onClick:()=>t(r.id),children:[s.jsx("span",{className:"help-nav-icon",children:r.icon}),s.jsx("span",{className:"help-nav-label",children:r.label})]},r.id))}),s.jsx("div",{className:"help-content",children:n()})]})}function gu(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Keyboard Shortcuts"}),s.jsxs("p",{className:"help-intro",children:["Press ",s.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Navigation"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"Tab"})}),s.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"1"})," ",s.jsx("kbd",{children:"2"})," ",s.jsx("kbd",{children:"3"})," ",s.jsx("kbd",{children:"4"})]}),s.jsx("span",{children:"Focus terminal pane by number"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"/"})}),s.jsx("span",{children:"Focus the session search box"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"Esc"})}),s.jsx("span",{children:"Close modals and overlays"})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Actions"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Ctrl"})," + ",s.jsx("kbd",{children:"S"})]}),s.jsx("span",{children:"Toggle the sidebar"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Ctrl"})," + ",s.jsx("kbd",{children:"N"})]}),s.jsx("span",{children:"Create a new session"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Ctrl"})," + ",s.jsx("kbd",{children:"1-9"})]}),s.jsx("span",{children:"Load layout preset by number"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"?"})}),s.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"Quick Tips"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:["Hold ",s.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),s.jsxs("li",{children:["Collapse the sidebar with ",s.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),s.jsxs("li",{children:["Use ",s.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Cy(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Terminal Panes"}),s.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Two Workspaces"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Terminal 1"})," and ",s.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",s.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Pane Controls"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Pop Out"}),s.jsx("p",{children:"Open terminal in a floating window."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Clear"}),s.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Cycle"}),s.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Session Tags"}),s.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Watch vs Control Mode"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Watch Mode (default)"}),s.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Control Mode"}),s.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Ey(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Session Panel"}),s.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Click vs Drag"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Click = Peek"}),s.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Drag = Bind"}),s.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Session Groups"}),s.jsx("p",{children:"Sessions auto-organize by naming convention:"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"hq-*"})}),s.jsx("span",{children:"HQ group (top priority)"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("code",{children:"main"})," / ",s.jsx("code",{children:"shell"})]}),s.jsx("span",{children:"Main group"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"gt-*"})}),s.jsx("span",{children:"Gastown workers"})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Search & Filter"}),s.jsxs("p",{children:["Press ",s.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Context Menu"}),s.jsx("p",{children:"Right-click a session for options:"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rename"})," - Change the session name"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Ty(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"File Browser"}),s.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Available Paths"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"/code"})}),s.jsx("span",{children:"Project files (read/write)"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"/vault"})}),s.jsx("span",{children:"Reference files (read-only)"})]})]}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Features"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Navigate"}),s.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"View"}),s.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Download"}),s.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Py(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"tmux Reference"}),s.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",s.jsx("kbd",{children:"Ctrl"})," + ",s.jsx("kbd",{children:"B"}),"."]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Scrolling & Copy"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"["})]}),s.jsx("span",{children:"Enter scroll/copy mode"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"q"})}),s.jsx("span",{children:"Exit copy mode"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"g"})," / ",s.jsx("kbd",{children:"G"})]}),s.jsx("span",{children:"Go to top / bottom"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"/"})," / ",s.jsx("kbd",{children:"?"})]}),s.jsx("span",{children:"Search forward / backward"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"Space"})}),s.jsx("span",{children:"Start selection"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("kbd",{children:"Enter"})}),s.jsx("span",{children:"Copy selection"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"]"})]}),s.jsx("span",{children:"Paste"})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Panes (within tmux)"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"%"})]}),s.jsx("span",{children:"Split vertical"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:'"'})]}),s.jsx("span",{children:"Split horizontal"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"Arrow"})]}),s.jsx("span",{children:"Move between panes"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"z"})]}),s.jsx("span",{children:"Toggle pane zoom"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"x"})]}),s.jsx("span",{children:"Kill pane"})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Sessions"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"d"})]}),s.jsx("span",{children:"Detach"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"s"})]}),s.jsx("span",{children:"List sessions"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsxs("div",{className:"help-shortcut-keys",children:[s.jsx("kbd",{children:"Prefix"})," ",s.jsx("kbd",{children:"$"})]}),s.jsx("span",{children:"Rename session"})]})]})]}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"Pro Tip"}),s.jsxs("p",{children:["Hold ",s.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const gh="/api/beads";async function vh(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Dy(){const{settings:e}=ct(),[t,n]=d.useState([]),[r,l]=d.useState(!0),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;l(!0),o(null);try{const u=await vh(`${gh}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const v of p){if(h.some(j=>j.path===v))continue;const x=v.split("/").filter(Boolean).pop()||v;h.push({name:x,path:v,beadsPath:`${v}/.beads`})}n(h),!u.success&&p.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:i,refresh:a}}function Ry(e){const[t,n]=d.useState([]),[r,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await vh(`${gh}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{issues:t,loading:r,error:i,refresh:a}}const Iy={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},My={bug:"",feature:"",task:"",chore:"",epic:""};function vu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function yu(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function Oy(e){return e.replace(/_/g," ")}function xu({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:r=!1}){const l=Iy[e.status]||"var(--text-secondary)",i=e.type&&My[e.type]||"";return t?s.jsxs("div",{className:`issue-card compact ${r?"highlighted":""}`,children:[s.jsx("span",{className:"issue-id",children:e.id}),s.jsx("span",{className:"issue-title",children:e.title}),e.priority&&s.jsx("span",{className:`issue-priority ${yu(e.priority)}`,children:vu(e.priority)})]}):s.jsxs("div",{className:`issue-card ${r?"highlighted":""}`,children:[s.jsxs("div",{className:"issue-card-header",children:[s.jsx("span",{className:"issue-id",children:e.id}),s.jsxs("div",{className:"issue-card-meta",children:[i&&s.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&s.jsx("span",{className:`issue-priority ${yu(e.priority)}`,children:vu(e.priority)}),s.jsx("span",{className:"issue-status",style:{color:l},children:Oy(e.status)})]})]}),s.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&s.jsxs("div",{className:"issue-card-assignee",children:[s.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&s.jsxs("div",{className:"issue-card-deps",children:[s.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>s.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&s.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>s.jsx("span",{className:"issue-label",children:o},o))})]})}const wu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Ly({issues:e,loading:t,error:n}){if(t)return s.jsx("div",{className:"beads-kanban loading",children:s.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return s.jsx("div",{className:"beads-kanban error",children:s.jsx("div",{className:"error-message",children:n})});if(e.length===0)return s.jsx("div",{className:"beads-kanban empty",children:s.jsx("div",{className:"empty-message",children:"No issues found"})});const r=new Map;for(const i of wu.map(o=>o.status))r.set(i,[]);const l=[];for(const i of e){const o=i.status;r.has(o)?r.get(o).push(i):l.push(i)}for(const[,i]of r)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),s.jsxs("div",{className:"beads-kanban",children:[wu.map(i=>{const o=r.get(i.status)||[];return s.jsxs("div",{className:`kanban-column status-${i.status}`,children:[s.jsxs("div",{className:"kanban-column-header",children:[s.jsx("span",{className:"column-title",children:i.label}),s.jsx("span",{className:"column-count",children:o.length})]}),s.jsx("div",{className:"kanban-column-content",children:o.map(a=>s.jsx(xu,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&s.jsxs("div",{className:"kanban-column status-other",children:[s.jsxs("div",{className:"kanban-column-header",children:[s.jsx("span",{className:"column-title",children:"Other"}),s.jsx("span",{className:"column-count",children:l.length})]}),s.jsx("div",{className:"kanban-column-content",children:l.map(i=>s.jsx(xu,{issue:i,showDependencies:!0},i.id))})]})]})}const _y=`
## Beads Viewer (bv) - Quick Reference

**bv** is a high-performance Terminal UI for browsing and managing tasks in projects using the Beads issue tracking system.

### Navigation
| Key | Action |
|-----|--------|
| \`j/k\` | Move down/up |
| \`/\` | Fuzzy search |
| \`Enter\` | Select/expand |
| \`q\` | Quit |

### Views
| Key | View |
|-----|------|
| \`b\` | Kanban board |
| \`g\` | Dependency graph |
| \`i\` | Insights & metrics |
| \`h\` | History timeline |

### Filters
| Key | Filter |
|-----|--------|
| \`o\` | Open issues |
| \`c\` | Closed issues |
| \`r\` | Ready (unblocked) |

### Actions
| Key | Action |
|-----|--------|
| \`E\` | Export to Markdown |
| \`C\` | Copy issue as Markdown |
| \`O\` | Open in editor |
| \`t\` | Time-travel (pick revision) |
| \`T\` | Compare with HEAD~5 |

### Features
- **Live Reload**: Auto-refreshes when beads.jsonl changes
- **Split View**: List + details on wide screens
- **Markdown**: Beautiful rendering with syntax highlighting
- **AI-Ready**: Structured insights for coding agents
`;function zy(){const{projects:e,loading:t}=Dy(),[n,r]=d.useState(null),[l,i]=d.useState(!1),{issues:o,loading:a,error:c}=Ry(n);d.useEffect(()=>{!n&&e.length>0&&r(e[0].path)},[e,n]);const u=d.useCallback(async p=>{if(p){r(p);try{await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(p)}`,{method:"POST"})}catch(v){console.error("Failed to restart bv terminal:",v)}}},[]),h=d.useCallback(()=>{window.open("/bv-terminal/","_blank")},[]);return s.jsxs("div",{className:"bv-container",children:[s.jsx("div",{className:"bv-toolbar",children:s.jsxs("div",{className:"bv-toolbar-left",children:[s.jsx("label",{htmlFor:"bv-project-select",children:"Project:"}),s.jsx("select",{id:"bv-project-select",value:n||"",onChange:p=>u(p.target.value),disabled:t,children:t?s.jsx("option",{children:"Loading projects..."}):e.length===0?s.jsx("option",{children:"No projects with .beads found"}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"Select a project"}),e.map(p=>s.jsx("option",{value:p.path,children:p.name},p.path))]})}),s.jsx("button",{className:"bv-btn bv-btn-primary",onClick:h,disabled:!n,title:"Open interactive beads_viewer in new tab",children:"Open Beads Viewer"}),s.jsx("button",{className:"bv-btn",onClick:()=>i(!0),title:"BV keyboard shortcuts and help",children:"BV Help"})]})}),l&&s.jsx("div",{className:"bv-help-overlay",onClick:()=>i(!1),children:s.jsxs("div",{className:"bv-help-modal",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"bv-help-header",children:[s.jsx("h2",{children:"Beads Viewer Help"}),s.jsx("button",{className:"bv-help-close",onClick:()=>i(!1),children:""})]}),s.jsx("div",{className:"bv-help-content",children:s.jsx("pre",{children:_y})})]})}),s.jsx("div",{className:"bv-kanban-full",children:s.jsx(Ly,{issues:o,loading:a,error:c})})]})}const Ay=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Fy(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return s.jsx(ju,{});case"agents":return s.jsx($y,{});case"molecules":return s.jsx(By,{});case"beads":return s.jsx(Wy,{});case"philosophy":return s.jsx(Uy,{});case"links":return s.jsx(Vy,{});default:return s.jsx(ju,{})}};return s.jsxs("div",{className:"help-view",children:[s.jsxs("div",{className:"help-header",children:[s.jsx("h1",{className:"help-title",children:"Operator's Manual"}),s.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),s.jsx("nav",{className:"help-nav",children:Ay.map(r=>s.jsxs("button",{className:`help-nav-item ${e===r.id?"active":""}`,onClick:()=>t(r.id),children:[s.jsx("span",{className:"help-nav-icon",children:r.icon}),s.jsx("span",{className:"help-nav-label",children:r.label})]},r.id))}),s.jsx("div",{className:"help-content",children:n()})]})}function ju(){return s.jsxs("div",{className:"help-section-content",children:[s.jsxs("div",{className:"help-hero",children:[s.jsx("div",{className:"help-hero-icon",children:""}),s.jsx("h2",{children:"Welcome to Gas Town"}),s.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"What Is This?"}),s.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),s.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",s.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"The Mad Max Theme"}),s.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),s.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Running with Just the Mayor"}),s.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),s.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Entry Points"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"gt may at"})}),s.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"gt crew at"})}),s.jsx("span",{children:"Attach to a Crew workspace"})]})]}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function $y(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"The Seven Roles"}),s.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"Who Do You Talk To?"}),s.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),s.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Town-Level Roles"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mayor"}),s.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Deacon"}),s.jsxs("p",{children:["Runs town-level plugins and handles ",s.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Dogs"}),s.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Per-Rig Roles"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Polecats"}),s.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Witness"}),s.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Refinery"}),s.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Crew"}),s.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"The Overseer (You)"}),s.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),s.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function By(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Formulas & Molecules"}),s.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"The Core Idea"}),s.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),s.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",s.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"The Lifecycle"}),s.jsxs("ol",{className:"help-steps",children:[s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"1"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Formula (TOML)"}),s.jsxs("p",{children:["Source form for workflows. Stored in ",s.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"2"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Protomolecule"}),s.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"3"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Molecule"}),s.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Hooks"}),s.jsxs("p",{children:["Every Gas Town worker has its own ",s.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),s.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",s.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Why Molecules Are Durable"}),s.jsx("p",{children:"If a molecule is on an agent's hook:"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Common Formulas"}),s.jsxs("div",{className:"help-shortcuts-table",children:[s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"shiny"})}),s.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"release"})}),s.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"code-review"})}),s.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Wy(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Beads"}),s.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"What Are Beads?"}),s.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",s.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),s.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",s.jsx("code",{children:"a7x"}),". States flow: ",s.jsx("strong",{children:"open"}),"  ",s.jsx("strong",{children:"in-progress"}),"  ",s.jsx("strong",{children:"done"}),"  ",s.jsx("strong",{children:"closed"}),"."]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Why Beads?"}),s.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Bead Flow"}),s.jsxs("ol",{className:"help-steps",children:[s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"1"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"You ask for something"}),s.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"2"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Beads get created"}),s.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"3"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Polecats claim beads"}),s.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),s.jsxs("li",{children:[s.jsx("span",{className:"help-step-number",children:"4"}),s.jsxs("div",{className:"help-step-content",children:[s.jsx("strong",{children:"Work completes"}),s.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Beads Tab Views"}),s.jsxs("div",{className:"help-control-list",children:[s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Kanban"}),s.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Triage"}),s.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),s.jsxs("div",{className:"help-control-item",children:[s.jsx("span",{className:"help-control-icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Insights"}),s.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Uy(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Operating Philosophy"}),s.jsx("p",{className:"help-intro",children:"Principles that make this work."}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"You Ask, They Do"}),s.jsxs("p",{children:["Your job is ",s.jsx("strong",{children:"intent"}),". Their job is ",s.jsx("strong",{children:"execution"}),"."]}),s.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Sessions Are Cattle"}),s.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),s.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Start Simple"}),s.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),s.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"When Refineries Shine"}),s.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),s.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"When to Intervene"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PR ready"})," - Review and approve"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Vy(){return s.jsxs("div",{className:"help-section-content",children:[s.jsx("h2",{children:"Resources"}),s.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),s.jsxs("div",{className:"help-card help-card-accent",children:[s.jsx("h3",{children:"Steve Yegge's Articles"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),s.jsxs("li",{children:[s.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),s.jsxs("li",{children:[s.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Community Guides"}),s.jsx("ul",{className:"help-list",children:s.jsxs("li",{children:[s.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Source Code"}),s.jsxs("ul",{className:"help-list",children:[s.jsxs("li",{children:[s.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),s.jsxs("li",{children:[s.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),s.jsxs("li",{children:[s.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),s.jsxs("div",{className:"help-card",children:[s.jsx("h3",{children:"Access"}),s.jsx("div",{className:"help-shortcuts-table",children:s.jsxs("div",{className:"help-shortcut-row",children:[s.jsx("div",{className:"help-shortcut-keys",children:s.jsx("code",{children:"http://chrote:8080"})}),s.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),s.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const on="/api/chat";function Hy(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),[l,i]=d.useState(null),o=d.useCallback(async()=>{var a,c;try{r(!0);const h=await(await fetch(`${on}/conversations`)).json();((a=h.data)==null?void 0:a.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{r(!1)}},[]);return d.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function Ky(e,t){const[n,r]=d.useState([]),[l,i]=d.useState(!1),[o,a]=d.useState(null),c=d.useCallback(async(u=!1)=>{var h,p;if(!e||!t){r([]);return}try{u||i(!0);const v=encodeURIComponent(e),x=encodeURIComponent(t),w=await(await fetch(`${on}/history?target=${v}&workspace=${x}`)).json();((h=w.data)==null?void 0:h.messages)!==void 0?(r(w.data.messages||[]),a(null)):a(((p=w.error)==null?void 0:p.message)||"Failed to load history")}catch{a("Network error")}finally{u||i(!1)}},[e,t]);return d.useEffect(()=>{c()},[c]),{messages:n,loading:l,error:o,refresh:c}}async function Qy(e,t,n){var l,i,o,a,c;const r={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(r,null,2)),console.log("Endpoint:",`${on}/send`);try{const u=await fetch(`${on}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log("Response status:",u.status,u.statusText);const h=await u.json();return console.log("Response body:",JSON.stringify(h,null,2)),console.groupEnd(),(l=h.data)!=null&&l.success?{success:!0,messageId:(i=h.data)==null?void 0:i.messageId,mailSent:((o=h.data)==null?void 0:o.mailSent)??!1,nudged:((a=h.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=h.error)==null?void 0:c.message)||"Send failed"}}catch(u){return console.error("Network error:",u),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function Gy(e,t,n){var l,i,o;const r={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(r,null,2));try{const c=await(await fetch(`${on}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function Yy(){var e,t;try{const r=await(await fetch(`${on}/session/status`)).json();return{exists:((e=r.data)==null?void 0:e.exists)??!1,workspace:(t=r.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function Xy(e){var t;try{const r=await(await fetch(`${on}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return r.data?{created:r.data.created??!1,workspace:r.data.workspace,message:r.data.message}:{created:!1,message:((t=r.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function Jy(e){var t;try{const r=await(await fetch(`${on}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return r.data?{created:r.data.restarted??!1,workspace:r.data.workspace}:{created:!1,message:((t=r.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}const Nu="chrote-chat-selected";function Zy(){const[e,t]=d.useState(()=>{try{return localStorage.getItem(Nu)}catch{return null}}),[n,r]=d.useState("list"),[l,i]=d.useState(""),[o,a]=d.useState(!1),[c,u]=d.useState(null),[h,p]=d.useState(!1),[v,x]=d.useState(!1),[j,w]=d.useState({exists:!1,initializing:!1}),{conversations:E,loading:g,refresh:f}=Hy(),m=E.find(A=>A.target===e),{messages:y,loading:S,refresh:k}=Ky(e,(m==null?void 0:m.workspace)??null),{addToast:N}=ks(),b=d.useRef(null),C=d.useRef(null),T=d.useRef(null),I=d.useRef(null),V=d.useRef(!0),Q=d.useRef(0);d.useEffect(()=>{const A=()=>window.innerWidth<=768&&"ontouchstart"in window,F=()=>{if(!(!I.current||!A())&&window.visualViewport){const P=window.visualViewport.height;I.current.style.height=`${P}px`,setTimeout(()=>{var z;(z=b.current)==null||z.scrollIntoView({behavior:"smooth"})},100)}},X=()=>{I.current&&(A()||(I.current.style.height=""))};return window.visualViewport&&(window.visualViewport.addEventListener("resize",F),window.visualViewport.addEventListener("scroll",F)),window.addEventListener("resize",X),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",F),window.visualViewport.removeEventListener("scroll",F)),window.removeEventListener("resize",X)}},[]);const L=()=>{const A=C.current;if(!A)return;const{scrollTop:F,scrollHeight:X,clientHeight:P}=A;V.current=X-F-P<100};d.useEffect(()=>{var X;const A=y.length,F=A>Q.current;if(Q.current=A,F&&V.current&&((X=b.current)==null||X.scrollIntoView({behavior:"smooth"})),c&&y.length>0){const P=[...y].reverse().find(z=>z.role==="user");P&&P.content===c&&u(null)}},[y,c]),d.useEffect(()=>{var A;o&&((A=b.current)==null||A.scrollIntoView({behavior:"smooth"}))},[o]),d.useEffect(()=>{var A;e&&((A=T.current)==null||A.focus())},[e]),d.useEffect(()=>{if(!e)return;const A=setInterval(()=>{k(!0)},5e3);return()=>clearInterval(A)},[e,k]),d.useEffect(()=>{Yy().then(A=>{w({exists:A.exists,initializing:!1})})},[]),d.useEffect(()=>{(async()=>{if(!(m!=null&&m.workspace)||j.exists||j.initializing)return;w(X=>({...X,initializing:!0}));const F=await Xy(m.workspace);w({exists:F.created||j.exists,initializing:!1}),F.created&&N("Chat session initialized","success")})()},[m==null?void 0:m.workspace,j.exists,j.initializing,N]);const K=async()=>{var X;const A=(m==null?void 0:m.workspace)||((X=E.find(P=>P.workspace))==null?void 0:X.workspace);if(!A){N("No workspace available to restart session","error");return}w({exists:!1,initializing:!0});const F=await Jy(A);w({exists:F.created,initializing:!1}),F.created?N("Chat session restarted","success"):N(F.message||"Failed to restart session","error")},q=A=>{t(A),r("chat");try{localStorage.setItem(Nu,A)}catch{}},Y=()=>{r("list")},O=async()=>{if(!m||!m.workspace||!l.trim()||o)return;const A=l.trim();i(""),a(!0);const F=await Qy(m.workspace,m.target,A);if(F.success){const X=[];F.mailSent&&X.push("Mail sent"),F.nudged&&X.push("Agent nudged"),N(X.join(", ")||"Message sent","success"),u(A),a(!1),setTimeout(()=>{k()},1e3),setTimeout(()=>{u(null)},1e4)}else N(F.error||"Send failed","error"),a(!1)},B=async()=>{if(!m||!m.workspace||h)return;p(!0);const A=await Gy(m.workspace,m.target);A.success?N("Nudged!","success"):N(A.error||"Nudge failed","error"),p(!1)},U=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),O())},ee=A=>{i(A.target.value);const F=A.target;F.style.height="auto",F.style.height=Math.min(F.scrollHeight,120)+"px"},J=y;return s.jsxs("div",{ref:I,className:`chrote-chat mobile-view-${n}`,children:[s.jsxs("div",{className:`chat-sidebar ${v?"collapsed":""}`,children:[s.jsxs("div",{className:"chat-sidebar-header",children:[s.jsx("button",{className:"toggle-btn",onClick:()=>x(!v),title:v?"Expand":"Collapse",children:v?"":""}),!v&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"panel-title",children:"Chat"}),s.jsx("button",{className:"refresh-btn",onClick:()=>f(),disabled:g,title:"Refresh",children:""})]})]}),!v&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"chat-conversations",children:g&&E.length===0?s.jsx("div",{className:"chat-loading",children:"Loading..."}):E.length===0?s.jsx("div",{className:"chat-empty",children:"No agents available"}):E.map(A=>s.jsx(qy,{conversation:A,selected:A.target===e,onClick:()=>q(A.target)},A.target))}),s.jsxs("div",{className:"chat-sidebar-footer",children:[s.jsx("button",{className:"restart-session-btn",onClick:K,disabled:j.initializing,title:"Restart the chrote-chat tmux session",children:j.initializing?"Restarting...":"Restart Chat Session"}),s.jsx("div",{className:"session-status",children:j.exists?"Session active":"No session"})]})]})]}),s.jsxs("div",{className:"chat-main",children:[s.jsxs("div",{className:"chat-header",children:[s.jsx("button",{className:"chat-back-btn mobile-only",onClick:Y,title:"Back to agents",children:""}),s.jsxs("div",{className:"chat-header-info",children:[s.jsx("span",{className:"chat-header-name",children:(m==null?void 0:m.displayName)||e||"Chat"}),e&&s.jsx("span",{className:`chat-header-status ${m!=null&&m.online?"online":"offline"}`,children:m!=null&&m.online?"Online":"Offline"})]}),e&&s.jsx("button",{className:"refresh-btn",onClick:()=>k(),disabled:S,title:"Refresh history",children:""})]}),e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"chat-messages",ref:C,onScroll:L,children:[S&&J.length===0?s.jsx("div",{className:"chat-loading",children:"Loading history..."}):J.length===0&&!o&&!c?s.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):J.map(A=>s.jsx(nx,{message:A},A.id)),c&&s.jsx(tx,{content:c}),o&&s.jsx(ex,{}),s.jsx("div",{ref:b})]}),s.jsxs("div",{className:"chat-input-area",children:[!(m!=null&&m.workspace)&&s.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),s.jsxs("div",{className:"chat-input-row",children:[s.jsx("textarea",{ref:T,className:"chat-input",value:l,onChange:ee,onKeyDown:U,placeholder:m!=null&&m.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:o||!(m!=null&&m.workspace)}),s.jsx("button",{className:"chat-nudge-btn",onClick:B,disabled:h||!(m!=null&&m.workspace),title:"Send a quick nudge",children:h?"...":"Nudge!"}),s.jsx("button",{className:"chat-send-btn",onClick:O,disabled:!l.trim()||o||!(m!=null&&m.workspace),title:m!=null&&m.workspace?"Send (Enter)":"No workspace detected",children:o?"...":""})]})]})]}):s.jsxs("div",{className:"chat-placeholder",children:[s.jsx("div",{className:"chat-placeholder-icon",children:""}),s.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),s.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})]})]})}function qy({conversation:e,selected:t,onClick:n}){return s.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[s.jsxs("div",{className:"chat-convo-info",children:[s.jsx("div",{className:"chat-convo-name",children:e.displayName}),s.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&s.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function ex(){return s.jsx("div",{className:"chat-sending-spinner",children:s.jsx("div",{className:"spinner"})})}function tx({content:e}){return s.jsxs("div",{className:"chat-message user pending",children:[s.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>s.jsx("p",{children:t||""},n))}),s.jsx("div",{className:"chat-message-meta",children:s.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function nx({message:e}){const t=e.role==="user",n=r=>{try{return new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return s.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[s.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((r,l)=>s.jsx("p",{children:r||""},l))}),s.jsx("div",{className:"chat-message-meta",children:s.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class Su extends d.Component{constructor(n){super(n);Ba(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"error-boundary",children:s.jsxs("div",{className:"error-boundary-content",children:[s.jsx("div",{className:"error-icon",children:""}),s.jsx("h2",{children:"Something went wrong"}),s.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),s.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const ku=4e3,bu=300,rx={success:"",info:"",warning:"",error:""};function sx({toast:e,onRemove:t}){const[n,r]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,p=Math.max(0,100-h/ku*100);i(p)},50),u=setTimeout(()=>{r(!0),setTimeout(()=>t(e.id),bu)},ku);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{r(!0),setTimeout(()=>t(e.id),bu)};return s.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[s.jsx("div",{className:"toast-icon",children:rx[e.type]}),s.jsx("div",{className:"toast-content",children:s.jsx("span",{className:"toast-message",children:e.message})}),s.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),s.jsx("div",{className:"toast-progress",children:s.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function lx(){const{toasts:e,removeToast:t}=ks();return e.length===0?null:s.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>s.jsx(sx,{toast:n,onRemove:t},n.id))})}const ix=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function yh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return s.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function ox({keys:e,description:t}){return s.jsxs("div",{className:"shortcut-row",children:[s.jsx("div",{className:"shortcut-keys",children:e.map((n,r)=>s.jsxs("span",{children:[r>0&&s.jsx("span",{className:"key-separator",children:"+"}),s.jsx(yh,{keyName:n})]},r))}),s.jsx("span",{className:"shortcut-description",children:t})]})}function ax({title:e,shortcuts:t}){return s.jsxs("div",{className:"shortcut-section",children:[s.jsx("h3",{className:"shortcut-section-title",children:e}),s.jsx("div",{className:"shortcut-list",children:t.map((n,r)=>s.jsx(ox,{...n},r))})]})}function cx({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const r=l=>{l.target===l.currentTarget&&t()};return e?s.jsx("div",{className:"keyboard-overlay",onClick:r,children:s.jsxs("div",{className:"keyboard-modal",ref:n,children:[s.jsxs("div",{className:"keyboard-modal-header",children:[s.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),s.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:s.jsx("span",{"aria-hidden":"true",children:""})})]}),s.jsx("div",{className:"keyboard-modal-body",children:s.jsx("div",{className:"shortcut-grid",children:ix.map((l,i)=>s.jsx(ax,{...l},i))})}),s.jsx("div",{className:"keyboard-modal-footer",children:s.jsxs("span",{className:"keyboard-hint",children:["Press ",s.jsx(yh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function ux({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:r,loadPreset:l,deletePreset:i,renamePreset:o}=ct(),[a,c]=d.useState(""),[u,h]=d.useState(null),[p,v]=d.useState(""),x=()=>{a.trim()&&r(a.trim())&&c("")},j=y=>{l(y),t()},w=y=>{i(y)},E=y=>{h(y.id),v(y.name)},g=()=>{u&&p.trim()&&(o(u,p.trim()),h(null),v(""))},f=()=>{h(null),v("")},m=y=>{let S=0,k=0;return Object.values(y.workspaces).forEach(N=>{S+=N.windowCount,N.windows.forEach(b=>{k+=b.boundSessions.length})}),`${S} windows, ${k} sessions`};return e?s.jsx("div",{className:"presets-panel-overlay",onClick:t,children:s.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"presets-panel-header",children:[s.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),s.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"presets-panel-body",children:[s.jsxs("div",{className:"preset-save-section",children:[s.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),s.jsxs("div",{className:"preset-save-form",children:[s.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),s.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&s.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),s.jsxs("div",{className:"preset-list-section",children:[s.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?s.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):s.jsx("ul",{className:"preset-list",children:n.map((y,S)=>s.jsx("li",{className:"preset-item",children:u===y.id?s.jsxs("div",{className:"preset-edit-form",children:[s.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:k=>v(k.target.value),onKeyDown:k=>{k.key==="Enter"&&g(),k.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),s.jsx("button",{className:"preset-edit-save",onClick:g,children:""}),s.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"preset-info",children:[s.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",S+1]}),s.jsx("span",{className:"preset-name",children:y.name}),s.jsx("span",{className:"preset-summary",children:m(y)})]}),s.jsxs("div",{className:"preset-actions",children:[s.jsx("button",{className:"preset-load-btn",onClick:()=>j(y.id),title:"Load preset",children:"Load"}),s.jsx("button",{className:"preset-rename-btn",onClick:()=>E(y),title:"Rename preset",children:""}),s.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),s.jsx("div",{className:"presets-panel-footer",children:s.jsxs("span",{className:"presets-hint",children:["Use ",s.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",s.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function dx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:r}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:v}=ct(),x=d.useCallback(async()=>{try{const E=u.defaultSessionPrefix||"tmux",g=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${g}(\\d+)$`),m=h.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),y=m.length>0?Math.max(...m)+1:1,S=`${E}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S})})).ok&&c()}catch(E){console.error("Failed to create session:",E)}},[u.defaultSessionPrefix,h,c]),j=d.useCallback(()=>{const E=document.querySelector(".session-search-input");E&&(E.focus(),E.select())},[]),w=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const E=g=>{const f=g.target,m=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(g.key==="Escape"){if(r)return;if(a){g.preventDefault(),o();return}}if(!(m||r)){if(g.key==="?"||g.shiftKey&&g.key==="/"){g.preventDefault(),n();return}if(g.key==="/"&&!g.ctrlKey&&!g.metaKey){g.preventDefault(),j();return}if(g.key==="Tab"&&!g.ctrlKey&&!g.shiftKey&&!g.altKey&&(e==="terminal1"||e==="terminal2")){g.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!g.ctrlKey&&!g.metaKey&&!g.altKey&&/^[1-4]$/.test(g.key)){const y=w();if(y){const S=parseInt(g.key,10),k=l[y];if(S<=k.windowCount){g.preventDefault();return}}}if(g.ctrlKey&&g.key==="s"){g.preventDefault(),i();return}if(g.ctrlKey&&g.key==="n"){g.preventDefault(),x();return}if(g.ctrlKey&&/^[1-9]$/.test(g.key)){const y=parseInt(g.key,10)-1;if(y<v.length){g.preventDefault(),p(v[y].id);return}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,t,n,r,a,o,j,i,x,w,l,p,v])}function fx({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return s.jsx("div",{className:"session-item dragging-overlay",children:s.jsx("span",{className:"session-agent-name",children:t})})}function hx(){const[e,t]=d.useState("terminal1"),[n,r]=d.useState(null),[l,i]=d.useState(!1),[o,a]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:v}=ct(),x=d.useCallback(()=>i(!0),[]),j=d.useCallback(()=>i(!1),[]),w=d.useCallback(()=>a(!0),[]),E=d.useCallback(()=>a(!1),[]);dx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",v.theme)},[v.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${v.fontSize}px`)},[v.fontSize]);const g=mg(pg(Ma,{activationConstraint:{distance:4}})),f=y=>{var k,N;const S=(k=y.active.data.current)==null?void 0:k.type;r(S==="tag"?((N=y.active.data.current)==null?void 0:N.sessionName)??null:y.active.id),h(!0)},m=y=>{var N,b,C,T;const{active:S,over:k}=y;if(r(null),h(!1),!k){if(((N=S.data.current)==null?void 0:N.type)==="tag"){const{sessionName:I,sourceWindowId:V,sourceWorkspaceId:Q}=S.data.current;u(Q,V,I)}return}if(((b=k.data.current)==null?void 0:b.type)==="window"){const I=k.data.current.windowId,V=k.data.current.workspaceId;if(((C=S.data.current)==null?void 0:C.type)==="session")c(V,I,S.id);else if(((T=S.data.current)==null?void 0:T.type)==="tag"){const{sessionName:Q,sourceWindowId:L,sourceWorkspaceId:K}=S.data.current;(L!==I||K!==V)&&c(V,I,Q)}}};return s.jsxs(fv,{sensors:g,onDragStart:f,onDragEnd:m,children:[s.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[s.jsx(Uv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),s.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&s.jsxs(s.Fragment,{children:[s.jsx(Jv,{}),s.jsx(ny,{workspaceId:e})]}),e==="files"&&s.jsx(wy,{}),e==="beads_viewer"&&s.jsx(Su,{children:s.jsx(zy,{})}),e==="chat"&&s.jsx(Su,{children:s.jsx(Zy,{})}),e==="manual"&&s.jsx(Fy,{}),e==="settings"&&s.jsx(Ny,{}),e==="help"&&s.jsx(by,{})]}),s.jsx(Sy,{}),s.jsx(cx,{isOpen:l,onClose:j}),s.jsx(ux,{isOpen:o,onClose:E})]}),s.jsx(lx,{}),s.jsx(Rv,{children:n?s.jsx(fx,{name:n}):null})]})}function px(){return s.jsx(Wv,{children:s.jsx(hx,{})})}Oi.createRoot(document.getElementById("root")).render(s.jsx(pe.StrictMode,{children:s.jsx(Ov,{children:s.jsx(px,{})})}));
