var Eh=Object.defineProperty;var Th=(e,t,n)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yo=(e,t,n)=>Th(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pu={exports:{}},_l={},Du={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Lh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Fh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),Xo=Symbol.iterator;function $h(e){return e===null||typeof e!="object"?null:(e=Xo&&e[Xo]||e["@@iterator"],typeof e=="function"?e:null)}var Ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,Mu={};function ds(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Ru}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=ds.prototype;function Fa(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Ru}var za=Fa.prototype=new Lu;za.constructor=Fa;Iu(za,ds.prototype);za.isPureReactComponent=!0;var Jo=Array.isArray,Ou=Object.prototype.hasOwnProperty,$a={current:null},_u={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var s,l={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ou.call(t,s)&&!_u.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:gr,type:e,key:i,ref:a,props:l,_owner:$a.current}}function Bh(e,t){return{$$typeof:gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===gr}function Wh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zo=/\/+/g;function oi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wh(""+e.key):t.toString(36)}function Hr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gr:case Dh:a=!0}}if(a)return a=e,l=l(a),e=s===""?"."+oi(a,0):s,Jo(l)?(n="",e!=null&&(n=e.replace(Zo,"$&/")+"/"),Hr(l,t,n,"",function(u){return u})):l!=null&&(Ba(l)&&(l=Bh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Zo,"$&/")+"/")+e)),t.push(l)),1;if(a=0,s=s===""?".":s+":",Jo(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+oi(i,o);a+=Hr(i,t,n,c,l)}else if(c=$h(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+oi(i,o++),a+=Hr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cr(e,t,n){if(e==null)return e;var s=[],l=0;return Hr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Kr={transition:null},Vh={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:$a};function Fu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Cr,forEach:function(e,t,n){Cr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cr(e,function(){t++}),t},toArray:function(e){return Cr(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=ds;G.Fragment=Rh;G.Profiler=Mh;G.PureComponent=Fa;G.StrictMode=Ih;G.Suspense=Ah;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;G.act=Fu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Iu({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=$a.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ou.call(t,c)&&!_u.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:gr,type:e.type,key:l,ref:i,props:s,_owner:a}};G.createContext=function(e){return e={$$typeof:Oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lh,_context:e},e.Consumer=e};G.createElement=Au;G.createFactory=function(e){var t=Au.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:_h,render:e}};G.isValidElement=Ba;G.lazy=function(e){return{$$typeof:zh,_payload:{_status:-1,_result:e},_init:Uh}};G.memo=function(e,t){return{$$typeof:Fh,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Kr.transition;Kr.transition={};try{e()}finally{Kr.transition=t}};G.unstable_act=Fu;G.useCallback=function(e,t){return Fe.current.useCallback(e,t)};G.useContext=function(e){return Fe.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};G.useEffect=function(e,t){return Fe.current.useEffect(e,t)};G.useId=function(){return Fe.current.useId()};G.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Fe.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};G.useRef=function(e){return Fe.current.useRef(e)};G.useState=function(e){return Fe.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Fe.current.useTransition()};G.version="18.3.1";Du.exports=G;var d=Du.exports;const he=Ph(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=d,Kh=Symbol.for("react.element"),Gh=Symbol.for("react.fragment"),Qh=Object.prototype.hasOwnProperty,Yh=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var s,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)Qh.call(t,s)&&!Xh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Kh,type:e,key:i,ref:a,props:l,_owner:Yh.current}}_l.Fragment=Gh;_l.jsx=zu;_l.jsxs=zu;Pu.exports=_l;var r=Pu.exports,$i={},$u={exports:{}},qe={},Bu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var A=O.length;O.push(U);e:for(;0<A;){var Y=A-1>>>1,Q=O[Y];if(0<l(Q,U))O[Y]=U,O[A]=Q,A=Y;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var U=O[0],A=O.pop();if(A!==U){O[0]=A;e:for(var Y=0,Q=O.length,we=Q>>>1;Y<we;){var ge=2*(Y+1)-1,Ce=O[ge],P=ge+1,$=O[P];if(0>l(Ce,A))P<Q&&0>l($,Ce)?(O[Y]=$,O[P]=A,Y=P):(O[Y]=Ce,O[ge]=A,Y=ge);else if(P<Q&&0>l($,A))O[Y]=$,O[P]=A,Y=P;else break e}}return U}function l(O,U){var A=O.sortIndex-U.sortIndex;return A!==0?A:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,p=null,v=3,x=!1,N=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=O)s(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function y(O){if(j=!1,g(O),!N)if(n(c)!==null)N=!0,ne(w);else{var U=n(u);U!==null&&Z(y,U.startTime-O)}}function w(O,U){N=!1,j&&(j=!1,m(k),k=-1),x=!0;var A=v;try{for(g(U),p=n(c);p!==null&&(!(p.expirationTime>U)||O&&!M());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,v=p.priorityLevel;var Q=Y(p.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&s(c),g(U)}else s(c);p=n(c)}if(p!==null)var we=!0;else{var ge=n(u);ge!==null&&Z(y,ge.startTime-U),we=!1}return we}finally{p=null,v=A,x=!1}}var C=!1,S=null,k=-1,E=5,T=-1;function M(){return!(e.unstable_now()-T<E)}function F(){if(S!==null){var O=e.unstable_now();T=O;var U=!0;try{U=S(!0,O)}finally{U?R():(C=!1,S=null)}}else C=!1}var R;if(typeof f=="function")R=function(){f(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=F,R=function(){K.postMessage(null)}}else R=function(){b(F,0)};function ne(O){S=O,C||(C=!0,R())}function Z(O,U){k=b(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){N||x||(N=!0,ne(w))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var A=v;v=U;try{return O()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var A=v;v=O;try{return U()}finally{v=A}},e.unstable_scheduleCallback=function(O,U,A){var Y=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Y+A:Y):A=Y,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=A+Q,O={id:h++,callback:U,priorityLevel:O,startTime:A,expirationTime:Q,sortIndex:-1},A>Y?(O.sortIndex=A,t(u,O),n(c)===null&&O===n(u)&&(j?(m(k),k=-1):j=!0,Z(y,A-Y))):(O.sortIndex=Q,t(c,O),N||x||(N=!0,ne(w))),O},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(O){var U=v;return function(){var A=v;v=U;try{return O.apply(this,arguments)}finally{v=A}}}})(Wu);Bu.exports=Wu;var Jh=Bu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=d,Ze=Jh;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uu=new Set,Ys={};function En(e,t){rs(e,t),rs(e+"Capture",t)}function rs(e,t){for(Ys[e]=t,e=0;e<t.length;e++)Uu.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bi=Object.prototype.hasOwnProperty,qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qo={},ec={};function ep(e){return Bi.call(ec,e)?!0:Bi.call(qo,e)?!1:qh.test(e)?ec[e]=!0:(qo[e]=!0,!1)}function tp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,n,s){if(t===null||typeof t>"u"||tp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,s,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wa=/[\-:]([a-z])/g;function Ua(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wa,Ua);De[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wa,Ua);De[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wa,Ua);De[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Va(e,t,n,s){var l=De.hasOwnProperty(t)?De[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,n,l,s)&&(n=null),s||l===null?ep(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var zt=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Er=Symbol.for("react.element"),_n=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Ha=Symbol.for("react.strict_mode"),Wi=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Hu=Symbol.for("react.context"),Ka=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Vi=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),tc=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=tc&&e[tc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,ci;function Rs(e){if(ci===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ci=t&&t[1]||""}return`
`+ci+e}var ui=!1;function di(e,t){if(!e||ui)return"";ui=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{ui=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function sp(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=di(e.type,!1),e;case 11:return e=di(e.type.render,!1),e;case 1:return e=di(e.type,!0),e;default:return""}}function Hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case _n:return"Portal";case Wi:return"Profiler";case Ha:return"StrictMode";case Ui:return"Suspense";case Vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hu:return(e.displayName||"Context")+".Consumer";case Vu:return(e._context.displayName||"Context")+".Provider";case Ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return t=e.displayName||null,t!==null?t:Hi(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Hi(e(t))}catch{}}return null}function rp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hi(t);case 8:return t===Ha?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=Gu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tr(e){e._valueTracker||(e._valueTracker=lp(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Gu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ki(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nc(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yu(e,t){t=t.checked,t!=null&&Va(e,"checked",t,!1)}function Gi(e,t){Yu(e,t);var n=on(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qi(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qi(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Jn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Yi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Is(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Xu(e,t){var n=on(t.value),s=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pr,Zu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Os[t]=Os[e]})});function qu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Os.hasOwnProperty(e)&&Os[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=qu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ap=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ji(e,t){if(t){if(ap[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ea=null,Zn=null,qn=null;function ic(e){if(e=xr(e)){if(typeof ea!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Bl(t),ea(e.stateNode,e.type,t))}}function td(e){Zn?qn?qn.push(e):qn=[e]:Zn=e}function nd(){if(Zn){var e=Zn,t=qn;if(qn=Zn=null,ic(e),t)for(e=0;e<t.length;e++)ic(t[e])}}function sd(e,t){return e(t)}function rd(){}var fi=!1;function ld(e,t,n){if(fi)return e(t,n);fi=!0;try{return sd(e,t,n)}finally{fi=!1,(Zn!==null||qn!==null)&&(rd(),nd())}}function Js(e,t){var n=e.stateNode;if(n===null)return null;var s=Bl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ta=!1;if(Lt)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){ta=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{ta=!1}function op(e,t,n,s,l,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _s=!1,il=null,al=!1,na=null,cp={onError:function(e){_s=!0,il=e}};function up(e,t,n,s,l,i,a,o,c){_s=!1,il=null,op.apply(cp,arguments)}function dp(e,t,n,s,l,i,a,o,c){if(up.apply(this,arguments),_s){if(_s){var u=il;_s=!1,il=null}else throw Error(I(198));al||(al=!0,na=u)}}function Tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ac(e){if(Tn(e)!==e)throw Error(I(188))}function fp(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return ac(l),e;if(i===s)return ac(l),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=l,s=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,s=i;break}if(o===s){a=!0,s=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=l;break}if(o===s){a=!0,s=i,n=l;break}o=o.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ad(e){return e=fp(e),e!==null?od(e):null}function od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=od(e);if(t!==null)return t;e=e.sibling}return null}var cd=Ze.unstable_scheduleCallback,oc=Ze.unstable_cancelCallback,hp=Ze.unstable_shouldYield,pp=Ze.unstable_requestPaint,me=Ze.unstable_now,mp=Ze.unstable_getCurrentPriorityLevel,Ya=Ze.unstable_ImmediatePriority,ud=Ze.unstable_UserBlockingPriority,ol=Ze.unstable_NormalPriority,gp=Ze.unstable_LowPriority,dd=Ze.unstable_IdlePriority,Al=null,kt=null;function vp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:jp,yp=Math.log,xp=Math.LN2;function jp(e){return e>>>=0,e===0?32:31-(yp(e)/xp|0)|0}var Dr=64,Rr=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?s=Ms(o):(i&=a,i!==0&&(s=Ms(i)))}else a=n&~l,a!==0?s=Ms(a):i!==0&&(s=Ms(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-pt(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&s)&&(l[a]=wp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=Dr;return Dr<<=1,!(Dr&4194240)&&(Dr=64),e}function hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Sp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var J=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pd,Ja,md,gd,vd,ra=!1,Ir=[],qt=null,en=null,tn=null,Zs=new Map,qs=new Map,Yt=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function ks(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=xr(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bp(e,t,n,s,l){switch(t){case"focusin":return qt=ks(qt,e,t,n,s,l),!0;case"dragenter":return en=ks(en,e,t,n,s,l),!0;case"mouseover":return tn=ks(tn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return Zs.set(i,ks(Zs.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,qs.set(i,ks(qs.get(i)||null,e,t,n,s,l)),!0}return!1}function yd(e){var t=vn(e.target);if(t!==null){var n=Tn(t);if(n!==null){if(t=n.tag,t===13){if(t=id(n),t!==null){e.blockedOn=t,vd(e.priority,function(){md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=la(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qi=s,n.target.dispatchEvent(s),qi=null}else return t=xr(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function uc(e,t,n){Gr(e)&&n.delete(t)}function Cp(){ra=!1,qt!==null&&Gr(qt)&&(qt=null),en!==null&&Gr(en)&&(en=null),tn!==null&&Gr(tn)&&(tn=null),Zs.forEach(uc),qs.forEach(uc)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,ra||(ra=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Cp)))}function er(e){function t(l){return bs(l,e)}if(0<Ir.length){bs(Ir[0],e);for(var n=1;n<Ir.length;n++){var s=Ir[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qt!==null&&bs(qt,e),en!==null&&bs(en,e),tn!==null&&bs(tn,e),Zs.forEach(t),qs.forEach(t),n=0;n<Yt.length;n++)s=Yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)yd(n),n.blockedOn===null&&Yt.shift()}var es=zt.ReactCurrentBatchConfig,ul=!0;function Ep(e,t,n,s){var l=J,i=es.transition;es.transition=null;try{J=1,Za(e,t,n,s)}finally{J=l,es.transition=i}}function Tp(e,t,n,s){var l=J,i=es.transition;es.transition=null;try{J=4,Za(e,t,n,s)}finally{J=l,es.transition=i}}function Za(e,t,n,s){if(ul){var l=la(e,t,n,s);if(l===null)Si(e,t,s,dl,n),cc(e,s);else if(bp(l,e,t,n,s))s.stopPropagation();else if(cc(e,s),t&4&&-1<kp.indexOf(e)){for(;l!==null;){var i=xr(l);if(i!==null&&pd(i),i=la(e,t,n,s),i===null&&Si(e,t,s,dl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else Si(e,t,s,null,n)}}var dl=null;function la(e,t,n,s){if(dl=null,e=Qa(s),e=vn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=id(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mp()){case Ya:return 1;case ud:return 4;case ol:case gp:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Jt=null,qa=null,Qr=null;function jd(){if(Qr)return Qr;var e,t=qa,n=t.length,s,l="value"in Jt?Jt.value:Jt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===l[i-s];s++);return Qr=l.slice(e,1<s?1-s:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mr(){return!0}function dc(){return!1}function et(e){function t(n,s,l,i,a){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mr:dc,this.isPropagationStopped=dc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=et(fs),yr=de({},fs,{view:0,detail:0}),Pp=et(yr),pi,mi,Cs,Fl=de({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(pi=e.screenX-Cs.screenX,mi=e.screenY-Cs.screenY):mi=pi=0,Cs=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:mi}}),fc=et(Fl),Dp=de({},Fl,{dataTransfer:0}),Rp=et(Dp),Ip=de({},yr,{relatedTarget:0}),gi=et(Ip),Mp=de({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=et(Mp),Op=de({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_p=et(Op),Ap=de({},fs,{data:0}),hc=et(Ap),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function to(){return Bp}var Wp=de({},yr,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Up=et(Wp),Vp=de({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=et(Vp),Hp=de({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Kp=et(Hp),Gp=de({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=et(Gp),Yp=de({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=et(Yp),Jp=[9,13,27,32],no=Lt&&"CompositionEvent"in window,As=null;Lt&&"documentMode"in document&&(As=document.documentMode);var Zp=Lt&&"TextEvent"in window&&!As,wd=Lt&&(!no||As&&8<As&&11>=As),mc=" ",gc=!1;function Nd(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function qp(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function em(e,t){if(Fn)return e==="compositionend"||!no&&Nd(e,t)?(e=jd(),Qr=qa=Jt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tm[e.type]:t==="textarea"}function kd(e,t,n,s){td(s),t=fl(t,"onChange"),0<t.length&&(n=new eo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Fs=null,tr=null;function nm(e){Od(e,0)}function zl(e){var t=Bn(e);if(Qu(t))return e}function sm(e,t){if(e==="change")return t}var bd=!1;if(Lt){var vi;if(Lt){var yi="oninput"in document;if(!yi){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),yi=typeof yc.oninput=="function"}vi=yi}else vi=!1;bd=vi&&(!document.documentMode||9<document.documentMode)}function xc(){Fs&&(Fs.detachEvent("onpropertychange",Cd),tr=Fs=null)}function Cd(e){if(e.propertyName==="value"&&zl(tr)){var t=[];kd(t,tr,e,Qa(e)),ld(nm,t)}}function rm(e,t,n){e==="focusin"?(xc(),Fs=t,tr=n,Fs.attachEvent("onpropertychange",Cd)):e==="focusout"&&xc()}function lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(tr)}function im(e,t){if(e==="click")return zl(t)}function am(e,t){if(e==="input"||e==="change")return zl(t)}function om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:om;function nr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Bi.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,t){var n=jc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jc(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cm(e){var t=Td(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(s!==null&&so(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=wc(n,i);var a=wc(n,s);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var um=Lt&&"documentMode"in document&&11>=document.documentMode,zn=null,ia=null,zs=null,aa=!1;function Nc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;aa||zn==null||zn!==ll(s)||(s=zn,"selectionStart"in s&&so(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zs&&nr(zs,s)||(zs=s,s=fl(ia,"onSelect"),0<s.length&&(t=new eo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=zn)))}function Lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},xi={},Pd={};Lt&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function $l(e){if(xi[e])return xi[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return xi[e]=t[n];return e}var Dd=$l("animationend"),Rd=$l("animationiteration"),Id=$l("animationstart"),Md=$l("transitionend"),Ld=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){Ld.set(e,t),En(t,[e])}for(var ji=0;ji<Sc.length;ji++){var wi=Sc[ji],dm=wi.toLowerCase(),fm=wi[0].toUpperCase()+wi.slice(1);un(dm,"on"+fm)}un(Dd,"onAnimationEnd");un(Rd,"onAnimationIteration");un(Id,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Md,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function kc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,dp(s,t,void 0,e),e.currentTarget=null}function Od(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;kc(l,o,u),i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;kc(l,o,u),i=c}}}if(al)throw e=na,al=!1,na=null,e}function re(e,t){var n=t[fa];n===void 0&&(n=t[fa]=new Set);var s=e+"__bubble";n.has(s)||(_d(t,e,2,!1),n.add(s))}function Ni(e,t,n){var s=0;t&&(s|=4),_d(n,e,s,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function sr(e){if(!e[Or]){e[Or]=!0,Uu.forEach(function(n){n!=="selectionchange"&&(hm.has(n)||Ni(n,!1,e),Ni(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Or]||(t[Or]=!0,Ni("selectionchange",!1,t))}}function _d(e,t,n,s){switch(xd(t)){case 1:var l=Ep;break;case 4:l=Tp;break;default:l=Za}n=l.bind(null,t,n,e),l=void 0,!ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Si(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=vn(o),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}o=o.parentNode}}s=s.return}ld(function(){var u=i,h=Qa(n),p=[];e:{var v=Ld.get(e);if(v!==void 0){var x=eo,N=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":x=Up;break;case"focusin":N="focus",x=gi;break;case"focusout":N="blur",x=gi;break;case"beforeblur":case"afterblur":x=gi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Kp;break;case Dd:case Rd:case Id:x=Lp;break;case Md:x=Qp;break;case"scroll":x=Pp;break;case"wheel":x=Xp;break;case"copy":case"cut":case"paste":x=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pc}var j=(t&4)!==0,b=!j&&e==="scroll",m=j?v!==null?v+"Capture":null:v;j=[];for(var f=u,g;f!==null;){g=f;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,m!==null&&(y=Js(f,m),y!=null&&j.push(rr(f,y,g)))),b)break;f=f.return}0<j.length&&(v=new x(v,N,null,n,h),p.push({event:v,listeners:j}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==qi&&(N=n.relatedTarget||n.fromElement)&&(vn(N)||N[Ot]))break e;if((x||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,x?(N=n.relatedTarget||n.toElement,x=u,N=N?vn(N):null,N!==null&&(b=Tn(N),N!==b||N.tag!==5&&N.tag!==6)&&(N=null)):(x=null,N=u),x!==N)){if(j=fc,y="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=pc,y="onPointerLeave",m="onPointerEnter",f="pointer"),b=x==null?v:Bn(x),g=N==null?v:Bn(N),v=new j(y,f+"leave",x,n,h),v.target=b,v.relatedTarget=g,y=null,vn(h)===u&&(j=new j(m,f+"enter",N,n,h),j.target=g,j.relatedTarget=b,y=j),b=y,x&&N)t:{for(j=x,m=N,f=0,g=j;g;g=Mn(g))f++;for(g=0,y=m;y;y=Mn(y))g++;for(;0<f-g;)j=Mn(j),f--;for(;0<g-f;)m=Mn(m),g--;for(;f--;){if(j===m||m!==null&&j===m.alternate)break t;j=Mn(j),m=Mn(m)}j=null}else j=null;x!==null&&bc(p,v,x,j,!1),N!==null&&b!==null&&bc(p,b,N,j,!0)}}e:{if(v=u?Bn(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var w=sm;else if(vc(v))if(bd)w=am;else{w=lm;var C=rm}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(w=im);if(w&&(w=w(e,u))){kd(p,w,n,h);break e}C&&C(e,v,u),e==="focusout"&&(C=v._wrapperState)&&C.controlled&&v.type==="number"&&Qi(v,"number",v.value)}switch(C=u?Bn(u):window,e){case"focusin":(vc(C)||C.contentEditable==="true")&&(zn=C,ia=u,zs=null);break;case"focusout":zs=ia=zn=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Nc(p,n,h);break;case"selectionchange":if(um)break;case"keydown":case"keyup":Nc(p,n,h)}var S;if(no)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Fn?Nd(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(wd&&n.locale!=="ko"&&(Fn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Fn&&(S=jd()):(Jt=h,qa="value"in Jt?Jt.value:Jt.textContent,Fn=!0)),C=fl(u,k),0<C.length&&(k=new hc(k,e,null,n,h),p.push({event:k,listeners:C}),S?k.data=S:(S=Sd(n),S!==null&&(k.data=S)))),(S=Zp?qp(e,n):em(e,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(h=new hc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=S))}Od(p,t)})}function rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Js(e,n),i!=null&&s.unshift(rr(e,i,l)),i=Js(e,t),i!=null&&s.push(rr(e,i,l))),e=e.return}return s}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,s,l){for(var i=t._reactName,a=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=Js(n,i),c!=null&&a.unshift(rr(n,c,o))):l||(c=Js(n,i),c!=null&&a.push(rr(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var pm=/\r\n?/g,mm=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(pm,`
`).replace(mm,"")}function _r(e,t,n){if(t=Cc(t),Cc(e)!==t&&n)throw Error(I(425))}function hl(){}var oa=null,ca=null;function ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var da=typeof setTimeout=="function"?setTimeout:void 0,gm=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(ym)}:da;function ym(e){setTimeout(function(){throw e})}function ki(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),er(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);er(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),St="__reactFiber$"+hs,lr="__reactProps$"+hs,Ot="__reactContainer$"+hs,fa="__reactEvents$"+hs,xm="__reactListeners$"+hs,jm="__reactHandles$"+hs;function vn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tc(e);e!==null;){if(n=e[St])return n;e=Tc(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[St]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Bl(e){return e[lr]||null}var ha=[],Wn=-1;function dn(e){return{current:e}}function le(e){0>Wn||(e.current=ha[Wn],ha[Wn]=null,Wn--)}function se(e,t){Wn++,ha[Wn]=e.current,e.current=t}var cn={},Oe=dn(cn),Ue=dn(!1),Nn=cn;function ls(e,t){var n=e.type.contextTypes;if(!n)return cn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function pl(){le(Ue),le(Oe)}function Pc(e,t,n){if(Oe.current!==cn)throw Error(I(168));se(Oe,t),se(Ue,n)}function Ad(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(I(108,rp(e)||"Unknown",l));return de({},n,s)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Nn=Oe.current,se(Oe,e),se(Ue,Ue.current),!0}function Dc(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=Ad(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,le(Ue),le(Oe),se(Oe,e)):le(Ue),se(Ue,n)}var Dt=null,Wl=!1,bi=!1;function Fd(e){Dt===null?Dt=[e]:Dt.push(e)}function wm(e){Wl=!0,Fd(e)}function fn(){if(!bi&&Dt!==null){bi=!0;var e=0,t=J;try{var n=Dt;for(J=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Dt=null,Wl=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),cd(Ya,fn),l}finally{J=t,bi=!1}}return null}var Un=[],Vn=0,gl=null,vl=0,st=[],rt=0,Sn=null,Rt=1,It="";function mn(e,t){Un[Vn++]=vl,Un[Vn++]=gl,gl=e,vl=t}function zd(e,t,n){st[rt++]=Rt,st[rt++]=It,st[rt++]=Sn,Sn=e;var s=Rt;e=It;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var a=l-l%5;i=(s&(1<<a)-1).toString(32),s>>=a,l-=a,Rt=1<<32-pt(t)+l|n<<l|s,It=i+e}else Rt=1<<i|n<<l|s,It=e}function ro(e){e.return!==null&&(mn(e,1),zd(e,1,0))}function lo(e){for(;e===gl;)gl=Un[--Vn],Un[Vn]=null,vl=Un[--Vn],Un[Vn]=null;for(;e===Sn;)Sn=st[--rt],st[rt]=null,It=st[--rt],st[rt]=null,Rt=st[--rt],st[rt]=null}var Je=null,Xe=null,ae=!1,ht=null;function $d(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ma(e){if(ae){var t=Xe;if(t){var n=t;if(!Rc(e,t)){if(pa(e))throw Error(I(418));t=nn(n.nextSibling);var s=Je;t&&Rc(e,t)?$d(s,n):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(pa(e))throw Error(I(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function Ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ar(e){if(e!==Je)return!1;if(!ae)return Ic(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ua(e.type,e.memoizedProps)),t&&(t=Xe)){if(pa(e))throw Bd(),Error(I(418));for(;t;)$d(e,t),t=nn(t.nextSibling)}if(Ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?nn(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Xe;e;)e=nn(e.nextSibling)}function is(){Xe=Je=null,ae=!1}function io(e){ht===null?ht=[e]:ht.push(e)}var Nm=zt.ReactCurrentBatchConfig;function Es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Fr(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mc(e){var t=e._init;return t(e._payload)}function Wd(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function s(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=an(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,f,g,y){return f===null||f.tag!==6?(f=Ii(g,m.mode,y),f.return=m,f):(f=l(f,g),f.return=m,f)}function c(m,f,g,y){var w=g.type;return w===An?h(m,f,g.props.children,y,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kt&&Mc(w)===f.type)?(y=l(f,g.props),y.ref=Es(m,f,g),y.return=m,y):(y=nl(g.type,g.key,g.props,null,m.mode,y),y.ref=Es(m,f,g),y.return=m,y)}function u(m,f,g,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Mi(g,m.mode,y),f.return=m,f):(f=l(f,g.children||[]),f.return=m,f)}function h(m,f,g,y,w){return f===null||f.tag!==7?(f=wn(g,m.mode,y,w),f.return=m,f):(f=l(f,g),f.return=m,f)}function p(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ii(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Er:return g=nl(f.type,f.key,f.props,null,m.mode,g),g.ref=Es(m,null,f),g.return=m,g;case _n:return f=Mi(f,m.mode,g),f.return=m,f;case Kt:var y=f._init;return p(m,y(f._payload),g)}if(Is(f)||Ns(f))return f=wn(f,m.mode,g,null),f.return=m,f;Fr(m,f)}return null}function v(m,f,g,y){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:o(m,f,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Er:return g.key===w?c(m,f,g,y):null;case _n:return g.key===w?u(m,f,g,y):null;case Kt:return w=g._init,v(m,f,w(g._payload),y)}if(Is(g)||Ns(g))return w!==null?null:h(m,f,g,y,null);Fr(m,g)}return null}function x(m,f,g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(g)||null,o(f,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Er:return m=m.get(y.key===null?g:y.key)||null,c(f,m,y,w);case _n:return m=m.get(y.key===null?g:y.key)||null,u(f,m,y,w);case Kt:var C=y._init;return x(m,f,g,C(y._payload),w)}if(Is(y)||Ns(y))return m=m.get(g)||null,h(f,m,y,w,null);Fr(f,y)}return null}function N(m,f,g,y){for(var w=null,C=null,S=f,k=f=0,E=null;S!==null&&k<g.length;k++){S.index>k?(E=S,S=null):E=S.sibling;var T=v(m,S,g[k],y);if(T===null){S===null&&(S=E);break}e&&S&&T.alternate===null&&t(m,S),f=i(T,f,k),C===null?w=T:C.sibling=T,C=T,S=E}if(k===g.length)return n(m,S),ae&&mn(m,k),w;if(S===null){for(;k<g.length;k++)S=p(m,g[k],y),S!==null&&(f=i(S,f,k),C===null?w=S:C.sibling=S,C=S);return ae&&mn(m,k),w}for(S=s(m,S);k<g.length;k++)E=x(S,m,k,g[k],y),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),f=i(E,f,k),C===null?w=E:C.sibling=E,C=E);return e&&S.forEach(function(M){return t(m,M)}),ae&&mn(m,k),w}function j(m,f,g,y){var w=Ns(g);if(typeof w!="function")throw Error(I(150));if(g=w.call(g),g==null)throw Error(I(151));for(var C=w=null,S=f,k=f=0,E=null,T=g.next();S!==null&&!T.done;k++,T=g.next()){S.index>k?(E=S,S=null):E=S.sibling;var M=v(m,S,T.value,y);if(M===null){S===null&&(S=E);break}e&&S&&M.alternate===null&&t(m,S),f=i(M,f,k),C===null?w=M:C.sibling=M,C=M,S=E}if(T.done)return n(m,S),ae&&mn(m,k),w;if(S===null){for(;!T.done;k++,T=g.next())T=p(m,T.value,y),T!==null&&(f=i(T,f,k),C===null?w=T:C.sibling=T,C=T);return ae&&mn(m,k),w}for(S=s(m,S);!T.done;k++,T=g.next())T=x(S,m,k,T.value,y),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),f=i(T,f,k),C===null?w=T:C.sibling=T,C=T);return e&&S.forEach(function(F){return t(m,F)}),ae&&mn(m,k),w}function b(m,f,g,y){if(typeof g=="object"&&g!==null&&g.type===An&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Er:e:{for(var w=g.key,C=f;C!==null;){if(C.key===w){if(w=g.type,w===An){if(C.tag===7){n(m,C.sibling),f=l(C,g.props.children),f.return=m,m=f;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Kt&&Mc(w)===C.type){n(m,C.sibling),f=l(C,g.props),f.ref=Es(m,C,g),f.return=m,m=f;break e}n(m,C);break}else t(m,C);C=C.sibling}g.type===An?(f=wn(g.props.children,m.mode,y,g.key),f.return=m,m=f):(y=nl(g.type,g.key,g.props,null,m.mode,y),y.ref=Es(m,f,g),y.return=m,m=y)}return a(m);case _n:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=l(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Mi(g,m.mode,y),f.return=m,m=f}return a(m);case Kt:return C=g._init,b(m,f,C(g._payload),y)}if(Is(g))return N(m,f,g,y);if(Ns(g))return j(m,f,g,y);Fr(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,g),f.return=m,m=f):(n(m,f),f=Ii(g,m.mode,y),f.return=m,m=f),a(m)):n(m,f)}return b}var as=Wd(!0),Ud=Wd(!1),yl=dn(null),xl=null,Hn=null,ao=null;function oo(){ao=Hn=xl=null}function co(e){var t=yl.current;le(yl),e._currentValue=t}function ga(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function ts(e,t){xl=e,ao=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(ao!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(xl===null)throw Error(I(308));Hn=e,xl.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var yn=null;function uo(e){yn===null?yn=[e]:yn.push(e)}function Vd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,uo(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,s)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,X&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,_t(e,n)}return l=s.interleaved,l===null?(t.next=t,uo(s)):(t.next=l.next,l.next=t),s.interleaved=t,_t(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xa(e,n)}}function Lc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,s){var l=e.updateQueue;Gt=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;a=0,h=u=c=null,o=i;do{var v=o.lane,x=o.eventTime;if((s&v)===v){h!==null&&(h=h.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,j=o;switch(v=t,x=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){p=N.call(x,p,v);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,v=typeof N=="function"?N.call(x,p,v):N,v==null)break e;p=de({},p,v);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[o]:v.push(o))}else x={eventTime:x,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,a|=v;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;v=o,o=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);bn|=a,e.lanes=a,e.memoizedState=p}}function Oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(I(191,l));l.call(s)}}}var jr={},bt=dn(jr),ir=dn(jr),ar=dn(jr);function xn(e){if(e===jr)throw Error(I(174));return e}function ho(e,t){switch(se(ar,t),se(ir,e),se(bt,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xi(t,e)}le(bt),se(bt,t)}function os(){le(bt),le(ir),le(ar)}function Kd(e){xn(ar.current);var t=xn(bt.current),n=Xi(t,e.type);t!==n&&(se(ir,e),se(bt,n))}function po(e){ir.current===e&&(le(bt),le(ir))}var ce=dn(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ci=[];function mo(){for(var e=0;e<Ci.length;e++)Ci[e]._workInProgressVersionPrimary=null;Ci.length=0}var Jr=zt.ReactCurrentDispatcher,Ei=zt.ReactCurrentBatchConfig,kn=0,ue=null,ye=null,Se=null,Nl=!1,$s=!1,or=0,Sm=0;function Ie(){throw Error(I(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function vo(e,t,n,s,l,i){if(kn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?Em:Tm,e=n(s,l),$s){i=0;do{if($s=!1,or=0,25<=i)throw Error(I(301));i+=1,Se=ye=null,t.updateQueue=null,Jr.current=Pm,e=n(s,l)}while($s)}if(Jr.current=Sl,t=ye!==null&&ye.next!==null,kn=0,Se=ye=ue=null,Nl=!1,t)throw Error(I(300));return e}function yo(){var e=or!==0;return or=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ue.memoizedState=Se=e:Se=Se.next=e,Se}function ot(){if(ye===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Se===null?ue.memoizedState:Se.next;if(t!==null)Se=t,ye=e;else{if(e===null)throw Error(I(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Se===null?ue.memoizedState=Se=e:Se=Se.next=e}return Se}function cr(e,t){return typeof t=="function"?t(e):t}function Ti(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=ye,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var o=a=null,c=null,u=i;do{var h=u.lane;if((kn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,a=s):c=c.next=p,ue.lanes|=h,bn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=o,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ue.lanes|=i,bn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pi(e){var t=ot(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Gd(){}function Qd(e,t){var n=ue,s=ot(),l=t(),i=!gt(s.memoizedState,l);if(i&&(s.memoizedState=l,We=!0),s=s.queue,xo(Jd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,ur(9,Xd.bind(null,n,s,l,t),void 0,null),be===null)throw Error(I(349));kn&30||Yd(n,t,l)}return l}function Yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,s){t.value=n,t.getSnapshot=s,Zd(t)&&qd(e)}function Jd(e,t,n){return n(function(){Zd(t)&&qd(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function qd(e){var t=_t(e,1);t!==null&&mt(t,e,1,-1)}function _c(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,ue,e),[t.memoizedState,e]}function ur(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ef(){return ot().memoizedState}function Zr(e,t,n,s){var l=Nt();ue.flags|=e,l.memoizedState=ur(1|t,n,void 0,s===void 0?null:s)}function Ul(e,t,n,s){var l=ot();s=s===void 0?null:s;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,s!==null&&go(s,a.deps)){l.memoizedState=ur(t,n,i,s);return}}ue.flags|=e,l.memoizedState=ur(1|t,n,i,s)}function Ac(e,t){return Zr(8390656,8,e,t)}function xo(e,t){return Ul(2048,8,e,t)}function tf(e,t){return Ul(4,2,e,t)}function nf(e,t){return Ul(4,4,e,t)}function sf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,sf.bind(null,t,e),n)}function jo(){}function lf(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&go(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&go(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function of(e,t,n){return kn&21?(gt(n,t)||(n=fd(),ue.lanes|=n,bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function km(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var s=Ei.transition;Ei.transition={};try{e(!1),t()}finally{J=n,Ei.transition=s}}function cf(){return ot().memoizedState}function bm(e,t,n){var s=ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},uf(e))df(t,n);else if(n=Vd(e,t,n,s),n!==null){var l=Ae();mt(n,e,s,l),ff(n,t,s)}}function Cm(e,t,n){var s=ln(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(uf(e))df(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,gt(o,a)){var c=t.interleaved;c===null?(l.next=l,uo(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Vd(e,t,l,s),n!==null&&(l=Ae(),mt(n,e,s,l),ff(n,t,s))}}function uf(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function df(e,t){$s=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ff(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xa(e,n)}}var Sl={readContext:at,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Em={readContext:at,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Ac,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zr(4194308,4,sf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bm.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:jo,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=km.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ue,l=Nt();if(ae){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),be===null)throw Error(I(349));kn&30||Yd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Ac(Jd.bind(null,s,i,e),[e]),s.flags|=2048,ur(9,Xd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=be.identifierPrefix;if(ae){var n=It,s=Rt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tm={readContext:at,useCallback:lf,useContext:at,useEffect:xo,useImperativeHandle:rf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:Ti,useRef:ef,useState:function(){return Ti(cr)},useDebugValue:jo,useDeferredValue:function(e){var t=ot();return of(t,ye.memoizedState,e)},useTransition:function(){var e=Ti(cr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:cf,unstable_isNewReconciler:!1},Pm={readContext:at,useCallback:lf,useContext:at,useEffect:xo,useImperativeHandle:rf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:af,useReducer:Pi,useRef:ef,useState:function(){return Pi(cr)},useDebugValue:jo,useDeferredValue:function(e){var t=ot();return ye===null?t.memoizedState=e:of(t,ye.memoizedState,e)},useTransition:function(){var e=Pi(cr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:cf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function va(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ae(),l=ln(e),i=Mt(s,l);i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ae(),l=ln(e),i=Mt(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Xr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),s=ln(e),l=Mt(n,s);l.tag=2,t!=null&&(l.callback=t),t=sn(e,l,s),t!==null&&(mt(t,e,s,n),Xr(t,e,s))}};function Fc(e,t,n,s,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!nr(n,s)||!nr(l,i):!0}function hf(e,t,n){var s=!1,l=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(l=Ve(t)?Nn:Oe.current,s=t.contextTypes,i=(s=s!=null)?ls(e,l):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function zc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},fo(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=at(i):(i=Ve(t)?Nn:Oe.current,l.context=ls(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(va(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Vl.enqueueReplaceState(l,l.state,null),jl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t){try{var n="",s=t;do n+=sp(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Di(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){bl||(bl=!0,Pa=s),xa(e,t)},n}function mf(e,t,n){n=Mt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){xa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xa(e,t),typeof s!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function $c(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Dm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Vm.bind(null,e,t,n),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var Rm=zt.ReactCurrentOwner,We=!1;function _e(e,t,n,s){t.child=e===null?Ud(t,null,n,s):as(t,e.child,n,s)}function Uc(e,t,n,s,l){n=n.render;var i=t.ref;return ts(t,l),s=vo(e,t,n,s,i,l),n=yo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ae&&n&&ro(t),t.flags|=1,_e(e,t,s,l),t.child)}function Vc(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!To(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gf(e,t,i,s,l)):(e=nl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(a,s)&&e.ref===t.ref)return At(e,t,l)}return t.flags|=1,e=an(i,s),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(nr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,At(e,t,l)}return ja(e,t,n,s,l)}function vf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Gn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Gn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,se(Gn,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,se(Gn,Ye),Ye|=s;return _e(e,t,l,n),t.child}function yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,n,s,l){var i=Ve(n)?Nn:Oe.current;return i=ls(t,i),ts(t,l),n=vo(e,t,n,s,i,l),s=yo(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,At(e,t,l)):(ae&&s&&ro(t),t.flags|=1,_e(e,t,n,l),t.child)}function Hc(e,t,n,s,l){if(Ve(n)){var i=!0;ml(t)}else i=!1;if(ts(t,l),t.stateNode===null)qr(e,t),hf(t,n,s),ya(t,n,s,l),s=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ve(n)?Nn:Oe.current,u=ls(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||c!==u)&&zc(t,a,s,u),Gt=!1;var v=t.memoizedState;a.state=v,jl(t,s,a,l),c=t.memoizedState,o!==s||v!==c||Ue.current||Gt?(typeof h=="function"&&(va(t,n,h,s),c=t.memoizedState),(o=Gt||Fc(t,n,o,s,v,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Hd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:dt(t.type,o),a.props=u,p=t.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Ve(n)?Nn:Oe.current,c=ls(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||v!==c)&&zc(t,a,s,c),Gt=!1,v=t.memoizedState,a.state=v,jl(t,s,a,l);var N=t.memoizedState;o!==p||v!==N||Ue.current||Gt?(typeof x=="function"&&(va(t,n,x,s),N=t.memoizedState),(u=Gt||Fc(t,n,u,s,v,N,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),a.props=s,a.state=N,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),s=!1)}return wa(e,t,n,s,i,l)}function wa(e,t,n,s,l,i){yf(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return l&&Dc(t,n,!1),At(e,t,i);s=t.stateNode,Rm.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=as(t,e.child,null,i),t.child=as(t,null,o,i)):_e(e,t,o,i),t.memoizedState=s.state,l&&Dc(t,n,!0),t.child}function xf(e){var t=e.stateNode;t.pendingContext?Pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pc(e,t.context,!1),ho(e,t.containerInfo)}function Kc(e,t,n,s,l){return is(),io(l),t.flags|=256,_e(e,t,n,s),t.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,n){var s=t.pendingProps,l=ce.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(ce,l&1),e===null)return ma(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Gl(a,s,0,null),e=wn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sa(n),t.memoizedState=Na,e):wo(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return Im(e,t,a,s,o,l,n);if(i){i=s.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=an(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=an(o,i):(i=wn(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?Sa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Na,s}return i=e.child,e=i.sibling,s=an(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function wo(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zr(e,t,n,s){return s!==null&&io(s),as(t,e.child,null,n),e=wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,n,s,l,i,a){if(n)return t.flags&256?(t.flags&=-257,s=Di(Error(I(422))),zr(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Gl({mode:"visible",children:s.children},l,0,null),i=wn(i,l,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&as(t,e.child,null,a),t.child.memoizedState=Sa(a),t.memoizedState=Na,i);if(!(t.mode&1))return zr(e,t,a,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(I(419)),s=Di(i,s,void 0),zr(e,t,a,s)}if(o=(a&e.childLanes)!==0,We||o){if(s=be,s!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,_t(e,l),mt(s,e,l,-1))}return Eo(),s=Di(Error(I(421))),zr(e,t,a,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Hm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=nn(l.nextSibling),Je=t,ae=!0,ht=null,e!==null&&(st[rt++]=Rt,st[rt++]=It,st[rt++]=Sn,Rt=e.id,It=e.overflow,Sn=t),t=wo(t,s.children),t.flags|=4096,t)}function Gc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ga(e.return,t,n)}function Ri(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function wf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(_e(e,t,s.children,n),s=ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gc(e,n,t);else if(e.tag===19)Gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(se(ce,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ri(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&wl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ri(t,!0,n,null,i);break;case"together":Ri(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mm(e,t,n){switch(t.tag){case 3:xf(t),is();break;case 5:Kd(t);break;case 1:Ve(t.type)&&ml(t);break;case 4:ho(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;se(yl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?jf(e,t,n):(se(ce,ce.current&1),e=At(e,t,n),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return wf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(ce,ce.current),s)break;return null;case 22:case 23:return t.lanes=0,vf(e,t,n)}return At(e,t,n)}var Nf,ka,Sf,kf;Nf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};Sf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,xn(bt.current);var i=null;switch(n){case"input":l=Ki(e,l),s=Ki(e,s),i=[];break;case"select":l=de({},l,{value:void 0}),s=de({},s,{value:void 0}),i=[];break;case"textarea":l=Yi(e,l),s=Yi(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hl)}Ji(n,s);var a;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&re("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ts(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Lm(e,t,n){var s=t.pendingProps;switch(lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ve(t.type)&&pl(),Me(t),null;case 3:return s=t.stateNode,os(),le(Ue),le(Oe),mo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ar(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Ia(ht),ht=null))),ka(e,t),Me(t),null;case 5:po(t);var l=xn(ar.current);if(n=t.type,e!==null&&t.stateNode!=null)Sf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Me(t),null}if(e=xn(bt.current),Ar(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[St]=t,s[lr]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",s),re("close",s);break;case"iframe":case"object":case"embed":re("load",s);break;case"video":case"audio":for(l=0;l<Ls.length;l++)re(Ls[l],s);break;case"source":re("error",s);break;case"img":case"image":case"link":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"input":nc(s,i),re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},re("invalid",s);break;case"textarea":rc(s,i),re("invalid",s)}Ji(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,o,e),l=["children",""+o]):Ys.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&re("scroll",s)}switch(n){case"input":Tr(s),sc(s,i,!0);break;case"textarea":Tr(s),lc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[St]=t,e[lr]=s,Nf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Zi(n,s),n){case"dialog":re("cancel",e),re("close",e),l=s;break;case"iframe":case"object":case"embed":re("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ls.length;l++)re(Ls[l],e);l=s;break;case"source":re("error",e),l=s;break;case"img":case"image":case"link":re("error",e),re("load",e),l=s;break;case"details":re("toggle",e),l=s;break;case"input":nc(e,s),l=Ki(e,s),re("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=de({},s,{value:void 0}),re("invalid",e);break;case"textarea":rc(e,s),l=Yi(e,s),re("invalid",e);break;default:l=s}Ji(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ed(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xs(e,c):typeof c=="number"&&Xs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&Va(e,i,c,a))}switch(n){case"input":Tr(e),sc(e,s,!1);break;case"textarea":Tr(e),lc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+on(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Jn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Jn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=xn(ar.current),xn(bt.current),Ar(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(i=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:_r(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_r(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return Me(t),null;case 13:if(le(ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Xe!==null&&t.mode&1&&!(t.flags&128))Bd(),is(),t.flags|=98560,i=!1;else if(i=Ar(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[St]=t}else is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else ht!==null&&(Ia(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?je===0&&(je=3):Eo())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return os(),ka(e,t),e===null&&sr(t.stateNode.containerInfo),Me(t),null;case 10:return co(t.type._context),Me(t),null;case 17:return Ve(t.type)&&pl(),Me(t),null;case 19:if(le(ce),i=t.memoizedState,i===null)return Me(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Ts(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wl(e),a!==null){for(t.flags|=128,Ts(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>us&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304)}else{if(!s)if(e=wl(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ae)return Me(t),null}else 2*me()-i.renderingStartTime>us&&n!==1073741824&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ce.current,se(ce,s?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Co(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Om(e,t){switch(lo(t),t.tag){case 1:return Ve(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),le(Ue),le(Oe),mo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return po(t),null;case 13:if(le(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ce),null;case 4:return os(),null;case 10:return co(t.type._context),null;case 22:case 23:return Co(),null;case 24:return null;default:return null}}var $r=!1,Le=!1,_m=typeof WeakSet=="function"?WeakSet:Set,z=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){fe(e,t,s)}else n.current=null}function ba(e,t,n){try{n()}catch(s){fe(e,t,s)}}var Qc=!1;function Am(e,t){if(oa=ul,e=Td(),so(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,h=0,p=e,v=null;t:for(;;){for(var x;p!==n||l!==0&&p.nodeType!==3||(o=a+l),p!==i||s!==0&&p.nodeType!==3||(c=a+s),p.nodeType===3&&(a+=p.nodeValue.length),(x=p.firstChild)!==null;)v=p,p=x;for(;;){if(p===e)break t;if(v===n&&++u===l&&(o=a),v===i&&++h===s&&(c=a),(x=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ca={focusedElem:e,selectionRange:n},ul=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,b=N.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?j:dt(t.type,j),b);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){fe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return N=Qc,Qc=!1,N}function Bs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ba(t,n,i)}l=l.next}while(l!==s)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Ca(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bf(e){var t=e.alternate;t!==null&&(e.alternate=null,bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[lr],delete t[fa],delete t[xm],delete t[jm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ea(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hl));else if(s!==4&&(e=e.child,e!==null))for(Ea(e,t,n),e=e.sibling;e!==null;)Ea(e,t,n),e=e.sibling}function Ta(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ta(e,t,n),e=e.sibling;e!==null;)Ta(e,t,n),e=e.sibling}var Te=null,ft=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Ef(e,t,n),n=n.sibling}function Ef(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:Le||Kn(n,t);case 6:var s=Te,l=ft;Te=null,Ht(e,t,n),Te=s,ft=l,Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?ki(e.parentNode,n):e.nodeType===1&&ki(e,n),er(e)):ki(Te,n.stateNode));break;case 4:s=Te,l=ft,Te=n.stateNode.containerInfo,ft=!0,Ht(e,t,n),Te=s,ft=l;break;case 0:case 11:case 14:case 15:if(!Le&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ba(n,t,a),l=l.next}while(l!==s)}Ht(e,t,n);break;case 1:if(!Le&&(Kn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){fe(n,t,o)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Le=(s=Le)||n.memoizedState!==null,Ht(e,t,n),Le=s):Ht(e,t,n);break;default:Ht(e,t,n)}}function Xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _m),t.forEach(function(s){var l=Km.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Te=o.stateNode,ft=!1;break e;case 3:Te=o.stateNode.containerInfo,ft=!0;break e;case 4:Te=o.stateNode.containerInfo,ft=!0;break e}o=o.return}if(Te===null)throw Error(I(160));Ef(i,a,l),Te=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){fe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tf(t,e),t=t.sibling}function Tf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),wt(e),s&4){try{Bs(3,e,e.return),Hl(3,e)}catch(j){fe(e,e.return,j)}try{Bs(5,e,e.return)}catch(j){fe(e,e.return,j)}}break;case 1:ut(t,e),wt(e),s&512&&n!==null&&Kn(n,n.return);break;case 5:if(ut(t,e),wt(e),s&512&&n!==null&&Kn(n,n.return),e.flags&32){var l=e.stateNode;try{Xs(l,"")}catch(j){fe(e,e.return,j)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Yu(l,i),Zi(o,a);var u=Zi(o,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?ed(l,p):h==="dangerouslySetInnerHTML"?Zu(l,p):h==="children"?Xs(l,p):Va(l,h,p,u)}switch(o){case"input":Gi(l,i);break;case"textarea":Xu(l,i);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Jn(l,!!i.multiple,x,!1):v!==!!i.multiple&&(i.defaultValue!=null?Jn(l,!!i.multiple,i.defaultValue,!0):Jn(l,!!i.multiple,i.multiple?[]:"",!1))}l[lr]=i}catch(j){fe(e,e.return,j)}}break;case 6:if(ut(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(j){fe(e,e.return,j)}}break;case 3:if(ut(t,e),wt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{er(t.containerInfo)}catch(j){fe(e,e.return,j)}break;case 4:ut(t,e),wt(e);break;case 13:ut(t,e),wt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ko=me())),s&4&&Xc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||h,ut(t,e),Le=u):ut(t,e),wt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(z=e,h=e.child;h!==null;){for(p=z=h;z!==null;){switch(v=z,x=v.child,v.tag){case 0:case 11:case 14:case 15:Bs(4,v,v.return);break;case 1:Kn(v,v.return);var N=v.stateNode;if(typeof N.componentWillUnmount=="function"){s=v,n=v.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){fe(s,n,j)}}break;case 5:Kn(v,v.return);break;case 22:if(v.memoizedState!==null){Zc(p);continue}}x!==null?(x.return=v,z=x):Zc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=qu("display",a))}catch(j){fe(e,e.return,j)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(j){fe(e,e.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),wt(e),s&4&&Xc(e);break;case 21:break;default:ut(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cf(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Xs(l,""),s.flags&=-33);var i=Yc(e);Ta(e,i,l);break;case 3:case 4:var a=s.stateNode.containerInfo,o=Yc(e);Ea(e,o,a);break;default:throw Error(I(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fm(e,t,n){z=e,Pf(e)}function Pf(e,t,n){for(var s=(e.mode&1)!==0;z!==null;){var l=z,i=l.child;if(l.tag===22&&s){var a=l.memoizedState!==null||$r;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Le;o=$r;var u=Le;if($r=a,(Le=c)&&!u)for(z=l;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?qc(l):c!==null?(c.return=a,z=c):qc(l);for(;i!==null;)z=i,Pf(i),i=i.sibling;z=l,$r=o,Le=u}Jc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,z=i):Jc(e)}}function Jc(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Hl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Le)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&er(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Le||t.flags&512&&Ca(t)}catch(v){fe(t,t.return,v)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Zc(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function qc(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(c){fe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){fe(t,l,c)}}var i=t.return;try{Ca(t)}catch(c){fe(t,i,c)}break;case 5:var a=t.return;try{Ca(t)}catch(c){fe(t,a,c)}}}catch(c){fe(t,t.return,c)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var zm=Math.ceil,kl=zt.ReactCurrentDispatcher,No=zt.ReactCurrentOwner,it=zt.ReactCurrentBatchConfig,X=0,be=null,ve=null,Pe=0,Ye=0,Gn=dn(0),je=0,dr=null,bn=0,Kl=0,So=0,Ws=null,Be=null,ko=0,us=1/0,Pt=null,bl=!1,Pa=null,rn=null,Br=!1,Zt=null,Cl=0,Us=0,Da=null,el=-1,tl=0;function Ae(){return X&6?me():el!==-1?el:el=me()}function ln(e){return e.mode&1?X&2&&Pe!==0?Pe&-Pe:Nm.transition!==null?(tl===0&&(tl=fd()),tl):(e=J,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function mt(e,t,n,s){if(50<Us)throw Us=0,Da=null,Error(I(185));vr(e,n,s),(!(X&2)||e!==be)&&(e===be&&(!(X&2)&&(Kl|=n),je===4&&Xt(e,Pe)),He(e,s),n===1&&X===0&&!(t.mode&1)&&(us=me()+500,Wl&&fn()))}function He(e,t){var n=e.callbackNode;Np(e,t);var s=cl(e,e===be?Pe:0);if(s===0)n!==null&&oc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&oc(n),t===1)e.tag===0?wm(eu.bind(null,e)):Fd(eu.bind(null,e)),vm(function(){!(X&6)&&fn()}),n=null;else{switch(hd(s)){case 1:n=Ya;break;case 4:n=ud;break;case 16:n=ol;break;case 536870912:n=dd;break;default:n=ol}n=Af(n,Df.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Df(e,t){if(el=-1,tl=0,X&6)throw Error(I(327));var n=e.callbackNode;if(ns()&&e.callbackNode!==n)return null;var s=cl(e,e===be?Pe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=El(e,s);else{t=s;var l=X;X|=2;var i=If();(be!==e||Pe!==t)&&(Pt=null,us=me()+500,jn(e,t));do try{Wm();break}catch(o){Rf(e,o)}while(!0);oo(),kl.current=i,X=l,ve!==null?t=0:(be=null,Pe=0,t=je)}if(t!==0){if(t===2&&(l=sa(e),l!==0&&(s=l,t=Ra(e,l))),t===1)throw n=dr,jn(e,0),Xt(e,s),He(e,me()),n;if(t===6)Xt(e,s);else{if(l=e.current.alternate,!(s&30)&&!$m(l)&&(t=El(e,s),t===2&&(i=sa(e),i!==0&&(s=i,t=Ra(e,i))),t===1))throw n=dr,jn(e,0),Xt(e,s),He(e,me()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:gn(e,Be,Pt);break;case 3:if(Xt(e,s),(s&130023424)===s&&(t=ko+500-me(),10<t)){if(cl(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ae(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=da(gn.bind(null,e,Be,Pt),t);break}gn(e,Be,Pt);break;case 4:if(Xt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var a=31-pt(s);i=1<<a,a=t[a],a>l&&(l=a),s&=~i}if(s=l,s=me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zm(s/1960))-s,10<s){e.timeoutHandle=da(gn.bind(null,e,Be,Pt),s);break}gn(e,Be,Pt);break;case 5:gn(e,Be,Pt);break;default:throw Error(I(329))}}}return He(e,me()),e.callbackNode===n?Df.bind(null,e):null}function Ra(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=El(e,t),e!==2&&(t=Be,Be=n,t!==null&&Ia(t)),e}function Ia(e){Be===null?Be=e:Be.push.apply(Be,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~So,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function eu(e){if(X&6)throw Error(I(327));ns();var t=cl(e,0);if(!(t&1))return He(e,me()),null;var n=El(e,t);if(e.tag!==0&&n===2){var s=sa(e);s!==0&&(t=s,n=Ra(e,s))}if(n===1)throw n=dr,jn(e,0),Xt(e,t),He(e,me()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Be,Pt),He(e,me()),null}function bo(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(us=me()+500,Wl&&fn())}}function Cn(e){Zt!==null&&Zt.tag===0&&!(X&6)&&ns();var t=X;X|=1;var n=it.transition,s=J;try{if(it.transition=null,J=1,e)return e()}finally{J=s,it.transition=n,X=t,!(X&6)&&fn()}}function Co(){Ye=Gn.current,le(Gn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gm(n)),ve!==null)for(n=ve.return;n!==null;){var s=n;switch(lo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&pl();break;case 3:os(),le(Ue),le(Oe),mo();break;case 5:po(s);break;case 4:os();break;case 13:le(ce);break;case 19:le(ce);break;case 10:co(s.type._context);break;case 22:case 23:Co()}n=n.return}if(be=e,ve=e=an(e.current,null),Pe=Ye=t,je=0,dr=null,So=Kl=bn=0,Be=Ws=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,s.next=a}n.pending=s}yn=null}return e}function Rf(e,t){do{var n=ve;try{if(oo(),Jr.current=Sl,Nl){for(var s=ue.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Nl=!1}if(kn=0,Se=ye=ue=null,$s=!1,or=0,No.current=null,n===null||n.return===null){je=1,dr=t,ve=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Bc(a);if(x!==null){x.flags&=-257,Wc(x,a,o,i,t),x.mode&1&&$c(i,u,t),t=x,c=u;var N=t.updateQueue;if(N===null){var j=new Set;j.add(c),t.updateQueue=j}else N.add(c);break e}else{if(!(t&1)){$c(i,u,t),Eo();break e}c=Error(I(426))}}else if(ae&&o.mode&1){var b=Bc(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wc(b,a,o,i,t),io(cs(c,o));break e}}i=c=cs(c,o),je!==4&&(je=2),Ws===null?Ws=[i]:Ws.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=pf(i,c,t);Lc(i,m);break e;case 1:o=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rn===null||!rn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=mf(i,o,t);Lc(i,y);break e}}i=i.return}while(i!==null)}Lf(n)}catch(w){t=w,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function If(){var e=kl.current;return kl.current=Sl,e===null?Sl:e}function Eo(){(je===0||je===3||je===2)&&(je=4),be===null||!(bn&268435455)&&!(Kl&268435455)||Xt(be,Pe)}function El(e,t){var n=X;X|=2;var s=If();(be!==e||Pe!==t)&&(Pt=null,jn(e,t));do try{Bm();break}catch(l){Rf(e,l)}while(!0);if(oo(),X=n,kl.current=s,ve!==null)throw Error(I(261));return be=null,Pe=0,je}function Bm(){for(;ve!==null;)Mf(ve)}function Wm(){for(;ve!==null&&!hp();)Mf(ve)}function Mf(e){var t=_f(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Lf(e):ve=t,No.current=null}function Lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Om(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,ve=null;return}}else if(n=Lm(n,t,Ye),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);je===0&&(je=5)}function gn(e,t,n){var s=J,l=it.transition;try{it.transition=null,J=1,Um(e,t,n,s)}finally{it.transition=l,J=s}return null}function Um(e,t,n,s){do ns();while(Zt!==null);if(X&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sp(e,i),e===be&&(ve=be=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Br||(Br=!0,Af(ol,function(){return ns(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var a=J;J=1;var o=X;X|=4,No.current=null,Am(e,n),Tf(n,e),cm(ca),ul=!!oa,ca=oa=null,e.current=n,Fm(n),pp(),X=o,J=a,it.transition=i}else e.current=n;if(Br&&(Br=!1,Zt=e,Cl=l),i=e.pendingLanes,i===0&&(rn=null),vp(n.stateNode),He(e,me()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(bl)throw bl=!1,e=Pa,Pa=null,e;return Cl&1&&e.tag!==0&&ns(),i=e.pendingLanes,i&1?e===Da?Us++:(Us=0,Da=e):Us=0,fn(),null}function ns(){if(Zt!==null){var e=hd(Cl),t=it.transition,n=J;try{if(it.transition=null,J=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,Cl=0,X&6)throw Error(I(331));var l=X;for(X|=4,z=e.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Bs(8,h,i)}var p=h.child;if(p!==null)p.return=h,z=p;else for(;z!==null;){h=z;var v=h.sibling,x=h.return;if(bf(h),h===u){z=null;break}if(v!==null){v.return=x,z=v;break}z=x}}}var N=i.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,z=m;break e}z=i.return}}var f=e.current;for(z=f;z!==null;){a=z;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,z=g;else e:for(a=f;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hl(9,o)}}catch(w){fe(o,o.return,w)}if(o===a){z=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,z=y;break e}z=o.return}}if(X=l,fn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Al,e)}catch{}s=!0}return s}finally{J=n,it.transition=t}}return!1}function tu(e,t,n){t=cs(n,t),t=pf(e,t,1),e=sn(e,t,1),t=Ae(),e!==null&&(vr(e,1,t),He(e,t))}function fe(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rn===null||!rn.has(s))){e=cs(n,e),e=mf(t,e,1),t=sn(t,e,1),e=Ae(),t!==null&&(vr(t,1,e),He(t,e));break}}t=t.return}}function Vm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Pe&n)===n&&(je===4||je===3&&(Pe&130023424)===Pe&&500>me()-ko?jn(e,0):So|=n),He(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=Rr,Rr<<=1,!(Rr&130023424)&&(Rr=4194304)):t=1);var n=Ae();e=_t(e,t),e!==null&&(vr(e,t,n),He(e,n))}function Hm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function Km(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Of(e,n)}var _f;_f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Mm(e,t,n);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&zd(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qr(e,t),e=t.pendingProps;var l=ls(t,Oe.current);ts(t,n),l=vo(null,t,s,e,l,n);var i=yo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,ml(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fo(t),l.updater=Vl,t.stateNode=l,l._reactInternals=t,ya(t,s,e,n),t=wa(null,t,s,!0,i,n)):(t.tag=0,ae&&i&&ro(t),_e(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Qm(s),e=dt(s,e),l){case 0:t=ja(null,t,s,e,n);break e;case 1:t=Hc(null,t,s,e,n);break e;case 11:t=Uc(null,t,s,e,n);break e;case 14:t=Vc(null,t,s,dt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),ja(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Hc(e,t,s,l,n);case 3:e:{if(xf(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Hd(e,t),jl(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=cs(Error(I(423)),t),t=Kc(e,t,s,n,l);break e}else if(s!==l){l=cs(Error(I(424)),t),t=Kc(e,t,s,n,l);break e}else for(Xe=nn(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,ht=null,n=Ud(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),s===l){t=At(e,t,n);break e}_e(e,t,s,n)}t=t.child}return t;case 5:return Kd(t),e===null&&ma(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,ua(s,l)?a=null:i!==null&&ua(s,i)&&(t.flags|=32),yf(e,t),_e(e,t,a,n),t.child;case 6:return e===null&&ma(t),null;case 13:return jf(e,t,n);case 4:return ho(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=as(t,null,s,n):_e(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Uc(e,t,s,l,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,se(yl,s._currentValue),s._currentValue=a,i!==null)if(gt(i.value,a)){if(i.children===l.children&&!Ue.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ga(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ga(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}_e(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,ts(t,n),l=at(l),s=s(l),t.flags|=1,_e(e,t,s,n),t.child;case 14:return s=t.type,l=dt(s,t.pendingProps),l=dt(s.type,l),Vc(e,t,s,l,n);case 15:return gf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),qr(e,t),t.tag=1,Ve(s)?(e=!0,ml(t)):e=!1,ts(t,n),hf(t,s,l),ya(t,s,l,n),wa(null,t,s,!0,e,n);case 19:return wf(e,t,n);case 22:return vf(e,t,n)}throw Error(I(156,t.tag))};function Af(e,t){return cd(e,t)}function Gm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new Gm(e,t,n,s)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qm(e){if(typeof e=="function")return To(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ka)return 11;if(e===Ga)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,s,l,i){var a=2;if(s=e,typeof e=="function")To(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case An:return wn(n.children,l,i,t);case Ha:a=8,l|=8;break;case Wi:return e=lt(12,n,t,l|2),e.elementType=Wi,e.lanes=i,e;case Ui:return e=lt(13,n,t,l),e.elementType=Ui,e.lanes=i,e;case Vi:return e=lt(19,n,t,l),e.elementType=Vi,e.lanes=i,e;case Ku:return Gl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vu:a=10;break e;case Hu:a=9;break e;case Ka:a=11;break e;case Ga:a=14;break e;case Kt:a=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=lt(a,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function wn(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function Gl(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Ku,e.lanes=n,e.stateNode={isHidden:!1},e}function Ii(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Mi(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ym(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Po(e,t,n,s,l,i,a,o,c){return e=new Ym(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fo(i),e}function Xm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return cn;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Ad(e,n,t)}return t}function zf(e,t,n,s,l,i,a,o,c){return e=Po(n,s,!0,e,l,i,a,o,c),e.context=Ff(null),n=e.current,s=Ae(),l=ln(n),i=Mt(s,l),i.callback=t??null,sn(n,i,l),e.current.lanes=l,vr(e,l,s),He(e,s),e}function Ql(e,t,n,s){var l=t.current,i=Ae(),a=ln(l);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=sn(l,t,a),e!==null&&(mt(e,l,a,i),Xr(e,l,a)),a}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Do(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function Jm(){return null}var $f=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ro(e){this._internalRoot=e}Yl.prototype.render=Ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ql(e,t,null,null)};Yl.prototype.unmount=Ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ql(null,e,null,null)}),t[Ot]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&yd(e)}};function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function su(){}function Zm(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=Tl(a);i.call(u)}}var a=zf(t,s,e,0,null,!1,!1,"",su);return e._reactRootContainer=a,e[Ot]=a.current,sr(e.nodeType===8?e.parentNode:e),Cn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=Tl(c);o.call(u)}}var c=Po(e,0,!1,null,null,!1,!1,"",su);return e._reactRootContainer=c,e[Ot]=c.current,sr(e.nodeType===8?e.parentNode:e),Cn(function(){Ql(t,c,n,s)}),c}function Jl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=Tl(a);o.call(c)}}Ql(t,a,e,l)}else a=Zm(n,t,e,l,s);return Tl(a)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(Xa(t,n|1),He(t,me()),!(X&6)&&(us=me()+500,fn()))}break;case 13:Cn(function(){var s=_t(e,1);if(s!==null){var l=Ae();mt(s,e,1,l)}}),Do(e,1)}};Ja=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Ae();mt(t,e,134217728,n)}Do(e,134217728)}};md=function(e){if(e.tag===13){var t=ln(e),n=_t(e,t);if(n!==null){var s=Ae();mt(n,e,t,s)}Do(e,t)}};gd=function(){return J};vd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};ea=function(e,t,n){switch(t){case"input":if(Gi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Bl(s);if(!l)throw Error(I(90));Qu(s),Gi(s,l)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};sd=bo;rd=Cn;var qm={usingClientEntryPoint:!1,Events:[xr,Bn,Bl,td,nd,bo]},Ps={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eg={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||Jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Al=Wr.inject(eg),kt=Wr}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Io(t))throw Error(I(200));return Xm(e,t,null,n)};qe.createRoot=function(e,t){if(!Io(e))throw Error(I(299));var n=!1,s="",l=$f;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Po(e,1,!1,null,null,n,!1,s,l),e[Ot]=t.current,sr(e.nodeType===8?e.parentNode:e),new Ro(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Cn(e)};qe.hydrate=function(e,t,n){if(!Xl(t))throw Error(I(200));return Jl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Io(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",a=$f;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=zf(t,null,e,1,n??null,l,!1,i,a),e[Ot]=t.current,sr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Yl(t)};qe.render=function(e,t,n){if(!Xl(t))throw Error(I(200));return Jl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(I(40));return e._reactRootContainer?(Cn(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};qe.unstable_batchedUpdates=bo;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Xl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Jl(e,t,n,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),$u.exports=qe;var Qn=$u.exports,ru=Qn;$i.createRoot=ru.createRoot,$i.hydrateRoot=ru.hydrateRoot;const Zl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ps(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Mo(e){return"nodeType"in e}function $e(e){var t,n;return e?ps(e)?e:Mo(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Lo(e){const{Document:t}=$e(e);return e instanceof t}function wr(e){return ps(e)?!1:e instanceof $e(e).HTMLElement}function Wf(e){return e instanceof $e(e).SVGElement}function ms(e){return e?ps(e)?e.document:Mo(e)?Lo(e)?e:wr(e)||Wf(e)?e.ownerDocument:document:document:document}const Ft=Zl?d.useLayoutEffect:d.useEffect;function ql(e){const t=d.useRef(e);return Ft(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function tg(){const e=d.useRef(null),t=d.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fr(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return Ft(()=>{n.current!==e&&(n.current=e)},t),n}function Nr(e,t){const n=d.useRef();return d.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Pl(e){const t=ql(e),n=d.useRef(null),s=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Dl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Li={};function ei(e,t){return d.useMemo(()=>{if(t)return t;const n=Li[e]==null?0:Li[e]+1;return Li[e]=n,e+"-"+n},[e,t])}function Uf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,a)=>{const o=Object.entries(a);for(const[c,u]of o){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const ss=Uf(1),Rl=Uf(-1);function ng(e){return"clientX"in e&&"clientY"in e}function Oo(e){if(!e)return!1;const{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function sg(e){if(!e)return!1;const{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function Il(e){if(sg(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ng(e)?{x:e.clientX,y:e.clientY}:null}const hr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hr.Translate.toString(e),hr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),lu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function rg(e){return e.matches(lu)?e:e.querySelector(lu)}const lg={display:"none"};function ig(e){let{id:t,value:n}=e;return he.createElement("div",{id:t,style:lg},n)}function ag(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function og(){const[e,t]=d.useState("");return{announce:d.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Vf=d.createContext(null);function cg(e){const t=d.useContext(Vf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ug(){const[e]=d.useState(()=>new Set),t=d.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[d.useCallback(s=>{let{type:l,event:i}=s;e.forEach(a=>{var o;return(o=a[l])==null?void 0:o.call(a,i)})},[e]),t]}const dg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hg(e){let{announcements:t=fg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=dg}=e;const{announce:i,announcement:a}=og(),o=ei("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),cg(d.useMemo(()=>({onDragStart(p){let{active:v}=p;i(t.onDragStart({active:v}))},onDragMove(p){let{active:v,over:x}=p;t.onDragMove&&i(t.onDragMove({active:v,over:x}))},onDragOver(p){let{active:v,over:x}=p;i(t.onDragOver({active:v,over:x}))},onDragEnd(p){let{active:v,over:x}=p;i(t.onDragEnd({active:v,over:x}))},onDragCancel(p){let{active:v,over:x}=p;i(t.onDragCancel({active:v,over:x}))}}),[i,t])),!c)return null;const h=he.createElement(he.Fragment,null,he.createElement(ig,{id:s,value:l.draggable}),he.createElement(ag,{id:o,announcement:a}));return n?Qn.createPortal(h,n):h}var xe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(xe||(xe={}));function Ml(){}function pg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function mg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const vt=Object.freeze({x:0,y:0});function gg(e,t){const n=Il(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function vg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function yg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function xg(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=l-s,o=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=a*o,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const jg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:a}=i,o=n.get(a);if(o){const c=xg(o,t);c>0&&l.push({id:a,data:{droppableContainer:i,value:c}})}}return l.sort(vg)};function wg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Hf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function Ng(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((a,o)=>({...a,top:a.top+e*o.y,bottom:a.bottom+e*o.y,left:a.left+e*o.x,right:a.right+e*o.x}),{...n})}}const Sg=Ng(1);function Kf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function kg(e,t,n){const s=Kf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:a,y:o}=s,c=e.left-a-(1-l)*parseFloat(n),u=e.top-o-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const bg={ignoreTransform:!1};function Sr(e,t){t===void 0&&(t=bg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=$e(e).getComputedStyle(e);u&&(n=kg(n,u,h))}const{top:s,left:l,width:i,height:a,bottom:o,right:c}=n;return{top:s,left:l,width:i,height:a,bottom:o,right:c}}function iu(e){return Sr(e,{ignoreTransform:!0})}function Cg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Eg(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position==="fixed"}function Tg(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function _o(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Lo(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!wr(l)||Wf(l)||n.includes(l))return n;const i=$e(e).getComputedStyle(l);return l!==e&&Tg(l,i)&&n.push(l),Eg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Gf(e){const[t]=_o(e,1);return t??null}function Oi(e){return!Zl||!e?null:ps(e)?e:Mo(e)?Lo(e)||e===ms(e).scrollingElement?window:wr(e)?e:null:null}function Qf(e){return ps(e)?e.scrollX:e.scrollLeft}function Yf(e){return ps(e)?e.scrollY:e.scrollTop}function Ma(e){return{x:Qf(e),y:Yf(e)}}var ke;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ke||(ke={}));function Xf(e){return!Zl||!e?!1:e===document.scrollingElement}function Jf(e){const t={x:0,y:0},n=Xf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,a=e.scrollTop>=s.y,o=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:a,isRight:o,maxScroll:s,minScroll:t}}const Pg={x:.2,y:.2};function Dg(e,t,n,s,l){let{top:i,left:a,right:o,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Pg);const{isTop:u,isBottom:h,isLeft:p,isRight:v}=Jf(e),x={x:0,y:0},N={x:0,y:0},j={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+j.height?(x.y=ke.Backward,N.y=s*Math.abs((t.top+j.height-i)/j.height)):!h&&c>=t.bottom-j.height&&(x.y=ke.Forward,N.y=s*Math.abs((t.bottom-j.height-c)/j.height)),!v&&o>=t.right-j.width?(x.x=ke.Forward,N.x=s*Math.abs((t.right-j.width-o)/j.width)):!p&&a<=t.left+j.width&&(x.x=ke.Backward,N.x=s*Math.abs((t.left+j.width-a)/j.width)),{direction:x,speed:N}}function Rg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:a}=window;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Zf(e){return e.reduce((t,n)=>ss(t,Ma(n)),vt)}function Ig(e){return e.reduce((t,n)=>t+Qf(n),0)}function Mg(e){return e.reduce((t,n)=>t+Yf(n),0)}function qf(e,t){if(t===void 0&&(t=Sr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Gf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Lg=[["x",["left","right"],Ig],["y",["top","bottom"],Mg]];class Ao{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=_o(n),l=Zf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,a,o]of Lg)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=o(s),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Og(e){const{EventTarget:t}=$e(e);return e instanceof t?e:ms(e)}function _i(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function au(e){e.preventDefault()}function _g(e){e.stopPropagation()}var ee;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ee||(ee={}));const eh={start:[ee.Space,ee.Enter],cancel:[ee.Esc],end:[ee.Space,ee.Enter,ee.Tab]},Ag=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ee.Right:return{...n,x:n.x+25};case ee.Left:return{...n,x:n.x-25};case ee.Down:return{...n,y:n.y+25};case ee.Up:return{...n,y:n.y-25}}};class th{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vs(ms(n)),this.windowListeners=new Vs($e(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&qf(s),n(vt)}handleKeyDown(t){if(Oo(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=eh,coordinateGetter:a=Ag,scrollBehavior:o="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=a(t,{active:n,context:s.current,currentCoordinates:h});if(p){const v=Rl(p,h),x={x:0,y:0},{scrollableAncestors:N}=s.current;for(const j of N){const b=t.code,{isTop:m,isRight:f,isLeft:g,isBottom:y,maxScroll:w,minScroll:C}=Jf(j),S=Rg(j),k={x:Math.min(b===ee.Right?S.right-S.width/2:S.right,Math.max(b===ee.Right?S.left:S.left+S.width/2,p.x)),y:Math.min(b===ee.Down?S.bottom-S.height/2:S.bottom,Math.max(b===ee.Down?S.top:S.top+S.height/2,p.y))},E=b===ee.Right&&!f||b===ee.Left&&!g,T=b===ee.Down&&!y||b===ee.Up&&!m;if(E&&k.x!==p.x){const M=j.scrollLeft+v.x,F=b===ee.Right&&M<=w.x||b===ee.Left&&M>=C.x;if(F&&!v.y){j.scrollTo({left:M,behavior:o});return}F?x.x=j.scrollLeft-M:x.x=b===ee.Right?j.scrollLeft-w.x:j.scrollLeft-C.x,x.x&&j.scrollBy({left:-x.x,behavior:o});break}else if(T&&k.y!==p.y){const M=j.scrollTop+v.y,F=b===ee.Down&&M<=w.y||b===ee.Up&&M>=C.y;if(F&&!v.x){j.scrollTo({top:M,behavior:o});return}F?x.y=j.scrollTop-M:x.y=b===ee.Down?j.scrollTop-w.y:j.scrollTop-C.y,x.y&&j.scrollBy({top:-x.y,behavior:o});break}}this.handleMove(t,ss(Rl(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}th.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=eh,onActivation:l}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(s.start.includes(a)){const o=i.activatorNode.current;return o&&e.target!==o?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function ou(e){return!!(e&&"distance"in e)}function cu(e){return!!(e&&"delay"in e)}class Fo{constructor(t,n,s){var l;s===void 0&&(s=Og(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:a}=i;this.props=t,this.events=n,this.document=ms(a),this.documentListeners=new Vs(this.document),this.listeners=new Vs(s),this.windowListeners=new Vs($e(a)),this.initialCoordinates=(l=Il(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,au),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,au),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ou(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,_g,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:a,options:{activationConstraint:o}}=i;if(!l)return;const c=(n=Il(t))!=null?n:vt,u=Rl(l,c);if(!s&&o){if(ou(o)){if(o.tolerance!=null&&_i(u,o.tolerance))return this.handleCancel();if(_i(u,o.distance))return this.handleStart()}if(cu(o)&&_i(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}t.cancelable&&t.preventDefault(),a(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ee.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Fg={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zo extends Fo{constructor(t){const{event:n}=t,s=ms(n.target);super(t,Fg,s)}}zo.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const zg={move:{name:"mousemove"},end:{name:"mouseup"}};var La;(function(e){e[e.RightClick=2]="RightClick"})(La||(La={}));class $g extends Fo{constructor(t){super(t,zg,ms(t.event.target))}}$g.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===La.RightClick?!1:(s==null||s({event:n}),!0)}}];const Ai={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bg extends Fo{constructor(t){super(t,Ai)}static setup(){return window.addEventListener(Ai.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ai.move.name,t)};function t(){}}}Bg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Hs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hs||(Hs={}));var Ll;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ll||(Ll={}));function Wg(e){let{acceleration:t,activator:n=Hs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:a=5,order:o=Ll.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:v}=e;const x=Vg({delta:p,disabled:!i}),[N,j]=tg(),b=d.useRef({x:0,y:0}),m=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Hs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hs.DraggableRect:return l}},[n,l,c]),g=d.useRef(null),y=d.useCallback(()=>{const C=g.current;if(!C)return;const S=b.current.x*m.current.x,k=b.current.y*m.current.y;C.scrollBy(S,k)},[]),w=d.useMemo(()=>o===Ll.TreeOrder?[...u].reverse():u,[o,u]);d.useEffect(()=>{if(!i||!u.length||!f){j();return}for(const C of w){if((s==null?void 0:s(C))===!1)continue;const S=u.indexOf(C),k=h[S];if(!k)continue;const{direction:E,speed:T}=Dg(C,k,f,t,v);for(const M of["x","y"])x[M][E[M]]||(T[M]=0,E[M]=0);if(T.x>0||T.y>0){j(),g.current=C,N(y,a),b.current=T,m.current=E;return}}b.current={x:0,y:0},m.current={x:0,y:0},j()},[t,y,s,j,i,a,JSON.stringify(f),JSON.stringify(x),N,u,w,h,JSON.stringify(v)])}const Ug={x:{[ke.Backward]:!1,[ke.Forward]:!1},y:{[ke.Backward]:!1,[ke.Forward]:!1}};function Vg(e){let{delta:t,disabled:n}=e;const s=Dl(t);return Nr(l=>{if(n||!s||!l)return Ug;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[ke.Backward]:l.x[ke.Backward]||i.x===-1,[ke.Forward]:l.x[ke.Forward]||i.x===1},y:{[ke.Backward]:l.y[ke.Backward]||i.y===-1,[ke.Forward]:l.y[ke.Forward]||i.y===1}}},[n,t,s])}function Hg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Nr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Kg(e,t){return d.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,s)}));return[...n,...i]},[]),[e,t])}var pr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(pr||(pr={}));var Oa;(function(e){e.Optimized="optimized"})(Oa||(Oa={}));const uu=new Map;function Gg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,a]=d.useState(null),{frequency:o,measure:c,strategy:u}=l,h=d.useRef(e),p=b(),v=fr(p),x=d.useCallback(function(m){m===void 0&&(m=[]),!v.current&&a(f=>f===null?m:f.concat(m.filter(g=>!f.includes(g))))},[v]),N=d.useRef(null),j=Nr(m=>{if(p&&!n)return uu;if(!m||m===uu||h.current!==e||i!=null){const f=new Map;for(let g of e){if(!g)continue;if(i&&i.length>0&&!i.includes(g.id)&&g.rect.current){f.set(g.id,g.rect.current);continue}const y=g.node.current,w=y?new Ao(c(y),y):null;g.rect.current=w,w&&f.set(g.id,w)}return f}return m},[e,i,n,p,c]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{p||x()},[n,p]),d.useEffect(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof o!="number"||N.current!==null||(N.current=setTimeout(()=>{x(),N.current=null},o))},[o,p,x,...s]),{droppableRects:j,measureDroppableContainers:x,measuringScheduled:i!=null};function b(){switch(u){case pr.Always:return!1;case pr.BeforeDragging:return n;default:return!n}}}function $o(e,t){return Nr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Qg(e,t){return $o(e,t)}function Yg(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ti(e){let{callback:t,disabled:n}=e;const s=ql(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Xg(e){return new Ao(Sr(e),e)}function du(e,t,n){t===void 0&&(t=Xg);const[s,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const a=Yg({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),o=ti({callback:i});return Ft(()=>{i(),e?(o==null||o.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),a==null||a.disconnect())},[e]),s}function Jg(e){const t=$o(e);return Hf(e,t)}const fu=[];function Zg(e){const t=d.useRef(e),n=Nr(s=>e?s&&s!==fu&&e&&t.current&&e.parentNode===t.current.parentNode?s:_o(e):fu,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function qg(e){const[t,n]=d.useState(null),s=d.useRef(e),l=d.useCallback(i=>{const a=Oi(i.target);a&&n(o=>o?(o.set(a,Ma(a)),new Map(o)):null)},[]);return d.useEffect(()=>{const i=s.current;if(e!==i){a(i);const o=e.map(c=>{const u=Oi(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Ma(u)]):null}).filter(c=>c!=null);n(o.length?new Map(o):null),s.current=e}return()=>{a(e),a(i)};function a(o){o.forEach(c=>{const u=Oi(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,a)=>ss(i,a),vt):Zf(e):vt,[e,t])}function hu(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const s=e!==vt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Rl(e,n.current):vt}function ev(e){d.useEffect(()=>{if(!Zl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function tv(e,t){return d.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=a=>{i(a,t)},n},{}),[e,t])}function nh(e){return d.useMemo(()=>e?Cg(e):null,[e])}const pu=[];function nv(e,t){t===void 0&&(t=Sr);const[n]=e,s=nh(n?$e(n):null),[l,i]=d.useState(pu);function a(){i(()=>e.length?e.map(c=>Xf(c)?s:new Ao(t(c),c)):pu)}const o=ti({callback:a});return Ft(()=>{o==null||o.disconnect(),a(),e.forEach(c=>o==null?void 0:o.observe(c))},[e]),l}function sh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wr(t)?t:e}function sv(e){let{measure:t}=e;const[n,s]=d.useState(null),l=d.useCallback(u=>{for(const{target:h}of u)if(wr(h)){s(p=>{const v=t(h);return p?{...p,width:v.width,height:v.height}:v});break}},[t]),i=ti({callback:l}),a=d.useCallback(u=>{const h=sh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),s(h?t(h):null)},[t,i]),[o,c]=Pl(a);return d.useMemo(()=>({nodeRef:o,rect:n,setRef:c}),[n,o,c])}const rv=[{sensor:zo,options:{}},{sensor:th,options:{}}],lv={current:{}},sl={draggable:{measure:iu},droppable:{measure:iu,strategy:pr.WhileDragging,frequency:Oa.Optimized},dragOverlay:{measure:Sr}};class Ks extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const iv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ks,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ml},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sl,measureDroppableContainers:Ml,windowRect:null,measuringScheduled:!1},rh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ml,draggableNodes:new Map,over:null,measureDroppableContainers:Ml},kr=d.createContext(rh),lh=d.createContext(iv);function av(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ks}}}function ov(e,t){switch(t.type){case xe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case xe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case xe.DragEnd:case xe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xe.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Ks(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case xe.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const a=new Ks(e.droppable.containers);return a.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case xe.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Ks(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function cv(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=d.useContext(kr),i=Dl(s),a=Dl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!s&&i&&a!=null){if(!Oo(i)||document.activeElement===i.target)return;const o=l.get(a);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=rg(h);if(p){p.focus();break}}})}},[s,t,l,a,i]),null}function ih(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function uv(e){return d.useMemo(()=>({draggable:{...sl.draggable,...e==null?void 0:e.draggable},droppable:{...sl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...sl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function dv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=d.useRef(!1),{x:a,y:o}=typeof l=="boolean"?{x:l,y:l}:l;Ft(()=>{if(!a&&!o||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Hf(h,s);if(a||(p.x=0),o||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const v=Gf(u);v&&v.scrollBy({top:p.y,left:p.x})}},[t,a,o,s,n])}const ni=d.createContext({...vt,scaleX:1,scaleY:1});var Qt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Qt||(Qt={}));const fv=d.memo(function(t){var n,s,l,i;let{id:a,accessibility:o,autoScroll:c=!0,children:u,sensors:h=rv,collisionDetection:p=jg,measuring:v,modifiers:x,...N}=t;const j=d.useReducer(ov,void 0,av),[b,m]=j,[f,g]=ug(),[y,w]=d.useState(Qt.Uninitialized),C=y===Qt.Initialized,{draggable:{active:S,nodes:k,translate:E},droppable:{containers:T}}=b,M=S!=null?k.get(S):null,F=d.useRef({initial:null,translated:null}),R=d.useMemo(()=>{var Re;return S!=null?{id:S,data:(Re=M==null?void 0:M.data)!=null?Re:lv,rect:F}:null},[S,M]),W=d.useRef(null),[K,ne]=d.useState(null),[Z,O]=d.useState(null),U=fr(N,Object.values(N)),A=ei("DndDescribedBy",a),Y=d.useMemo(()=>T.getEnabled(),[T]),Q=uv(v),{droppableRects:we,measureDroppableContainers:ge,measuringScheduled:Ce}=Gg(Y,{dragging:C,dependencies:[E.x,E.y],config:Q.droppable}),P=Hg(k,S),$=d.useMemo(()=>Z?Il(Z):null,[Z]),D=Ch(),L=Qg(P,Q.draggable.measure);dv({activeNode:S!=null?k.get(S):null,config:D.layoutShiftCompensation,initialRect:L,measure:Q.draggable.measure});const _=du(P,Q.draggable.measure,L),V=du(P?P.parentElement:null),H=d.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:we,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=T.getNodeFor((n=H.current.over)==null?void 0:n.id),B=sv({measure:Q.dragOverlay.measure}),q=(s=B.nodeRef.current)!=null?s:P,Ne=C?(l=B.rect)!=null?l:_:null,oe=!!(B.nodeRef.current&&B.rect),yt=Jg(oe?null:_),Ct=nh(q?$e(q):null),pe=Zg(C?ie??P:null),Et=nv(pe),$t=ih(x,{transform:{x:E.x-yt.x,y:E.y-yt.y,scaleX:1,scaleY:1},activatorEvent:Z,active:R,activeNodeRect:_,containerNodeRect:V,draggingNodeRect:Ne,over:H.current.over,overlayNodeRect:B.rect,scrollableAncestors:pe,scrollableAncestorRects:Et,windowRect:Ct}),vs=$?ss($,E):null,br=qg(pe),xh=hu(br),jh=hu(br,[_]),Dn=ss($t,xh),Rn=Ne?Sg(Ne,$t):null,ys=R&&Rn?p({active:R,collisionRect:Rn,droppableRects:we,droppableContainers:Y,pointerCoordinates:vs}):null,Ho=yg(ys,"id"),[Bt,Ko]=d.useState(null),wh=oe?$t:ss($t,jh),Nh=wg(wh,(i=Bt==null?void 0:Bt.rect)!=null?i:null,_),ii=d.useRef(null),Go=d.useCallback((Re,Ke)=>{let{sensor:Ge,options:Wt}=Ke;if(W.current==null)return;const tt=k.get(W.current);if(!tt)return;const Qe=Re.nativeEvent,xt=new Ge({active:W.current,activeNode:tt,event:Qe,options:Wt,context:H,onAbort(Ee){if(!k.get(Ee))return;const{onDragAbort:jt}=U.current,Tt={id:Ee};jt==null||jt(Tt),f({type:"onDragAbort",event:Tt})},onPending(Ee,Ut,jt,Tt){if(!k.get(Ee))return;const{onDragPending:js}=U.current,Vt={id:Ee,constraint:Ut,initialCoordinates:jt,offset:Tt};js==null||js(Vt),f({type:"onDragPending",event:Vt})},onStart(Ee){const Ut=W.current;if(Ut==null)return;const jt=k.get(Ut);if(!jt)return;const{onDragStart:Tt}=U.current,xs={activatorEvent:Qe,active:{id:Ut,data:jt.data,rect:F}};Qn.unstable_batchedUpdates(()=>{Tt==null||Tt(xs),w(Qt.Initializing),m({type:xe.DragStart,initialCoordinates:Ee,active:Ut}),f({type:"onDragStart",event:xs}),ne(ii.current),O(Qe)})},onMove(Ee){m({type:xe.DragMove,coordinates:Ee})},onEnd:In(xe.DragEnd),onCancel:In(xe.DragCancel)});ii.current=xt;function In(Ee){return async function(){const{active:jt,collisions:Tt,over:xs,scrollAdjustedTranslate:js}=H.current;let Vt=null;if(jt&&js){const{cancelDrop:ws}=U.current;Vt={activatorEvent:Qe,active:jt,collisions:Tt,delta:js,over:xs},Ee===xe.DragEnd&&typeof ws=="function"&&await Promise.resolve(ws(Vt))&&(Ee=xe.DragCancel)}W.current=null,Qn.unstable_batchedUpdates(()=>{m({type:Ee}),w(Qt.Uninitialized),Ko(null),ne(null),O(null),ii.current=null;const ws=Ee===xe.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const ai=U.current[ws];ai==null||ai(Vt),f({type:ws,event:Vt})}})}}},[k]),Sh=d.useCallback((Re,Ke)=>(Ge,Wt)=>{const tt=Ge.nativeEvent,Qe=k.get(Wt);if(W.current!==null||!Qe||tt.dndKit||tt.defaultPrevented)return;const xt={active:Qe};Re(Ge,Ke.options,xt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},W.current=Wt,Go(Ge,Ke))},[k,Go]),Qo=Kg(h,Sh);ev(h),Ft(()=>{_&&y===Qt.Initializing&&w(Qt.Initialized)},[_,y]),d.useEffect(()=>{const{onDragMove:Re}=U.current,{active:Ke,activatorEvent:Ge,collisions:Wt,over:tt}=H.current;if(!Ke||!Ge)return;const Qe={active:Ke,activatorEvent:Ge,collisions:Wt,delta:{x:Dn.x,y:Dn.y},over:tt};Qn.unstable_batchedUpdates(()=>{Re==null||Re(Qe),f({type:"onDragMove",event:Qe})})},[Dn.x,Dn.y]),d.useEffect(()=>{const{active:Re,activatorEvent:Ke,collisions:Ge,droppableContainers:Wt,scrollAdjustedTranslate:tt}=H.current;if(!Re||W.current==null||!Ke||!tt)return;const{onDragOver:Qe}=U.current,xt=Wt.get(Ho),In=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,Ee={active:Re,activatorEvent:Ke,collisions:Ge,delta:{x:tt.x,y:tt.y},over:In};Qn.unstable_batchedUpdates(()=>{Ko(In),Qe==null||Qe(Ee),f({type:"onDragOver",event:Ee})})},[Ho]),Ft(()=>{H.current={activatorEvent:Z,active:R,activeNode:P,collisionRect:Rn,collisions:ys,droppableRects:we,draggableNodes:k,draggingNode:q,draggingNodeRect:Ne,droppableContainers:T,over:Bt,scrollableAncestors:pe,scrollAdjustedTranslate:Dn},F.current={initial:Ne,translated:Rn}},[R,P,ys,Rn,k,q,Ne,we,T,Bt,pe,Dn]),Wg({...D,delta:E,draggingRect:Rn,pointerCoordinates:vs,scrollableAncestors:pe,scrollableAncestorRects:Et});const kh=d.useMemo(()=>({active:R,activeNode:P,activeNodeRect:_,activatorEvent:Z,collisions:ys,containerNodeRect:V,dragOverlay:B,draggableNodes:k,droppableContainers:T,droppableRects:we,over:Bt,measureDroppableContainers:ge,scrollableAncestors:pe,scrollableAncestorRects:Et,measuringConfiguration:Q,measuringScheduled:Ce,windowRect:Ct}),[R,P,_,Z,ys,V,B,k,T,we,Bt,ge,pe,Et,Q,Ce,Ct]),bh=d.useMemo(()=>({activatorEvent:Z,activators:Qo,active:R,activeNodeRect:_,ariaDescribedById:{draggable:A},dispatch:m,draggableNodes:k,over:Bt,measureDroppableContainers:ge}),[Z,Qo,R,_,m,A,k,Bt,ge]);return he.createElement(Vf.Provider,{value:g},he.createElement(kr.Provider,{value:bh},he.createElement(lh.Provider,{value:kh},he.createElement(ni.Provider,{value:Nh},u)),he.createElement(cv,{disabled:(o==null?void 0:o.restoreFocus)===!1})),he.createElement(hg,{...o,hiddenTextDescribedById:A}));function Ch(){const Re=(K==null?void 0:K.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Ge=C&&!Re&&!Ke;return typeof c=="object"?{...c,enabled:Ge}:{enabled:Ge}}}),hv=d.createContext(null),mu="button",pv="Draggable";function ah(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ei(pv),{activators:a,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:v}=d.useContext(kr),{role:x=mu,roleDescription:N="draggable",tabIndex:j=0}=l??{},b=(c==null?void 0:c.id)===t,m=d.useContext(b?ni:hv),[f,g]=Pl(),[y,w]=Pl(),C=tv(a,t),S=fr(n);Ft(()=>(p.set(t,{id:t,key:i,node:f,activatorNode:y,data:S}),()=>{const E=p.get(t);E&&E.key===i&&p.delete(t)}),[p,t]);const k=d.useMemo(()=>({role:x,tabIndex:j,"aria-disabled":s,"aria-pressed":b&&x===mu?!0:void 0,"aria-roledescription":N,"aria-describedby":h.draggable}),[s,x,j,b,N,h.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:k,isDragging:b,listeners:s?void 0:C,node:f,over:v,setNodeRef:g,setActivatorNodeRef:w,transform:m}}function mv(){return d.useContext(lh)}const gv="Droppable",vv={timeout:25};function yv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ei(gv),{active:a,dispatch:o,over:c,measureDroppableContainers:u}=d.useContext(kr),h=d.useRef({disabled:n}),p=d.useRef(!1),v=d.useRef(null),x=d.useRef(null),{disabled:N,updateMeasurementsFor:j,timeout:b}={...vv,...l},m=fr(j??s),f=d.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),x.current=null},b)},[b]),g=ti({callback:f,disabled:N||!a}),y=d.useCallback((k,E)=>{g&&(E&&(g.unobserve(E),p.current=!1),k&&g.observe(k))},[g]),[w,C]=Pl(y),S=fr(t);return d.useEffect(()=>{!g||!w.current||(g.disconnect(),p.current=!1,g.observe(w.current))},[w,g]),d.useEffect(()=>(o({type:xe.RegisterDroppable,element:{id:s,key:i,disabled:n,node:w,rect:v,data:S}}),()=>o({type:xe.UnregisterDroppable,key:i,id:s})),[s]),d.useEffect(()=>{n!==h.current.disabled&&(o({type:xe.SetDroppableDisabled,id:s,key:i,disabled:n}),h.current.disabled=n)},[s,i,n,o]),{active:a,rect:v,isOver:(c==null?void 0:c.id)===s,node:w,over:c,setNodeRef:C}}function xv(e){let{animation:t,children:n}=e;const[s,l]=d.useState(null),[i,a]=d.useState(null),o=Dl(n);return!n&&!s&&o&&l(o),Ft(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),he.createElement(he.Fragment,null,n,s?d.cloneElement(s,{ref:a}):null)}const jv={x:0,y:0,scaleX:1,scaleY:1};function wv(e){let{children:t}=e;return he.createElement(kr.Provider,{value:rh},he.createElement(ni.Provider,{value:jv},t))}const Nv={position:"fixed",touchAction:"none"},Sv=e=>Oo(e)?"transform 250ms ease":void 0,kv=d.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:a,rect:o,style:c,transform:u,transition:h=Sv}=e;if(!o)return null;const p=l?u:{...u,scaleX:1,scaleY:1},v={...Nv,width:o.width,height:o.height,top:o.top,left:o.left,transform:hr.Transform.toString(p),transformOrigin:l&&s?gg(s,o):void 0,transition:typeof h=="function"?h(s):h,...c};return he.createElement(n,{className:a,style:v,ref:t},i)}),bv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:a}=e;if(i!=null&&i.active)for(const[o,c]of Object.entries(i.active))c!==void 0&&(l[o]=n.node.style.getPropertyValue(o),n.node.style.setProperty(o,c));if(i!=null&&i.dragOverlay)for(const[o,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(o,c);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&s.node.classList.add(a.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},Cv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:hr.Transform.toString(t)},{transform:hr.Transform.toString(n)}]},Ev={duration:250,easing:"ease",keyframes:Cv,sideEffects:bv({styles:{active:{opacity:"0"}}})};function Tv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return ql((i,a)=>{if(t===null)return;const o=n.get(i);if(!o)return;const c=o.node.current;if(!c)return;const u=sh(a);if(!u)return;const{transform:h}=$e(a).getComputedStyle(a),p=Kf(h);if(!p)return;const v=typeof t=="function"?t:Pv(t);return qf(c,l.draggable.measure),v({active:{id:i,data:o.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:a,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:p})})}function Pv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Ev,...e};return i=>{let{active:a,dragOverlay:o,transform:c,...u}=i;if(!t)return;const h={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},p={scaleX:c.scaleX!==1?a.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?a.rect.height*c.scaleY/o.rect.height:1},v={x:c.x-h.x,y:c.y-h.y,...p},x=l({...u,active:a,dragOverlay:o,transform:{initial:c,final:v}}),[N]=x,j=x[x.length-1];if(JSON.stringify(N)===JSON.stringify(j))return;const b=s==null?void 0:s({active:a,dragOverlay:o,...u}),m=o.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{m.onfinish=()=>{b==null||b(),f()}})}}let gu=0;function Dv(e){return d.useMemo(()=>{if(e!=null)return gu++,gu},[e])}const Rv=he.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:a,wrapperElement:o="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:x,draggableNodes:N,droppableContainers:j,dragOverlay:b,over:m,measuringConfiguration:f,scrollableAncestors:g,scrollableAncestorRects:y,windowRect:w}=mv(),C=d.useContext(ni),S=Dv(p==null?void 0:p.id),k=ih(a,{activatorEvent:h,active:p,activeNodeRect:v,containerNodeRect:x,draggingNodeRect:b.rect,over:m,overlayNodeRect:b.rect,scrollableAncestors:g,scrollableAncestorRects:y,transform:C,windowRect:w}),E=$o(v),T=Tv({config:s,draggableNodes:N,droppableContainers:j,measuringConfiguration:f}),M=E?b.setRef:void 0;return he.createElement(wv,null,he.createElement(xv,{animation:T},p&&S?he.createElement(kv,{key:S,id:p.id,ref:M,as:o,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...l},transform:k},n):null))}),oh={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Iv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},rl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:oh},vu=10,Yn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ol={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Mv(e){if(Ol[e])return Ol[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function yu(e){return Ol[e]?Ol[e].priority:e.startsWith("gt-")?3:99}const ch=d.createContext(null),xu=5;function Lv({children:e}){const[t,n]=d.useState([]),[s,l]=d.useState(1),i=d.useCallback((c,u)=>{const h=s;l(v=>v+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(v=>{const x=[p,...v];return x.length>xu?x.slice(0,xu):x})},[s]),a=d.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),o=d.useMemo(()=>({toasts:t,addToast:i,removeToast:a}),[t,i,a]);return r.jsx(ch.Provider,{value:o,children:e})}function Pn(){const e=d.useContext(ch);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function ju(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const uh="chrote-dashboard-state",dh="chrote-dashboard-presets",Ln=["terminal1","terminal2"];function Ov(){try{const e=localStorage.getItem(dh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function _v(e){try{localStorage.setItem(dh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function Av(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function wu(e){return JSON.parse(JSON.stringify(e))}function Fv(){try{const e=localStorage.getItem(uh);if(e){const t=JSON.parse(e);return Bv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function zv(e){try{localStorage.setItem(uh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function mr(e){return Math.max(1,Math.min(4,e))}function $v(e,t){const n=mr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Gs(e,t){return{windows:$v(e,t),windowCount:mr(t)}}function Ds(e){return typeof e=="object"&&e!==null}function Bv(e){if(Ds(e)){if(Ds(e.workspaces)&&Ds(e.workspaces.terminal1)&&Ds(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=(l,i)=>{const a=Ds(i)?i:{},o=mr(typeof a.windowCount=="number"?a.windowCount:2),c=Array.isArray(a.windows)?a.windows:[];return{windows:Array.from({length:o},(h,p)=>{const v=c[p];return{id:`${l}-window-${p}`,boundSessions:(v==null?void 0:v.boundSessions)??[],activeSession:(v==null?void 0:v.activeSession)??null,colorIndex:typeof(v==null?void 0:v.colorIndex)=="number"?v.colorIndex:p}}),windowCount:o}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,s=mr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(a,o)=>{const c=l[o];return{id:`terminal1-window-${o}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:o}}),windowCount:s},terminal2:Gs("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)},sidebarCollapsed:!1,settings:rl}}const fh=d.createContext(null);function Wv({children:e}){const t=d.useMemo(()=>Fv(),[]),{addToast:n}=Pn(),[s,l]=d.useState([]),[i,a]=d.useState({}),[o,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Gs("terminal1",2),terminal2:Gs("terminal2",2)}),[x,N]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[j,b]=d.useState(null),[m,f]=d.useState(!1),[g,y]=d.useState((t==null?void 0:t.settings)??rl),[w,C]=d.useState(null),[S,k]=d.useState(()=>Ov()),E=d.useMemo(()=>{const D=new Map;return Ln.forEach(L=>{p[L].windows.forEach((V,H)=>{V.boundSessions.forEach(ie=>{D.set(ie,{workspaceId:L,windowId:V.id,colorIndex:V.colorIndex,windowIndex:H+1})})})}),D},[p]);d.useEffect(()=>{v(D=>{let L=!1;const _={...D};return Ln.forEach(V=>{const H=D[V];H.windows.some(B=>B.activeSession==="INIT-PENDING")&&(L=!0,_[V]={...H,windows:H.windows.map(B=>B.activeSession==="INIT-PENDING"?{...B,activeSession:null}:B)})}),L?_:D})},[]),d.useEffect(()=>{const D={...p};Ln.forEach(L=>{const _=p[L];D[L]={..._,windows:_.windows.map(V=>V.activeSession==="INIT-PENDING"?{...V,activeSession:null}:V)}}),zv({workspaces:D,sidebarCollapsed:x,settings:g})},[p,x,g]),d.useEffect(()=>{_v(S)},[S]);const T=d.useCallback(async()=>{try{const L=await(await fetch("/api/tmux/sessions")).json();if(L.error)h(L.error),l([]),a({});else{h(null),l(L.sessions),a(L.grouped);const _=new Set(L.sessions.map(V=>V.name));v(V=>{let H=!1;const ie={...V};return Ln.forEach(B=>{const q=V[B],Ne=q.windows.map(oe=>{const yt=oe.boundSessions.filter(Ct=>_.has(Ct));if(yt.length!==oe.boundSessions.length){H=!0;const Ct=oe.boundSessions.filter(Et=>!_.has(Et));console.error(`Orphaned sessions removed from ${oe.id}:`,Ct);const pe=yt.includes(oe.activeSession??"")?oe.activeSession:yt[0]??null;return{...oe,boundSessions:yt,activeSession:pe}}return oe});Ne!==q.windows&&(ie[B]={...q,windows:Ne})}),H?ie:V})}}catch(D){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);d.useEffect(()=>{T();const D=setInterval(T,g.autoRefreshInterval);return()=>clearInterval(D)},[T,g.autoRefreshInterval]),d.useEffect(()=>{const D={...oh,...g.tmuxAppearance};ju(D)},[]);const M=d.useCallback((D,L)=>{const _=mr(L);v(V=>{const H=V[D];if(!H)return V;const ie=(()=>{if(_>H.windows.length){const B=[...H.windows];for(let q=H.windows.length;q<_;q++)B.push({id:`${D}-window-${q}`,boundSessions:[],activeSession:null,colorIndex:q});return B}return _<H.windows.length?H.windows.slice(0,_):H.windows})();return{...V,[D]:{...H,windowCount:_,windows:ie}}})},[]),F=d.useCallback((D,L,_)=>{v(V=>{const H={...V};let ie=!1,B=!1;if(Ln.forEach(oe=>{const yt=V[oe],Ct=yt.windows.map(pe=>{const Et=oe===D&&pe.id===L,$t=pe.boundSessions.includes(_);if(!Et&&!$t)return pe;if(!Et&&$t){const vs=pe.boundSessions.filter(br=>br!==_);return{...pe,boundSessions:vs,activeSession:pe.activeSession===_?vs[0]??null:pe.activeSession}}return B=!0,ie=pe.boundSessions.length===0||pe.boundSessions.length===1&&$t,pe});H[oe]={...yt,windows:Ct}}),!B)return V;const q=H[D],Ne=q.windows.map(oe=>oe.id!==L||oe.boundSessions.includes(_)?oe:{...oe,boundSessions:[...oe.boundSessions,_],activeSession:ie?_:oe.activeSession});return{...H,[D]:{...q,windows:Ne}}})},[]),R=d.useCallback((D,L,_)=>{v(V=>{const H=V[D];if(!H)return V;const ie=H.windows.map(B=>{if(B.id!==L||!B.boundSessions.includes(_))return B;const q=B.boundSessions.filter(Ne=>Ne!==_);return{...B,boundSessions:q,activeSession:B.activeSession===_?q[0]??null:B.activeSession}});return{...V,[D]:{...H,windows:ie}}})},[]),W=d.useCallback((D,L,_)=>{v(V=>{const H=V[D];if(!H)return V;const ie=H.windows.map(B=>B.id!==L||!B.boundSessions.includes(_)?B:{...B,activeSession:_});return{...V,[D]:{...H,windows:ie}}})},[]),K=d.useCallback((D,L,_)=>{v(V=>{const H=V[D];if(!H)return V;const ie=H.windows.map(B=>{if(B.id!==L||B.boundSessions.length<=1)return B;const q=B.activeSession?B.boundSessions.indexOf(B.activeSession):0,Ne=_==="next"?(q+1)%B.boundSessions.length:(q-1+B.boundSessions.length)%B.boundSessions.length;return{...B,activeSession:B.boundSessions[Ne]}});return{...V,[D]:{...H,windows:ie}}})},[]),ne=d.useCallback(()=>{N(D=>!D)},[]),Z=d.useCallback(D=>{b(D)},[]),O=d.useCallback(()=>{b(null)},[]),U=d.useCallback(D=>{const L=E.get(D);L?W(L.workspaceId,L.windowId,D):Z(D)},[E,W,Z]),A=d.useCallback(D=>{y(L=>{const _={...L,...D};return D.tmuxAppearance&&ju(_.tmuxAppearance),_})},[]),Y=d.useCallback(async D=>{try{const L=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(L.ok)n(`Session '${D}' deleted`,"info"),T();else{const _=await L.text();console.error("Failed to delete session:",_),n("Failed to delete session","error")}}catch(L){console.error("Failed to delete session:",L),n("Failed to delete session","error")}},[T,n]),Q=d.useCallback(async(D,L)=>{try{const _=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:L})});if(_.ok)return v(V=>{const H={...V};return Ln.forEach(ie=>{const B=V[ie];H[ie]={...B,windows:B.windows.map(q=>({...q,boundSessions:q.boundSessions.map(Ne=>Ne===D?L:Ne),activeSession:q.activeSession===D?L:q.activeSession}))}}),H}),n(`Session renamed to '${L}'`,"success"),T(),!0;{const V=await _.text();return console.error("Failed to rename session:",V),n("Failed to rename session","error"),!1}}catch(_){return console.error("Failed to rename session:",_),n("Failed to rename session","error"),!1}},[T,n]),we=d.useCallback(D=>{if(S.length>=vu)return n(`Maximum ${vu} presets reached`,"warning"),!1;const L={id:Av(),name:D,createdAt:Date.now(),workspaces:wu(p)};return k(_=>[..._,L]),n(`Layout '${D}' saved`,"success"),!0},[S.length,p,n]),ge=d.useCallback(D=>{const L=S.find(_=>_.id===D);if(!L){n("Preset not found","error");return}v(wu(L.workspaces)),n(`Layout '${L.name}' loaded`,"info")},[S,n]),Ce=d.useCallback(D=>{const L=S.find(_=>_.id===D);L&&(k(_=>_.filter(V=>V.id!==D)),n(`Preset '${L.name}' deleted`,"info"))},[S,n]),P=d.useCallback((D,L)=>{k(_=>_.map(V=>V.id===D?{...V,name:L}:V))},[]),$=d.useMemo(()=>({sessions:s,groupedSessions:i,loading:o,error:u,workspaces:p,sidebarCollapsed:x,floatingSession:j,assignedSessions:E,isDragging:m,settings:g,focusedWindowKey:w,layoutPresets:S,setWindowCount:M,addSessionToWindow:F,removeSessionFromWindow:R,setActiveSession:W,cycleSession:K,toggleSidebar:ne,openFloatingModal:Z,closeFloatingModal:O,handleSessionClick:U,refreshSessions:T,deleteSession:Y,renameSession:Q,setIsDragging:f,updateSettings:A,setFocusedWindowKey:C,saveCurrentLayout:we,loadPreset:ge,deletePreset:Ce,renamePreset:P}),[s,i,o,u,p,x,j,E,m,g,w,S,M,F,R,W,K,ne,Z,O,U,T,Y,Q,f,A,C,we,ge,Ce,P]);return r.jsx(fh.Provider,{value:$,children:e})}function ct(){const e=d.useContext(fh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const pn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function Uv(){const e=d.useRef(null),{settings:t,updateSettings:n}=ct(),[s,l]=d.useState(0),[i,a]=d.useState(!1);d.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const h=e.current;h&&(h.src=pn[s].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[s,t.musicEnabled]);const o=()=>l(h=>(h+1)%pn.length),c=()=>l(h=>(h-1+pn.length)%pn.length),u=h=>{l(h),a(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:o}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:o,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>a(!i),children:[pn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",pn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:pn.map((h,p)=>r.jsxs("button",{className:`music-dropdown-item ${p===s?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===s&&t.musicEnabled&&""]},p))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>a(!1)})]})}function Vv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){const l=[{id:"claudechat",label:"Claude Chat"},{id:"chat",label:"Chat"},{id:"newchat",label:"NewChat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads",label:"Beads"},{id:"manual",label:"Manual"},{id:"settings",label:"Settings"},{id:"help",label:"Help"}],i=a=>{a.external?window.open(a.url,"_blank","noopener,noreferrer"):t(a.id)};return r.jsxs("div",{className:"tab-bar",children:[r.jsx("div",{className:"tab-bar-tabs",children:l.map(a=>r.jsx("button",{className:`tab ${!a.external&&e===a.id?"active":""} ${a.external?"external":""}`,onClick:()=>i(a),title:a.external?`Open ${a.label.replace(" ","")} in new tab`:void 0,children:a.label},a.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),n&&r.jsx("button",{className:"tab",onClick:n,title:"Keyboard Shortcuts (?)",children:"?"}),r.jsx(Uv,{})]})]})}const Hv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Kv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Gv(e){const t=Kv(e);return t?{role:t,...Hv[t]}:null}function Qv({sessionName:e,compact:t=!1}){const n=Gv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Yv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:a,removeSessionFromWindow:o}=ct(),c=t.get(e.name),u=!!c,[h,p]=d.useState({show:!1,x:0,y:0}),[v,x]=d.useState(!1),[N,j]=d.useState(""),[b,m]=d.useState(!1),f=d.useRef(null),g=c?Yn[c.colorIndex%Yn.length].border:void 0,y=c?{backgroundColor:g,color:"#000",borderColor:g}:void 0,w=c?{color:g}:void 0,{attributes:C,listeners:S,setNodeRef:k,transform:E,isDragging:T}=ah({id:e.name,data:{type:"session",session:e}}),M=E?{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,zIndex:T?1e3:void 0}:void 0,F=d.useCallback(A=>{A.preventDefault(),A.stopPropagation(),p({show:!0,x:A.clientX,y:A.clientY}),m(!1)},[]),R=d.useCallback(()=>{p({show:!1,x:0,y:0}),m(!1)},[]),W=d.useCallback(async()=>{R(),await s(e.name)},[s,e.name,R]),K=d.useCallback(()=>{j(e.name),x(!0),R()},[e.name,R]),ne=d.useCallback(async()=>{N&&N!==e.name&&await l(e.name,N),x(!1)},[N,e.name,l]),Z=d.useCallback(A=>{A.key==="Enter"?ne():A.key==="Escape"&&x(!1)},[ne]),O=d.useCallback(A=>{const Y=A.startsWith("terminal2-")?"terminal2":"terminal1";a(Y,A,e.name),R()},[a,e.name,R]),U=d.useCallback(()=>{c&&o(c.workspaceId,c.windowId,e.name),R()},[c,o,e.name,R]);return d.useEffect(()=>{v&&f.current&&(f.current.focus(),f.current.select())},[v]),d.useEffect(()=>{if(!h.show)return;const A=()=>R();return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[h.show,R]),v?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:N,onChange:A=>j(A.target.value),onKeyDown:Z,onBlur:ne})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:k,className:`session-item ${u?"assigned":""} ${T?"dragging":""}`,style:M,...S,...C,onClick:()=>n(e.name),onContextMenu:F,children:[c&&r.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(Qv,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:w,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&r.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:A=>A.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:K,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),b&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(A=>{const Y=i[A];return Y.windows.slice(0,Y.windowCount).map((Q,we)=>{const ge=Yn[Q.colorIndex%Yn.length],Ce=(c==null?void 0:c.windowId)===Q.id,P=A==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${Ce?"active":""}`,onClick:()=>O(Q.id),style:{borderLeft:`3px solid ${ge.border}`},children:[P,"Window ",we+1,Ce&&r.jsx("span",{className:"session-context-check",children:""})]},Q.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:U,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:W,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Xv({groupKey:e,sessions:t}){const[n,s]=d.useState(!0),l=Mv(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Yv,{session:i},i.name))})]})}function Jv({onConfirm:e,onCancel:t,sessionCount:n}){const[s,l]=d.useState(""),i=s==="NUKE",a=o=>{o.preventDefault(),i&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:n})," tmux session",n!==1?"s":"","."]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:s,onChange:o=>l(o.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!i,children:"Destroy All"})]})]})]})]})})}function Zv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:a,settings:o}=ct(),{addToast:c}=Pn(),[u,h]=d.useState(!1),[p,v]=d.useState(""),[x,N]=d.useState(!1),[j,b]=d.useState(!1),m=d.useMemo(()=>{const y=Object.entries(e);return(p?y.map(([C,S])=>[C,S.filter(k=>k.name.toLowerCase().includes(p.toLowerCase()))]).filter(([C,S])=>S.length>0):y).sort(([C],[S])=>{const k=yu(C),E=yu(S);return k!==E?k-E:C.localeCompare(S)})},[e,p]),f=async()=>{h(!0);try{const y=o.defaultSessionPrefix||"tmux",w=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),C=new RegExp(`^${w}(\\d+)$`),S=a.map(M=>M.name.match(C)).filter(Boolean).map(M=>parseInt(M[1],10)),k=S.length>0?Math.max(...S)+1:1,E=`${y}${k}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E})})).ok?(c(`Session '${E}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{h(!1)}},g=async()=>{b(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{b(!1),N(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:y=>v(y.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&m.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),m.map(([y,w])=>r.jsx(Xv,{groupKey:y,sessions:w},y))]}),!s&&a.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>N(!0),disabled:j,title:"Destroy all tmux sessions",children:[" ",j?"Nuking...":"Nuke All"]})}),x&&r.jsx(Jv,{sessionCount:a.length,onConfirm:g,onCancel:()=>N(!1)})]})}function qv({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=d.useState(!1),{settings:i,refreshSessions:a,addSessionToWindow:o}=ct(),{addToast:c}=Pn(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await a(),o(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function ey({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=yv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ty({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:a,listeners:o,setNodeRef:c,transform:u,isDragging:h}=ah({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,v=e.includes("-")?e.split("-").slice(-1)[0]:e,x=N=>{h||N.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:x,...o,...a,children:[r.jsx("span",{className:"tag-name",children:v}),r.jsx("button",{className:"tag-remove",onClick:N=>{N.stopPropagation(),l()},children:""})]})}function ny({workspaceId:e,window:t,isDragging:n=!1}){const[s,l]=d.useState(new Set),i=d.useRef(new Map),a=d.useRef(null),o=d.useRef(null),{removeSessionFromWindow:c,setActiveSession:u,cycleSession:h,settings:p,focusedWindowKey:v,setFocusedWindowKey:x}=ct(),N=`${e}-${t.id}`,j=v===N,b=t.activeSession,m=b?s.has(b):!1,f=d.useCallback(()=>{if(b)try{const R=i.current.get(b);if(!(R!=null&&R.contentWindow))return;R.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[b]),g=d.useCallback((R,W)=>{if(!(R!=null&&R.contentWindow))return;let K=0;const ne=20,Z=()=>{try{const O=R.contentWindow;if(O.term){O.term.options.fontSize=W;return}}catch{}K++,K<ne&&setTimeout(Z,50)};Z()},[]),y=d.useCallback(R=>{l(K=>new Set(K).add(R));const W=i.current.get(R);W&&(g(W,p.fontSize),setTimeout(()=>{R===t.activeSession&&f()},100),setTimeout(()=>{R===t.activeSession&&f()},300))},[g,p.fontSize,f,t.activeSession]);d.useEffect(()=>{s.forEach(R=>{const W=i.current.get(R);W&&g(W,p.fontSize)})},[p.fontSize,s,g]),d.useEffect(()=>{b&&s.has(b)&&setTimeout(f,50)},[b,s,f]),d.useEffect(()=>{const R=new Set(t.boundSessions);i.current.forEach((W,K)=>{R.has(K)||i.current.delete(K)}),l(W=>{const K=new Set;return W.forEach(ne=>{R.has(ne)&&K.add(ne)}),K})},[t.boundSessions]);const w=d.useCallback(()=>{x(N)},[N,x]),C=d.useRef(j),S=d.useRef(t.boundSessions);d.useEffect(()=>{C.current=j,S.current=t.boundSessions},[j,t.boundSessions]),d.useEffect(()=>{const R=W=>{C.current&&W.ctrlKey&&(S.current.length<=1||(W.key==="ArrowRight"?(W.preventDefault(),h(e,t.id,"next")):W.key==="ArrowLeft"&&(W.preventDefault(),h(e,t.id,"prev"))))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,t.id,h]),d.useEffect(()=>{const R=a.current;if(!R)return;let W;const K=new ResizeObserver(()=>{clearTimeout(W),W=setTimeout(f,100)});return K.observe(R),()=>{clearTimeout(W),K.disconnect()}},[f]);const k=Yn[t.colorIndex%Yn.length],E=R=>{c(e,t.id,R)},T=R=>{u(e,t.id,R)},M=t.boundSessions.length>0,F=R=>`/terminal/?arg=${encodeURIComponent(R)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:o,className:`terminal-window ${j?"focused":""}`,tabIndex:-1,onClick:w,style:{"--window-accent":k.accent,"--window-bg":k.bg,"--window-border":k.border},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(R=>r.jsx(ty,{sessionName:R,isActive:R===b,workspaceId:e,windowId:t.id,onRemove:()=>E(R),onClick:()=>T(R)},R))}),r.jsxs("div",{className:"window-controls",children:[M&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${m?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:a,className:"terminal-window-body",children:[b==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:k.accent},children:r.jsx("span",{children:"Initializing Session..."})}):M?t.boundSessions.map(R=>{const W=R===b;return r.jsx("iframe",{ref:K=>{K&&i.current.set(R,K)},src:F(R),onLoad:()=>y(R),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:W?"block":"none",position:W?"relative":"absolute"},title:`Terminal ${t.id} - ${R}`},R)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(qv,{workspaceId:e,windowId:t.id,accentColor:k.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(ey,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function sy({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=ct(),l=t[e],i=l.windows,a=l.windowCount,o=()=>{switch(a){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsxs("div",{className:"terminal-area-controls",children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(c=>r.jsx("button",{className:`layout-btn ${a===c?"active":""}`,onClick:()=>n(e,c),title:`${c} window${c>1?"s":""}`,children:c},c))]}),r.jsx("div",{className:`terminal-grid ${o()}`,"data-workspace":e,children:i.slice(0,a).map(c=>r.jsx(ny,{workspaceId:e,window:c,isDragging:s},c.id))})]})}class te extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function Bo(e){return`/${e}`}const hn="/api/files";function hh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new te('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new te("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new te("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new te('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function gs(e,t){if(!e.ok)switch(e.status){case 403:throw new te("Permission denied","PERMISSION",403);case 404:throw new te("File not found","NOT_FOUND",404);case 409:throw new te("Already exists","CONFLICT",409);case 413:throw new te("File too large","STORAGE",413);case 507:throw new te("Insufficient storage","STORAGE",507);default:throw new te(`${t}: ${e.status}`,"SERVER",e.status)}}function Xn(e,t){if(e instanceof te)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function ph(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${hn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new te(l instanceof Error?l.message:"Network error","NETWORK")}gs(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new te("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new te("Invalid directory response","INVALID");if(s.isDir===!1)throw new te("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new te("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function mh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${hn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new te(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new te("Folder already exists","CONFLICT",409);gs(s,"Failed to create folder")}async function ry(e,t){let n;try{n=await fetch(`${hn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new te(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new te("Destination already exists","CONFLICT",409);gs(n,"Failed to rename")}async function ly(e){let t;try{t=await fetch(`${hn}/resources${e}`,{method:"DELETE"})}catch(n){throw new te(n instanceof Error?n.message:"Network error","NETWORK")}gs(t,"Failed to delete")}async function _a(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=hh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let a;try{a=await fetch(`${hn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(o){throw new te(o instanceof Error?o.message:"Network error","NETWORK")}if(a.status===413)throw new te("File too large","STORAGE",413);if(a.status===507)throw new te("Insufficient storage","STORAGE",507);gs(a,`Failed to upload ${l}`)}}async function iy(e){try{return(await fetch(`${hn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Wo(e){return`${hn}/raw${e}?inline=false`}async function ay(e,t){for(const{file:n,relativePath:s}of t){const a=s.split("/").filter(u=>u.length>0).map(u=>hh(u)).join("/"),o=`${e}/${a}`;let c;try{c=await fetch(`${hn}/resources${o}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new te(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new te("File too large","STORAGE",413);if(c.status===507)throw new te("Insufficient storage","STORAGE",507);gs(c,`Failed to upload ${a}`)}}function oy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,a)=>{const o="/"+n.slice(0,a+1).join("/"),c=a===n.length-1,u=a===0?Bo(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(o),disabled:c,children:u})]},o)})]})}function Aa(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function cy(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const a=Math.floor(s/6e4);return a<=1?"Just now":`${a} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function gh(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function uy({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:gh(e)})}function Fi({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const a=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${a?"active":""}`,onClick:()=>l(t),children:[e,a&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function dy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:a,renameValue:o,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:v}){const x=d.useRef(null);d.useEffect(()=>{if(a&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[a,e.name]);const N=()=>{v||(e.isDir?s():window.open(Wo(e.path),"_blank"))},j=f=>{v||(f.key==="Enter"&&!a?N():f.key==="F2"&&!a&&i())},b=f=>{f.key==="Enter"?u():f.key==="Escape"&&h()},m=p?Bo(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${v?"disabled":""}`,onClick:v?void 0:n,onDoubleClick:N,onContextMenu:v?void 0:l,onKeyDown:j,tabIndex:v?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(uy,{item:e}),a?r.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:o,onChange:f=>c(f.target.value),onKeyDown:b,onBlur:h}):r.jsx("span",{className:"fb-filename",children:m})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Aa(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:cy(e.modified)})]})}function fy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:a}){const o=()=>{a||(e.isDir?s():window.open(Wo(e.path),"_blank"))},c=i?Bo(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${a?"disabled":""}`,onClick:a?void 0:n,onDoubleClick:o,onContextMenu:a?void 0:l,tabIndex:a?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:gh(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function hy({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:a,onCopyPath:o,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&s()},v=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",v),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}},[s]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function py({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=d.useState(""),a=d.useRef(null);d.useEffect(()=>{var c;(c=a.current)==null||c.focus()},[]);const o=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:o,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:a,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function my({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function gy({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=d.useState(!1),[i,a]=d.useState(!1),[o,c]=d.useState(null),u=d.useRef(null),h=j=>{j.preventDefault(),j.stopPropagation(),l(!0)},p=j=>{j.preventDefault(),j.stopPropagation(),l(!1)},v=async j=>{j.preventDefault(),j.stopPropagation(),l(!1);const b=j.dataTransfer.files;b.length>0&&await x(b)},x=async j=>{a(!0),c(`Uploading ${j.length} file${j.length>1?"s":""}...`);try{await _a(e,j),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(b){const m=Xn(b,"upload");c(null),n(m)}finally{a(!1)}},N=j=>{j.target.files&&j.target.files.length>0&&x(j.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:v,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:N,style:{display:"none"}}),o?r.jsx("span",{className:"fb-upload-status",children:o}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var j;return(j=u.current)==null?void 0:j.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function vh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((o,c)=>{s.readEntries(o,c)});let i=[],a;do a=await l(),i=i.concat(a);while(a.length>0);for(const o of i){const c=t?`${t}/${o.name}`:o.name;if(o.isFile){const u=o,h=await new Promise((p,v)=>{u.file(p,v)});n.push({file:h,relativePath:c})}else if(o.isDirectory){const u=await vh(o,c);n.push(...u)}}return n}async function vy(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const a=l.getAsFile();a&&t.push({type:"file",name:a.name,size:a.size,file:a});continue}if(i.isFile){const a=l.getAsFile();a&&t.push({type:"file",name:a.name,size:a.size,file:a})}else if(i.isDirectory){const a=await vh(i,i.name),o=a.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:o,filesWithPaths:a})}}return t}function yy({onError:e}){const[t,n]=d.useState([]),[s,l]=d.useState(""),[i,a]=d.useState(!1),[o,c]=d.useState(!1),[u,h]=d.useState("idle"),p=d.useRef(null),v=d.useRef(null),x="/code/incoming",N=E=>{E.preventDefault(),E.stopPropagation(),a(!0)},j=E=>{E.preventDefault(),E.stopPropagation(),a(!1)},b=async E=>{if(E.preventDefault(),E.stopPropagation(),a(!1),E.dataTransfer.items&&E.dataTransfer.items.length>0){const T=await vy(E.dataTransfer.items);T.length>0&&(n(M=>[...M,...T]),h("idle"))}else if(E.dataTransfer.files.length>0){const T=Array.from(E.dataTransfer.files).map(M=>({type:"file",name:M.name,size:M.size,file:M}));n(M=>[...M,...T]),h("idle")}},m=E=>{if(E.target.files&&E.target.files.length>0){const T=Array.from(E.target.files).map(M=>({type:"file",name:M.name,size:M.size,file:M}));n(M=>[...M,...T]),h("idle")}},f=E=>{if(E.target.files&&E.target.files.length>0){const T=Array.from(E.target.files),M=new Map;for(const R of T){const W=R.webkitRelativePath||R.name,K=W.split("/")[0];M.has(K)||M.set(K,[]),M.get(K).push({file:R,relativePath:W})}const F=Array.from(M.entries()).map(([R,W])=>({type:"folder",name:R,size:W.reduce((K,ne)=>K+ne.file.size,0),filesWithPaths:W}));n(R=>[...R,...F]),h("idle")}},g=E=>{n(T=>T.filter((M,F)=>F!==E))},y=async()=>{if(t.length!==0){c(!0);try{await iy(x)||await mh("/code","incoming");for(const T of t)T.type==="file"&&T.file?await _a(x,[T.file]):T.type==="folder"&&T.filesWithPaths&&await ay(x,T.filesWithPaths);if(s.trim()&&t.length>0){const T=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await _a(x,[T])}h("success"),n([]),l(""),p.current&&(p.current.value=""),v.current&&(v.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(E){h("error");const T=Xn(E,"upload");e(`Failed to send: ${T}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},w=t.reduce((E,T)=>E+T.size,0),C=t.reduce((E,T)=>{var M;return T.type==="file"?E+1:E+(((M=T.filesWithPaths)==null?void 0:M.length)||0)},0),S=t.filter(E=>E.type==="folder").length,k=t.filter(E=>E.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:N,onDragLeave:j,onDrop:b,children:[r.jsx("input",{ref:p,type:"file",multiple:!0,onChange:m,style:{display:"none"}}),r.jsx("input",{ref:v,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((E,T)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:E.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[E.name,E.type==="folder"&&E.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",E.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:Aa(E.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:M=>{M.stopPropagation(),g(T)},children:""})]},`${E.name}-${T}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:E=>{var T;E.stopPropagation(),(T=p.current)==null||T.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:E=>{var T;E.stopPropagation(),(T=v.current)==null||T.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:E=>{var T;E.stopPropagation(),(T=p.current)==null||T.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:E=>{var T;E.stopPropagation(),(T=v.current)==null||T.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:E=>l(E.target.value),disabled:o,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[S>0&&`${S} folder${S>1?"s":""}`,S>0&&k>0&&", ",k>0&&`${k} file${k>1?"s":""}`," ","(",C," total)  ",Aa(w)]}),r.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||o,children:o?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function xy(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function jy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function wy(){const[e,t]=d.useState("browser"),[n,s]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[a,o]=d.useState(null),[c,u]=d.useState(null),[h,p]=d.useState(null),[v,x]=d.useState(""),[N,j]=d.useState(!1),[b,m]=d.useState(null),[f,g]=d.useState(["/"]),[y,w]=d.useState(0),C=d.useCallback(P=>{o(P)},[]),S=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),k=d.useCallback(async P=>{s($=>({...$,loading:!0,error:null}));try{const $=await ph(P);s(D=>({...D,items:$,loading:!1,currentPath:P,selectedItems:new Set,error:null}))}catch($){const D=Xn($,"fetch");s(L=>({...L,loading:!1,error:D,items:[]}))}},[]);d.useEffect(()=>{k("/")},[k]);const E=d.useCallback((P,$=!0)=>{if($){const D=[...f.slice(0,y+1),P];g(D),w(D.length-1)}k(P)},[k,f,y]),T=d.useCallback(()=>{if(y>0){const P=y-1;w(P),k(f[P])}},[y,f,k]),M=d.useCallback(()=>{if(y<f.length-1){const P=y+1;w(P),k(f[P])}},[y,f,k]),F=d.useCallback(()=>{const P=n.currentPath.split("/").filter(Boolean);P.length>0&&(P.pop(),E("/"+P.join("/")))},[n.currentPath,E]),R=d.useMemo(()=>{const P=[...n.items],$=n.searchQuery?P.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):P;return $.sort((D,L)=>{if(D.isDir!==L.isDir)return D.isDir?-1:1;let _=0;switch(n.sortBy){case"name":_=D.name.localeCompare(L.name);break;case"size":_=D.size-L.size;break;case"modified":_=new Date(D.modified).getTime()-new Date(L.modified).getTime();break}return n.sortDir==="asc"?_:-_}),$},[n.items,n.sortBy,n.sortDir,n.searchQuery]),W=P=>{s($=>({...$,sortBy:P,sortDir:$.sortBy===P&&$.sortDir==="asc"?"desc":"asc"}))},K=(P,$)=>{if($.preventDefault(),$.ctrlKey||$.metaKey)s(D=>{const L=new Set(D.selectedItems);return L.has(P.name)?L.delete(P.name):L.add(P.name),{...D,selectedItems:L}});else if($.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),L=R.findIndex(B=>B.name===D),_=R.findIndex(B=>B.name===P.name),V=Math.min(L,_),H=Math.max(L,_),ie=new Set(R.slice(V,H+1).map(B=>B.name));s(B=>({...B,selectedItems:ie}))}else s(D=>({...D,selectedItems:new Set([P.name])}))},ne=(P,$)=>{$.preventDefault(),u({x:$.clientX,y:$.clientY,item:P}),P&&!n.selectedItems.has(P.name)&&s(D=>({...D,selectedItems:new Set([P.name])}))},Z=P=>{p(P.name),x(P.name),u(null)},O=async()=>{if(!h||!v.trim()||v===h){U();return}const P=n.items.find(D=>D.name===h);if(!P)return;const $=n.currentPath==="/"?`/${v}`:`${n.currentPath}/${v}`;i({type:"rename",loading:!0,error:null,target:P.name});try{await ry(P.path,$),await k(n.currentPath),S()}catch(D){const L=Xn(D,"rename");i({type:"rename",loading:!1,error:L,target:P.name}),C(L)}finally{U()}},U=()=>{p(null),x("")},A=async()=>{if(b){i({type:"delete",loading:!0,error:null,target:b.name});try{await ly(b.path),await k(n.currentPath),S(),m(null)}catch(P){const $=Xn(P,"delete");i({type:"delete",loading:!1,error:$,target:b.name}),C($)}}},Y=async P=>{i({type:"create",loading:!0,error:null,target:P});try{await mh(n.currentPath,P),await k(n.currentPath),S(),j(!1)}catch($){const D=Xn($,"create");i({type:"create",loading:!1,error:D,target:P})}},Q=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Wo(c.item.path),"_blank"),u(null)},we=()=>{if(c!=null&&c.item){const P=c.item.path;navigator.clipboard.writeText(P)}u(null)};d.useEffect(()=>{const P=$=>{if(e==="browser"&&!($.target.tagName==="INPUT"||$.target.tagName==="TEXTAREA"))if($.key==="F5")$.preventDefault(),k(n.currentPath);else if($.key==="Backspace")$.preventDefault(),F();else if($.key==="Delete"){const D=n.items.find(L=>n.selectedItems.has(L.name));D&&m(D)}else if($.key==="F2"){const D=n.items.find(L=>n.selectedItems.has(L.name));D&&Z(D)}else $.ctrlKey&&$.key==="a"&&($.preventDefault(),s(D=>({...D,selectedItems:new Set(D.items.map(L=>L.name))})))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,n.currentPath,n.items,n.selectedItems,k,F]);const ge=n.currentPath==="/"||n.currentPath==="",Ce=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[a&&r.jsx(jy,{message:a,onDismiss:()=>o(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(gy,{currentPath:n.currentPath,onUploadComplete:()=>k(n.currentPath),onError:C}),r.jsx("button",{className:"fb-btn",onClick:()=>j(!0),title:"New Folder",disabled:Ce,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>k(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(yy,{onError:C}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:T,disabled:y===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:M,disabled:y>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:F,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(oy,{path:n.currentPath,onNavigate:E}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:P=>s($=>({...$,searchQuery:P.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(P=>({...P,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:P=>{P.target.closest(".fb-row, .fb-grid-item")||ne(null,P)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>k(n.currentPath),children:"Retry"})]}):R.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(Fi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-name"}),r.jsx(Fi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-size"}),r.jsx(Fi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:R.map(P=>r.jsx(dy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:$=>K(P,$),onNavigate:()=>E(P.path),onContextMenu:$=>ne(P,$),onRename:()=>Z(P),isRenaming:h===P.name,renameValue:v,setRenameValue:x,onRenameSubmit:O,onRenameCancel:U,isAtRoot:ge,disabled:Ce},P.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:R.map(P=>r.jsx(fy,{item:P,isSelected:n.selectedItems.has(P.name),onSelect:$=>K(P,$),onNavigate:()=>E(P.path),onContextMenu:$=>ne(P,$),isAtRoot:ge,disabled:Ce},P.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[R.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),Ce&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(xy,{})}),c&&r.jsx(hy,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:Q,onRename:()=>c.item&&Z(c.item),onDelete:()=>c.item&&m(c.item),onCopyPath:we,onNewFolder:()=>{u(null),j(!0)}}),N&&r.jsx(py,{onClose:()=>{j(!1),S()},onCreate:Y,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),b&&r.jsx(my,{item:b,onClose:()=>{m(null),S()},onConfirm:A,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function Ny({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=d.useState(n),[i,a]=d.useState([]),[o,c]=d.useState(!0),[u,h]=d.useState(null),[p,v]=d.useState(!1),x=d.useCallback(async y=>{try{const w=y==="/"?"/.beads":`${y}/.beads`,C=await fetch(`/api/files/resources${w}`);return C.ok?(await C.json()).isDir===!0:!1}catch{return!1}},[]),N=d.useCallback(async y=>{c(!0),h(null);try{const C=(await ph(y)).filter(E=>E.isDir),S=await x(y);v(S);const k=await Promise.all(C.map(async E=>({...E,hasBeads:await x(E.path)})));a(k)}catch(w){h(w instanceof Error?w.message:"Failed to load directory"),a([])}finally{c(!1)}},[x]);d.useEffect(()=>{N(s)},[s,N]);const j=y=>{l(y)},b=()=>{if(s==="/")return;const y=s.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},m=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((y,w,C)=>({name:y,path:"/"+C.slice(0,w+1).join("/")}))],f=()=>{e(s)},g=y=>{y.target===y.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:g,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:b,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:m.map((y,w)=>r.jsxs("span",{children:[w>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>j(y.path),children:y.name})]},y.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),p&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:o?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>r.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>j(y.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function On({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Sy(){var v,x,N,j,b,m;const{settings:e,updateSettings:t}=ct(),[n,s]=d.useState(!1),l=f=>{const g=e.beadsProjectPaths||[];g.includes(f)||t({beadsProjectPaths:[...g,f]}),s(!1)},i=f=>{const g=e.beadsProjectPaths||[];t({beadsProjectPaths:g.filter(y=>y!==f)})},a=f=>{t({theme:f})},o=f=>{const g=parseInt(f.target.value,10);g>=12&&g<=20&&t({fontSize:g})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},h=(f,g)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:g}})},p=f=>{const g=Iv[f];g&&t({tmuxAppearance:g})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>a(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:o,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>p(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Background",value:((v=e.tmuxAppearance)==null?void 0:v.statusBg)??"#000000",onChange:f=>h("statusBg",f)}),r.jsx(On,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>h("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Active",value:((N=e.tmuxAppearance)==null?void 0:N.paneBorderActive)??"#00ff41",onChange:f=>h("paneBorderActive",f)}),r.jsx(On,{label:"Inactive",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderInactive)??"#333333",onChange:f=>h("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Background",value:((b=e.tmuxAppearance)==null?void 0:b.modeStyleBg)??"#00ff41",onChange:f=>h("modeStyleBg",f)}),r.jsx(On,{label:"Foreground",value:((m=e.tmuxAppearance)==null?void 0:m.modeStyleFg)??"#000000",onChange:f=>h("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(Ny,{onSelect:l,onClose:()=>s(!1)})]})}function ky(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[s,l]=d.useState(!1),[i,a]=d.useState({x:80,y:60}),[o]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),h=d.useRef({x:0,y:0}),p=d.useRef(null),v=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const x=d.useCallback(()=>{try{const f=p.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),N=d.useCallback(f=>{const g=p.current;if(!(g!=null&&g.contentWindow))return;let y=0;const w=20,C=()=>{try{const S=g.contentWindow;if(S.term){S.term.options.fontSize=f;return}}catch{}y++,y<w&&setTimeout(C,50)};C()},[]),j=d.useCallback(()=>{l(!0),N(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[N,n.fontSize,x]);d.useEffect(()=>{s&&N(n.fontSize)},[s,n.fontSize,N]),d.useEffect(()=>{const f=v.current;if(!f)return;let g;const y=new ResizeObserver(()=>{clearTimeout(g),g=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(g),y.disconnect()}},[x]);const b=f=>{f.target.closest(".modal-close")||(u(!0),h.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=y=>{a({x:y.clientX-h.current.x,y:y.clientY-h.current.y})},g=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)}},[c]),!e)return null;const m=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:o.width,height:o.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:b,children:[r.jsx("span",{className:"modal-title",children:m}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:v,className:"floating-modal-body",children:r.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:j,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const by=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function Cy(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(Nu,{});case"terminals":return r.jsx(Ey,{});case"sessions":return r.jsx(Ty,{});case"files":return r.jsx(Py,{});case"tmux":return r.jsx(Dy,{});default:return r.jsx(Nu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:by.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Nu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Ey(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Py(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Dy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const si="/api/beads";async function ri(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Ry(){const{settings:e}=ct(),[t,n]=d.useState([]),[s,l]=d.useState(!0),[i,a]=d.useState(null),o=d.useCallback(async()=>{var c;l(!0),a(null);try{const u=await ri(`${si}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const v of p){if(h.some(N=>N.path===v))continue;const x=v.split("/").filter(Boolean).pop()||v;h.push({name:x,path:v,beadsPath:`${v}/.beads`})}n(h),!u.success&&p.length===0&&a(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){a(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{o()},[o]),{projects:t,loading:s,error:i,refresh:o}}function Iy(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,a]=d.useState(null),o=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),a(null);try{const u=await ri(`${si}/issues`,{path:e});u.success&&u.data?n(u.data.issues):a(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){a(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{o()},[o]),{issues:t,loading:s,error:i,refresh:o}}function My(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,a]=d.useState(null),o=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),a(null);try{const u=await ri(`${si}/triage`,{path:e});u.success&&u.data?n(u.data):a(((c=u.error)==null?void 0:c.message)||"Failed to fetch triage")}catch(u){a(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{o()},[o]),{triage:t,loading:s,error:i,refresh:o}}function Ly(e){const[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,a]=d.useState(null),o=d.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),a(null);try{const u=await ri(`${si}/insights`,{path:e});u.success&&u.data?n(u.data):a(((c=u.error)==null?void 0:c.message)||"Failed to fetch insights")}catch(u){a(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{o()},[o]),{insights:t,loading:s,error:i,refresh:o}}function Oy({projects:e,selectedPath:t,onSelect:n,loading:s}){return s?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"Loading projects..."})})}):e.length===0?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"No projects with .beads found"})})}):r.jsxs("div",{className:"project-selector",children:[r.jsx("label",{htmlFor:"project-select",children:"Project:"}),r.jsxs("select",{id:"project-select",value:t||"",onChange:l=>n(l.target.value),children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(l=>r.jsxs("option",{value:l.path,children:[l.name," (",l.path,")"]},l.path))]})]})}const _y={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)"},Ay={bug:"",feature:"",task:"",chore:"",epic:""};function Su(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function ku(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function Fy(e){return e.replace(/_/g," ")}function Qs({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=_y[e.status]||"var(--text-secondary)",i=e.type&&Ay[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${ku(e.priority)}`,children:Su(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${ku(e.priority)}`,children:Su(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:Fy(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((a,o)=>r.jsxs("span",{className:"dep-id",children:[a,o<e.dependencies.length-1?", ":""]},a))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(a=>r.jsx("span",{className:"issue-label",children:a},a))})]})}const bu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function zy({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of bu.map(a=>a.status))s.set(i,[]);const l=[];for(const i of e){const a=i.status;s.has(a)?s.get(a).push(i):l.push(i)}for(const[,i]of s)i.sort((a,o)=>(a.priority||99)-(o.priority||99));return l.sort((i,a)=>(i.priority||99)-(a.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[bu.map(i=>{const a=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:a.length})]}),r.jsx("div",{className:"kanban-column-content",children:a.map(o=>r.jsx(Qs,{issue:o,showDependencies:!0},o.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(Qs,{issue:i,showDependencies:!0},i.id))})]})]})}const $y={high:"var(--beads-impact-high)",medium:"var(--beads-impact-medium)",low:"var(--beads-impact-low)"};function zi(e,t){return e.find(n=>n.id===t)}function By({triage:e,issues:t,loading:n,error:s}){return n?r.jsx("div",{className:"beads-triage loading",children:r.jsx("div",{className:"loading-message",children:"Analyzing issues..."})}):s?r.jsx("div",{className:"beads-triage error",children:r.jsx("div",{className:"error-message",children:s})}):e?r.jsx("div",{className:"beads-triage",children:r.jsxs("div",{className:"triage-sections",children:[r.jsxs("section",{className:"triage-section recommendations",children:[r.jsx("h3",{children:"Recommended Next"}),e.recommendations.length===0?r.jsx("p",{className:"no-items",children:"No recommendations"}):r.jsx("div",{className:"recommendation-list",children:e.recommendations.map(l=>{const i=zi(t,l.issueId);return r.jsxs("div",{className:"recommendation-item",children:[r.jsxs("div",{className:"rec-header",children:[r.jsxs("span",{className:"rec-rank",children:["#",l.rank]}),r.jsxs("span",{className:"rec-impact",style:{color:$y[l.estimatedImpact]},children:[l.estimatedImpact," impact"]})]}),i?r.jsx(Qs,{issue:i}):r.jsxs("div",{className:"issue-card missing",children:[r.jsx("span",{className:"issue-id",children:l.issueId}),r.jsx("span",{className:"issue-missing",children:"(issue not found)"})]}),r.jsx("div",{className:"rec-reasoning",children:l.reasoning})]},l.issueId)})})]}),r.jsxs("section",{className:"triage-section quick-wins",children:[r.jsx("h3",{children:"Quick Wins"}),r.jsx("p",{className:"section-desc",children:"Low-effort issues with no dependencies"}),e.quickWins.length===0?r.jsx("p",{className:"no-items",children:"No quick wins identified"}):r.jsx("div",{className:"quick-wins-list",children:e.quickWins.map(l=>{const i=zi(t,l);return i?r.jsx(Qs,{issue:i,compact:!0},l):r.jsx("div",{className:"issue-card compact missing",children:r.jsx("span",{className:"issue-id",children:l})},l)})})]}),r.jsxs("section",{className:"triage-section blockers",children:[r.jsx("h3",{children:"Blockers"}),r.jsx("p",{className:"section-desc",children:"Issues blocking other work"}),e.blockers.length===0?r.jsx("p",{className:"no-items",children:"No blockers identified"}):r.jsx("div",{className:"blockers-list",children:e.blockers.map(l=>{const i=zi(t,l);return i?r.jsx(Qs,{issue:i,showDependencies:!0},l):r.jsx("div",{className:"issue-card missing",children:r.jsx("span",{className:"issue-id",children:l})},l)})})]})]})}):r.jsx("div",{className:"beads-triage empty",children:r.jsx("div",{className:"empty-message",children:"No triage data available"})})}function Wy({score:e}){const t=n=>n>=80?"var(--beads-health-good)":n>=50?"var(--beads-health-warning)":"var(--beads-health-critical)";return r.jsxs("div",{className:"health-gauge",children:[r.jsxs("div",{className:"gauge-circle",children:[r.jsxs("svg",{viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t(e),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${e*2.83} 283`,transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"gauge-value",children:e})]}),r.jsx("div",{className:"gauge-label",children:"Health Score"})]})}function Ur({label:e,value:t,variant:n}){return r.jsxs("div",{className:`stat-card ${n||""}`,children:[r.jsx("div",{className:"stat-value",children:t}),r.jsx("div",{className:"stat-label",children:e})]})}function Uy({insights:e,loading:t,error:n}){return t?r.jsx("div",{className:"beads-insights loading",children:r.jsx("div",{className:"loading-message",children:"Calculating insights..."})}):n?r.jsx("div",{className:"beads-insights error",children:r.jsx("div",{className:"error-message",children:n})}):e?r.jsx("div",{className:"beads-insights",children:r.jsxs("div",{className:"insights-grid",children:[r.jsx("div",{className:"insights-section health-section",children:r.jsx(Wy,{score:e.health.score})}),r.jsxs("div",{className:"insights-section stats-section",children:[r.jsx("h3",{children:"Overview"}),r.jsxs("div",{className:"stats-grid",children:[r.jsx(Ur,{label:"Total Issues",value:e.issueCount}),r.jsx(Ur,{label:"Open",value:e.openCount,variant:"open"}),r.jsx(Ur,{label:"Blocked",value:e.blockedCount,variant:"blocked"}),r.jsx(Ur,{label:"Closed",value:e.closedCount||0,variant:"closed"})]})]}),e.byStatus&&Object.keys(e.byStatus).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Status"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byStatus).map(([s,l])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:s.replace(/_/g," ")}),r.jsx("span",{className:"breakdown-value",children:l}),r.jsx("div",{className:"breakdown-bar",style:{width:`${l/e.issueCount*100}%`}})]},s))})]}),e.byType&&Object.keys(e.byType).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Type"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byType).map(([s,l])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:s}),r.jsx("span",{className:"breakdown-value",children:l}),r.jsx("div",{className:"breakdown-bar type-bar",style:{width:`${l/e.issueCount*100}%`}})]},s))})]}),e.health.risks.length>0&&r.jsxs("div",{className:"insights-section risks-section",children:[r.jsx("h3",{children:"Risks"}),r.jsx("ul",{className:"risks-list",children:e.health.risks.map((s,l)=>r.jsx("li",{className:"risk-item",children:s},l))})]}),e.health.warnings.length>0&&r.jsxs("div",{className:"insights-section warnings-section",children:[r.jsx("h3",{children:"Warnings"}),r.jsx("ul",{className:"warnings-list",children:e.health.warnings.map((s,l)=>r.jsx("li",{className:"warning-item",children:s},l))})]}),e.metrics&&r.jsxs("div",{className:"insights-section metrics-section",children:[r.jsx("h3",{children:"Graph Metrics"}),r.jsxs("div",{className:"metrics-content",children:[e.metrics.density!==void 0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Graph Density"}),r.jsxs("span",{className:"metric-value",children:[(e.metrics.density*100).toFixed(1),"%"]})]}),e.metrics.cycles&&e.metrics.cycles.length>0&&r.jsxs("div",{className:"metric-item warning",children:[r.jsx("span",{className:"metric-label",children:"Circular Dependencies"}),r.jsx("span",{className:"metric-value",children:e.metrics.cycles.length})]}),e.metrics.criticalPath&&e.metrics.criticalPath.length>0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Critical Path Length"}),r.jsx("span",{className:"metric-value",children:e.metrics.criticalPath.length})]})]})]})]})}):r.jsx("div",{className:"beads-insights empty",children:r.jsx("div",{className:"empty-message",children:"No insights available"})})}const Vy=[{id:"kanban",label:"Kanban"},{id:"triage",label:"Triage"},{id:"insights",label:"Insights"}];function Hy(){const[e,t]=d.useState("kanban"),[n,s]=d.useState(null),{projects:l,loading:i}=Ry(),{issues:a,loading:o,error:c,refresh:u}=Iy(n),{triage:h,loading:p,error:v,refresh:x}=My(n),{insights:N,loading:j,error:b,refresh:m}=Ly(n),f=d.useCallback(w=>{s(w||null)},[]),g=d.useCallback(()=>{u(),x(),m()},[u,x,m]),y=o||p||j;return r.jsxs("div",{className:"beads-view",children:[r.jsxs("div",{className:"beads-header",children:[r.jsx(Oy,{projects:l,selectedPath:n,onSelect:f,loading:i}),n&&r.jsx("button",{className:"beads-refresh-btn",onClick:g,disabled:y,title:"Refresh data",children:y?"Loading...":"Refresh"})]}),n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"beads-subtabs",children:Vy.map(w=>r.jsx("button",{className:`beads-subtab ${e===w.id?"active":""}`,onClick:()=>t(w.id),children:w.label},w.id))}),r.jsxs("div",{className:"beads-content",children:[e==="kanban"&&r.jsx(zy,{issues:a,loading:o,error:c}),e==="triage"&&r.jsx(By,{triage:h,issues:a,loading:p,error:v}),e==="insights"&&r.jsx(Uy,{insights:N,loading:j,error:b})]})]}):r.jsxs("div",{className:"beads-empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"Select a Project"}),r.jsx("p",{children:"Choose a project with a .beads directory to view issues and insights."}),l.length===0&&!i&&r.jsx("p",{className:"empty-hint",children:"No projects found. Create a .beads directory in /code or /workspace to get started."})]})]})}const Ky=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Gy(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(Cu,{});case"agents":return r.jsx(Qy,{});case"molecules":return r.jsx(Yy,{});case"beads":return r.jsx(Xy,{});case"philosophy":return r.jsx(Jy,{});case"links":return r.jsx(Zy,{});default:return r.jsx(Cu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:Ky.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Cu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function Qy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function Yy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Xy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Jy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Zy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const Uo="/api/chat";function qy(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),a=d.useCallback(async()=>{var o,c;try{s(!0);const h=await(await fetch(`${Uo}/conversations`)).json();((o=h.data)==null?void 0:o.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{a()},[a]),{conversations:e,loading:n,error:l,refresh:a}}function ex(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,a]=d.useState(null),o=d.useCallback(async(c=!1)=>{var u,h;if(!e){n([]);return}try{c||l(!0);const p=encodeURIComponent(e),x=await(await fetch(`${Uo}/history?target=${p}`)).json();((u=x.data)==null?void 0:u.messages)!==void 0?(n(x.data.messages||[]),a(null)):a(((h=x.error)==null?void 0:h.message)||"Failed to load history")}catch{a("Network error")}finally{c||l(!1)}},[e]);return d.useEffect(()=>{o()},[o]),{messages:t,loading:s,error:i,refresh:o}}async function tx(e,t,n){var s,l,i,a,o;try{const u=await(await fetch(`${Uo}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,target:t,message:n})})).json();return(s=u.data)!=null&&s.success?{success:!0,messageId:(l=u.data)==null?void 0:l.messageId,mailSent:((i=u.data)==null?void 0:i.mailSent)??!1,nudged:((a=u.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((o=u.error)==null?void 0:o.message)||"Send failed"}}catch{return{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}function nx(){const[e,t]=d.useState(null),[n,s]=d.useState("list"),[l,i]=d.useState(""),[a,o]=d.useState(!1),[c,u]=d.useState([]),[h,p]=d.useState(!1),{conversations:v,loading:x,refresh:N}=qy(),{messages:j,loading:b,refresh:m}=ex(e),{addToast:f}=Pn(),g=d.useRef(null),y=d.useRef(null);d.useEffect(()=>{var F;(F=g.current)==null||F.scrollIntoView({behavior:"smooth"})},[j,c]),d.useEffect(()=>{var F;e&&((F=y.current)==null||F.focus())},[e]),d.useEffect(()=>{if(!e)return;const F=setInterval(()=>{m(!0)},5e3);return()=>clearInterval(F)},[e,m]);const w=v.find(F=>F.target===e),C=F=>{t(F),s("chat"),u([])},S=()=>{s("list")},k=async()=>{if(!w||!w.workspace||!l.trim()||a)return;const F=l.trim();i(""),o(!0);const R={id:`optimistic-${Date.now()}`,role:"user",from:"you",to:w.target,content:F,timestamp:new Date().toISOString(),read:!0};u(K=>[...K,R]);const W=await tx(w.workspace,w.target,F);if(W.success){const K=[];W.mailSent&&K.push("Mail sent"),W.nudged&&K.push("Agent nudged"),f(K.join(", ")||"Message sent","success"),setTimeout(()=>{m(),u([])},1e3)}else f(W.error||"Send failed","error"),u(K=>K.filter(ne=>ne.id!==R.id));o(!1)},E=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),k())},T=F=>{i(F.target.value);const R=F.target;R.style.height="auto",R.style.height=Math.min(R.scrollHeight,120)+"px"},M=[...j,...c];return r.jsxs("div",{className:`chrote-chat mobile-view-${n}`,children:[r.jsxs("div",{className:`chat-sidebar ${h?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>p(!h),title:h?"Expand":"Collapse",children:h?"":""}),!h&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>N(),disabled:x,title:"Refresh",children:""})]})]}),!h&&r.jsx("div",{className:"chat-conversations",children:x&&v.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):v.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):v.map(F=>r.jsx(sx,{conversation:F,selected:F.target===e,onClick:()=>C(F.target)},F.target))})]}),r.jsx("div",{className:"chat-main",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("button",{className:"chat-back-btn mobile-only",onClick:S,children:""}),r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(w==null?void 0:w.displayName)||e}),r.jsx("span",{className:`chat-header-status ${w!=null&&w.online?"online":"offline"}`,children:w!=null&&w.online?"Online":"Offline"})]}),r.jsx("button",{className:"refresh-btn",onClick:()=>m(),disabled:b,title:"Refresh history",children:""})]}),r.jsxs("div",{className:"chat-messages",children:[b&&M.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):M.length===0?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):M.map(F=>r.jsx(rx,{message:F},F.id)),r.jsx("div",{ref:g})]}),r.jsxs("div",{className:"chat-input-area",children:[!(w!=null&&w.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:y,className:"chat-input",value:l,onChange:T,onKeyDown:E,placeholder:w!=null&&w.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:a||!(w!=null&&w.workspace)}),r.jsx("button",{className:"chat-send-btn",onClick:k,disabled:!l.trim()||a||!(w!=null&&w.workspace),title:w!=null&&w.workspace?"Send (Enter)":"No workspace detected",children:a?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})})]})}function sx({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function rx({message:e}){const t=e.role==="user",n=e.id.startsWith("optimistic-"),s=l=>{try{return new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"} ${n?"optimistic":""}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((l,i)=>r.jsx("p",{children:l||""},i))}),r.jsxs("div",{className:"chat-message-meta",children:[r.jsx("span",{className:"chat-message-time",children:s(e.timestamp)}),n&&r.jsx("span",{className:"chat-message-sending",children:"Sending..."})]})]})}const Vo="/api/newchat";function lx(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),a=d.useCallback(async()=>{var o,c;try{s(!0);const h=await(await fetch(`${Vo}/conversations`)).json();((o=h.data)==null?void 0:o.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{a()},[a]),{conversations:e,loading:n,error:l,refresh:a}}function ix(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,a]=d.useState(null),o=d.useCallback(async(c=!1)=>{var u,h;if(!e){n([]);return}try{c||l(!0);const p=encodeURIComponent(e),x=await(await fetch(`${Vo}/history?target=${p}`)).json();((u=x.data)==null?void 0:u.messages)!==void 0?(n(x.data.messages||[]),a(null)):a(((h=x.error)==null?void 0:h.message)||"Failed to load history")}catch{a("Network error")}finally{c||l(!1)}},[e]);return d.useEffect(()=>{o()},[o]),{messages:t,loading:s,error:i,refresh:o}}async function ax(e,t,n){var s,l,i,a,o;try{const u=await(await fetch(`${Vo}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,target:t,message:n})})).json();return(s=u.data)!=null&&s.success?{success:!0,messageId:(l=u.data)==null?void 0:l.messageId,mailSent:((i=u.data)==null?void 0:i.mailSent)??!1,nudged:((a=u.data)==null?void 0:a.nudged)??!1}:{success:!1,error:((o=u.error)==null?void 0:o.message)||"Unknown error",mailSent:!1,nudged:!1}}catch{return{success:!1,error:"Network error",mailSent:!1,nudged:!1}}}const ox=({convo:e,active:t,onClick:n})=>r.jsxs("div",{className:`conversation-item ${t?"active":""}`,onClick:n,children:[r.jsxs("div",{className:"conversation-name",children:[r.jsx("span",{children:e.displayName||e.target}),e.unreadCount>0&&r.jsx("span",{className:"badge",children:e.unreadCount})]}),r.jsx("div",{className:"conversation-preview",children:e.lastMessage?e.lastMessage.content:"No messages yet"})]}),cx=({message:e})=>{const t=e.role==="user"||e.from==="you",s=new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:`message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"message-content",children:e.content}),r.jsx("div",{className:"message-meta",children:s})]})};function ux(){const[e,t]=d.useState(null),[n,s]=d.useState(""),[l,i]=d.useState(!1),[a,o]=d.useState([]),{conversations:c}=lx(),{messages:u,loading:h,refresh:p}=ix(e),{addToast:v}=Pn(),x=d.useRef(null),N=d.useRef(null),j=c.find(g=>g.target===e);d.useEffect(()=>{var g;(g=x.current)==null||g.scrollIntoView({behavior:"smooth"})},[u,a,e]),d.useEffect(()=>{var g;e&&((g=N.current)==null||g.focus())},[e]),d.useEffect(()=>{if(!e)return;const g=setInterval(()=>{p(!0)},5e3);return()=>clearInterval(g)},[e,p]);const b=async()=>{if(!e||!n.trim()||l||!j)return;const g=n.trim();s(""),i(!0);const y=`opt-${Date.now()}`,w={id:y,role:"user",from:"you",to:e,content:g,timestamp:new Date().toISOString(),read:!0};o(k=>[...k,w]);const C=j.workspace||"default",S=await ax(C,e,g);S.success?setTimeout(()=>{p(),o(k=>k.filter(E=>E.id!==y))},500):(v(S.error||"Failed to send","error"),o(k=>k.filter(E=>E.id!==y)),s(g)),i(!1)},m=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),b())},f=[...u,...a].sort((g,y)=>new Date(g.timestamp).getTime()-new Date(y.timestamp).getTime());return r.jsxs("div",{className:"new-chat-container",children:[r.jsxs("div",{className:"chat-sidebar",children:[r.jsx("div",{className:"chat-sidebar-header",children:"Messages"}),r.jsxs("div",{className:"conversation-list",children:[c.map(g=>r.jsx(ox,{convo:g,active:e===g.target,onClick:()=>t(g.target)},g.target)),c.length===0&&r.jsx("div",{style:{padding:20,textAlign:"center",opacity:.5},children:"No active conversations"})]})]}),r.jsx("div",{className:"chat-area",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("span",{children:(j==null?void 0:j.displayName)||e}),(j==null?void 0:j.role)&&r.jsx("span",{style:{fontSize:"0.8em",opacity:.7},children:j.role})]}),r.jsxs("div",{className:"messages-list",children:[h&&u.length===0?r.jsx("div",{style:{padding:20,textAlign:"center"},children:"Loading history..."}):f.map(g=>r.jsx(cx,{message:g},g.id)),f.length===0&&!h&&r.jsx("div",{style:{textAlign:"center",marginTop:40,opacity:.5},children:"This is the start of your conversation."}),r.jsx("div",{ref:x})]}),r.jsxs("div",{className:"chat-input-area",children:[r.jsx("textarea",{ref:N,className:"chat-input",placeholder:"Type a message...",value:n,onChange:g=>s(g.target.value),onKeyDown:m,disabled:l,rows:1}),r.jsx("button",{className:"send-button",onClick:b,disabled:!n.trim()||l,children:l?"...":"Send"})]})]}):r.jsxs("div",{className:"empty-state",children:[r.jsx("div",{className:"empty-state-icon",children:""}),r.jsx("h3",{children:"Select a conversation"}),r.jsx("p",{children:"Choose a contact from the sidebar to start chatting"})]})})]})}const li="/api/claudechat";function dx(e){const t=d.useRef(null),n=d.useRef(null);d.useEffect(()=>{let s=!0;const l=()=>{if(!s)return;const i=new EventSource(`${li}/events`);t.current=i,i.onmessage=a=>{try{const o=JSON.parse(a.data);e(o)}catch(o){console.error("SSE parse error:",o)}},i.addEventListener("sent",a=>{try{const o=JSON.parse(a.data);e(o)}catch(o){console.error("SSE sent parse error:",o)}}),i.addEventListener("message",a=>{try{const o=JSON.parse(a.data);e(o)}catch(o){console.error("SSE message parse error:",o)}}),i.addEventListener("read",a=>{try{const o=JSON.parse(a.data);e(o)}catch(o){console.error("SSE read parse error:",o)}}),i.onerror=()=>{i.close(),t.current=null,s&&(n.current=window.setTimeout(l,3e3))}};return l(),()=>{s=!1,n.current&&clearTimeout(n.current),t.current&&t.current.close()}},[e])}function fx(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),a=d.useCallback(async()=>{var o,c;try{const h=await(await fetch(`${li}/conversations`)).json();h.success&&((o=h.data)!=null&&o.conversations)?t(h.data.conversations):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{a()},[a]),{conversations:e,loading:n,error:l,refresh:a}}function hx(e,t){const[n,s]=d.useState([]),[l,i]=d.useState(!1),[a,o]=d.useState(null),c=d.useCallback(async(u=!1)=>{var h;if(!e){s([]);return}u||i(!0);try{const p=new URLSearchParams({target:e});t&&p.append("workspace",t);const x=await(await fetch(`${li}/history?${p}`)).json();x.success&&((h=x.data)!=null&&h.messages)&&s(x.data.messages)}catch{u||o("Failed to load history")}finally{u||i(!1)}},[e,t]);return d.useEffect(()=>{c()},[c]),{messages:n,loading:l,error:a,refresh:c,setMessages:s}}async function px(e,t,n){var s;try{const i=await(await fetch(`${li}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,target:t,message:n})})).json();return i.success&&i.data?i.data:{success:!1,mailSent:!1,nudged:!1,error:((s=i.error)==null?void 0:s.message)||"Send failed"}}catch{return{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}function mx({conversations:e,selected:t,onSelect:n,collapsed:s,onToggleCollapse:l}){return s?r.jsx("div",{className:"claude-chat-sidebar collapsed",children:r.jsx("button",{className:"claude-chat-sidebar-toggle",onClick:l,title:"Expand sidebar",children:""})}):r.jsxs("div",{className:"claude-chat-sidebar",children:[r.jsxs("div",{className:"claude-chat-sidebar-header",children:[r.jsx("span",{className:"claude-chat-sidebar-title",children:"Conversations"}),r.jsx("button",{className:"claude-chat-sidebar-toggle",onClick:l,title:"Collapse sidebar",children:""})]}),r.jsx("div",{className:"claude-chat-conversation-list",children:e.length===0?r.jsx("div",{className:"claude-chat-empty",children:"No agents online"}):e.map(i=>r.jsxs("div",{className:`claude-chat-conversation-item ${t===i.target?"selected":""}`,onClick:()=>n(i.target),children:[r.jsx("span",{className:"claude-chat-conversation-name",children:i.displayName}),r.jsxs("div",{className:"claude-chat-conversation-meta",children:[i.online&&r.jsx("span",{className:"claude-chat-status-dot online",title:"Online"}),i.unreadCount>0&&r.jsx("span",{className:"claude-chat-unread-badge",children:i.unreadCount})]})]},i.target))})]})}function gx({messages:e,target:t,targetName:n,sending:s,onSend:l}){const[i,a]=d.useState(""),o=d.useRef(null),c=d.useRef(null);d.useEffect(()=>{var v;(v=o.current)==null||v.scrollIntoView({behavior:"smooth"})},[e]),d.useEffect(()=>{var v;t&&((v=c.current)==null||v.focus())},[t]);const u=()=>{const v=i.trim();!v||!t||s||(l(v),a(""))},h=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),u())},p=v=>{try{return new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return t?r.jsxs("div",{className:"claude-chat-main",children:[r.jsxs("div",{className:"claude-chat-header",children:[r.jsx("span",{className:"claude-chat-header-name",children:n}),r.jsx("span",{className:"claude-chat-header-status",children:" Online"})]}),r.jsxs("div",{className:"claude-chat-messages",children:[e.length===0?r.jsx("div",{className:"claude-chat-no-messages",children:"No messages yet. Say hello!"}):e.map(v=>r.jsx("div",{className:`claude-chat-message ${v.role==="user"?"outgoing":"incoming"}`,children:r.jsxs("div",{className:"claude-chat-message-bubble",children:[r.jsx("div",{className:"claude-chat-message-content",children:v.content}),r.jsx("div",{className:"claude-chat-message-time",children:p(v.timestamp)})]})},v.id)),r.jsx("div",{ref:o})]}),r.jsxs("div",{className:"claude-chat-input-area",children:[r.jsx("textarea",{ref:c,className:"claude-chat-input",value:i,onChange:v=>a(v.target.value),onKeyDown:h,placeholder:`Message ${n}...`,disabled:s,rows:1}),r.jsx("button",{className:"claude-chat-send-btn",onClick:u,disabled:!i.trim()||s,children:s?"...":"Send"})]})]}):r.jsx("div",{className:"claude-chat-main",children:r.jsxs("div",{className:"claude-chat-empty-state",children:[r.jsx("div",{className:"claude-chat-empty-icon",children:""}),r.jsx("div",{className:"claude-chat-empty-text",children:"Select a conversation to start chatting"})]})})}function vx(){const{addToast:e}=Pn(),[t,n]=d.useState(null),[s,l]=d.useState(!1),[i,a]=d.useState(!1),{conversations:o}=fx(),c=o.find(b=>b.target===t),u=(c==null?void 0:c.workspace)||null,{messages:h,setMessages:p}=hx(t,u),v=d.useCallback(b=>{if(b.type==="sent"||b.type==="message"){const m=b.data;t&&(m.to===t||m.from===t)&&p(f=>f.some(g=>g.id===m.id)?f:[...f,m])}else if(b.type==="read"){const{id:m}=b.data;p(f=>f.map(g=>g.id===m?{...g,read:!0}:g))}},[t,p]);dx(v);const x=async b=>{if(!t||!u){e("No workspace detected for this agent","error");return}a(!0);const m=await px(u,t,b);a(!1),m.success?m.mailSent&&m.nudged||(m.mailSent?e("Message sent (nudge failed)","warning"):m.nudged&&e("Nudge sent (mail failed)","warning")):e(m.error||"Failed to send message","error")},N=b=>{n(b)},j=(c==null?void 0:c.displayName)||t||"";return r.jsxs("div",{className:"claude-chat",children:[r.jsx(mx,{conversations:o,selected:t,onSelect:N,collapsed:s,onToggleCollapse:()=>l(!s)}),r.jsx(gx,{messages:h,target:t,targetName:j,sending:i,onSend:x})]})}class Vr extends d.Component{constructor(n){super(n);Yo(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Eu=4e3,Tu=300,yx={success:"",info:"",warning:"",error:""};function xx({toast:e,onRemove:t}){const[n,s]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const o=Date.now(),c=setInterval(()=>{const h=Date.now()-o,p=Math.max(0,100-h/Eu*100);i(p)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Tu)},Eu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const a=()=>{s(!0),setTimeout(()=>t(e.id),Tu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:yx[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:a,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function jx(){const{toasts:e,removeToast:t}=Pn();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(xx,{toast:n,onRemove:t},n.id))})}const wx=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function yh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function Nx({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(yh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function Sx({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(Nx,{...n},s))})]})}function kx({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:wx.map((l,i)=>r.jsx(Sx,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(yh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function bx({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:a}=ct(),[o,c]=d.useState(""),[u,h]=d.useState(null),[p,v]=d.useState(""),x=()=>{o.trim()&&s(o.trim())&&c("")},N=y=>{l(y),t()},j=y=>{i(y)},b=y=>{h(y.id),v(y.name)},m=()=>{u&&p.trim()&&(a(u,p.trim()),h(null),v(""))},f=()=>{h(null),v("")},g=y=>{let w=0,C=0;return Object.values(y.workspaces).forEach(S=>{w+=S.windowCount,S.windows.forEach(k=>{C+=k.boundSessions.length})}),`${w} windows, ${C} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:o,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!o.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((y,w)=>r.jsx("li",{className:"preset-item",children:u===y.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:C=>v(C.target.value),onKeyDown:C=>{C.key==="Enter"&&m(),C.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:m,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",w+1]}),r.jsx("span",{className:"preset-name",children:y.name}),r.jsx("span",{className:"preset-summary",children:g(y)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>N(y.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>b(y),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>j(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function Cx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:a,floatingSession:o,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:v}=ct(),x=d.useCallback(async()=>{try{const b=u.defaultSessionPrefix||"tmux",m=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${m}(\\d+)$`),g=h.map(S=>S.name.match(f)).filter(Boolean).map(S=>parseInt(S[1],10)),y=g.length>0?Math.max(...g)+1:1,w=`${b}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w})})).ok&&c()}catch(b){console.error("Failed to create session:",b)}},[u.defaultSessionPrefix,h,c]),N=d.useCallback(()=>{const b=document.querySelector(".session-search-input");b&&(b.focus(),b.select())},[]),j=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const b=m=>{const f=m.target,g=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(m.key==="Escape"){if(s)return;if(o){m.preventDefault(),a();return}}if(!(g||s)){if(m.key==="?"||m.shiftKey&&m.key==="/"){m.preventDefault(),n();return}if(m.key==="/"&&!m.ctrlKey&&!m.metaKey){m.preventDefault(),N();return}if(m.key==="Tab"&&!m.ctrlKey&&!m.shiftKey&&!m.altKey&&(e==="terminal1"||e==="terminal2")){m.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!m.ctrlKey&&!m.metaKey&&!m.altKey&&/^[1-4]$/.test(m.key)){const y=j();if(y){const w=parseInt(m.key,10),C=l[y];if(w<=C.windowCount){m.preventDefault();return}}}if(m.ctrlKey&&m.key==="s"){m.preventDefault(),i();return}if(m.ctrlKey&&m.key==="n"){m.preventDefault(),x();return}if(m.ctrlKey&&/^[1-9]$/.test(m.key)){const y=parseInt(m.key,10)-1;if(y<v.length){m.preventDefault(),p(v[y].id);return}}}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[e,t,n,s,o,a,N,i,x,j,l,p,v])}function Ex({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function Tx(){const[e,t]=d.useState("terminal1"),[n,s]=d.useState(null),[l,i]=d.useState(!1),[a,o]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:v}=ct(),x=d.useCallback(()=>i(!0),[]),N=d.useCallback(()=>i(!1),[]),j=d.useCallback(()=>o(!0),[]),b=d.useCallback(()=>o(!1),[]);Cx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",v.theme)},[v.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${v.fontSize}px`)},[v.fontSize]);const m=mg(pg(zo,{activationConstraint:{distance:4}})),f=y=>{var C,S;const w=(C=y.active.data.current)==null?void 0:C.type;s(w==="tag"?((S=y.active.data.current)==null?void 0:S.sessionName)??null:y.active.id),h(!0)},g=y=>{var S,k,E,T;const{active:w,over:C}=y;if(s(null),h(!1),!C){if(((S=w.data.current)==null?void 0:S.type)==="tag"){const{sessionName:M,sourceWindowId:F,sourceWorkspaceId:R}=w.data.current;u(R,F,M)}return}if(((k=C.data.current)==null?void 0:k.type)==="window"){const M=C.data.current.windowId,F=C.data.current.workspaceId;if(((E=w.data.current)==null?void 0:E.type)==="session")c(F,M,w.id);else if(((T=w.data.current)==null?void 0:T.type)==="tag"){const{sessionName:R,sourceWindowId:W,sourceWorkspaceId:K}=w.data.current;(W!==M||K!==F)&&c(F,M,R)}}};return r.jsxs(fv,{sensors:m,onDragStart:f,onDragEnd:g,children:[r.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[r.jsx(Vv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:j}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(Zv,{}),r.jsx(sy,{workspaceId:e})]}),e==="files"&&r.jsx(wy,{}),e==="beads"&&r.jsx(Vr,{children:r.jsx(Hy,{})}),e==="claudechat"&&r.jsx(Vr,{children:r.jsx(vx,{})}),e==="chat"&&r.jsx(Vr,{children:r.jsx(nx,{})}),e==="newchat"&&r.jsx(Vr,{children:r.jsx(ux,{})}),e==="manual"&&r.jsx(Gy,{}),e==="settings"&&r.jsx(Sy,{}),e==="help"&&r.jsx(Cy,{})]}),r.jsx(ky,{}),r.jsx(kx,{isOpen:l,onClose:N}),r.jsx(bx,{isOpen:a,onClose:b})]}),r.jsx(jx,{}),r.jsx(Rv,{children:n?r.jsx(Ex,{name:n}):null})]})}function Px(){return r.jsx(Wv,{children:r.jsx(Tx,{})})}$i.createRoot(document.getElementById("root")).render(r.jsx(he.StrictMode,{children:r.jsx(Lv,{children:r.jsx(Px,{})})}));
