var Dh=Object.defineProperty;var Rh=(e,t,n)=>t in e?Dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ua=(e,t,n)=>Rh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},Al={},Ru={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=Symbol.for("react.element"),Mh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),zh=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Bh=Symbol.for("react.memo"),Wh=Symbol.for("react.lazy"),Va=Symbol.iterator;function Uh(e){return e===null||typeof e!="object"?null:(e=Va&&e[Va]||e["@@iterator"],typeof e=="function"?e:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,Ou={};function ps(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lu(){}Lu.prototype=ps.prototype;function _o(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Iu}var Ao=_o.prototype=new Lu;Ao.constructor=_o;Mu(Ao,ps.prototype);Ao.isPureReactComponent=!0;var Ha=Array.isArray,_u=Object.prototype.hasOwnProperty,zo={current:null},Au={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_u.call(t,s)&&!Au.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:yr,type:e,key:i,ref:o,props:l,_owner:zo.current}}function Vh(e,t){return{$$typeof:yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fo(e){return typeof e=="object"&&e!==null&&e.$$typeof===yr}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ka=/\/+/g;function ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function Kr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yr:case Mh:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+ii(o,0):s,Ha(l)?(n="",e!=null&&(n=e.replace(Ka,"$&/")+"/"),Kr(l,t,n,"",function(d){return d})):l!=null&&(Fo(l)&&(l=Vh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ka,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ha(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+ii(i,a);o+=Kr(i,t,n,c,l)}else if(c=Uh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+ii(i,a++),o+=Kr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pr(e,t,n){if(e==null)return e;var s=[],l=0;return Kr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Kh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Gr={transition:null},Gh={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Gr,ReactCurrentOwner:zo};function Fu(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Pr,forEach:function(e,t,n){Pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pr(e,function(){t++}),t},toArray:function(e){return Pr(e,function(t){return t})||[]},only:function(e){if(!Fo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=ps;ee.Fragment=Oh;ee.Profiler=_h;ee.PureComponent=_o;ee.StrictMode=Lh;ee.Suspense=$h;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;ee.act=Fu;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Mu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)_u.call(t,c)&&!Au.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];s.children=a}return{$$typeof:yr,type:e.type,key:l,ref:i,props:s,_owner:o}};ee.createContext=function(e){return e={$$typeof:zh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ah,_context:e},e.Consumer=e};ee.createElement=zu;ee.createFactory=function(e){var t=zu.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Fh,render:e}};ee.isValidElement=Fo;ee.lazy=function(e){return{$$typeof:Wh,_payload:{_status:-1,_result:e},_init:Kh}};ee.memo=function(e,t){return{$$typeof:Bh,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Gr.transition;Gr.transition={};try{e()}finally{Gr.transition=t}};ee.unstable_act=Fu;ee.useCallback=function(e,t){return Be.current.useCallback(e,t)};ee.useContext=function(e){return Be.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Be.current.useEffect(e,t)};ee.useId=function(){return Be.current.useId()};ee.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Be.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};ee.useRef=function(e){return Be.current.useRef(e)};ee.useState=function(e){return Be.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Be.current.useTransition()};ee.version="18.3.1";Ru.exports=ee;var u=Ru.exports;const ye=Ih(u);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=u,Yh=Symbol.for("react.element"),Xh=Symbol.for("react.fragment"),Jh=Object.prototype.hasOwnProperty,Zh=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Jh.call(t,s)&&!qh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Yh,type:e,key:i,ref:o,props:l,_owner:Zh.current}}Al.Fragment=Xh;Al.jsx=$u;Al.jsxs=$u;Du.exports=Al;var r=Du.exports,Ai={},Bu={exports:{}},rt={},Wu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var R=L.length;L.push(B);e:for(;0<R;){var Z=R-1>>>1,J=L[Z];if(0<l(J,B))L[Z]=B,L[R]=J,R=Z;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var B=L[0],R=L.pop();if(R!==B){L[0]=R;e:for(var Z=0,J=L.length,de=J>>>1;Z<de;){var Y=2*(Z+1)-1,re=L[Y],E=Y+1,F=L[E];if(0>l(re,R))E<J&&0>l(F,re)?(L[Z]=F,L[E]=R,Z=E):(L[Z]=re,L[Y]=R,Z=Y);else if(E<J&&0>l(F,R))L[Z]=F,L[E]=R,Z=E;else break e}}return B}function l(L,B){var R=L.sortIndex-B.sortIndex;return R!==0?R:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,g=3,x=!1,j=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var B=n(d);B!==null;){if(B.callback===null)s(d);else if(B.startTime<=L)s(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(d)}}function y(L){if(w=!1,v(L),!j)if(n(c)!==null)j=!0,q(S);else{var B=n(d);B!==null&&X(y,B.startTime-L)}}function S(L,B){j=!1,w&&(w=!1,m(C),C=-1),x=!0;var R=g;try{for(v(B),h=n(c);h!==null&&(!(h.expirationTime>B)||L&&!_());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,g=h.priorityLevel;var J=Z(h.expirationTime<=B);B=e.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&s(c),v(B)}else s(c);h=n(c)}if(h!==null)var de=!0;else{var Y=n(d);Y!==null&&X(y,Y.startTime-B),de=!1}return de}finally{h=null,g=R,x=!1}}var k=!1,N=null,C=-1,b=5,P=-1;function _(){return!(e.unstable_now()-P<b)}function U(){if(N!==null){var L=e.unstable_now();P=L;var B=!0;try{B=N(!0,L)}finally{B?Q():(k=!1,N=null)}}else k=!1}var Q;if(typeof f=="function")Q=function(){f(U)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,V=A.port2;A.port1.onmessage=U,Q=function(){V.postMessage(null)}}else Q=function(){T(U,0)};function q(L){N=L,k||(k=!0,Q())}function X(L,B){C=T(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,q(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var R=g;g=B;try{return L()}finally{g=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var R=g;g=L;try{return B()}finally{g=R}},e.unstable_scheduleCallback=function(L,B,R){var Z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Z+R:Z):R=Z,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,L={id:p++,callback:B,priorityLevel:L,startTime:R,expirationTime:J,sortIndex:-1},R>Z?(L.sortIndex=R,t(d,L),n(c)===null&&L===n(d)&&(w?(m(C),C=-1):w=!0,X(y,R-Z))):(L.sortIndex=J,t(c,L),j||x||(j=!0,q(S))),L},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(L){var B=g;return function(){var R=g;g=B;try{return L.apply(this,arguments)}finally{g=R}}}})(Uu);Wu.exports=Uu;var ep=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=u,st=ep;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=new Set,Js={};function Mn(e,t){os(e,t),os(e+"Capture",t)}function os(e,t){for(Js[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=Object.prototype.hasOwnProperty,np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ga={},Qa={};function sp(e){return zi.call(Qa,e)?!0:zi.call(Ga,e)?!1:np.test(e)?Qa[e]=!0:(Ga[e]=!0,!1)}function rp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lp(e,t,n,s){if(t===null||typeof t>"u"||rp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var $o=/[\-:]([a-z])/g;function Bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($o,Bo);Ie[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($o,Bo);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($o,Bo);Ie[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wo(e,t,n,s){var l=Ie.hasOwnProperty(t)?Ie[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lp(t,n,l,s)&&(n=null),s||l===null?sp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Vt=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dr=Symbol.for("react.element"),Fn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),Uo=Symbol.for("react.strict_mode"),Fi=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Vo=Symbol.for("react.forward_ref"),$i=Symbol.for("react.suspense"),Bi=Symbol.for("react.suspense_list"),Ho=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),Ya=Symbol.iterator;function ks(e){return e===null||typeof e!="object"?null:(e=Ya&&e[Ya]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,oi;function Os(e){if(oi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oi=t&&t[1]||""}return`
`+oi+e}var ai=!1;function ci(e,t){if(!e||ai)return"";ai=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ai=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Os(e):""}function ip(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=ci(e.type,!1),e;case 11:return e=ci(e.type.render,!1),e;case 1:return e=ci(e.type,!0),e;default:return""}}function Wi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Fn:return"Portal";case Fi:return"Profiler";case Uo:return"StrictMode";case $i:return"Suspense";case Bi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ku:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case Vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ho:return t=e.displayName||null,t!==null?t:Wi(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return Wi(e(t))}catch{}}return null}function op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wi(t);case 8:return t===Uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=Qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rr(e){e._valueTracker||(e._valueTracker=ap(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Qu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ui(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xa(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xu(e,t){t=t.checked,t!=null&&Wo(e,"checked",t,!1)}function Vi(e,t){Xu(e,t);var n=dn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hi(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ja(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hi(e,t,n){(t!=="number"||il(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function es(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ki(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Za(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ls(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function Ju(e,t){var n=dn(t.value),s=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function qa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ir,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cp=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(e){cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zs[t]=zs[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zs.hasOwnProperty(e)&&zs[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=ed(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var up=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(e,t){if(t){if(up[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,ts=null,ns=null;function ec(e){if(e=jr(e)){if(typeof Ji!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Wl(t),Ji(e.stateNode,e.type,t))}}function nd(e){ts?ns?ns.push(e):ns=[e]:ts=e}function sd(){if(ts){var e=ts,t=ns;if(ns=ts=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function rd(e,t){return e(t)}function ld(){}var ui=!1;function id(e,t,n){if(ui)return e(t,n);ui=!0;try{return rd(e,t,n)}finally{ui=!1,(ts!==null||ns!==null)&&(ld(),sd())}}function qs(e,t){var n=e.stateNode;if(n===null)return null;var s=Wl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Zi=!1;if(Ft)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Zi=!1}function dp(e,t,n,s,l,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Fs=!1,ol=null,al=!1,qi=null,fp={onError:function(e){Fs=!0,ol=e}};function hp(e,t,n,s,l,i,o,a,c){Fs=!1,ol=null,dp.apply(fp,arguments)}function pp(e,t,n,s,l,i,o,a,c){if(hp.apply(this,arguments),Fs){if(Fs){var d=ol;Fs=!1,ol=null}else throw Error(M(198));al||(al=!0,qi=d)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(On(e)!==e)throw Error(M(188))}function mp(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return tc(l),e;if(i===s)return tc(l),t;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ad(e){return e=mp(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=st.unstable_scheduleCallback,nc=st.unstable_cancelCallback,gp=st.unstable_shouldYield,vp=st.unstable_requestPaint,we=st.unstable_now,yp=st.unstable_getCurrentPriorityLevel,Go=st.unstable_ImmediatePriority,dd=st.unstable_UserBlockingPriority,cl=st.unstable_NormalPriority,xp=st.unstable_LowPriority,fd=st.unstable_IdlePriority,zl=null,Dt=null;function wp(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Sp,jp=Math.log,Np=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(jp(e)/Np|0)|0}var Mr=64,Or=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=_s(a):(i&=o,i!==0&&(s=_s(i)))}else o=n&~l,o!==0?s=_s(o):i!==0&&(s=_s(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-xt(t),l=1<<n,s|=e[n],t&=~l;return s}function kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-xt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=kp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hd(){var e=Mr;return Mr<<=1,!(Mr&4194240)&&(Mr=64),e}function di(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function Cp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-xt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-xt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var se=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Yo,gd,vd,yd,to=!1,Lr=[],nn=null,sn=null,rn=null,er=new Map,tr=new Map,Zt=[],Ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(t.pointerId)}}function Cs(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=jr(t),t!==null&&Yo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Tp(e,t,n,s,l){switch(t){case"focusin":return nn=Cs(nn,e,t,n,s,l),!0;case"dragenter":return sn=Cs(sn,e,t,n,s,l),!0;case"mouseover":return rn=Cs(rn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return er.set(i,Cs(er.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,tr.set(i,Cs(tr.get(i)||null,e,t,n,s,l)),!0}return!1}function xd(e){var t=Sn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,yd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=no(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Xi=s,n.target.dispatchEvent(s),Xi=null}else return t=jr(n),t!==null&&Yo(t),e.blockedOn=n,!1;t.shift()}return!0}function rc(e,t,n){Qr(e)&&n.delete(t)}function Pp(){to=!1,nn!==null&&Qr(nn)&&(nn=null),sn!==null&&Qr(sn)&&(sn=null),rn!==null&&Qr(rn)&&(rn=null),er.forEach(rc),tr.forEach(rc)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,to||(to=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Pp)))}function nr(e){function t(l){return Es(l,e)}if(0<Lr.length){Es(Lr[0],e);for(var n=1;n<Lr.length;n++){var s=Lr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(nn!==null&&Es(nn,e),sn!==null&&Es(sn,e),rn!==null&&Es(rn,e),er.forEach(t),tr.forEach(t),n=0;n<Zt.length;n++)s=Zt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&Zt.shift()}var ss=Vt.ReactCurrentBatchConfig,dl=!0;function Dp(e,t,n,s){var l=se,i=ss.transition;ss.transition=null;try{se=1,Xo(e,t,n,s)}finally{se=l,ss.transition=i}}function Rp(e,t,n,s){var l=se,i=ss.transition;ss.transition=null;try{se=4,Xo(e,t,n,s)}finally{se=l,ss.transition=i}}function Xo(e,t,n,s){if(dl){var l=no(e,t,n,s);if(l===null)ji(e,t,s,fl,n),sc(e,s);else if(Tp(l,e,t,n,s))s.stopPropagation();else if(sc(e,s),t&4&&-1<Ep.indexOf(e)){for(;l!==null;){var i=jr(l);if(i!==null&&md(i),i=no(e,t,n,s),i===null&&ji(e,t,s,fl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else ji(e,t,s,null,n)}}var fl=null;function no(e,t,n,s){if(fl=null,e=Ko(s),e=Sn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case Go:return 1;case dd:return 4;case cl:case xp:return 16;case fd:return 536870912;default:return 16}default:return 16}}var en=null,Jo=null,Yr=null;function jd(){if(Yr)return Yr;var e,t=Jo,n=t.length,s,l="value"in en?en.value:en.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Yr=l.slice(e,1<s?1-s:void 0)}function Xr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function lc(){return!1}function lt(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_r:lc,this.isPropagationStopped=lc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=lt(ms),wr=ge({},ms,{view:0,detail:0}),Ip=lt(wr),fi,hi,Ts,Fl=ge({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(fi=e.screenX-Ts.screenX,hi=e.screenY-Ts.screenY):hi=fi=0,Ts=e),fi)},movementY:function(e){return"movementY"in e?e.movementY:hi}}),ic=lt(Fl),Mp=ge({},Fl,{dataTransfer:0}),Op=lt(Mp),Lp=ge({},wr,{relatedTarget:0}),pi=lt(Lp),_p=ge({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=lt(_p),zp=ge({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=lt(zp),$p=ge({},ms,{data:0}),oc=lt($p),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Up[e])?!!t[e]:!1}function qo(){return Vp}var Hp=ge({},wr,{key:function(e){if(e.key){var t=Bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(e){return e.type==="keypress"?Xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=lt(Hp),Gp=ge({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=lt(Gp),Qp=ge({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),Yp=lt(Qp),Xp=ge({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=lt(Xp),Zp=ge({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=lt(Zp),em=[9,13,27,32],ea=Ft&&"CompositionEvent"in window,$s=null;Ft&&"documentMode"in document&&($s=document.documentMode);var tm=Ft&&"TextEvent"in window&&!$s,Nd=Ft&&(!ea||$s&&8<$s&&11>=$s),cc=" ",uc=!1;function Sd(e,t){switch(e){case"keyup":return em.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function nm(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function sm(e,t){if(Bn)return e==="compositionend"||!ea&&Sd(e,t)?(e=jd(),Yr=Jo=en=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rm[e.type]:t==="textarea"}function bd(e,t,n,s){nd(s),t=hl(t,"onChange"),0<t.length&&(n=new Zo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Bs=null,sr=null;function lm(e){_d(e,0)}function $l(e){var t=Vn(e);if(Yu(t))return e}function im(e,t){if(e==="change")return t}var Cd=!1;if(Ft){var mi;if(Ft){var gi="oninput"in document;if(!gi){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),gi=typeof fc.oninput=="function"}mi=gi}else mi=!1;Cd=mi&&(!document.documentMode||9<document.documentMode)}function hc(){Bs&&(Bs.detachEvent("onpropertychange",Ed),sr=Bs=null)}function Ed(e){if(e.propertyName==="value"&&$l(sr)){var t=[];bd(t,sr,e,Ko(e)),id(lm,t)}}function om(e,t,n){e==="focusin"?(hc(),Bs=t,sr=n,Bs.attachEvent("onpropertychange",Ed)):e==="focusout"&&hc()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(sr)}function cm(e,t){if(e==="click")return $l(t)}function um(e,t){if(e==="input"||e==="change")return $l(t)}function dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:dm;function rr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!zi.call(t,l)||!jt(e[l],t[l]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=pc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=il();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=il(e.document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fm(e){var t=Pd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(s!==null&&ta(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=mc(n,i);var o=mc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=Ft&&"documentMode"in document&&11>=document.documentMode,Wn=null,so=null,Ws=null,ro=!1;function gc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ro||Wn==null||Wn!==il(s)||(s=Wn,"selectionStart"in s&&ta(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ws&&rr(Ws,s)||(Ws=s,s=hl(so,"onSelect"),0<s.length&&(t=new Zo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Wn)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},vi={},Dd={};Ft&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function Bl(e){if(vi[e])return vi[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dd)return vi[e]=t[n];return e}var Rd=Bl("animationend"),Id=Bl("animationiteration"),Md=Bl("animationstart"),Od=Bl("transitionend"),Ld=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Ld.set(e,t),Mn(t,[e])}for(var yi=0;yi<vc.length;yi++){var xi=vc[yi],pm=xi.toLowerCase(),mm=xi[0].toUpperCase()+xi.slice(1);hn(pm,"on"+mm)}hn(Rd,"onAnimationEnd");hn(Id,"onAnimationIteration");hn(Md,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Od,"onTransitionEnd");os("onMouseEnter",["mouseout","mouseover"]);os("onMouseLeave",["mouseout","mouseover"]);os("onPointerEnter",["pointerout","pointerover"]);os("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function yc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,pp(s,t,void 0,e),e.currentTarget=null}function _d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;yc(l,a,d),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;yc(l,a,d),i=c}}}if(al)throw e=qi,al=!1,qi=null,e}function ce(e,t){var n=t[co];n===void 0&&(n=t[co]=new Set);var s=e+"__bubble";n.has(s)||(Ad(t,e,2,!1),n.add(s))}function wi(e,t,n){var s=0;t&&(s|=4),Ad(n,e,s,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[zr]){e[zr]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(gm.has(n)||wi(n,!1,e),wi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zr]||(t[zr]=!0,wi("selectionchange",!1,t))}}function Ad(e,t,n,s){switch(wd(t)){case 1:var l=Dp;break;case 4:l=Rp;break;default:l=Xo}n=l.bind(null,t,n,e),l=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ji(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=Sn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}id(function(){var d=i,p=Ko(n),h=[];e:{var g=Ld.get(e);if(g!==void 0){var x=Zo,j=e;switch(e){case"keypress":if(Xr(n)===0)break e;case"keydown":case"keyup":x=Kp;break;case"focusin":j="focus",x=pi;break;case"focusout":j="blur",x=pi;break;case"beforeblur":case"afterblur":x=pi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Yp;break;case Rd:case Id:case Md:x=Ap;break;case Od:x=Jp;break;case"scroll":x=Ip;break;case"wheel":x=qp;break;case"copy":case"cut":case"paste":x=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ac}var w=(t&4)!==0,T=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var f=d,v;f!==null;){v=f;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=qs(f,m),y!=null&&w.push(ir(f,y,v)))),T)break;f=f.return}0<w.length&&(g=new x(g,j,null,n,p),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==Xi&&(j=n.relatedTarget||n.fromElement)&&(Sn(j)||j[$t]))break e;if((x||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?Sn(j):null,j!==null&&(T=On(j),j!==T||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(w=ic,y="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=ac,y="onPointerLeave",m="onPointerEnter",f="pointer"),T=x==null?g:Vn(x),v=j==null?g:Vn(j),g=new w(y,f+"leave",x,n,p),g.target=T,g.relatedTarget=v,y=null,Sn(p)===d&&(w=new w(m,f+"enter",j,n,p),w.target=v,w.relatedTarget=T,y=w),T=y,x&&j)t:{for(w=x,m=j,f=0,v=w;v;v=An(v))f++;for(v=0,y=m;y;y=An(y))v++;for(;0<f-v;)w=An(w),f--;for(;0<v-f;)m=An(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=An(w),m=An(m)}w=null}else w=null;x!==null&&xc(h,g,x,w,!1),j!==null&&T!==null&&xc(h,T,j,w,!0)}}e:{if(g=d?Vn(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var S=im;else if(dc(g))if(Cd)S=um;else{S=am;var k=om}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=cm);if(S&&(S=S(e,d))){bd(h,S,n,p);break e}k&&k(e,g,d),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Hi(g,"number",g.value)}switch(k=d?Vn(d):window,e){case"focusin":(dc(k)||k.contentEditable==="true")&&(Wn=k,so=d,Ws=null);break;case"focusout":Ws=so=Wn=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,gc(h,n,p);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":gc(h,n,p)}var N;if(ea)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bn?Sd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Nd&&n.locale!=="ko"&&(Bn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Bn&&(N=jd()):(en=p,Jo="value"in en?en.value:en.textContent,Bn=!0)),k=hl(d,C),0<k.length&&(C=new oc(C,e,null,n,p),h.push({event:C,listeners:k}),N?C.data=N:(N=kd(n),N!==null&&(C.data=N)))),(N=tm?nm(e,n):sm(e,n))&&(d=hl(d,"onBeforeInput"),0<d.length&&(p=new oc("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:d}),p.data=N))}_d(h,t)})}function ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=qs(e,n),i!=null&&s.unshift(ir(e,i,l)),i=qs(e,t),i!=null&&s.push(ir(e,i,l))),e=e.return}return s}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&d!==null&&(a=d,l?(c=qs(n,i),c!=null&&o.unshift(ir(n,c,a))):l||(c=qs(n,i),c!=null&&o.push(ir(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(vm,`
`).replace(ym,"")}function Fr(e,t,n){if(t=wc(t),wc(e)!==t&&n)throw Error(M(425))}function pl(){}var lo=null,io=null;function oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(e){return jc.resolve(null).then(e).catch(jm)}:ao;function jm(e){setTimeout(function(){throw e})}function Ni(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),nr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);nr(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Pt="__reactFiber$"+gs,or="__reactProps$"+gs,$t="__reactContainer$"+gs,co="__reactEvents$"+gs,Nm="__reactListeners$"+gs,Sm="__reactHandles$"+gs;function Sn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nc(e);e!==null;){if(n=e[Pt])return n;e=Nc(e)}return t}e=n,n=e.parentNode}return null}function jr(e){return e=e[Pt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Wl(e){return e[or]||null}var uo=[],Hn=-1;function pn(e){return{current:e}}function ue(e){0>Hn||(e.current=uo[Hn],uo[Hn]=null,Hn--)}function oe(e,t){Hn++,uo[Hn]=e.current,e.current=t}var fn={},ze=pn(fn),Ke=pn(!1),Tn=fn;function as(e,t){var n=e.type.contextTypes;if(!n)return fn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function ml(){ue(Ke),ue(ze)}function Sc(e,t,n){if(ze.current!==fn)throw Error(M(168));oe(ze,t),oe(Ke,n)}function zd(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(M(108,op(e)||"Unknown",l));return ge({},n,s)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Tn=ze.current,oe(ze,e),oe(Ke,Ke.current),!0}function kc(e,t,n){var s=e.stateNode;if(!s)throw Error(M(169));n?(e=zd(e,t,Tn),s.__reactInternalMemoizedMergedChildContext=e,ue(Ke),ue(ze),oe(ze,e)):ue(Ke),oe(Ke,n)}var Lt=null,Ul=!1,Si=!1;function Fd(e){Lt===null?Lt=[e]:Lt.push(e)}function km(e){Ul=!0,Fd(e)}function mn(){if(!Si&&Lt!==null){Si=!0;var e=0,t=se;try{var n=Lt;for(se=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Lt=null,Ul=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),ud(Go,mn),l}finally{se=t,Si=!1}}return null}var Kn=[],Gn=0,vl=null,yl=0,at=[],ct=0,Pn=null,_t=1,At="";function jn(e,t){Kn[Gn++]=yl,Kn[Gn++]=vl,vl=e,yl=t}function $d(e,t,n){at[ct++]=_t,at[ct++]=At,at[ct++]=Pn,Pn=e;var s=_t;e=At;var l=32-xt(s)-1;s&=~(1<<l),n+=1;var i=32-xt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,_t=1<<32-xt(t)+l|n<<l|s,At=i+e}else _t=1<<i|n<<l|s,At=e}function na(e){e.return!==null&&(jn(e,1),$d(e,1,0))}function sa(e){for(;e===vl;)vl=Kn[--Gn],Kn[Gn]=null,yl=Kn[--Gn],Kn[Gn]=null;for(;e===Pn;)Pn=at[--ct],at[ct]=null,At=at[--ct],at[ct]=null,_t=at[--ct],at[ct]=null}var nt=null,tt=null,fe=!1,yt=null;function Bd(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pn!==null?{id:_t,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ho(e){if(fe){var t=tt;if(t){var n=t;if(!bc(e,t)){if(fo(e))throw Error(M(418));t=ln(n.nextSibling);var s=nt;t&&bc(e,t)?Bd(s,n):(e.flags=e.flags&-4097|2,fe=!1,nt=e)}}else{if(fo(e))throw Error(M(418));e.flags=e.flags&-4097|2,fe=!1,nt=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function $r(e){if(e!==nt)return!1;if(!fe)return Cc(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oo(e.type,e.memoizedProps)),t&&(t=tt)){if(fo(e))throw Wd(),Error(M(418));for(;t;)Bd(e,t),t=ln(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?ln(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=tt;e;)e=ln(e.nextSibling)}function cs(){tt=nt=null,fe=!1}function ra(e){yt===null?yt=[e]:yt.push(e)}var bm=Vt.ReactCurrentBatchConfig;function Ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Br(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Ud(e){function t(m,f){if(e){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function s(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=un(m,f),m.index=0,m.sibling=null,m}function i(m,f,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,v,y){return f===null||f.tag!==6?(f=Di(v,m.mode,y),f.return=m,f):(f=l(f,v),f.return=m,f)}function c(m,f,v,y){var S=v.type;return S===$n?p(m,f,v.props.children,y,v.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Ec(S)===f.type)?(y=l(f,v.props),y.ref=Ps(m,f,v),y.return=m,y):(y=sl(v.type,v.key,v.props,null,m.mode,y),y.ref=Ps(m,f,v),y.return=m,y)}function d(m,f,v,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Ri(v,m.mode,y),f.return=m,f):(f=l(f,v.children||[]),f.return=m,f)}function p(m,f,v,y,S){return f===null||f.tag!==7?(f=En(v,m.mode,y,S),f.return=m,f):(f=l(f,v),f.return=m,f)}function h(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Di(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Dr:return v=sl(f.type,f.key,f.props,null,m.mode,v),v.ref=Ps(m,null,f),v.return=m,v;case Fn:return f=Ri(f,m.mode,v),f.return=m,f;case Yt:var y=f._init;return h(m,y(f._payload),v)}if(Ls(f)||ks(f))return f=En(f,m.mode,v,null),f.return=m,f;Br(m,f)}return null}function g(m,f,v,y){var S=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,f,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dr:return v.key===S?c(m,f,v,y):null;case Fn:return v.key===S?d(m,f,v,y):null;case Yt:return S=v._init,g(m,f,S(v._payload),y)}if(Ls(v)||ks(v))return S!==null?null:p(m,f,v,y,null);Br(m,v)}return null}function x(m,f,v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,a(f,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dr:return m=m.get(y.key===null?v:y.key)||null,c(f,m,y,S);case Fn:return m=m.get(y.key===null?v:y.key)||null,d(f,m,y,S);case Yt:var k=y._init;return x(m,f,v,k(y._payload),S)}if(Ls(y)||ks(y))return m=m.get(v)||null,p(f,m,y,S,null);Br(f,y)}return null}function j(m,f,v,y){for(var S=null,k=null,N=f,C=f=0,b=null;N!==null&&C<v.length;C++){N.index>C?(b=N,N=null):b=N.sibling;var P=g(m,N,v[C],y);if(P===null){N===null&&(N=b);break}e&&N&&P.alternate===null&&t(m,N),f=i(P,f,C),k===null?S=P:k.sibling=P,k=P,N=b}if(C===v.length)return n(m,N),fe&&jn(m,C),S;if(N===null){for(;C<v.length;C++)N=h(m,v[C],y),N!==null&&(f=i(N,f,C),k===null?S=N:k.sibling=N,k=N);return fe&&jn(m,C),S}for(N=s(m,N);C<v.length;C++)b=x(N,m,C,v[C],y),b!==null&&(e&&b.alternate!==null&&N.delete(b.key===null?C:b.key),f=i(b,f,C),k===null?S=b:k.sibling=b,k=b);return e&&N.forEach(function(_){return t(m,_)}),fe&&jn(m,C),S}function w(m,f,v,y){var S=ks(v);if(typeof S!="function")throw Error(M(150));if(v=S.call(v),v==null)throw Error(M(151));for(var k=S=null,N=f,C=f=0,b=null,P=v.next();N!==null&&!P.done;C++,P=v.next()){N.index>C?(b=N,N=null):b=N.sibling;var _=g(m,N,P.value,y);if(_===null){N===null&&(N=b);break}e&&N&&_.alternate===null&&t(m,N),f=i(_,f,C),k===null?S=_:k.sibling=_,k=_,N=b}if(P.done)return n(m,N),fe&&jn(m,C),S;if(N===null){for(;!P.done;C++,P=v.next())P=h(m,P.value,y),P!==null&&(f=i(P,f,C),k===null?S=P:k.sibling=P,k=P);return fe&&jn(m,C),S}for(N=s(m,N);!P.done;C++,P=v.next())P=x(N,m,C,P.value,y),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?C:P.key),f=i(P,f,C),k===null?S=P:k.sibling=P,k=P);return e&&N.forEach(function(U){return t(m,U)}),fe&&jn(m,C),S}function T(m,f,v,y){if(typeof v=="object"&&v!==null&&v.type===$n&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Dr:e:{for(var S=v.key,k=f;k!==null;){if(k.key===S){if(S=v.type,S===$n){if(k.tag===7){n(m,k.sibling),f=l(k,v.props.children),f.return=m,m=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yt&&Ec(S)===k.type){n(m,k.sibling),f=l(k,v.props),f.ref=Ps(m,k,v),f.return=m,m=f;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===$n?(f=En(v.props.children,m.mode,y,v.key),f.return=m,m=f):(y=sl(v.type,v.key,v.props,null,m.mode,y),y.ref=Ps(m,f,v),y.return=m,m=y)}return o(m);case Fn:e:{for(k=v.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=l(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ri(v,m.mode,y),f.return=m,m=f}return o(m);case Yt:return k=v._init,T(m,f,k(v._payload),y)}if(Ls(v))return j(m,f,v,y);if(ks(v))return w(m,f,v,y);Br(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,v),f.return=m,m=f):(n(m,f),f=Di(v,m.mode,y),f.return=m,m=f),o(m)):n(m,f)}return T}var us=Ud(!0),Vd=Ud(!1),xl=pn(null),wl=null,Qn=null,la=null;function ia(){la=Qn=wl=null}function oa(e){var t=xl.current;ue(xl),e._currentValue=t}function po(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){wl=e,la=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(wl===null)throw Error(M(308));Qn=e,wl.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var kn=null;function aa(e){kn===null?kn=[e]:kn.push(e)}function Hd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,aa(t)):(n.next=l.next,l.next=n),t.interleaved=n,Bt(e,s)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ne&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Bt(e,n)}return l=s.interleaved,l===null?(t.next=t,aa(s)):(t.next=l.next,l.next=t),s.interleaved=t,Bt(e,n)}function Jr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qo(e,n)}}function Tc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,s){var l=e.updateQueue;Xt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var h=l.baseState;o=0,p=d=c=null,a=i;do{var g=a.lane,x=a.eventTime;if((s&g)===g){p!==null&&(p=p.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(g=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){h=j.call(x,h,g);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,g=typeof j=="function"?j.call(x,h,g):j,g==null)break e;h=ge({},h,g);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=x,c=h):p=p.next=x,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(p===null&&(c=h),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Rn|=o,e.lanes=o,e.memoizedState=h}}function Pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(M(191,l));l.call(s)}}}var Nr={},Rt=pn(Nr),ar=pn(Nr),cr=pn(Nr);function bn(e){if(e===Nr)throw Error(M(174));return e}function ua(e,t){switch(oe(cr,t),oe(ar,e),oe(Rt,Nr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gi(t,e)}ue(Rt),oe(Rt,t)}function ds(){ue(Rt),ue(ar),ue(cr)}function Gd(e){bn(cr.current);var t=bn(Rt.current),n=Gi(t,e.type);t!==n&&(oe(ar,e),oe(Rt,n))}function da(e){ar.current===e&&(ue(Rt),ue(ar))}var pe=pn(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=[];function fa(){for(var e=0;e<ki.length;e++)ki[e]._workInProgressVersionPrimary=null;ki.length=0}var Zr=Vt.ReactCurrentDispatcher,bi=Vt.ReactCurrentBatchConfig,Dn=0,me=null,Ne=null,Ce=null,Sl=!1,Us=!1,ur=0,Cm=0;function Le(){throw Error(M(321))}function ha(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function pa(e,t,n,s,l,i){if(Dn=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zr.current=e===null||e.memoizedState===null?Dm:Rm,e=n(s,l),Us){i=0;do{if(Us=!1,ur=0,25<=i)throw Error(M(301));i+=1,Ce=Ne=null,t.updateQueue=null,Zr.current=Im,e=n(s,l)}while(Us)}if(Zr.current=kl,t=Ne!==null&&Ne.next!==null,Dn=0,Ce=Ne=me=null,Sl=!1,t)throw Error(M(300));return e}function ma(){var e=ur!==0;return ur=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ht(){if(Ne===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?me.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(M(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function dr(e,t){return typeof t=="function"?t(e):t}function Ci(e){var t=ht(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=Ne,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,d=i;do{var p=d.lane;if((Dn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,me.lanes|=p,Rn|=p}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=a,jt(s,t.memoizedState)||(He=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,me.lanes|=i,Rn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ei(e){var t=ht(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);jt(i,t.memoizedState)||(He=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Qd(){}function Yd(e,t){var n=me,s=ht(),l=t(),i=!jt(s.memoizedState,l);if(i&&(s.memoizedState=l,He=!0),s=s.queue,ga(Zd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,fr(9,Jd.bind(null,n,s,l,t),void 0,null),Te===null)throw Error(M(349));Dn&30||Xd(n,t,l)}return l}function Xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,s){t.value=n,t.getSnapshot=s,qd(t)&&ef(e)}function Zd(e,t,n){return n(function(){qd(t)&&ef(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function ef(e){var t=Bt(e,1);t!==null&&wt(t,e,1,-1)}function Dc(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},t.queue=e,e=e.dispatch=Pm.bind(null,me,e),[t.memoizedState,e]}function fr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function tf(){return ht().memoizedState}function qr(e,t,n,s){var l=Tt();me.flags|=e,l.memoizedState=fr(1|t,n,void 0,s===void 0?null:s)}function Vl(e,t,n,s){var l=ht();s=s===void 0?null:s;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,s!==null&&ha(s,o.deps)){l.memoizedState=fr(t,n,i,s);return}}me.flags|=e,l.memoizedState=fr(1|t,n,i,s)}function Rc(e,t){return qr(8390656,8,e,t)}function ga(e,t){return Vl(2048,8,e,t)}function nf(e,t){return Vl(4,2,e,t)}function sf(e,t){return Vl(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lf(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,rf.bind(null,t,e),n)}function va(){}function of(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ha(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function af(e,t){var n=ht();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ha(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function cf(e,t,n){return Dn&21?(jt(n,t)||(n=hd(),me.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function Em(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var s=bi.transition;bi.transition={};try{e(!1),t()}finally{se=n,bi.transition=s}}function uf(){return ht().memoizedState}function Tm(e,t,n){var s=cn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,n);else if(n=Hd(e,t,n,s),n!==null){var l=$e();wt(n,e,s,l),hf(n,t,s)}}function Pm(e,t,n){var s=cn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,jt(a,o)){var c=t.interleaved;c===null?(l.next=l,aa(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hd(e,t,l,s),n!==null&&(l=$e(),wt(n,e,s,l),hf(n,t,s))}}function df(e){var t=e.alternate;return e===me||t!==null&&t===me}function ff(e,t){Us=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Qo(e,n)}}var kl={readContext:ft,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Dm={readContext:ft,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Rc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qr(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Tt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Tm.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Dc,useDebugValue:va,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Dc(!1),t=e[0];return e=Em.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=me,l=Tt();if(fe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Te===null)throw Error(M(349));Dn&30||Xd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Rc(Zd.bind(null,s,i,e),[e]),s.flags|=2048,fr(9,Jd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Te.identifierPrefix;if(fe){var n=At,s=_t;n=(s&~(1<<32-xt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rm={readContext:ft,useCallback:of,useContext:ft,useEffect:ga,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:Ci,useRef:tf,useState:function(){return Ci(dr)},useDebugValue:va,useDeferredValue:function(e){var t=ht();return cf(t,Ne.memoizedState,e)},useTransition:function(){var e=Ci(dr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1},Im={readContext:ft,useCallback:of,useContext:ft,useEffect:ga,useImperativeHandle:lf,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:af,useReducer:Ei,useRef:tf,useState:function(){return Ei(dr)},useDebugValue:va,useDeferredValue:function(e){var t=ht();return Ne===null?t.memoizedState=e:cf(t,Ne.memoizedState,e)},useTransition:function(){var e=Ei(dr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:uf,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=$e(),l=cn(e),i=zt(s,l);i.payload=t,n!=null&&(i.callback=n),t=on(e,i,l),t!==null&&(wt(t,e,l,s),Jr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=$e(),l=cn(e),i=zt(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=on(e,i,l),t!==null&&(wt(t,e,l,s),Jr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),s=cn(e),l=zt(n,s);l.tag=2,t!=null&&(l.callback=t),t=on(e,l,s),t!==null&&(wt(t,e,s,n),Jr(t,e,s))}};function Ic(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!rr(n,s)||!rr(l,i):!0}function pf(e,t,n){var s=!1,l=fn,i=t.contextType;return typeof i=="object"&&i!==null?i=ft(i):(l=Ge(t)?Tn:ze.current,s=t.contextTypes,i=(s=s!=null)?as(e,l):fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function go(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ca(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ft(i):(i=Ge(t)?Tn:ze.current,l.context=as(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(mo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Hl.enqueueReplaceState(l,l.state,null),jl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function fs(e,t){try{var n="",s=t;do n+=ip(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ti(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mm=typeof WeakMap=="function"?WeakMap:Map;function mf(e,t,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Cl||(Cl=!0,Eo=s),vo(e,t)},n}function gf(e,t,n){n=zt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){vo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vo(e,t),typeof s!="function"&&(an===null?an=new Set([this]):an.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Oc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Mm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Gm.bind(null,e,t,n),t.then(e,e))}function Lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zt(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e)}var Om=Vt.ReactCurrentOwner,He=!1;function Fe(e,t,n,s){t.child=e===null?Vd(t,null,n,s):us(t,e.child,n,s)}function Ac(e,t,n,s,l){n=n.render;var i=t.ref;return rs(t,l),s=pa(e,t,n,s,i,l),n=ma(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(fe&&n&&na(t),t.flags|=1,Fe(e,t,s,l),t.child)}function zc(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!ba(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vf(e,t,i,s,l)):(e=sl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rr,n(o,s)&&e.ref===t.ref)return Wt(e,t,l)}return t.flags|=1,e=un(i,s),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(rr(i,s)&&e.ref===t.ref)if(He=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Wt(e,t,l)}return yo(e,t,n,s,l)}function yf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Xn,et),et|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Xn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,oe(Xn,et),et|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,oe(Xn,et),et|=s;return Fe(e,t,l,n),t.child}function xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yo(e,t,n,s,l){var i=Ge(n)?Tn:ze.current;return i=as(t,i),rs(t,l),n=pa(e,t,n,s,i,l),s=ma(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(fe&&s&&na(t),t.flags|=1,Fe(e,t,n,l),t.child)}function Fc(e,t,n,s,l){if(Ge(n)){var i=!0;gl(t)}else i=!1;if(rs(t,l),t.stateNode===null)el(e,t),pf(t,n,s),go(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ft(d):(d=Ge(n)?Tn:ze.current,d=as(t,d));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==d)&&Mc(t,o,s,d),Xt=!1;var g=t.memoizedState;o.state=g,jl(t,s,o,l),c=t.memoizedState,a!==s||g!==c||Ke.current||Xt?(typeof p=="function"&&(mo(t,n,p,s),c=t.memoizedState),(a=Xt||Ic(t,n,a,s,g,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Kd(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:gt(t.type,a),o.props=d,h=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ft(c):(c=Ge(n)?Tn:ze.current,c=as(t,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==c)&&Mc(t,o,s,c),Xt=!1,g=t.memoizedState,o.state=g,jl(t,s,o,l);var j=t.memoizedState;a!==h||g!==j||Ke.current||Xt?(typeof x=="function"&&(mo(t,n,x,s),j=t.memoizedState),(d=Xt||Ic(t,n,d,s,g,j,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return xo(e,t,n,s,i,l)}function xo(e,t,n,s,l,i){xf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&kc(t,n,!1),Wt(e,t,i);s=t.stateNode,Om.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=us(t,e.child,null,i),t.child=us(t,null,a,i)):Fe(e,t,a,i),t.memoizedState=s.state,l&&kc(t,n,!0),t.child}function wf(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),ua(e,t.containerInfo)}function $c(e,t,n,s,l){return cs(),ra(l),t.flags|=256,Fe(e,t,n,s),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jf(e,t,n){var s=t.pendingProps,l=pe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),oe(pe,l&1),e===null)return ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ql(o,s,0,null),e=En(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jo(n),t.memoizedState=wo,e):ya(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Lm(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=un(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=un(a,i):(i=En(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?jo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=wo,s}return i=e.child,e=i.sibling,s=un(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ya(e,t){return t=Ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wr(e,t,n,s){return s!==null&&ra(s),us(t,e.child,null,n),e=ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lm(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Ti(Error(M(422))),Wr(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Ql({mode:"visible",children:s.children},l,0,null),i=En(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&us(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=wo,i);if(!(t.mode&1))return Wr(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(M(419)),s=Ti(i,s,void 0),Wr(e,t,o,s)}if(a=(o&e.childLanes)!==0,He||a){if(s=Te,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Bt(e,l),wt(s,e,l,-1))}return ka(),s=Ti(Error(M(421))),Wr(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Qm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,tt=ln(l.nextSibling),nt=t,fe=!0,yt=null,e!==null&&(at[ct++]=_t,at[ct++]=At,at[ct++]=Pn,_t=e.id,At=e.overflow,Pn=t),t=ya(t,s.children),t.flags|=4096,t)}function Bc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),po(e.return,t,n)}function Pi(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function Nf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(Fe(e,t,s.children,n),s=pe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bc(e,n,t);else if(e.tag===19)Bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(oe(pe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Nl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Pi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Nl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Pi(t,!0,n,null,i);break;case"together":Pi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _m(e,t,n){switch(t.tag){case 3:wf(t),cs();break;case 5:Gd(t);break;case 1:Ge(t.type)&&gl(t);break;case 4:ua(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;oe(xl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(oe(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?jf(e,t,n):(oe(pe,pe.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);oe(pe,pe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Nf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),oe(pe,pe.current),s)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,n)}return Wt(e,t,n)}var Sf,No,kf,bf;Sf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};No=function(){};kf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,bn(Rt.current);var i=null;switch(n){case"input":l=Ui(e,l),s=Ui(e,s),i=[];break;case"select":l=ge({},l,{value:void 0}),s=ge({},s,{value:void 0}),i=[];break;case"textarea":l=Ki(e,l),s=Ki(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=pl)}Qi(n,s);var o;n=null;for(d in l)if(!s.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var a=l[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Js.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(a=l!=null?l[d]:void 0,s.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Js.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};bf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ds(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Am(e,t,n){var s=t.pendingProps;switch(sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ge(t.type)&&ml(),_e(t),null;case 3:return s=t.stateNode,ds(),ue(Ke),ue(ze),fa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&($r(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Do(yt),yt=null))),No(e,t),_e(t),null;case 5:da(t);var l=bn(cr.current);if(n=t.type,e!==null&&t.stateNode!=null)kf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(M(166));return _e(t),null}if(e=bn(Rt.current),$r(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Pt]=t,s[or]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(l=0;l<As.length;l++)ce(As[l],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Xa(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":Za(s,i),ce("invalid",s)}Qi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fr(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fr(s.textContent,a,e),l=["children",""+a]):Js.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":Rr(s),Ja(s,i,!0);break;case"textarea":Rr(s),qa(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=pl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Pt]=t,e[or]=s,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yi(n,s),n){case"dialog":ce("cancel",e),ce("close",e),l=s;break;case"iframe":case"object":case"embed":ce("load",e),l=s;break;case"video":case"audio":for(l=0;l<As.length;l++)ce(As[l],e);l=s;break;case"source":ce("error",e),l=s;break;case"img":case"image":case"link":ce("error",e),ce("load",e),l=s;break;case"details":ce("toggle",e),l=s;break;case"input":Xa(e,s),l=Ui(e,s),ce("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ge({},s,{value:void 0}),ce("invalid",e);break;case"textarea":Za(e,s),l=Ki(e,s),ce("invalid",e);break;default:l=s}Qi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?td(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zs(e,c):typeof c=="number"&&Zs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Js.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&Wo(e,i,c,o))}switch(n){case"input":Rr(e),Ja(e,s,!1);break;case"textarea":Rr(e),qa(e);break;case"option":s.value!=null&&e.setAttribute("value",""+dn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?es(e,!!s.multiple,i,!1):s.defaultValue!=null&&es(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)bf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(M(166));if(n=bn(cr.current),bn(Rt.current),$r(t)){if(s=t.stateNode,n=t.memoizedProps,s[Pt]=t,(i=s.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Fr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Pt]=t,t.stateNode=s}return _e(t),null;case 13:if(ue(pe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&tt!==null&&t.mode&1&&!(t.flags&128))Wd(),cs(),t.flags|=98560,i=!1;else if(i=$r(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Pt]=t}else cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else yt!==null&&(Do(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?ke===0&&(ke=3):ka())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return ds(),No(e,t),e===null&&lr(t.stateNode.containerInfo),_e(t),null;case 10:return oa(t.type._context),_e(t),null;case 17:return Ge(t.type)&&ml(),_e(t),null;case 19:if(ue(pe),i=t.memoizedState,i===null)return _e(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ds(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nl(e),o!==null){for(t.flags|=128,Ds(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>hs&&(t.flags|=128,s=!0,Ds(i,!1),t.lanes=4194304)}else{if(!s)if(e=Nl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return _e(t),null}else 2*we()-i.renderingStartTime>hs&&n!==1073741824&&(t.flags|=128,s=!0,Ds(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=pe.current,oe(pe,s?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Sa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?et&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function zm(e,t){switch(sa(t),t.tag){case 1:return Ge(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ds(),ue(Ke),ue(ze),fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return da(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return ds(),null;case 10:return oa(t.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var Ur=!1,Ae=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ve(e,t,s)}else n.current=null}function So(e,t,n){try{n()}catch(s){ve(e,t,s)}}var Wc=!1;function $m(e,t){if(lo=dl,e=Pd(),ta(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,p=0,h=e,g=null;t:for(;;){for(var x;h!==n||l!==0&&h.nodeType!==3||(a=o+l),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)g=h,h=x;for(;;){if(h===e)break t;if(g===n&&++d===l&&(a=o),g===i&&++p===s&&(c=o),(x=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(io={focusedElem:e,selectionRange:n},dl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,T=j.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:gt(t.type,w),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(y){ve(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=Wc,Wc=!1,j}function Vs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&So(t,n,i)}l=l.next}while(l!==s)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function ko(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[or],delete t[co],delete t[Nm],delete t[Sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(s!==4&&(e=e.child,e!==null))for(bo(e,t,n),e=e.sibling;e!==null;)bo(e,t,n),e=e.sibling}function Co(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Co(e,t,n),e=e.sibling;e!==null;)Co(e,t,n),e=e.sibling}var De=null,vt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Tf(e,t,n),n=n.sibling}function Tf(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:Ae||Yn(n,t);case 6:var s=De,l=vt;De=null,Qt(e,t,n),De=s,vt=l,De!==null&&(vt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(vt?(e=De,n=n.stateNode,e.nodeType===8?Ni(e.parentNode,n):e.nodeType===1&&Ni(e,n),nr(e)):Ni(De,n.stateNode));break;case 4:s=De,l=vt,De=n.stateNode.containerInfo,vt=!0,Qt(e,t,n),De=s,vt=l;break;case 0:case 11:case 14:case 15:if(!Ae&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&So(n,t,o),l=l.next}while(l!==s)}Qt(e,t,n);break;case 1:if(!Ae&&(Yn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ve(n,t,a)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Ae=(s=Ae)||n.memoizedState!==null,Qt(e,t,n),Ae=s):Qt(e,t,n);break;default:Qt(e,t,n)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fm),t.forEach(function(s){var l=Ym.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,vt=!1;break e;case 3:De=a.stateNode.containerInfo,vt=!0;break e;case 4:De=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(De===null)throw Error(M(160));Tf(i,o,l),De=null,vt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ve(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Et(e),s&4){try{Vs(3,e,e.return),Kl(3,e)}catch(w){ve(e,e.return,w)}try{Vs(5,e,e.return)}catch(w){ve(e,e.return,w)}}break;case 1:mt(t,e),Et(e),s&512&&n!==null&&Yn(n,n.return);break;case 5:if(mt(t,e),Et(e),s&512&&n!==null&&Yn(n,n.return),e.flags&32){var l=e.stateNode;try{Zs(l,"")}catch(w){ve(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xu(l,i),Yi(a,o);var d=Yi(a,i);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?td(l,h):p==="dangerouslySetInnerHTML"?qu(l,h):p==="children"?Zs(l,h):Wo(l,p,h,d)}switch(a){case"input":Vi(l,i);break;case"textarea":Ju(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?es(l,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?es(l,!!i.multiple,i.defaultValue,!0):es(l,!!i.multiple,i.multiple?[]:"",!1))}l[or]=i}catch(w){ve(e,e.return,w)}}break;case 6:if(mt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){ve(e,e.return,w)}}break;case 3:if(mt(t,e),Et(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{nr(t.containerInfo)}catch(w){ve(e,e.return,w)}break;case 4:mt(t,e),Et(e);break;case 13:mt(t,e),Et(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ja=we())),s&4&&Vc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(d=Ae)||p,mt(t,e),Ae=d):mt(t,e),Et(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for($=e,p=e.child;p!==null;){for(h=$=p;$!==null;){switch(g=$,x=g.child,g.tag){case 0:case 11:case 14:case 15:Vs(4,g,g.return);break;case 1:Yn(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){ve(s,n,w)}}break;case 5:Yn(g,g.return);break;case 22:if(g.memoizedState!==null){Kc(h);continue}}x!==null?(x.return=g,$=x):Kc(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{l=h.stateNode,d?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ed("display",o))}catch(w){ve(e,e.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){ve(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),Et(e),s&4&&Vc(e);break;case 21:break;default:mt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ef(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Zs(l,""),s.flags&=-33);var i=Uc(e);Co(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Uc(e);bo(e,a,o);break;default:throw Error(M(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e,t,n){$=e,Df(e)}function Df(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||Ur;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Ae;a=Ur;var d=Ae;if(Ur=o,(Ae=c)&&!d)for($=l;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Gc(l):c!==null?(c.return=o,$=c):Gc(l);for(;i!==null;)$=i,Df(i),i=i.sibling;$=l,Ur=a,Ae=d}Hc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):Hc(e)}}function Hc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||Kl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ae)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pc(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&nr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ae||t.flags&512&&ko(t)}catch(g){ve(t,t.return,g)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Kc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Gc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(c){ve(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){ve(t,l,c)}}var i=t.return;try{ko(t)}catch(c){ve(t,i,c)}break;case 5:var o=t.return;try{ko(t)}catch(c){ve(t,o,c)}}}catch(c){ve(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Wm=Math.ceil,bl=Vt.ReactCurrentDispatcher,xa=Vt.ReactCurrentOwner,dt=Vt.ReactCurrentBatchConfig,ne=0,Te=null,je=null,Re=0,et=0,Xn=pn(0),ke=0,hr=null,Rn=0,Gl=0,wa=0,Hs=null,Ve=null,ja=0,hs=1/0,Ot=null,Cl=!1,Eo=null,an=null,Vr=!1,tn=null,El=0,Ks=0,To=null,tl=-1,nl=0;function $e(){return ne&6?we():tl!==-1?tl:tl=we()}function cn(e){return e.mode&1?ne&2&&Re!==0?Re&-Re:bm.transition!==null?(nl===0&&(nl=hd()),nl):(e=se,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e):1}function wt(e,t,n,s){if(50<Ks)throw Ks=0,To=null,Error(M(185));xr(e,n,s),(!(ne&2)||e!==Te)&&(e===Te&&(!(ne&2)&&(Gl|=n),ke===4&&qt(e,Re)),Qe(e,s),n===1&&ne===0&&!(t.mode&1)&&(hs=we()+500,Ul&&mn()))}function Qe(e,t){var n=e.callbackNode;bp(e,t);var s=ul(e,e===Te?Re:0);if(s===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?km(Qc.bind(null,e)):Fd(Qc.bind(null,e)),wm(function(){!(ne&6)&&mn()}),n=null;else{switch(pd(s)){case 1:n=Go;break;case 4:n=dd;break;case 16:n=cl;break;case 536870912:n=fd;break;default:n=cl}n=zf(n,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rf(e,t){if(tl=-1,nl=0,ne&6)throw Error(M(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var s=ul(e,e===Te?Re:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Tl(e,s);else{t=s;var l=ne;ne|=2;var i=Mf();(Te!==e||Re!==t)&&(Ot=null,hs=we()+500,Cn(e,t));do try{Hm();break}catch(a){If(e,a)}while(!0);ia(),bl.current=i,ne=l,je!==null?t=0:(Te=null,Re=0,t=ke)}if(t!==0){if(t===2&&(l=eo(e),l!==0&&(s=l,t=Po(e,l))),t===1)throw n=hr,Cn(e,0),qt(e,s),Qe(e,we()),n;if(t===6)qt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Um(l)&&(t=Tl(e,s),t===2&&(i=eo(e),i!==0&&(s=i,t=Po(e,i))),t===1))throw n=hr,Cn(e,0),qt(e,s),Qe(e,we()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(M(345));case 2:Nn(e,Ve,Ot);break;case 3:if(qt(e,s),(s&130023424)===s&&(t=ja+500-we(),10<t)){if(ul(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ao(Nn.bind(null,e,Ve,Ot),t);break}Nn(e,Ve,Ot);break;case 4:if(qt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-xt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wm(s/1960))-s,10<s){e.timeoutHandle=ao(Nn.bind(null,e,Ve,Ot),s);break}Nn(e,Ve,Ot);break;case 5:Nn(e,Ve,Ot);break;default:throw Error(M(329))}}}return Qe(e,we()),e.callbackNode===n?Rf.bind(null,e):null}function Po(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Tl(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Do(t)),e}function Do(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Um(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!jt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~wa,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),s=1<<n;e[n]=-1,t&=~s}}function Qc(e){if(ne&6)throw Error(M(327));ls();var t=ul(e,0);if(!(t&1))return Qe(e,we()),null;var n=Tl(e,t);if(e.tag!==0&&n===2){var s=eo(e);s!==0&&(t=s,n=Po(e,s))}if(n===1)throw n=hr,Cn(e,0),qt(e,t),Qe(e,we()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Ve,Ot),Qe(e,we()),null}function Na(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(hs=we()+500,Ul&&mn())}}function In(e){tn!==null&&tn.tag===0&&!(ne&6)&&ls();var t=ne;ne|=1;var n=dt.transition,s=se;try{if(dt.transition=null,se=1,e)return e()}finally{se=s,dt.transition=n,ne=t,!(ne&6)&&mn()}}function Sa(){et=Xn.current,ue(Xn)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xm(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(sa(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ml();break;case 3:ds(),ue(Ke),ue(ze),fa();break;case 5:da(s);break;case 4:ds();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:oa(s.type._context);break;case 22:case 23:Sa()}n=n.return}if(Te=e,je=e=un(e.current,null),Re=et=t,ke=0,hr=null,wa=Gl=Rn=0,Ve=Hs=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}kn=null}return e}function If(e,t){do{var n=je;try{if(ia(),Zr.current=kl,Sl){for(var s=me.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Sl=!1}if(Dn=0,Ce=Ne=me=null,Us=!1,ur=0,xa.current=null,n===null||n.return===null){ke=1,hr=t,je=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Re,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Lc(o);if(x!==null){x.flags&=-257,_c(x,o,a,i,t),x.mode&1&&Oc(i,d,t),t=x,c=d;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){Oc(i,d,t),ka();break e}c=Error(M(426))}}else if(fe&&a.mode&1){var T=Lc(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),_c(T,o,a,i,t),ra(fs(c,a));break e}}i=c=fs(c,a),ke!==4&&(ke=2),Hs===null?Hs=[i]:Hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=mf(i,c,t);Tc(i,m);break e;case 1:a=c;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(an===null||!an.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=gf(i,a,t);Tc(i,y);break e}}i=i.return}while(i!==null)}Lf(n)}catch(S){t=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Mf(){var e=bl.current;return bl.current=kl,e===null?kl:e}function ka(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(Rn&268435455)&&!(Gl&268435455)||qt(Te,Re)}function Tl(e,t){var n=ne;ne|=2;var s=Mf();(Te!==e||Re!==t)&&(Ot=null,Cn(e,t));do try{Vm();break}catch(l){If(e,l)}while(!0);if(ia(),ne=n,bl.current=s,je!==null)throw Error(M(261));return Te=null,Re=0,ke}function Vm(){for(;je!==null;)Of(je)}function Hm(){for(;je!==null&&!gp();)Of(je)}function Of(e){var t=Af(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?Lf(e):je=t,xa.current=null}function Lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zm(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(n=Am(n,t,et),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function Nn(e,t,n){var s=se,l=dt.transition;try{dt.transition=null,se=1,Km(e,t,n,s)}finally{dt.transition=l,se=s}return null}function Km(e,t,n,s){do ls();while(tn!==null);if(ne&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Cp(e,i),e===Te&&(je=Te=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vr||(Vr=!0,zf(cl,function(){return ls(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=se;se=1;var a=ne;ne|=4,xa.current=null,$m(e,n),Pf(n,e),fm(io),dl=!!lo,io=lo=null,e.current=n,Bm(n),vp(),ne=a,se=o,dt.transition=i}else e.current=n;if(Vr&&(Vr=!1,tn=e,El=l),i=e.pendingLanes,i===0&&(an=null),wp(n.stateNode),Qe(e,we()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Cl)throw Cl=!1,e=Eo,Eo=null,e;return El&1&&e.tag!==0&&ls(),i=e.pendingLanes,i&1?e===To?Ks++:(Ks=0,To=e):Ks=0,mn(),null}function ls(){if(tn!==null){var e=pd(El),t=dt.transition,n=se;try{if(dt.transition=null,se=16>e?16:e,tn===null)var s=!1;else{if(e=tn,tn=null,El=0,ne&6)throw Error(M(331));var l=ne;for(ne|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for($=d;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:Vs(8,p,i)}var h=p.child;if(h!==null)h.return=p,$=h;else for(;$!==null;){p=$;var g=p.sibling,x=p.return;if(Cf(p),p===d){$=null;break}if(g!==null){g.return=x,$=g;break}$=x}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,$=m;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kl(9,a)}}catch(S){ve(a,a.return,S)}if(a===o){$=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}if(ne=l,mn(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(zl,e)}catch{}s=!0}return s}finally{se=n,dt.transition=t}}return!1}function Yc(e,t,n){t=fs(n,t),t=mf(e,t,1),e=on(e,t,1),t=$e(),e!==null&&(xr(e,1,t),Qe(e,t))}function ve(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=fs(n,e),e=gf(t,e,1),t=on(t,e,1),e=$e(),t!==null&&(xr(t,1,e),Qe(t,e));break}}t=t.return}}function Gm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Re&n)===n&&(ke===4||ke===3&&(Re&130023424)===Re&&500>we()-ja?Cn(e,0):wa|=n),Qe(e,t)}function _f(e,t){t===0&&(e.mode&1?(t=Or,Or<<=1,!(Or&130023424)&&(Or=4194304)):t=1);var n=$e();e=Bt(e,t),e!==null&&(xr(e,t,n),Qe(e,n))}function Qm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_f(e,n)}function Ym(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(t),_f(e,n)}var Af;Af=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,_m(e,t,n);He=!!(e.flags&131072)}else He=!1,fe&&t.flags&1048576&&$d(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;el(e,t),e=t.pendingProps;var l=as(t,ze.current);rs(t,n),l=pa(null,t,s,e,l,n);var i=ma();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(s)?(i=!0,gl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ca(t),l.updater=Hl,t.stateNode=l,l._reactInternals=t,go(t,s,e,n),t=xo(null,t,s,!0,i,n)):(t.tag=0,fe&&i&&na(t),Fe(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(el(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Jm(s),e=gt(s,e),l){case 0:t=yo(null,t,s,e,n);break e;case 1:t=Fc(null,t,s,e,n);break e;case 11:t=Ac(null,t,s,e,n);break e;case 14:t=zc(null,t,s,gt(s.type,e),n);break e}throw Error(M(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),yo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),Fc(e,t,s,l,n);case 3:e:{if(wf(t),e===null)throw Error(M(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Kd(e,t),jl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=fs(Error(M(423)),t),t=$c(e,t,s,n,l);break e}else if(s!==l){l=fs(Error(M(424)),t),t=$c(e,t,s,n,l);break e}else for(tt=ln(t.stateNode.containerInfo.firstChild),nt=t,fe=!0,yt=null,n=Vd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),s===l){t=Wt(e,t,n);break e}Fe(e,t,s,n)}t=t.child}return t;case 5:return Gd(t),e===null&&ho(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,oo(s,l)?o=null:i!==null&&oo(s,i)&&(t.flags|=32),xf(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&ho(t),null;case 13:return jf(e,t,n);case 4:return ua(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=us(t,null,s,n):Fe(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),Ac(e,t,s,l,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,oe(xl,s._currentValue),s._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===l.children&&!Ke.current){t=Wt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=zt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),po(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),po(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,rs(t,n),l=ft(l),s=s(l),t.flags|=1,Fe(e,t,s,n),t.child;case 14:return s=t.type,l=gt(s,t.pendingProps),l=gt(s.type,l),zc(e,t,s,l,n);case 15:return vf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:gt(s,l),el(e,t),t.tag=1,Ge(s)?(e=!0,gl(t)):e=!1,rs(t,n),pf(t,s,l),go(t,s,l,n),xo(null,t,s,!0,e,n);case 19:return Nf(e,t,n);case 22:return yf(e,t,n)}throw Error(M(156,t.tag))};function zf(e,t){return ud(e,t)}function Xm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,s){return new Xm(e,t,n,s)}function ba(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return ba(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vo)return 11;if(e===Ho)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sl(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")ba(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $n:return En(n.children,l,i,t);case Uo:o=8,l|=8;break;case Fi:return e=ut(12,n,t,l|2),e.elementType=Fi,e.lanes=i,e;case $i:return e=ut(13,n,t,l),e.elementType=$i,e.lanes=i,e;case Bi:return e=ut(19,n,t,l),e.elementType=Bi,e.lanes=i,e;case Gu:return Ql(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:o=10;break e;case Ku:o=9;break e;case Vo:o=11;break e;case Ho:o=14;break e;case Yt:o=16,s=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=ut(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function En(e,t,n,s){return e=ut(7,e,s,t),e.lanes=n,e}function Ql(e,t,n,s){return e=ut(22,e,s,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Di(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Ri(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ca(e,t,n,s,l,i,o,a,c){return e=new Zm(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ca(i),e}function qm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ff(e){if(!e)return fn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ge(n))return zd(e,n,t)}return t}function $f(e,t,n,s,l,i,o,a,c){return e=Ca(n,s,!0,e,l,i,o,a,c),e.context=Ff(null),n=e.current,s=$e(),l=cn(n),i=zt(s,l),i.callback=t??null,on(n,i,l),e.current.lanes=l,xr(e,l,s),Qe(e,s),e}function Yl(e,t,n,s){var l=t.current,i=$e(),o=cn(l);return n=Ff(n),t.context===null?t.context=n:t.pendingContext=n,t=zt(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=on(l,t,o),e!==null&&(wt(e,l,o,i),Jr(e,l,o)),o}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ea(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function eg(){return null}var Bf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ta(e){this._internalRoot=e}Xl.prototype.render=Ta.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Yl(e,t,null,null)};Xl.prototype.unmount=Ta.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Yl(null,e,null,null)}),t[$t]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&xd(e)}};function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function tg(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var d=Pl(o);i.call(d)}}var o=$f(t,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=o,e[$t]=o.current,lr(e.nodeType===8?e.parentNode:e),In(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var d=Pl(c);a.call(d)}}var c=Ca(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=c,e[$t]=c.current,lr(e.nodeType===8?e.parentNode:e),In(function(){Yl(t,c,n,s)}),c}function Zl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Pl(o);a.call(c)}}Yl(t,o,e,l)}else o=tg(n,t,e,l,s);return Pl(o)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_s(t.pendingLanes);n!==0&&(Qo(t,n|1),Qe(t,we()),!(ne&6)&&(hs=we()+500,mn()))}break;case 13:In(function(){var s=Bt(e,1);if(s!==null){var l=$e();wt(s,e,1,l)}}),Ea(e,1)}};Yo=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=$e();wt(t,e,134217728,n)}Ea(e,134217728)}};gd=function(e){if(e.tag===13){var t=cn(e),n=Bt(e,t);if(n!==null){var s=$e();wt(n,e,t,s)}Ea(e,t)}};vd=function(){return se};yd=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Ji=function(e,t,n){switch(t){case"input":if(Vi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Wl(s);if(!l)throw Error(M(90));Yu(s),Vi(s,l)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};rd=Na;ld=In;var ng={usingClientEntryPoint:!1,Events:[jr,Vn,Wl,nd,sd,Na]},Rs={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hr.isDisabled&&Hr.supportsFiber)try{zl=Hr.inject(sg),Dt=Hr}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(t))throw Error(M(200));return qm(e,t,null,n)};rt.createRoot=function(e,t){if(!Pa(e))throw Error(M(299));var n=!1,s="",l=Bf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ca(e,1,!1,null,null,n,!1,s,l),e[$t]=t.current,lr(e.nodeType===8?e.parentNode:e),new Ta(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return In(e)};rt.hydrate=function(e,t,n){if(!Jl(t))throw Error(M(200));return Zl(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!Pa(e))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Bf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=$f(t,null,e,1,n??null,l,!1,i,o),e[$t]=t.current,lr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Xl(t)};rt.render=function(e,t,n){if(!Jl(t))throw Error(M(200));return Zl(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(M(40));return e._reactRootContainer?(In(function(){Zl(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};rt.unstable_batchedUpdates=Na;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Zl(e,t,n,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),Bu.exports=rt;var Jn=Bu.exports,Zc=Jn;Ai.createRoot=Zc.createRoot,Ai.hydrateRoot=Zc.hydrateRoot;const ql=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Da(e){return"nodeType"in e}function Ue(e){var t,n;return e?vs(e)?e:Da(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ra(e){const{Document:t}=Ue(e);return e instanceof t}function Sr(e){return vs(e)?!1:e instanceof Ue(e).HTMLElement}function Uf(e){return e instanceof Ue(e).SVGElement}function ys(e){return e?vs(e)?e.document:Da(e)?Ra(e)?e:Sr(e)||Uf(e)?e.ownerDocument:document:document:document}const Ut=ql?u.useLayoutEffect:u.useEffect;function ei(e){const t=u.useRef(e);return Ut(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function rg(){const e=u.useRef(null),t=u.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=u.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function pr(e,t){t===void 0&&(t=[e]);const n=u.useRef(e);return Ut(()=>{n.current!==e&&(n.current=e)},t),n}function kr(e,t){const n=u.useRef();return u.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Dl(e){const t=ei(e),n=u.useRef(null),s=u.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Rl(e){const t=u.useRef();return u.useEffect(()=>{t.current=e},[e]),t.current}let Ii={};function ti(e,t){return u.useMemo(()=>{if(t)return t;const n=Ii[e]==null?0:Ii[e]+1;return Ii[e]=n,e+"-"+n},[e,t])}function Vf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,d]of a){const p=i[c];p!=null&&(i[c]=p+e*d)}return i},{...t})}}const is=Vf(1),Il=Vf(-1);function lg(e){return"clientX"in e&&"clientY"in e}function Ia(e){if(!e)return!1;const{KeyboardEvent:t}=Ue(e.target);return t&&e instanceof t}function ig(e){if(!e)return!1;const{TouchEvent:t}=Ue(e.target);return t&&e instanceof t}function Ml(e){if(ig(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return lg(e)?{x:e.clientX,y:e.clientY}:null}const mr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[mr.Translate.toString(e),mr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),qc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function og(e){return e.matches(qc)?e:e.querySelector(qc)}const ag={display:"none"};function cg(e){let{id:t,value:n}=e;return ye.createElement("div",{id:t,style:ag},n)}function ug(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ye.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function dg(){const[e,t]=u.useState("");return{announce:u.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Hf=u.createContext(null);function fg(e){const t=u.useContext(Hf);u.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function hg(){const[e]=u.useState(()=>new Set),t=u.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[u.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const pg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gg(e){let{announcements:t=mg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=pg}=e;const{announce:i,announcement:o}=dg(),a=ti("DndLiveRegion"),[c,d]=u.useState(!1);if(u.useEffect(()=>{d(!0)},[]),fg(u.useMemo(()=>({onDragStart(h){let{active:g}=h;i(t.onDragStart({active:g}))},onDragMove(h){let{active:g,over:x}=h;t.onDragMove&&i(t.onDragMove({active:g,over:x}))},onDragOver(h){let{active:g,over:x}=h;i(t.onDragOver({active:g,over:x}))},onDragEnd(h){let{active:g,over:x}=h;i(t.onDragEnd({active:g,over:x}))},onDragCancel(h){let{active:g,over:x}=h;i(t.onDragCancel({active:g,over:x}))}}),[i,t])),!c)return null;const p=ye.createElement(ye.Fragment,null,ye.createElement(cg,{id:s,value:l.draggable}),ye.createElement(ug,{id:a,announcement:o}));return n?Jn.createPortal(p,n):p}var Se;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Se||(Se={}));function Ol(){}function vg(e,t){return u.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function yg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const Nt=Object.freeze({x:0,y:0});function xg(e,t){const n=Ml(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function wg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function jg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ng(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,d=e.width*e.height,p=o*a,h=p/(c+d-p);return Number(h.toFixed(4))}return 0}const Sg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=Ng(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(wg)};function kg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Kf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Nt}function bg(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Cg=bg(1);function Gf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Eg(e,t,n){const s=Gf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),d=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),p=l?e.width/l:e.width,h=i?e.height/i:e.height;return{width:p,height:h,top:d,right:c+p,bottom:d+h,left:c}}const Tg={ignoreTransform:!1};function br(e,t){t===void 0&&(t=Tg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:p}=Ue(e).getComputedStyle(e);d&&(n=Eg(n,d,p))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function eu(e){return br(e,{ignoreTransform:!0})}function Pg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Dg(e,t){return t===void 0&&(t=Ue(e).getComputedStyle(e)),t.position==="fixed"}function Rg(e,t){t===void 0&&(t=Ue(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function Ma(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Ra(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Sr(l)||Uf(l)||n.includes(l))return n;const i=Ue(e).getComputedStyle(l);return l!==e&&Rg(l,i)&&n.push(l),Dg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Qf(e){const[t]=Ma(e,1);return t??null}function Mi(e){return!ql||!e?null:vs(e)?e:Da(e)?Ra(e)||e===ys(e).scrollingElement?window:Sr(e)?e:null:null}function Yf(e){return vs(e)?e.scrollX:e.scrollLeft}function Xf(e){return vs(e)?e.scrollY:e.scrollTop}function Ro(e){return{x:Yf(e),y:Xf(e)}}var Ee;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ee||(Ee={}));function Jf(e){return!ql||!e?!1:e===document.scrollingElement}function Zf(e){const t={x:0,y:0},n=Jf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Ig={x:.2,y:.2};function Mg(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Ig);const{isTop:d,isBottom:p,isLeft:h,isRight:g}=Zf(e),x={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!d&&i<=t.top+w.height?(x.y=Ee.Backward,j.y=s*Math.abs((t.top+w.height-i)/w.height)):!p&&c>=t.bottom-w.height&&(x.y=Ee.Forward,j.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!g&&a>=t.right-w.width?(x.x=Ee.Forward,j.x=s*Math.abs((t.right-w.width-a)/w.width)):!h&&o<=t.left+w.width&&(x.x=Ee.Backward,j.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:j}}function Og(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function qf(e){return e.reduce((t,n)=>is(t,Ro(n)),Nt)}function Lg(e){return e.reduce((t,n)=>t+Yf(n),0)}function _g(e){return e.reduce((t,n)=>t+Xf(n),0)}function eh(e,t){if(t===void 0&&(t=br),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Qf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ag=[["x",["left","right"],Lg],["y",["top","bottom"],_g]];class Oa{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ma(n),l=qf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Ag)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=a(s),p=l[i]-d;return this.rect[c]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function zg(e){const{EventTarget:t}=Ue(e);return e instanceof t?e:ys(e)}function Oi(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var ot;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ot||(ot={}));function tu(e){e.preventDefault()}function Fg(e){e.stopPropagation()}var le;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(le||(le={}));const th={start:[le.Space,le.Enter],cancel:[le.Esc],end:[le.Space,le.Enter,le.Tab]},$g=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case le.Right:return{...n,x:n.x+25};case le.Left:return{...n,x:n.x-25};case le.Down:return{...n,y:n.y+25};case le.Up:return{...n,y:n.y-25}}};class nh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Gs(ys(n)),this.windowListeners=new Gs(Ue(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ot.Resize,this.handleCancel),this.windowListeners.add(ot.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ot.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&eh(s),n(Nt)}handleKeyDown(t){if(Ia(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=th,coordinateGetter:o=$g,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=s.current,p=d?{x:d.left,y:d.top}:Nt;this.referenceCoordinates||(this.referenceCoordinates=p);const h=o(t,{active:n,context:s.current,currentCoordinates:p});if(h){const g=Il(h,p),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const T=t.code,{isTop:m,isRight:f,isLeft:v,isBottom:y,maxScroll:S,minScroll:k}=Zf(w),N=Og(w),C={x:Math.min(T===le.Right?N.right-N.width/2:N.right,Math.max(T===le.Right?N.left:N.left+N.width/2,h.x)),y:Math.min(T===le.Down?N.bottom-N.height/2:N.bottom,Math.max(T===le.Down?N.top:N.top+N.height/2,h.y))},b=T===le.Right&&!f||T===le.Left&&!v,P=T===le.Down&&!y||T===le.Up&&!m;if(b&&C.x!==h.x){const _=w.scrollLeft+g.x,U=T===le.Right&&_<=S.x||T===le.Left&&_>=k.x;if(U&&!g.y){w.scrollTo({left:_,behavior:a});return}U?x.x=w.scrollLeft-_:x.x=T===le.Right?w.scrollLeft-S.x:w.scrollLeft-k.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(P&&C.y!==h.y){const _=w.scrollTop+g.y,U=T===le.Down&&_<=S.y||T===le.Up&&_>=k.y;if(U&&!g.x){w.scrollTo({top:_,behavior:a});return}U?x.y=w.scrollTop-_:x.y=T===le.Down?w.scrollTop-S.y:w.scrollTop-k.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,is(Il(h,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=th,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function nu(e){return!!(e&&"distance"in e)}function su(e){return!!(e&&"delay"in e)}class La{constructor(t,n,s){var l;s===void 0&&(s=zg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=ys(o),this.documentListeners=new Gs(this.document),this.listeners=new Gs(s),this.windowListeners=new Gs(Ue(o)),this.initialCoordinates=(l=Ml(i))!=null?l:Nt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ot.Resize,this.handleCancel),this.windowListeners.add(ot.DragStart,tu),this.windowListeners.add(ot.VisibilityChange,this.handleCancel),this.windowListeners.add(ot.ContextMenu,tu),this.documentListeners.add(ot.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(su(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(nu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ot.Click,Fg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ot.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Ml(t))!=null?n:Nt,d=Il(l,c);if(!s&&a){if(nu(a)){if(a.tolerance!=null&&Oi(d,a.tolerance))return this.handleCancel();if(Oi(d,a.distance))return this.handleStart()}if(su(a)&&Oi(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===le.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Bg={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _a extends La{constructor(t){const{event:n}=t,s=ys(n.target);super(t,Bg,s)}}_a.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Wg={move:{name:"mousemove"},end:{name:"mouseup"}};var Io;(function(e){e[e.RightClick=2]="RightClick"})(Io||(Io={}));class Ug extends La{constructor(t){super(t,Wg,ys(t.event.target))}}Ug.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Io.RightClick?!1:(s==null||s({event:n}),!0)}}];const Li={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Vg extends La{constructor(t){super(t,Li)}static setup(){return window.addEventListener(Li.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Li.move.name,t)};function t(){}}}Vg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Qs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Qs||(Qs={}));var Ll;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ll||(Ll={}));function Hg(e){let{acceleration:t,activator:n=Qs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Ll.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:p,delta:h,threshold:g}=e;const x=Gg({delta:h,disabled:!i}),[j,w]=rg(),T=u.useRef({x:0,y:0}),m=u.useRef({x:0,y:0}),f=u.useMemo(()=>{switch(n){case Qs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Qs.DraggableRect:return l}},[n,l,c]),v=u.useRef(null),y=u.useCallback(()=>{const k=v.current;if(!k)return;const N=T.current.x*m.current.x,C=T.current.y*m.current.y;k.scrollBy(N,C)},[]),S=u.useMemo(()=>a===Ll.TreeOrder?[...d].reverse():d,[a,d]);u.useEffect(()=>{if(!i||!d.length||!f){w();return}for(const k of S){if((s==null?void 0:s(k))===!1)continue;const N=d.indexOf(k),C=p[N];if(!C)continue;const{direction:b,speed:P}=Mg(k,C,f,t,g);for(const _ of["x","y"])x[_][b[_]]||(P[_]=0,b[_]=0);if(P.x>0||P.y>0){w(),v.current=k,j(y,o),T.current=P,m.current=b;return}}T.current={x:0,y:0},m.current={x:0,y:0},w()},[t,y,s,w,i,o,JSON.stringify(f),JSON.stringify(x),j,d,S,p,JSON.stringify(g)])}const Kg={x:{[Ee.Backward]:!1,[Ee.Forward]:!1},y:{[Ee.Backward]:!1,[Ee.Forward]:!1}};function Gg(e){let{delta:t,disabled:n}=e;const s=Rl(t);return kr(l=>{if(n||!s||!l)return Kg;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ee.Backward]:l.x[Ee.Backward]||i.x===-1,[Ee.Forward]:l.x[Ee.Forward]||i.x===1},y:{[Ee.Backward]:l.y[Ee.Backward]||i.y===-1,[Ee.Forward]:l.y[Ee.Forward]||i.y===1}}},[n,t,s])}function Qg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return kr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Yg(e,t){return u.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var gr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gr||(gr={}));var Mo;(function(e){e.Optimized="optimized"})(Mo||(Mo={}));const ru=new Map;function Xg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=u.useState(null),{frequency:a,measure:c,strategy:d}=l,p=u.useRef(e),h=T(),g=pr(h),x=u.useCallback(function(m){m===void 0&&(m=[]),!g.current&&o(f=>f===null?m:f.concat(m.filter(v=>!f.includes(v))))},[g]),j=u.useRef(null),w=kr(m=>{if(h&&!n)return ru;if(!m||m===ru||p.current!==e||i!=null){const f=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){f.set(v.id,v.rect.current);continue}const y=v.node.current,S=y?new Oa(c(y),y):null;v.rect.current=S,S&&f.set(v.id,S)}return f}return m},[e,i,n,h,c]);return u.useEffect(()=>{p.current=e},[e]),u.useEffect(()=>{h||x()},[n,h]),u.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),u.useEffect(()=>{h||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},a))},[a,h,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function T(){switch(d){case gr.Always:return!1;case gr.BeforeDragging:return n;default:return!n}}}function Aa(e,t){return kr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Jg(e,t){return Aa(e,t)}function Zg(e){let{callback:t,disabled:n}=e;const s=ei(t),l=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return u.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ni(e){let{callback:t,disabled:n}=e;const s=ei(t),l=u.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return u.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function qg(e){return new Oa(br(e),e)}function lu(e,t,n){t===void 0&&(t=qg);const[s,l]=u.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const p=t(e);return JSON.stringify(c)===JSON.stringify(p)?c:p})}const o=Zg({callback(c){if(e)for(const d of c){const{type:p,target:h}=d;if(p==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),a=ni({callback:i});return Ut(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function ev(e){const t=Aa(e);return Kf(e,t)}const iu=[];function tv(e){const t=u.useRef(e),n=kr(s=>e?s&&s!==iu&&e&&t.current&&e.parentNode===t.current.parentNode?s:Ma(e):iu,[e]);return u.useEffect(()=>{t.current=e},[e]),n}function nv(e){const[t,n]=u.useState(null),s=u.useRef(e),l=u.useCallback(i=>{const o=Mi(i.target);o&&n(a=>a?(a.set(o,Ro(o)),new Map(a)):null)},[]);return u.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const d=Mi(c);return d?(d.addEventListener("scroll",l,{passive:!0}),[d,Ro(d)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const d=Mi(c);d==null||d.removeEventListener("scroll",l)})}},[l,e]),u.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>is(i,o),Nt):qf(e):Nt,[e,t])}function ou(e,t){t===void 0&&(t=[]);const n=u.useRef(null);return u.useEffect(()=>{n.current=null},t),u.useEffect(()=>{const s=e!==Nt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Il(e,n.current):Nt}function sv(e){u.useEffect(()=>{if(!ql)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function rv(e,t){return u.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function sh(e){return u.useMemo(()=>e?Pg(e):null,[e])}const au=[];function lv(e,t){t===void 0&&(t=br);const[n]=e,s=sh(n?Ue(n):null),[l,i]=u.useState(au);function o(){i(()=>e.length?e.map(c=>Jf(c)?s:new Oa(t(c),c)):au)}const a=ni({callback:o});return Ut(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function rh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Sr(t)?t:e}function iv(e){let{measure:t}=e;const[n,s]=u.useState(null),l=u.useCallback(d=>{for(const{target:p}of d)if(Sr(p)){s(h=>{const g=t(p);return h?{...h,width:g.width,height:g.height}:g});break}},[t]),i=ni({callback:l}),o=u.useCallback(d=>{const p=rh(d);i==null||i.disconnect(),p&&(i==null||i.observe(p)),s(p?t(p):null)},[t,i]),[a,c]=Dl(o);return u.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const ov=[{sensor:_a,options:{}},{sensor:nh,options:{}}],av={current:{}},rl={draggable:{measure:eu},droppable:{measure:eu,strategy:gr.WhileDragging,frequency:Mo.Optimized},dragOverlay:{measure:br}};class Ys extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const cv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ys,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ol},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rl,measureDroppableContainers:Ol,windowRect:null,measuringScheduled:!1},lh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ol,draggableNodes:new Map,over:null,measureDroppableContainers:Ol},Cr=u.createContext(lh),ih=u.createContext(cv);function uv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ys}}}function dv(e,t){switch(t.type){case Se.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Se.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Se.DragEnd:case Se.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Se.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Ys(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case Se.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Ys(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case Se.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Ys(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fv(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=u.useContext(Cr),i=Rl(s),o=Rl(n==null?void 0:n.id);return u.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!Ia(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[c.current,d.current]){if(!p)continue;const h=og(p);if(h){h.focus();break}}})}},[s,t,l,o,i]),null}function oh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function hv(e){return u.useMemo(()=>({draggable:{...rl.draggable,...e==null?void 0:e.draggable},droppable:{...rl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...rl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function pv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=u.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;Ut(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const p=n(d),h=Kf(p,s);if(o||(h.x=0),a||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const g=Qf(d);g&&g.scrollBy({top:h.y,left:h.x})}},[t,o,a,s,n])}const si=u.createContext({...Nt,scaleX:1,scaleY:1});var Jt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Jt||(Jt={}));const mv=u.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:d,sensors:p=ov,collisionDetection:h=Sg,measuring:g,modifiers:x,...j}=t;const w=u.useReducer(dv,void 0,uv),[T,m]=w,[f,v]=hg(),[y,S]=u.useState(Jt.Uninitialized),k=y===Jt.Initialized,{draggable:{active:N,nodes:C,translate:b},droppable:{containers:P}}=T,_=N!=null?C.get(N):null,U=u.useRef({initial:null,translated:null}),Q=u.useMemo(()=>{var Oe;return N!=null?{id:N,data:(Oe=_==null?void 0:_.data)!=null?Oe:av,rect:U}:null},[N,_]),A=u.useRef(null),[V,q]=u.useState(null),[X,L]=u.useState(null),B=pr(j,Object.values(j)),R=ti("DndDescribedBy",o),Z=u.useMemo(()=>P.getEnabled(),[P]),J=hv(g),{droppableRects:de,measureDroppableContainers:Y,measuringScheduled:re}=Xg(Z,{dragging:k,dependencies:[b.x,b.y],config:J.droppable}),E=Qg(C,N),F=u.useMemo(()=>X?Ml(X):null,[X]),D=Ph(),O=Jg(E,J.draggable.measure);pv({activeNode:N!=null?C.get(N):null,config:D.layoutShiftCompensation,initialRect:O,measure:J.draggable.measure});const z=lu(E,J.draggable.measure,O),H=lu(E?E.parentElement:null),G=u.useRef({activatorEvent:null,active:null,activeNode:E,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=P.getNodeFor((n=G.current.over)==null?void 0:n.id),W=iv({measure:J.dragOverlay.measure}),ae=(s=W.nodeRef.current)!=null?s:E,be=k?(l=W.rect)!=null?l:z:null,Me=!!(W.nodeRef.current&&W.rect),vn=ev(Me?null:z),yn=sh(ae?Ue(ae):null),xe=tv(k?he??E:null),It=lv(xe),St=oh(x,{transform:{x:b.x-vn.x,y:b.y-vn.y,scaleX:1,scaleY:1},activatorEvent:X,active:Q,activeNodeRect:z,containerNodeRect:H,draggingNodeRect:be,over:G.current.over,overlayNodeRect:W.rect,scrollableAncestors:xe,scrollableAncestorRects:It,windowRect:yn}),xn=F?is(F,b):null,Ln=nv(xe),ws=ou(Ln),Tr=ou(Ln,[z]),I=is(St,ws),K=be?Cg(be,St):null,te=Q&&K?h({active:Q,collisionRect:K,droppableRects:de,droppableContainers:Z,pointerCoordinates:xn}):null,Xe=jg(te,"id"),[kt,$a]=u.useState(null),kh=Me?St:is(St,Tr),bh=kg(kh,(i=kt==null?void 0:kt.rect)!=null?i:null,z),ri=u.useRef(null),Ba=u.useCallback((Oe,Je)=>{let{sensor:Ze,options:Ht}=Je;if(A.current==null)return;const it=C.get(A.current);if(!it)return;const qe=Oe.nativeEvent,bt=new Ze({active:A.current,activeNode:it,event:qe,options:Ht,context:G,onAbort(Pe){if(!C.get(Pe))return;const{onDragAbort:Ct}=B.current,Mt={id:Pe};Ct==null||Ct(Mt),f({type:"onDragAbort",event:Mt})},onPending(Pe,Kt,Ct,Mt){if(!C.get(Pe))return;const{onDragPending:Ns}=B.current,Gt={id:Pe,constraint:Kt,initialCoordinates:Ct,offset:Mt};Ns==null||Ns(Gt),f({type:"onDragPending",event:Gt})},onStart(Pe){const Kt=A.current;if(Kt==null)return;const Ct=C.get(Kt);if(!Ct)return;const{onDragStart:Mt}=B.current,js={activatorEvent:qe,active:{id:Kt,data:Ct.data,rect:U}};Jn.unstable_batchedUpdates(()=>{Mt==null||Mt(js),S(Jt.Initializing),m({type:Se.DragStart,initialCoordinates:Pe,active:Kt}),f({type:"onDragStart",event:js}),q(ri.current),L(qe)})},onMove(Pe){m({type:Se.DragMove,coordinates:Pe})},onEnd:_n(Se.DragEnd),onCancel:_n(Se.DragCancel)});ri.current=bt;function _n(Pe){return async function(){const{active:Ct,collisions:Mt,over:js,scrollAdjustedTranslate:Ns}=G.current;let Gt=null;if(Ct&&Ns){const{cancelDrop:Ss}=B.current;Gt={activatorEvent:qe,active:Ct,collisions:Mt,delta:Ns,over:js},Pe===Se.DragEnd&&typeof Ss=="function"&&await Promise.resolve(Ss(Gt))&&(Pe=Se.DragCancel)}A.current=null,Jn.unstable_batchedUpdates(()=>{m({type:Pe}),S(Jt.Uninitialized),$a(null),q(null),L(null),ri.current=null;const Ss=Pe===Se.DragEnd?"onDragEnd":"onDragCancel";if(Gt){const li=B.current[Ss];li==null||li(Gt),f({type:Ss,event:Gt})}})}}},[C]),Ch=u.useCallback((Oe,Je)=>(Ze,Ht)=>{const it=Ze.nativeEvent,qe=C.get(Ht);if(A.current!==null||!qe||it.dndKit||it.defaultPrevented)return;const bt={active:qe};Oe(Ze,Je.options,bt)===!0&&(it.dndKit={capturedBy:Je.sensor},A.current=Ht,Ba(Ze,Je))},[C,Ba]),Wa=Yg(p,Ch);sv(p),Ut(()=>{z&&y===Jt.Initializing&&S(Jt.Initialized)},[z,y]),u.useEffect(()=>{const{onDragMove:Oe}=B.current,{active:Je,activatorEvent:Ze,collisions:Ht,over:it}=G.current;if(!Je||!Ze)return;const qe={active:Je,activatorEvent:Ze,collisions:Ht,delta:{x:I.x,y:I.y},over:it};Jn.unstable_batchedUpdates(()=>{Oe==null||Oe(qe),f({type:"onDragMove",event:qe})})},[I.x,I.y]),u.useEffect(()=>{const{active:Oe,activatorEvent:Je,collisions:Ze,droppableContainers:Ht,scrollAdjustedTranslate:it}=G.current;if(!Oe||A.current==null||!Je||!it)return;const{onDragOver:qe}=B.current,bt=Ht.get(Xe),_n=bt&&bt.rect.current?{id:bt.id,rect:bt.rect.current,data:bt.data,disabled:bt.disabled}:null,Pe={active:Oe,activatorEvent:Je,collisions:Ze,delta:{x:it.x,y:it.y},over:_n};Jn.unstable_batchedUpdates(()=>{$a(_n),qe==null||qe(Pe),f({type:"onDragOver",event:Pe})})},[Xe]),Ut(()=>{G.current={activatorEvent:X,active:Q,activeNode:E,collisionRect:K,collisions:te,droppableRects:de,draggableNodes:C,draggingNode:ae,draggingNodeRect:be,droppableContainers:P,over:kt,scrollableAncestors:xe,scrollAdjustedTranslate:I},U.current={initial:be,translated:K}},[Q,E,te,K,C,ae,be,de,P,kt,xe,I]),Hg({...D,delta:b,draggingRect:K,pointerCoordinates:xn,scrollableAncestors:xe,scrollableAncestorRects:It});const Eh=u.useMemo(()=>({active:Q,activeNode:E,activeNodeRect:z,activatorEvent:X,collisions:te,containerNodeRect:H,dragOverlay:W,draggableNodes:C,droppableContainers:P,droppableRects:de,over:kt,measureDroppableContainers:Y,scrollableAncestors:xe,scrollableAncestorRects:It,measuringConfiguration:J,measuringScheduled:re,windowRect:yn}),[Q,E,z,X,te,H,W,C,P,de,kt,Y,xe,It,J,re,yn]),Th=u.useMemo(()=>({activatorEvent:X,activators:Wa,active:Q,activeNodeRect:z,ariaDescribedById:{draggable:R},dispatch:m,draggableNodes:C,over:kt,measureDroppableContainers:Y}),[X,Wa,Q,z,m,R,C,kt,Y]);return ye.createElement(Hf.Provider,{value:v},ye.createElement(Cr.Provider,{value:Th},ye.createElement(ih.Provider,{value:Eh},ye.createElement(si.Provider,{value:bh},d)),ye.createElement(fv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ye.createElement(gg,{...a,hiddenTextDescribedById:R}));function Ph(){const Oe=(V==null?void 0:V.autoScrollEnabled)===!1,Je=typeof c=="object"?c.enabled===!1:c===!1,Ze=k&&!Oe&&!Je;return typeof c=="object"?{...c,enabled:Ze}:{enabled:Ze}}}),gv=u.createContext(null),cu="button",vv="Draggable";function ah(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ti(vv),{activators:o,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:p,draggableNodes:h,over:g}=u.useContext(Cr),{role:x=cu,roleDescription:j="draggable",tabIndex:w=0}=l??{},T=(c==null?void 0:c.id)===t,m=u.useContext(T?si:gv),[f,v]=Dl(),[y,S]=Dl(),k=rv(o,t),N=pr(n);Ut(()=>(h.set(t,{id:t,key:i,node:f,activatorNode:y,data:N}),()=>{const b=h.get(t);b&&b.key===i&&h.delete(t)}),[h,t]);const C=u.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":T&&x===cu?!0:void 0,"aria-roledescription":j,"aria-describedby":p.draggable}),[s,x,w,T,j,p.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:C,isDragging:T,listeners:s?void 0:k,node:f,over:g,setNodeRef:v,setActivatorNodeRef:S,transform:m}}function yv(){return u.useContext(ih)}const xv="Droppable",wv={timeout:25};function jv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ti(xv),{active:o,dispatch:a,over:c,measureDroppableContainers:d}=u.useContext(Cr),p=u.useRef({disabled:n}),h=u.useRef(!1),g=u.useRef(null),x=u.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:T}={...wv,...l},m=pr(w??s),f=u.useCallback(()=>{if(!h.current){h.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(m.current)?m.current:[m.current]),x.current=null},T)},[T]),v=ni({callback:f,disabled:j||!o}),y=u.useCallback((C,b)=>{v&&(b&&(v.unobserve(b),h.current=!1),C&&v.observe(C))},[v]),[S,k]=Dl(y),N=pr(t);return u.useEffect(()=>{!v||!S.current||(v.disconnect(),h.current=!1,v.observe(S.current))},[S,v]),u.useEffect(()=>(a({type:Se.RegisterDroppable,element:{id:s,key:i,disabled:n,node:S,rect:g,data:N}}),()=>a({type:Se.UnregisterDroppable,key:i,id:s})),[s]),u.useEffect(()=>{n!==p.current.disabled&&(a({type:Se.SetDroppableDisabled,id:s,key:i,disabled:n}),p.current.disabled=n)},[s,i,n,a]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:k}}function Nv(e){let{animation:t,children:n}=e;const[s,l]=u.useState(null),[i,o]=u.useState(null),a=Rl(n);return!n&&!s&&a&&l(a),Ut(()=>{if(!i)return;const c=s==null?void 0:s.key,d=s==null?void 0:s.props.id;if(c==null||d==null){l(null);return}Promise.resolve(t(d,i)).then(()=>{l(null)})},[t,s,i]),ye.createElement(ye.Fragment,null,n,s?u.cloneElement(s,{ref:o}):null)}const Sv={x:0,y:0,scaleX:1,scaleY:1};function kv(e){let{children:t}=e;return ye.createElement(Cr.Provider,{value:lh},ye.createElement(si.Provider,{value:Sv},t))}const bv={position:"fixed",touchAction:"none"},Cv=e=>Ia(e)?"transform 250ms ease":void 0,Ev=u.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:d,transition:p=Cv}=e;if(!a)return null;const h=l?d:{...d,scaleX:1,scaleY:1},g={...bv,width:a.width,height:a.height,top:a.top,left:a.left,transform:mr.Transform.toString(h),transformOrigin:l&&s?xg(s,a):void 0,transition:typeof p=="function"?p(s):p,...c};return ye.createElement(n,{className:o,style:g,ref:t},i)}),Tv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(l))n.node.style.setProperty(c,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},Pv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:mr.Transform.toString(t)},{transform:mr.Transform.toString(n)}]},Dv={duration:250,easing:"ease",keyframes:Pv,sideEffects:Tv({styles:{active:{opacity:"0"}}})};function Rv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return ei((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const d=rh(o);if(!d)return;const{transform:p}=Ue(o).getComputedStyle(o),h=Gf(p);if(!h)return;const g=typeof t=="function"?t:Iv(t);return eh(c,l.draggable.measure),g({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:l,transform:h})})}function Iv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Dv,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...d}=i;if(!t)return;const p={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-p.x,y:c.y-p.y,...h},x=l({...d,active:o,dragOverlay:a,transform:{initial:c,final:g}}),[j]=x,w=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const T=s==null?void 0:s({active:o,dragOverlay:a,...d}),m=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{m.onfinish=()=>{T==null||T(),f()}})}}let uu=0;function Mv(e){return u.useMemo(()=>{if(e!=null)return uu++,uu},[e])}const Ov=ye.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:d=999}=e;const{activatorEvent:p,active:h,activeNodeRect:g,containerNodeRect:x,draggableNodes:j,droppableContainers:w,dragOverlay:T,over:m,measuringConfiguration:f,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:S}=yv(),k=u.useContext(si),N=Mv(h==null?void 0:h.id),C=oh(o,{activatorEvent:p,active:h,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:T.rect,over:m,overlayNodeRect:T.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:k,windowRect:S}),b=Aa(g),P=Rv({config:s,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),_=b?T.setRef:void 0;return ye.createElement(kv,null,ye.createElement(Nv,{animation:P},h&&N?ye.createElement(Ev,{key:N,id:h.id,ref:_,as:a,activatorEvent:p,adjustScale:t,className:c,transition:i,rect:b,style:{zIndex:d,...l},transform:C},n):null))}),ch={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Lv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},ll={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:ch},du=10,Zn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],_l={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function _v(e){if(_l[e])return _l[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function fu(e){return _l[e]?_l[e].priority:e.startsWith("gt-")?3:99}const uh=u.createContext(null),hu=5;function Av({children:e}){const[t,n]=u.useState([]),[s,l]=u.useState(1),i=u.useCallback((c,d)=>{const p=s;l(g=>g+1);const h={id:p,message:c,type:d,createdAt:Date.now()};n(g=>{const x=[h,...g];return x.length>hu?x.slice(0,hu):x})},[s]),o=u.useCallback(c=>{n(d=>d.filter(p=>p.id!==c))},[]),a=u.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(uh.Provider,{value:a,children:e})}function Er(){const e=u.useContext(uh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function pu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const dh="chrote-dashboard-state",fh="chrote-dashboard-presets",Is=["terminal1","terminal2"];function zv(){try{const e=localStorage.getItem(fh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Fv(e){try{localStorage.setItem(fh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function $v(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function mu(e){return JSON.parse(JSON.stringify(e))}function Bv(){try{const e=localStorage.getItem(dh);if(e){const t=JSON.parse(e);return Vv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Wv(e){try{localStorage.setItem(dh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function vr(e){return Math.max(1,Math.min(4,e))}function Uv(e,t){const n=vr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Xs(e,t){return{windows:Uv(e,t),windowCount:vr(t)}}function Ms(e){return typeof e=="object"&&e!==null}function Vv(e){if(Ms(e)){if(Ms(e.workspaces)&&Ms(e.workspaces.terminal1)&&Ms(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??ll,s=(l,i)=>{const o=Ms(i)?i:{},a=vr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(p,h)=>{const g=c[h];return{id:`${l}-window-${h}`,boundSessions:(g==null?void 0:g.boundSessions)??[],activeSession:(g==null?void 0:g.activeSession)??null,colorIndex:typeof(g==null?void 0:g.colorIndex)=="number"?g.colorIndex:h}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??ll,s=vr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Xs("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Xs("terminal1",2),terminal2:Xs("terminal2",2)},sidebarCollapsed:!1,settings:ll}}const hh=u.createContext(null);function Hv({children:e}){const t=u.useMemo(()=>Bv(),[]),{addToast:n}=Er(),[s,l]=u.useState([]),[i,o]=u.useState({}),[a,c]=u.useState(!0),[d,p]=u.useState(null),[h,g]=u.useState((t==null?void 0:t.workspaces)??{terminal1:Xs("terminal1",2),terminal2:Xs("terminal2",2)}),[x,j]=u.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,T]=u.useState(null),[m,f]=u.useState(!1),[v,y]=u.useState((t==null?void 0:t.settings)??ll),[S,k]=u.useState(null),[N,C]=u.useState(()=>zv()),b=u.useMemo(()=>{const D=new Map;return Is.forEach(O=>{h[O].windows.forEach((H,G)=>{H.boundSessions.forEach(he=>{D.set(he,{workspaceId:O,windowId:H.id,colorIndex:H.colorIndex,windowIndex:G+1})})})}),D},[h]);u.useEffect(()=>{g(D=>{let O=!1;const z={...D};return Is.forEach(H=>{const G=D[H];G.windows.some(W=>W.activeSession==="INIT-PENDING")&&(O=!0,z[H]={...G,windows:G.windows.map(W=>W.activeSession==="INIT-PENDING"?{...W,activeSession:null}:W)})}),O?z:D})},[]),u.useEffect(()=>{const D={...h};Is.forEach(O=>{const z=h[O];D[O]={...z,windows:z.windows.map(H=>H.activeSession==="INIT-PENDING"?{...H,activeSession:null}:H)}}),Wv({workspaces:D,sidebarCollapsed:x,settings:v})},[h,x,v]),u.useEffect(()=>{Fv(N)},[N]);const P=u.useCallback(async()=>{try{const O=await(await fetch("/api/tmux/sessions")).json();O.error?(p(O.error),l([]),o({})):(p(null),l(O.sessions),o(O.grouped))}catch(D){p("Failed to fetch sessions"),console.error("Failed to fetch sessions:",D)}finally{c(!1)}},[]);u.useEffect(()=>{P();const D=setInterval(P,v.autoRefreshInterval);return()=>clearInterval(D)},[P,v.autoRefreshInterval]),u.useEffect(()=>{const D={...ch,...v.tmuxAppearance};pu(D)},[]);const _=u.useCallback((D,O)=>{const z=vr(O);g(H=>{const G=H[D];if(!G)return H;const he=(()=>{if(z>G.windows.length){const W=[...G.windows];for(let ae=G.windows.length;ae<z;ae++)W.push({id:`${D}-window-${ae}`,boundSessions:[],activeSession:null,colorIndex:ae});return W}return z<G.windows.length?G.windows.slice(0,z):G.windows})();return{...H,[D]:{...G,windowCount:z,windows:he}}})},[]),U=u.useCallback((D,O,z)=>{g(H=>{const G={...H};let he=!1,W=!1;if(Is.forEach(Me=>{const vn=H[Me],yn=vn.windows.map(xe=>{const It=Me===D&&xe.id===O,St=xe.boundSessions.includes(z);if(!It&&!St)return xe;if(!It&&St){const xn=xe.boundSessions.filter(Ln=>Ln!==z);return{...xe,boundSessions:xn,activeSession:xe.activeSession===z?xn[0]??null:xe.activeSession}}return W=!0,he=xe.boundSessions.length===0||xe.boundSessions.length===1&&St,xe});G[Me]={...vn,windows:yn}}),!W)return H;const ae=G[D],be=ae.windows.map(Me=>Me.id!==O||Me.boundSessions.includes(z)?Me:{...Me,boundSessions:[...Me.boundSessions,z],activeSession:he?z:Me.activeSession});return{...G,[D]:{...ae,windows:be}}})},[]),Q=u.useCallback((D,O,z)=>{g(H=>{const G=H[D];if(!G)return H;const he=G.windows.map(W=>{if(W.id!==O||!W.boundSessions.includes(z))return W;const ae=W.boundSessions.filter(be=>be!==z);return{...W,boundSessions:ae,activeSession:W.activeSession===z?ae[0]??null:W.activeSession}});return{...H,[D]:{...G,windows:he}}})},[]),A=u.useCallback((D,O,z)=>{g(H=>{const G=H[D];if(!G)return H;const he=G.windows.map(W=>W.id!==O||!W.boundSessions.includes(z)?W:{...W,activeSession:z});return{...H,[D]:{...G,windows:he}}})},[]),V=u.useCallback((D,O,z)=>{g(H=>{const G=H[D];if(!G)return H;const he=G.windows.map(W=>{if(W.id!==O||W.boundSessions.length<=1)return W;const ae=W.activeSession?W.boundSessions.indexOf(W.activeSession):0,be=z==="next"?(ae+1)%W.boundSessions.length:(ae-1+W.boundSessions.length)%W.boundSessions.length;return{...W,activeSession:W.boundSessions[be]}});return{...H,[D]:{...G,windows:he}}})},[]),q=u.useCallback(()=>{j(D=>!D)},[]),X=u.useCallback(D=>{T(D)},[]),L=u.useCallback(()=>{T(null)},[]),B=u.useCallback(D=>{const O=b.get(D);O?A(O.workspaceId,O.windowId,D):X(D)},[b,A,X]),R=u.useCallback(D=>{y(O=>{const z={...O,...D};return D.tmuxAppearance&&pu(z.tmuxAppearance),z})},[]),Z=u.useCallback(async D=>{try{const O=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"DELETE"});if(O.ok)n(`Session '${D}' deleted`,"info"),P();else{const z=await O.text();console.error("Failed to delete session:",z),n("Failed to delete session","error")}}catch(O){console.error("Failed to delete session:",O),n("Failed to delete session","error")}},[P,n]),J=u.useCallback(async(D,O)=>{try{const z=await fetch(`/api/tmux/sessions/${encodeURIComponent(D)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:O})});if(z.ok)return g(H=>{const G={...H};return Is.forEach(he=>{const W=H[he];G[he]={...W,windows:W.windows.map(ae=>({...ae,boundSessions:ae.boundSessions.map(be=>be===D?O:be),activeSession:ae.activeSession===D?O:ae.activeSession}))}}),G}),n(`Session renamed to '${O}'`,"success"),P(),!0;{const H=await z.text();return console.error("Failed to rename session:",H),n("Failed to rename session","error"),!1}}catch(z){return console.error("Failed to rename session:",z),n("Failed to rename session","error"),!1}},[P,n]),de=u.useCallback(D=>{if(N.length>=du)return n(`Maximum ${du} presets reached`,"warning"),!1;const O={id:$v(),name:D,createdAt:Date.now(),workspaces:mu(h)};return C(z=>[...z,O]),n(`Layout '${D}' saved`,"success"),!0},[N.length,h,n]),Y=u.useCallback(D=>{const O=N.find(z=>z.id===D);if(!O){n("Preset not found","error");return}g(mu(O.workspaces)),n(`Layout '${O.name}' loaded`,"info")},[N,n]),re=u.useCallback(D=>{const O=N.find(z=>z.id===D);O&&(C(z=>z.filter(H=>H.id!==D)),n(`Preset '${O.name}' deleted`,"info"))},[N,n]),E=u.useCallback((D,O)=>{C(z=>z.map(H=>H.id===D?{...H,name:O}:H))},[]),F=u.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:d,workspaces:h,sidebarCollapsed:x,floatingSession:w,assignedSessions:b,isDragging:m,settings:v,focusedWindowKey:S,layoutPresets:N,setWindowCount:_,addSessionToWindow:U,removeSessionFromWindow:Q,setActiveSession:A,cycleSession:V,toggleSidebar:q,openFloatingModal:X,closeFloatingModal:L,handleSessionClick:B,refreshSessions:P,deleteSession:Z,renameSession:J,setIsDragging:f,updateSettings:R,setFocusedWindowKey:k,saveCurrentLayout:de,loadPreset:Y,deletePreset:re,renamePreset:E}),[s,i,a,d,h,x,w,b,m,v,S,N,_,U,Q,A,V,q,X,L,B,P,Z,J,f,R,k,de,Y,re,E]);return r.jsx(hh.Provider,{value:F,children:e})}function pt(){const e=u.useContext(hh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const wn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function gu(){const e=u.useRef(null),{settings:t,updateSettings:n}=pt(),[s,l]=u.useState(0),[i,o]=u.useState(!1);u.useEffect(()=>{const p=e.current;p&&(p.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?p.play().catch(h=>{console.warn("Audio playback failed:",h.message),n({musicEnabled:!1})}):p.pause())},[t.musicEnabled,t.musicVolume,n]),u.useEffect(()=>{const p=e.current;p&&(p.src=wn[s].file,t.musicEnabled&&p.play().catch(h=>console.warn("Track change play failed:",h.message)))},[s,t.musicEnabled]);const a=()=>l(p=>(p+1)%wn.length),c=()=>l(p=>(p-1+wn.length)%wn.length),d=p=>{l(p),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[wn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",wn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:wn.map((p,h)=>r.jsxs("button",{className:`music-dropdown-item ${h===s?"active":""}`,onClick:()=>d(h),children:[h+1,". ",p.name," ",h===s&&t.musicEnabled&&""]},h))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:p=>n({musicVolume:parseFloat(p.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function ph(e){const[t,n]=u.useState(!1);return u.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const l=()=>n(s.matches);return s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[t,e]),t}function Kv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){var x;const[l,i]=u.useState(!1),[o,a]=u.useState(!1),c=u.useRef(null),d=ph("(max-width: 768px)");u.useEffect(()=>{const j=w=>{c.current&&!c.current.contains(w.target)&&i(!1);const T=w.target;o&&!T.closest(".tab-bar")&&a(!1)};if(l||o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[l,o]);const p=[{id:"chat",label:" ChroteChat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads_viewer",label:"Beads"},{id:"settings",label:"Settings"}],h=j=>{j.external?window.open(j.url,"_blank","noopener,noreferrer"):(t(j.id),a(!1))},g=((x=p.find(j=>j.id===e))==null?void 0:x.label)||"Menu";return r.jsx("div",{className:`tab-bar ${d?"mobile-mode":""}`,children:d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tab-bar-mobile-start",children:[r.jsx("button",{className:`tab hamburger-btn ${o?"active":""}`,onClick:()=>a(!o),children:""}),r.jsx("span",{className:"mobile-active-tab",children:g})]}),o&&r.jsxs("div",{className:"mobile-nav-dropdown",children:[p.map(j=>r.jsx("button",{className:`mobile-nav-item ${!j.external&&e===j.id?"active":""}`,onClick:()=>h(j),children:j.label},j.id)),r.jsx("div",{className:"mobile-nav-divider"}),s&&r.jsx("button",{className:"mobile-nav-item",onClick:()=>{s(),a(!1)},children:" Layouts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{n&&n(),a(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("help"),a(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("manual"),a(!1)},children:"Gastown Operators Manual"})]}),r.jsx("div",{className:"tab-bar-actions",children:r.jsx(gu,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"tab-bar-tabs",children:p.map(j=>r.jsx("button",{className:`tab ${!j.external&&e===j.id?"active":""} ${j.external?"external":""}`,onClick:()=>h(j),title:j.external?`Open ${j.label.replace(" ","")} in new tab`:void 0,children:j.label},j.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),r.jsxs("div",{className:"help-menu-container",ref:c,children:[r.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&r.jsxs("div",{className:"help-dropdown",children:[n&&r.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),r.jsx(gu,{})]})]})})}const Gv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Qv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t.includes("/witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t.includes("/polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")||/\/pc\//.test(t)||t.endsWith("/pc")?"polecat":t.includes("-refinery")||t.includes("/refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("/crew/")||t.includes("-crew")||t.includes("/crew")||t==="crew"||t.startsWith("crew-")||t.startsWith("crew/")?"crew":null}function Yv(e){const t=Qv(e);return t?{role:t,...Gv[t]}:null}function mh({sessionName:e,compact:t=!1}){const n=Yv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Xv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=pt(),c=t.get(e.name),d=!!c,[p,h]=u.useState({show:!1,x:0,y:0}),[g,x]=u.useState(!1),[j,w]=u.useState(""),[T,m]=u.useState(!1),f=u.useRef(null),v=c?Zn[c.colorIndex%Zn.length].border:void 0,y=c?{backgroundColor:v,color:"#000",borderColor:v}:void 0,S=c?{color:v}:void 0,{attributes:k,listeners:N,setNodeRef:C,transform:b,isDragging:P}=ah({id:e.name,data:{type:"session",session:e}}),_=b?{transform:`translate3d(${b.x}px, ${b.y}px, 0)`,zIndex:P?1e3:void 0}:void 0,U=u.useRef(null),Q=u.useCallback(Y=>{Y.persist(),U.current=setTimeout(()=>{if(U.current){const re=Y.touches[0];h({show:!0,x:re.clientX,y:re.clientY}),m(!1)}},500)},[]),A=u.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null)},[]),V=u.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null)},[]),q=u.useCallback(Y=>{Y.preventDefault(),Y.stopPropagation(),h({show:!0,x:Y.clientX,y:Y.clientY}),m(!1)},[]),X=u.useCallback(()=>{h({show:!1,x:0,y:0}),m(!1)},[]),L=u.useCallback(async()=>{X(),await s(e.name)},[s,e.name,X]),B=u.useCallback(()=>{w(e.name),x(!0),X()},[e.name,X]),R=u.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),x(!1)},[j,e.name,l]),Z=u.useCallback(Y=>{Y.key==="Enter"?R():Y.key==="Escape"&&x(!1)},[R]),J=u.useCallback(Y=>{const re=Y.startsWith("terminal2-")?"terminal2":"terminal1";o(re,Y,e.name),X()},[o,e.name,X]),de=u.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),X()},[c,a,e.name,X]);return u.useEffect(()=>{g&&f.current&&(f.current.focus(),f.current.select())},[g]),u.useEffect(()=>{if(!p.show)return;const Y=()=>X();return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[p.show,X]),g?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:Y=>w(Y.target.value),onKeyDown:Z,onBlur:R})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:C,className:`session-item ${d?"assigned":""} ${P?"dragging":""}`,style:_,...N,...k,onClick:()=>n(e.name),onContextMenu:q,onTouchStart:Q,onTouchEnd:A,onTouchMove:V,children:[c&&r.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(mh,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:S,children:e.name}),e.attached&&!d&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),p.show&&r.jsxs("div",{className:"session-context-menu",style:{left:p.x,top:p.y},onClick:Y=>Y.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:B,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),T&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(Y=>{const re=i[Y];return re.windows.slice(0,re.windowCount).map((E,F)=>{const D=Zn[E.colorIndex%Zn.length],O=(c==null?void 0:c.windowId)===E.id,z=Y==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${O?"active":""}`,onClick:()=>J(E.id),style:{borderLeft:`3px solid ${D.border}`},children:[z,"Window ",F+1,O&&r.jsx("span",{className:"session-context-check",children:""})]},E.id)})})})]}),d&&r.jsxs("button",{className:"session-context-item",onClick:de,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:L,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Jv({groupKey:e,sessions:t}){const[n,s]=u.useState(!0),l=_v(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Xv,{session:i},i.name))})]})}const vu=["chrote-chat"];function Zv({onConfirm:e,onCancel:t,sessionCount:n,sessionNames:s=[]}){const[l,i]=u.useState(""),o=l==="NUKE",a=s.filter(p=>vu.includes(p)).length,c=n-a,d=p=>{p.preventDefault(),o&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:c})," tmux session",c!==1?"s":"","."]}),a>0&&r.jsxs("p",{className:"nuke-protected",children:[r.jsx("strong",{children:a})," protected session",a!==1?"s":""," will be preserved: ",vu.filter(p=>s.includes(p)).join(", ")]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:d,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:l,onChange:p=>i(p.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!o,children:"Destroy All"})]})]})]})]})})}function qv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=pt(),{addToast:c}=Er(),[d,p]=u.useState(!1),[h,g]=u.useState(""),[x,j]=u.useState(!1),[w,T]=u.useState(!1),m=u.useMemo(()=>{const y=Object.entries(e);return(h?y.map(([k,N])=>[k,N.filter(C=>C.name.toLowerCase().includes(h.toLowerCase()))]).filter(([k,N])=>N.length>0):y).sort(([k],[N])=>{const C=fu(k),b=fu(N);return C!==b?C-b:k.localeCompare(N)})},[e,h]),f=async()=>{p(!0);try{const y=a.defaultSessionPrefix||"tmux",S=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=new RegExp(`^${S}(\\d+)$`),N=o.map(_=>_.name.match(k)).filter(Boolean).map(_=>parseInt(_[1],10)),C=N.length>0?Math.max(...N)+1:1,b=`${y}${C}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b})})).ok?(c(`Session '${b}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{p(!1)}},v=async()=>{T(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{T(!1),j(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:d,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:h,onChange:y=>g(y.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&m.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),m.map(([y,S])=>r.jsx(Jv,{groupKey:y,sessions:S},y))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&r.jsx(Zv,{sessionCount:o.length,sessionNames:o.map(y=>y.name),onConfirm:v,onCancel:()=>j(!1)})]})}function ey({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=u.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=pt(),{addToast:c}=Er(),d=async()=>{l(!0);try{const p=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p})})).ok?(c(`Session '${p}' created`,"success"),await o(),a(e,t,p)):c("Failed to create session","error")}catch(p){console.error("Failed to create session:",p),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:d,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function ty({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=jv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ny({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:d,isDragging:p}=ah({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),h=d?{transform:`translate3d(${d.x}px, ${d.y}px, 0)`,zIndex:p?1e3:void 0}:void 0,g=e.includes("-")?e.split("-").slice(-1)[0]:e,x=j=>{p||j.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${p?"dragging":""}`,style:h,onClick:x,...a,...o,children:[r.jsx("span",{className:"tag-name",children:g}),r.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function sy({workspaceId:e,window:t,isDragging:n=!1,style:s}){const[l,i]=u.useState(new Set),o=u.useRef(new Map),a=u.useRef(null),c=u.useRef(null),{removeSessionFromWindow:d,setActiveSession:p,cycleSession:h,settings:g,focusedWindowKey:x,setFocusedWindowKey:j}=pt(),w=`${e}-${t.id}`,T=x===w,m=t.activeSession,f=m?l.has(m):!1,v=u.useCallback(()=>{if(m)try{const A=o.current.get(m);if(!(A!=null&&A.contentWindow))return;A.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[m]),y=u.useCallback((A,V)=>{if(!(A!=null&&A.contentWindow))return;let q=0;const X=20,L=()=>{try{const B=A.contentWindow;if(B.term){B.term.options.fontSize=V;return}}catch{}q++,q<X&&setTimeout(L,50)};L()},[]),S=u.useCallback(A=>{i(q=>new Set(q).add(A));const V=o.current.get(A);V&&(y(V,g.fontSize),setTimeout(()=>{A===t.activeSession&&v()},100),setTimeout(()=>{A===t.activeSession&&v()},300))},[y,g.fontSize,v,t.activeSession]);u.useEffect(()=>{l.forEach(A=>{const V=o.current.get(A);V&&y(V,g.fontSize)})},[g.fontSize,l,y]),u.useEffect(()=>{m&&l.has(m)&&setTimeout(v,50)},[m,l,v]),u.useEffect(()=>{const A=new Set(t.boundSessions);o.current.forEach((V,q)=>{A.has(q)||o.current.delete(q)}),i(V=>{const q=new Set;return V.forEach(X=>{A.has(X)&&q.add(X)}),q})},[t.boundSessions]);const k=u.useCallback(()=>{j(w)},[w,j]),N=u.useRef(T),C=u.useRef(t.boundSessions);u.useEffect(()=>{N.current=T,C.current=t.boundSessions},[T,t.boundSessions]),u.useEffect(()=>{const A=V=>{N.current&&V.ctrlKey&&(C.current.length<=1||(V.key==="ArrowRight"?(V.preventDefault(),h(e,t.id,"next")):V.key==="ArrowLeft"&&(V.preventDefault(),h(e,t.id,"prev"))))};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[e,t.id,h]),u.useEffect(()=>{const A=a.current;if(!A)return;let V;const q=new ResizeObserver(()=>{clearTimeout(V),V=setTimeout(v,100)});return q.observe(A),()=>{clearTimeout(V),q.disconnect()}},[v]);const b=Zn[t.colorIndex%Zn.length],P=A=>{d(e,t.id,A)},_=A=>{p(e,t.id,A)},U=t.boundSessions.length>0,Q=A=>`/terminal/?arg=${encodeURIComponent(A)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:c,className:`terminal-window ${T?"focused":""}`,tabIndex:-1,onClick:k,style:{"--window-accent":b.accent,"--window-bg":b.bg,"--window-border":b.border,...s},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(A=>r.jsx(ny,{sessionName:A,isActive:A===m,workspaceId:e,windowId:t.id,onRemove:()=>P(A),onClick:()=>_(A)},A))}),r.jsxs("div",{className:"window-controls",children:[U&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${f?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:a,className:"terminal-window-body",children:[m==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:b.accent},children:r.jsx("span",{children:"Initializing Session..."})}):U?t.boundSessions.map(A=>{const V=A===m;return r.jsx("iframe",{ref:q=>{q&&o.current.set(A,q)},src:Q(A),onLoad:()=>S(A),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:V?"block":"none",position:V?"relative":"absolute"},title:`Terminal ${t.id} - ${A}`},A)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(ey,{workspaceId:e,windowId:t.id,accentColor:b.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(ty,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ry({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=pt(),l=t[e],i=l.windows,o=l.windowCount,a=ph("(max-width: 768px)"),[c,d]=u.useState(0);u.useEffect(()=>{c>=o&&d(0)},[o,c]);const p=()=>{if(a)return"grid-1";switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsx("div",{className:"terminal-area-controls",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"View:"}),r.jsxs("div",{className:"mobile-controls-row",style:{display:"flex",gap:"4px",alignItems:"center",flex:1,overflowX:"auto"},children:[Array.from({length:o}).map((h,g)=>r.jsx("button",{className:`layout-btn ${c===g?"active":""}`,onClick:()=>d(g),children:g+1},`view-${g}`)),r.jsx("div",{style:{width:"1px",height:"16px",background:"var(--divider)",margin:"0 8px"}}),r.jsx("span",{className:"layout-label",children:"Count:"}),[1,2,3,4].map(h=>r.jsx("button",{className:`layout-btn ${o===h?"active":""}`,onClick:()=>n(e,h),style:{opacity:o===h?1:.7},children:h},`count-${h}`))]})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(h=>r.jsx("button",{className:`layout-btn ${o===h?"active":""}`,onClick:()=>n(e,h),title:`${h} window${h>1?"s":""}`,children:h},h))]})}),r.jsx("div",{className:`terminal-grid ${p()}`,"data-workspace":e,children:i.slice(0,o).map((h,g)=>{const x=!a||g===c;return r.jsx(sy,{workspaceId:e,window:h,isDragging:s,style:{display:x?"flex":"none"}},h.id)})})]})}class ie extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function za(e){return`/${e}`}const gn="/api/files";function gh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new ie('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new ie("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new ie("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new ie('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function xs(e,t){if(!e.ok)switch(e.status){case 403:throw new ie("Permission denied","PERMISSION",403);case 404:throw new ie("File not found","NOT_FOUND",404);case 409:throw new ie("Already exists","CONFLICT",409);case 413:throw new ie("File too large","STORAGE",413);case 507:throw new ie("Insufficient storage","STORAGE",507);default:throw new ie(`${t}: ${e.status}`,"SERVER",e.status)}}function qn(e,t){if(e instanceof ie)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function vh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${gn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new ie(l instanceof Error?l.message:"Network error","NETWORK")}xs(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new ie("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new ie("Invalid directory response","INVALID");if(s.isDir===!1)throw new ie("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new ie("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function yh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${gn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new ie(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new ie("Folder already exists","CONFLICT",409);xs(s,"Failed to create folder")}async function ly(e,t){let n;try{n=await fetch(`${gn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new ie(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new ie("Destination already exists","CONFLICT",409);xs(n,"Failed to rename")}async function iy(e){let t;try{t=await fetch(`${gn}/resources${e}`,{method:"DELETE"})}catch(n){throw new ie(n instanceof Error?n.message:"Network error","NETWORK")}xs(t,"Failed to delete")}async function Oo(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=gh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${gn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new ie(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new ie("File too large","STORAGE",413);if(o.status===507)throw new ie("Insufficient storage","STORAGE",507);xs(o,`Failed to upload ${l}`)}}async function oy(e){try{return(await fetch(`${gn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Fa(e){return`${gn}/raw${e}?inline=false`}async function ay(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(d=>d.length>0).map(d=>gh(d)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${gn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(d){throw new ie(d instanceof Error?d.message:"Network error","NETWORK")}if(c.status===413)throw new ie("File too large","STORAGE",413);if(c.status===507)throw new ie("Insufficient storage","STORAGE",507);xs(c,`Failed to upload ${o}`)}}function cy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,d=o===0?za(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:d})]},a)})]})}function Lo(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function uy(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function xh(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function dy({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:xh(e)})}function _i({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function fy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:d,onRenameCancel:p,isAtRoot:h,disabled:g}){const x=u.useRef(null);u.useEffect(()=>{if(o&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{g||(e.isDir?s():window.open(Fa(e.path),"_blank"))},w=f=>{g||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},T=f=>{f.key==="Enter"?d():f.key==="Escape"&&p()},m=h?za(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${g?"disabled":""}`,onClick:g?void 0:n,onDoubleClick:j,onContextMenu:g?void 0:l,onKeyDown:w,tabIndex:g?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(dy,{item:e}),o?r.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:T,onBlur:p}):r.jsx("span",{className:"fb-filename",children:m})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Lo(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:uy(e.modified)})]})}function hy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open(Fa(e.path),"_blank"))},c=i?za(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:xh(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function py({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const d=u.useRef(null);u.useEffect(()=>{const h=x=>{d.current&&!d.current.contains(x.target)&&s()},g=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",h),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",g)}},[s]);const p={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:d,className:"fb-context-menu",style:p,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function my({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=u.useState(""),o=u.useRef(null);u.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function gy({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function vy({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=u.useState(!1),[i,o]=u.useState(!1),[a,c]=u.useState(null),d=u.useRef(null),p=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},h=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},g=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const T=w.dataTransfer.files;T.length>0&&await x(T)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Oo(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(T){const m=qn(T,"upload");c(null),n(m)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:p,onDragLeave:h,onDrop:g,children:[r.jsx("input",{ref:d,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=d.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function wh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const d=a,p=await new Promise((h,g)=>{d.file(h,g)});n.push({file:p,relativePath:c})}else if(a.isDirectory){const d=await wh(a,c);n.push(...d)}}return n}async function yy(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await wh(i,i.name),a=o.reduce((c,d)=>c+d.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function xy({onError:e}){const[t,n]=u.useState([]),[s,l]=u.useState(""),[i,o]=u.useState(!1),[a,c]=u.useState(!1),[d,p]=u.useState("idle"),h=u.useRef(null),g=u.useRef(null),x="/code/incoming",j=b=>{b.preventDefault(),b.stopPropagation(),o(!0)},w=b=>{b.preventDefault(),b.stopPropagation(),o(!1)},T=async b=>{if(b.preventDefault(),b.stopPropagation(),o(!1),b.dataTransfer.items&&b.dataTransfer.items.length>0){const P=await yy(b.dataTransfer.items);P.length>0&&(n(_=>[..._,...P]),p("idle"))}else if(b.dataTransfer.files.length>0){const P=Array.from(b.dataTransfer.files).map(_=>({type:"file",name:_.name,size:_.size,file:_}));n(_=>[..._,...P]),p("idle")}},m=b=>{if(b.target.files&&b.target.files.length>0){const P=Array.from(b.target.files).map(_=>({type:"file",name:_.name,size:_.size,file:_}));n(_=>[..._,...P]),p("idle")}},f=b=>{if(b.target.files&&b.target.files.length>0){const P=Array.from(b.target.files),_=new Map;for(const Q of P){const A=Q.webkitRelativePath||Q.name,V=A.split("/")[0];_.has(V)||_.set(V,[]),_.get(V).push({file:Q,relativePath:A})}const U=Array.from(_.entries()).map(([Q,A])=>({type:"folder",name:Q,size:A.reduce((V,q)=>V+q.file.size,0),filesWithPaths:A}));n(Q=>[...Q,...U]),p("idle")}},v=b=>{n(P=>P.filter((_,U)=>U!==b))},y=async()=>{if(t.length!==0){c(!0);try{await oy(x)||await yh("/code","incoming");for(const P of t)P.type==="file"&&P.file?await Oo(x,[P.file]):P.type==="folder"&&P.filesWithPaths&&await ay(x,P.filesWithPaths);if(s.trim()&&t.length>0){const P=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await Oo(x,[P])}p("success"),n([]),l(""),h.current&&(h.current.value=""),g.current&&(g.current.value=""),setTimeout(()=>p("idle"),2e3)}catch(b){p("error");const P=qn(b,"upload");e(`Failed to send: ${P}`),setTimeout(()=>p("idle"),2e3)}finally{c(!1)}}},S=t.reduce((b,P)=>b+P.size,0),k=t.reduce((b,P)=>{var _;return P.type==="file"?b+1:b+(((_=P.filesWithPaths)==null?void 0:_.length)||0)},0),N=t.filter(b=>b.type==="folder").length,C=t.filter(b=>b.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${d} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:T,children:[r.jsx("input",{ref:h,type:"file",multiple:!0,onChange:m,style:{display:"none"}}),r.jsx("input",{ref:g,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((b,P)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:b.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[b.name,b.type==="folder"&&b.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",b.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:Lo(b.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:_=>{_.stopPropagation(),v(P)},children:""})]},`${b.name}-${P}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:b=>{var P;b.stopPropagation(),(P=h.current)==null||P.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:b=>{var P;b.stopPropagation(),(P=g.current)==null||P.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:b=>{var P;b.stopPropagation(),(P=h.current)==null||P.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:b=>{var P;b.stopPropagation(),(P=g.current)==null||P.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:b=>l(b.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&C>0&&", ",C>0&&`${C} file${C>1?"s":""}`," ","(",k," total)  ",Lo(S)]}),r.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":d==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function wy(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function jy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return u.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function Ny(){const[e,t]=u.useState("browser"),[n,s]=u.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=u.useState({type:null,loading:!1,error:null}),[o,a]=u.useState(null),[c,d]=u.useState(null),[p,h]=u.useState(null),[g,x]=u.useState(""),[j,w]=u.useState(!1),[T,m]=u.useState(null),[f,v]=u.useState(["/"]),[y,S]=u.useState(0),k=u.useCallback(E=>{a(E)},[]),N=u.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),C=u.useCallback(async E=>{s(F=>({...F,loading:!0,error:null}));try{const F=await vh(E);s(D=>({...D,items:F,loading:!1,currentPath:E,selectedItems:new Set,error:null}))}catch(F){const D=qn(F,"fetch");s(O=>({...O,loading:!1,error:D,items:[]}))}},[]);u.useEffect(()=>{C("/")},[C]);const b=u.useCallback((E,F=!0)=>{if(F){const D=[...f.slice(0,y+1),E];v(D),S(D.length-1)}C(E)},[C,f,y]),P=u.useCallback(()=>{if(y>0){const E=y-1;S(E),C(f[E])}},[y,f,C]),_=u.useCallback(()=>{if(y<f.length-1){const E=y+1;S(E),C(f[E])}},[y,f,C]),U=u.useCallback(()=>{const E=n.currentPath.split("/").filter(Boolean);E.length>0&&(E.pop(),b("/"+E.join("/")))},[n.currentPath,b]),Q=u.useMemo(()=>{const E=[...n.items],F=n.searchQuery?E.filter(D=>D.name.toLowerCase().includes(n.searchQuery.toLowerCase())):E;return F.sort((D,O)=>{if(D.isDir!==O.isDir)return D.isDir?-1:1;let z=0;switch(n.sortBy){case"name":z=D.name.localeCompare(O.name);break;case"size":z=D.size-O.size;break;case"modified":z=new Date(D.modified).getTime()-new Date(O.modified).getTime();break}return n.sortDir==="asc"?z:-z}),F},[n.items,n.sortBy,n.sortDir,n.searchQuery]),A=E=>{s(F=>({...F,sortBy:E,sortDir:F.sortBy===E&&F.sortDir==="asc"?"desc":"asc"}))},V=(E,F)=>{if(F.preventDefault(),F.ctrlKey||F.metaKey)s(D=>{const O=new Set(D.selectedItems);return O.has(E.name)?O.delete(E.name):O.add(E.name),{...D,selectedItems:O}});else if(F.shiftKey&&n.selectedItems.size>0){const D=Array.from(n.selectedItems).pop(),O=Q.findIndex(W=>W.name===D),z=Q.findIndex(W=>W.name===E.name),H=Math.min(O,z),G=Math.max(O,z),he=new Set(Q.slice(H,G+1).map(W=>W.name));s(W=>({...W,selectedItems:he}))}else s(D=>({...D,selectedItems:new Set([E.name])}))},q=(E,F)=>{F.preventDefault(),d({x:F.clientX,y:F.clientY,item:E}),E&&!n.selectedItems.has(E.name)&&s(D=>({...D,selectedItems:new Set([E.name])}))},X=E=>{h(E.name),x(E.name),d(null)},L=async()=>{if(!p||!g.trim()||g===p){B();return}const E=n.items.find(D=>D.name===p);if(!E)return;const F=n.currentPath==="/"?`/${g}`:`${n.currentPath}/${g}`;i({type:"rename",loading:!0,error:null,target:E.name});try{await ly(E.path,F),await C(n.currentPath),N()}catch(D){const O=qn(D,"rename");i({type:"rename",loading:!1,error:O,target:E.name}),k(O)}finally{B()}},B=()=>{h(null),x("")},R=async()=>{if(T){i({type:"delete",loading:!0,error:null,target:T.name});try{await iy(T.path),await C(n.currentPath),N(),m(null)}catch(E){const F=qn(E,"delete");i({type:"delete",loading:!1,error:F,target:T.name}),k(F)}}},Z=async E=>{i({type:"create",loading:!0,error:null,target:E});try{await yh(n.currentPath,E),await C(n.currentPath),N(),w(!1)}catch(F){const D=qn(F,"create");i({type:"create",loading:!1,error:D,target:E})}},J=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Fa(c.item.path),"_blank"),d(null)},de=()=>{if(c!=null&&c.item){const E=c.item.path;navigator.clipboard.writeText(E)}d(null)};u.useEffect(()=>{const E=F=>{if(e==="browser"&&!(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"))if(F.key==="F5")F.preventDefault(),C(n.currentPath);else if(F.key==="Backspace")F.preventDefault(),U();else if(F.key==="Delete"){const D=n.items.find(O=>n.selectedItems.has(O.name));D&&m(D)}else if(F.key==="F2"){const D=n.items.find(O=>n.selectedItems.has(O.name));D&&X(D)}else F.ctrlKey&&F.key==="a"&&(F.preventDefault(),s(D=>({...D,selectedItems:new Set(D.items.map(O=>O.name))})))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,n.currentPath,n.items,n.selectedItems,C,U]);const Y=n.currentPath==="/"||n.currentPath==="",re=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(jy,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(vy,{currentPath:n.currentPath,onUploadComplete:()=>C(n.currentPath),onError:k}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:re,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>C(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(xy,{onError:k}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:P,disabled:y===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:_,disabled:y>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:U,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(cy,{path:n.currentPath,onNavigate:b}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:E=>s(F=>({...F,searchQuery:E.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(E=>({...E,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(E=>({...E,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:E=>{E.target.closest(".fb-row, .fb-grid-item")||q(null,E)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>C(n.currentPath),children:"Retry"})]}):Q.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(_i,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:A,className:"fb-cell-name"}),r.jsx(_i,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:A,className:"fb-cell-size"}),r.jsx(_i,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:A,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:Q.map(E=>r.jsx(fy,{item:E,isSelected:n.selectedItems.has(E.name),onSelect:F=>V(E,F),onNavigate:()=>b(E.path),onContextMenu:F=>q(E,F),onRename:()=>X(E),isRenaming:p===E.name,renameValue:g,setRenameValue:x,onRenameSubmit:L,onRenameCancel:B,isAtRoot:Y,disabled:re},E.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:Q.map(E=>r.jsx(hy,{item:E,isSelected:n.selectedItems.has(E.name),onSelect:F=>V(E,F),onNavigate:()=>b(E.path),onContextMenu:F=>q(E,F),isAtRoot:Y,disabled:re},E.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[Q.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),re&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(wy,{})}),c&&r.jsx(py,{x:c.x,y:c.y,item:c.item,onClose:()=>d(null),onDownload:J,onRename:()=>c.item&&X(c.item),onDelete:()=>c.item&&m(c.item),onCopyPath:de,onNewFolder:()=>{d(null),w(!0)}}),j&&r.jsx(my,{onClose:()=>{w(!1),N()},onCreate:Z,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),T&&r.jsx(gy,{item:T,onClose:()=>{m(null),N()},onConfirm:R,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function Sy({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=u.useState(n),[i,o]=u.useState([]),[a,c]=u.useState(!0),[d,p]=u.useState(null),[h,g]=u.useState(!1),x=u.useCallback(async y=>{try{const S=y==="/"?"/.beads":`${y}/.beads`,k=await fetch(`/api/files/resources${S}`);return k.ok?(await k.json()).isDir===!0:!1}catch{return!1}},[]),j=u.useCallback(async y=>{c(!0),p(null);try{const k=(await vh(y)).filter(b=>b.isDir),N=await x(y);g(N);const C=await Promise.all(k.map(async b=>({...b,hasBeads:await x(b.path)})));o(C)}catch(S){p(S instanceof Error?S.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);u.useEffect(()=>{j(s)},[s,j]);const w=y=>{l(y)},T=()=>{if(s==="/")return;const y=s.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},m=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((y,S,k)=>({name:y,path:"/"+k.slice(0,S+1).join("/")}))],f=()=>{e(s)},v=y=>{y.target===y.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:v,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:T,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:m.map((y,S)=>r.jsxs("span",{children:[S>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),h&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):d?r.jsx("div",{className:"folder-picker-error",children:d}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>r.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!h,title:h?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function zn({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function ky(){var g,x,j,w,T,m;const{settings:e,updateSettings:t}=pt(),[n,s]=u.useState(!1),l=f=>{const v=e.beadsProjectPaths||[];v.includes(f)||t({beadsProjectPaths:[...v,f]}),s(!1)},i=f=>{const v=e.beadsProjectPaths||[];t({beadsProjectPaths:v.filter(y=>y!==f)})},o=f=>{t({theme:f})},a=f=>{const v=parseInt(f.target.value,10);v>=12&&v<=20&&t({fontSize:v})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},d=f=>{t({defaultSessionPrefix:f.target.value})},p=(f,v)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:v}})},h=f=>{const v=Lv[f];v&&t({tmuxAppearance:v})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>h(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Background",value:((g=e.tmuxAppearance)==null?void 0:g.statusBg)??"#000000",onChange:f=>p("statusBg",f)}),r.jsx(zn,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>p("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>p("paneBorderActive",f)}),r.jsx(zn,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>p("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(zn,{label:"Background",value:((T=e.tmuxAppearance)==null?void 0:T.modeStyleBg)??"#00ff41",onChange:f=>p("modeStyleBg",f)}),r.jsx(zn,{label:"Foreground",value:((m=e.tmuxAppearance)==null?void 0:m.modeStyleFg)??"#000000",onChange:f=>p("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:d,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(Sy,{onSelect:l,onClose:()=>s(!1)})]})}function by(){const{floatingSession:e,closeFloatingModal:t,settings:n}=pt(),[s,l]=u.useState(!1),[i,o]=u.useState({x:80,y:60}),[a]=u.useState({width:1e3,height:700}),[c,d]=u.useState(!1),p=u.useRef({x:0,y:0}),h=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{l(!1)},[e]);const x=u.useCallback(()=>{try{const f=h.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=u.useCallback(f=>{const v=h.current;if(!(v!=null&&v.contentWindow))return;let y=0;const S=20,k=()=>{try{const N=v.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}y++,y<S&&setTimeout(k,50)};k()},[]),w=u.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[j,n.fontSize,x]);u.useEffect(()=>{s&&j(n.fontSize)},[s,n.fontSize,j]),u.useEffect(()=>{const f=g.current;if(!f)return;let v;const y=new ResizeObserver(()=>{clearTimeout(v),v=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(v),y.disconnect()}},[x]);const T=f=>{f.target.closest(".modal-close")||(d(!0),p.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(u.useEffect(()=>{if(!c)return;const f=y=>{o({x:y.clientX-p.current.x,y:y.clientY-p.current.y})},v=()=>{d(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)}},[c]),!e)return null;const m=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:T,children:[r.jsx("span",{className:"modal-title",children:m}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:g,className:"floating-modal-body",children:r.jsx("iframe",{ref:h,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const Cy=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function Ey(){const[e,t]=u.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(yu,{});case"terminals":return r.jsx(Ty,{});case"sessions":return r.jsx(Py,{});case"files":return r.jsx(Dy,{});case"tmux":return r.jsx(Ry,{});default:return r.jsx(yu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:Cy.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function yu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Py(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Dy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Ry(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const jh="/api/beads",Iy=/^Digest:\s*mol-\w+-patrol$/i;function My(e,t){return t?e:e.filter(n=>!Iy.test(n.title))}async function Nh(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Oy(){const{settings:e}=pt(),[t,n]=u.useState([]),[s,l]=u.useState(!0),[i,o]=u.useState(null),a=u.useCallback(async()=>{var c;l(!0),o(null);try{const d=await Nh(`${jh}/projects`);let p=[];d.success&&d.data&&(p=[...d.data.projects]);const h=e.beadsProjectPaths||[];for(const g of h){if(p.some(j=>j.path===g))continue;const x=g.split("/").filter(Boolean).pop()||g;p.push({name:x,path:g,beadsPath:`${g}/.beads`})}n(p),!d.success&&h.length===0&&o(((c=d.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(d){o(d instanceof Error?d.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return u.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function Ly(e,t=!1){const[n,s]=u.useState([]),[l,i]=u.useState(!1),[o,a]=u.useState(null),c=u.useCallback(async()=>{var p;if(!e){s([]);return}i(!0),a(null);try{const h=await Nh(`${jh}/issues`,{path:e});h.success&&h.data?s(h.data.issues):a(((p=h.error)==null?void 0:p.message)||"Failed to fetch issues")}catch(h){a(h instanceof Error?h.message:"Network error")}finally{i(!1)}},[e]);return u.useEffect(()=>{c()},[c]),{issues:My(n,t),loading:l,error:o,refresh:c}}const _y={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},Ay={bug:"",feature:"",task:"",chore:"",epic:""};function xu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function wu(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function zy(e){return e.replace(/_/g," ")}function ju({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=_y[e.status]||"var(--text-secondary)",i=e.type&&Ay[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${wu(e.priority)}`,children:xu(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${wu(e.priority)}`,children:xu(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:zy(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const Nu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Fy({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of Nu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[Nu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(ju,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(ju,{issue:i,showDependencies:!0},i.id))})]})]})}const $y=`
## Beads Viewer (bv) - Quick Reference

**bv** is a high-performance Terminal UI for browsing and managing tasks in projects using the Beads issue tracking system.

### Navigation
| Key | Action |
|-----|--------|
| \`j/k\` | Move down/up |
| \`/\` | Fuzzy search |
| \`Enter\` | Select/expand |
| \`q\` | Quit |

### Views
| Key | View |
|-----|------|
| \`b\` | Kanban board |
| \`g\` | Dependency graph |
| \`i\` | Insights & metrics |
| \`h\` | History timeline |

### Filters
| Key | Filter |
|-----|--------|
| \`o\` | Open issues |
| \`c\` | Closed issues |
| \`r\` | Ready (unblocked) |

### Actions
| Key | Action |
|-----|--------|
| \`E\` | Export to Markdown |
| \`C\` | Copy issue as Markdown |
| \`O\` | Open in editor |
| \`t\` | Time-travel (pick revision) |
| \`T\` | Compare with HEAD~5 |

### Features
- **Live Reload**: Auto-refreshes when beads.jsonl changes
- **Split View**: List + details on wide screens
- **Markdown**: Beautiful rendering with syntax highlighting
- **AI-Ready**: Structured insights for coding agents
`;function By(){const{projects:e,loading:t}=Oy(),[n,s]=u.useState(null),[l,i]=u.useState(!1),{issues:o,loading:a,error:c}=Ly(n);u.useEffect(()=>{if(!n&&e.length>0){const h=e[0].path;s(h),fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(h)}`,{method:"POST"}).catch(g=>console.error("Failed to start bv terminal:",g))}},[e,n]);const d=u.useCallback(async h=>{if(h){s(h);try{await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(h)}`,{method:"POST"})}catch(g){console.error("Failed to restart bv terminal:",g)}}},[]),p=u.useCallback(async()=>{n&&await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(n)}`,{method:"POST"}).catch(h=>console.error("Failed to restart bv terminal:",h)),window.open("/bv-terminal/","_blank")},[n]);return r.jsxs("div",{className:"bv-container",children:[r.jsx("div",{className:"bv-toolbar",children:r.jsxs("div",{className:"bv-toolbar-left",children:[r.jsx("label",{htmlFor:"bv-project-select",children:"Project:"}),r.jsx("select",{id:"bv-project-select",value:n||"",onChange:h=>d(h.target.value),disabled:t,children:t?r.jsx("option",{children:"Loading projects..."}):e.length===0?r.jsx("option",{children:"No projects with .beads found"}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(h=>r.jsx("option",{value:h.path,children:h.name},h.path))]})}),r.jsx("button",{className:"bv-btn bv-btn-primary",onClick:p,disabled:!n,title:"Open interactive beads_viewer in new tab",children:"Open Beads Viewer"}),r.jsx("button",{className:"bv-btn",onClick:()=>i(!0),title:"BV keyboard shortcuts and help",children:"BV Help"})]})}),l&&r.jsx("div",{className:"bv-help-overlay",onClick:()=>i(!1),children:r.jsxs("div",{className:"bv-help-modal",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"bv-help-header",children:[r.jsx("h2",{children:"Beads Viewer Help"}),r.jsx("button",{className:"bv-help-close",onClick:()=>i(!1),children:""})]}),r.jsx("div",{className:"bv-help-content",children:r.jsx("pre",{children:$y})})]})}),r.jsx("div",{className:"bv-kanban-full",children:r.jsx(Fy,{issues:o,loading:a,error:c})})]})}const Wy=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Uy(){const[e,t]=u.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(Su,{});case"agents":return r.jsx(Vy,{});case"molecules":return r.jsx(Hy,{});case"beads":return r.jsx(Ky,{});case"philosophy":return r.jsx(Gy,{});case"links":return r.jsx(Qy,{});default:return r.jsx(Su,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:Wy.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Su(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function Vy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function Hy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Ky(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Gy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Qy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const Ye="/api/chat";function Yy(){const[e,t]=u.useState([]),[n,s]=u.useState(!0),[l,i]=u.useState(null),o=u.useCallback(async()=>{var a,c;try{s(!0);const p=await(await fetch(`${Ye}/conversations`)).json();((a=p.data)==null?void 0:a.conversations)!==void 0?(t(p.data.conversations||[]),i(null)):i(((c=p.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return u.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function Xy(e){const[t,n]=u.useState([]),[s,l]=u.useState(!1),i=u.useCallback(async()=>{var o;if(!e){n([]);return}try{l(!0);const c=await(await fetch(`${Ye}/channel/list?workspace=${encodeURIComponent(e)}`)).json();(o=c.data)!=null&&o.channels&&n(c.data.channels)}catch{}finally{l(!1)}},[e]);return u.useEffect(()=>{i()},[i]),{channels:t,loading:s,refresh:i}}function Jy(e,t,n=!1){const[s,l]=u.useState([]),[i,o]=u.useState(!1),[a,c]=u.useState(null),d=u.useCallback(async(p=!1)=>{var h,g;if(!e||!t){l([]);return}try{p||o(!0);const x=encodeURIComponent(e),j=encodeURIComponent(t);let w=`${Ye}/history?target=${x}&workspace=${j}`;n&&(w=`${Ye}/channel/messages?channel=${x}&workspace=${j}`);const m=await(await fetch(w)).json();((h=m.data)==null?void 0:h.messages)!==void 0?(l(m.data.messages||[]),c(null)):c(((g=m.error)==null?void 0:g.message)||"Failed to load history")}catch{c("Network error")}finally{p||o(!1)}},[e,t,n]);return u.useEffect(()=>{d()},[d]),{messages:s,loading:i,error:a,refresh:d}}async function Zy(e,t,n){var l,i,o,a,c;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(s,null,2)),console.log("Endpoint:",`${Ye}/send`);try{const d=await fetch(`${Ye}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Response status:",d.status,d.statusText);const p=await d.json();return console.log("Response body:",JSON.stringify(p,null,2)),console.groupEnd(),(l=p.data)!=null&&l.success?{success:!0,messageId:(i=p.data)==null?void 0:i.messageId,mailSent:((o=p.data)==null?void 0:o.mailSent)??!1,nudged:((a=p.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=p.error)==null?void 0:c.message)||"Send failed"}}catch(d){return console.error("Network error:",d),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function qy(e,t,n){var l,i,o;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(s,null,2));try{const c=await(await fetch(`${Ye}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function ex(){var e,t;try{const s=await(await fetch(`${Ye}/session/status`)).json();return{exists:((e=s.data)==null?void 0:e.exists)??!1,workspace:(t=s.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function tx(e){var t;try{const s=await(await fetch(`${Ye}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.created??!1,workspace:s.data.workspace,message:s.data.message}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function nx(e){var t;try{const s=await(await fetch(`${Ye}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.restarted??!1,workspace:s.data.workspace}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}async function sx(e,t){var n,s;try{const i=await(await fetch(`${Ye}/channel/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,name:t})})).json();return(n=i.data)!=null&&n.success?{success:!0}:{success:!1,message:((s=i.error)==null?void 0:s.message)||"Failed to create channel"}}catch{return{success:!1,message:"Network error"}}}async function rx(e,t,n){var s,l;try{const o=await(await fetch(`${Ye}/channel/invite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,channel:t,targets:n})})).json();return(s=o.data)!=null&&s.success?{success:!0,sent:o.data.sent,total:o.data.total}:{success:!1,message:((l=o.error)==null?void 0:l.message)||"Failed to invite members"}}catch{return{success:!1,message:"Network error"}}}async function lx(e,t){var n,s;try{const i=await(await fetch(`${Ye}/channel/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,name:t})})).json();return(n=i.data)!=null&&n.success?{success:!0}:{success:!1,message:((s=i.error)==null?void 0:s.message)||"Failed to delete channel"}}catch{return{success:!1,message:"Network error"}}}async function ix(e,t){var n,s;try{const i=await(await fetch(`${Ye}/channel/subscribers?workspace=${encodeURIComponent(e)}&channel=${encodeURIComponent(t)}`)).json();return((n=i.data)==null?void 0:n.subscribers)!==void 0?{subscribers:i.data.subscribers||[]}:{subscribers:[],error:((s=i.error)==null?void 0:s.message)||"Failed to get subscribers"}}catch{return{subscribers:[],error:"Network error"}}}const ku="chrote-chat-selected",bu="chrote-chat-collapsed-groups";function Cu(e){return e==="channels"?-1:e==="hq"?0:e==="main"?1:e.startsWith("gt-")?3:4}function ox(e){if(e==="channels")return"Channels";if(e==="hq")return"HQ";if(e==="main")return"Main";if(e==="other")return"Other";if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function ax(e){if(e.role==="channel")return"channels";const t=e.displayName.toLowerCase();if(t.startsWith("hq-"))return"hq";if(t==="main"||t==="shell")return"main";if(t.startsWith("gt-")){const n=t.split("-");return n.length>=2?n[0]+"-"+n[1]:"gt-unknown"}return"other"}function cx(e){const t={};for(const n of e){const s=ax(n);t[s]||(t[s]=[]),t[s].push(n)}return t}function ux(){var Tr;const[e,t]=u.useState(()=>{try{return localStorage.getItem(ku)}catch{return null}}),[n,s]=u.useState(""),[l,i]=u.useState(!1),[o,a]=u.useState(null),[c,d]=u.useState(!1),[p,h]=u.useState(()=>window.innerWidth<=768),[g,x]=u.useState({exists:!1,initializing:!1}),[j,w]=u.useState(!1),[T,m]=u.useState(""),[f,v]=u.useState(""),[y,S]=u.useState([]),[k,N]=u.useState([]),[C,b]=u.useState(!1),[P,_]=u.useState(()=>{try{const I=localStorage.getItem(bu);if(I)return new Set(JSON.parse(I))}catch{}return new Set(["other"])}),{conversations:U,loading:Q,refresh:A}=Yy(),V=((Tr=U.find(I=>I.workspace))==null?void 0:Tr.workspace)||null,{channels:q,refresh:X}=Xy(V),L=u.useMemo(()=>{const I=q.map(K=>({target:`channel:${K.name}`,displayName:`#${K.name}`,role:"channel",online:!0,unreadCount:0,workspace:V||void 0}));return[...U,...I]},[U,q,V]),B=u.useMemo(()=>{const I=cx(L);return Object.entries(I).sort(([K],[te])=>Cu(K)-Cu(te))},[L]),R=L.find(I=>I.target===e),Z=(e==null?void 0:e.startsWith("channel:"))??!1,J=Z?e.replace("channel:",""):e,{messages:de,loading:Y,refresh:re}=Jy(J,(R==null?void 0:R.workspace)??null,Z),{addToast:E}=Er(),F=u.useRef(null),D=u.useRef(null),O=u.useRef(null),z=u.useRef(null),H=u.useRef(!0),G=u.useRef(0);u.useEffect(()=>{const I=()=>{window.innerWidth<=768&&h(!0)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),u.useEffect(()=>{const I=()=>{H.current&&F.current&&F.current.scrollIntoView({behavior:"smooth"})};return window.visualViewport&&window.visualViewport.addEventListener("resize",I),window.addEventListener("resize",I),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",I),window.removeEventListener("resize",I)}},[]);const he=()=>{const I=D.current;if(!I)return;const{scrollTop:K,scrollHeight:te,clientHeight:Xe}=I;H.current=te-K-Xe<100};u.useEffect(()=>{var te;const I=de.length,K=I>G.current;if(G.current=I,K&&H.current&&((te=F.current)==null||te.scrollIntoView({behavior:"smooth"})),o&&de.length>0){const Xe=[...de].reverse().find(kt=>kt.role==="user");Xe&&Xe.content===o&&a(null)}},[de,o]),u.useEffect(()=>{var I;l&&((I=F.current)==null||I.scrollIntoView({behavior:"smooth"}))},[l]),u.useEffect(()=>{var I;e&&(window.matchMedia("(max-width: 768px)").matches||(I=O.current)==null||I.focus())},[e]),u.useEffect(()=>{if(!e)return;const I=setInterval(()=>{re(!0)},5e3);return()=>clearInterval(I)},[e,re]),u.useEffect(()=>{ex().then(I=>{x({exists:I.exists,initializing:!1})})},[]),u.useEffect(()=>{if(!Z||!J||!V){N([]);return}(async()=>{b(!0);const K=await ix(V,J);N(K.subscribers),b(!1)})()},[Z,J,V]),u.useEffect(()=>{(async()=>{if(!(R!=null&&R.workspace)||g.exists||g.initializing)return;x(te=>({...te,initializing:!0}));const K=await tx(R.workspace);x({exists:K.created||g.exists,initializing:!1}),K.created&&E("Chat session initialized","success")})()},[R==null?void 0:R.workspace,g.exists,g.initializing,E]);const W=async()=>{var te;const I=(R==null?void 0:R.workspace)||((te=U.find(Xe=>Xe.workspace))==null?void 0:te.workspace);if(!I){E("No workspace available to restart session","error");return}x({exists:!1,initializing:!0});const K=await nx(I);x({exists:K.created,initializing:!1}),K.created?E("Chat session restarted","success"):E(K.message||"Failed to restart session","error")},ae=I=>{t(I),window.innerWidth<=768&&h(!0);try{localStorage.setItem(ku,I)}catch{}},be=async()=>{if(!R||!R.workspace||!n.trim()||l)return;const I=n.trim();s(""),i(!0);const K=await Zy(R.workspace,R.target,I);if(K.success){const te=[];K.mailSent&&te.push("Mail sent"),K.nudged&&te.push("Agent nudged"),E(te.join(", ")||"Message sent","success"),a(I),i(!1),setTimeout(()=>{re()},1e3),setTimeout(()=>{a(null)},1e4)}else E(K.error||"Send failed","error"),i(!1)},Me=async()=>{if(!R||!R.workspace||c)return;d(!0);const I=await qy(R.workspace,R.target);I.success?E("Nudged!","success"):E(I.error||"Nudge failed","error"),d(!1)},vn=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),be())},yn=I=>{s(I.target.value);const K=I.target;K.style.height="auto",K.style.height=Math.min(K.scrollHeight,120)+"px"},xe=async()=>{var te;const I=(R==null?void 0:R.workspace)||((te=U.find(Xe=>Xe.workspace))==null?void 0:te.workspace);if(!T||!I){E("Select an agent first to define workspace","error");return}const K=await sx(I,T);K.success?(E(`Channel '${T}' created`,"success"),m(""),v(T),X()):E(K.message||"Failed","error")},It=async()=>{var te;const I=(R==null?void 0:R.workspace)||((te=U.find(Xe=>Xe.workspace))==null?void 0:te.workspace);if(!f||y.length===0||!I){E("Missing info or workspace","error");return}E("Sending invites...","info");const K=await rx(I,f,y);K.success?(E(`Invited ${K.sent} agents`,"success"),S([]),w(!1)):E(K.message||"Failed","error")},St=I=>{y.includes(I)?S(y.filter(K=>K!==I)):S([...y,I])},xn=async()=>{if(!Z||!J||!V||!confirm(`Delete channel "#${J}"? This cannot be undone.`))return;const I=await lx(V,J);I.success?(E(`Channel "${J}" deleted`,"success"),t(null),X()):E(I.message||"Failed to delete channel","error")},Ln=I=>{_(K=>{const te=new Set(K);te.has(I)?te.delete(I):te.add(I);try{localStorage.setItem(bu,JSON.stringify([...te]))}catch{}return te})},ws=de;return r.jsxs("div",{ref:z,className:"chrote-chat",children:[r.jsxs("div",{className:`chat-sidebar ${p?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>h(!p),title:p?"Expand":"Collapse",children:p?"":""}),!p&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>{A(),X()},disabled:Q,title:"Refresh",children:""})]})]}),!p&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"chat-conversations",children:Q&&U.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):U.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):B.map(([I,K])=>r.jsx(dx,{role:I,conversations:K,collapsed:P.has(I),onToggle:()=>Ln(I),selectedTarget:e,onSelect:ae},I))}),r.jsxs("div",{className:"chat-sidebar-footer",children:[r.jsx("button",{className:"restart-session-btn",onClick:()=>w(!0),title:"Create or invite to channels",children:" Manage Channels"}),g.exists?r.jsx("div",{className:"session-status",children:"Session active"}):r.jsx("button",{className:"restart-session-btn",onClick:W,disabled:g.initializing,title:"Start the chrote-chat tmux session",children:g.initializing?"Starting...":"Start Chat Session"})]})]})]}),r.jsxs("div",{className:"chat-main",children:[r.jsxs("div",{className:"chat-header",children:[r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(R==null?void 0:R.displayName)||e||"Chat"}),e&&!Z&&r.jsx("span",{className:`chat-header-status ${R!=null&&R.online?"online":"offline"}`,children:R!=null&&R.online?"Online":"Offline"}),Z&&r.jsx("span",{className:"chat-header-subscribers",children:C?"...":k.length===0?"No subscribers":`${k.length} subscriber${k.length!==1?"s":""}: ${k.join(", ")}`})]}),r.jsxs("div",{className:"chat-header-actions",children:[e&&r.jsx("button",{className:"refresh-btn",onClick:()=>re(),disabled:Y,title:"Refresh history",children:""}),Z&&r.jsx("button",{className:"delete-channel-btn",onClick:xn,title:"Delete channel",children:""})]})]}),e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-messages",ref:D,onScroll:he,children:[Y&&ws.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):ws.length===0&&!l&&!o?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):ws.map(I=>r.jsx(mx,{message:I},I.id)),o&&r.jsx(px,{content:o}),l&&r.jsx(hx,{}),r.jsx("div",{ref:F})]}),r.jsxs("div",{className:"chat-input-area",children:[!(R!=null&&R.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:O,className:"chat-input",value:n,onChange:yn,onKeyDown:vn,placeholder:R!=null&&R.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:l||!(R!=null&&R.workspace)}),r.jsx("button",{className:"chat-nudge-btn",onClick:Me,disabled:c||!(R!=null&&R.workspace),title:"Send a quick nudge",children:c?"...":"Nudge!"}),r.jsx("button",{className:"chat-send-btn",onClick:be,disabled:!n.trim()||l||!(R!=null&&R.workspace),title:R!=null&&R.workspace?"Send (Enter)":"No workspace detected",children:l?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})]}),j&&r.jsx("div",{className:"channel-modal-overlay",onClick:()=>w(!1),children:r.jsxs("div",{className:"channel-modal",onClick:I=>I.stopPropagation(),children:[r.jsxs("div",{className:"channel-modal-header",children:[r.jsx("h3",{children:" Channels"}),r.jsx("button",{className:"close-btn",onClick:()=>w(!1),children:""})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Create Channel"}),r.jsxs("div",{className:"channel-row",children:[r.jsx("input",{value:T,onChange:I=>m(I.target.value),placeholder:"Channel Name"}),r.jsx("button",{onClick:xe,children:"Create"})]})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Invite Members"}),r.jsx("p",{className:"hint",children:"Selected agents receive a DM with subscription instructions."}),r.jsx("input",{value:f,onChange:I=>v(I.target.value),placeholder:"Channel Name to Invite To",className:"full-width"}),r.jsx("div",{className:"agent-select-list",children:U.map(I=>r.jsxs("label",{className:"agent-select-item",children:[r.jsx("input",{type:"checkbox",checked:y.includes(I.target),onChange:()=>St(I.target)}),r.jsx("span",{children:I.displayName})]},I.target))}),r.jsxs("button",{className:"invite-btn full-width",disabled:!f||y.length===0,onClick:It,children:["Invite ",y.length," Agents"]})]})]})})]})}function dx({role:e,conversations:t,collapsed:n,onToggle:s,selectedTarget:l,onSelect:i}){const o=ox(e);return r.jsxs("div",{className:"chat-group",children:[r.jsxs("div",{className:"chat-group-header",onClick:s,children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:o}),r.jsx("span",{className:"chat-group-count",children:t.length})]}),!n&&r.jsx("div",{className:"chat-group-items",children:t.map(a=>r.jsx(fx,{conversation:a,selected:a.target===l,onClick:()=>i(a.target)},a.target))})]})}function fx({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsx(mh,{sessionName:e.target}),r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function hx(){return r.jsx("div",{className:"chat-sending-spinner",children:r.jsx("div",{className:"spinner"})})}function px({content:e}){return r.jsxs("div",{className:"chat-message user pending",children:[r.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>r.jsx("p",{children:t||""},n))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function mx({message:e}){const t=e.role==="user",n=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((s,l)=>r.jsx("p",{children:s||""},l))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class Eu extends u.Component{constructor(n){super(n);Ua(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Tu=4e3,Pu=300,gx={success:"",info:"",warning:"",error:""};function vx({toast:e,onRemove:t}){const[n,s]=u.useState(!1),[l,i]=u.useState(100);u.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const p=Date.now()-a,h=Math.max(0,100-p/Tu*100);i(h)},50),d=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Pu)},Tu);return()=>{clearInterval(c),clearTimeout(d)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),Pu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:gx[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function yx(){const{toasts:e,removeToast:t}=Er();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(vx,{toast:n,onRemove:t},n.id))})}const xx=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function Sh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function wx({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(Sh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function jx({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(wx,{...n},s))})]})}function Nx({isOpen:e,onClose:t}){const n=u.useRef(null);u.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:xx.map((l,i)=>r.jsx(jx,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(Sh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function Sx({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=pt(),[a,c]=u.useState(""),[d,p]=u.useState(null),[h,g]=u.useState(""),x=()=>{a.trim()&&s(a.trim())&&c("")},j=y=>{l(y),t()},w=y=>{i(y)},T=y=>{p(y.id),g(y.name)},m=()=>{d&&h.trim()&&(o(d,h.trim()),p(null),g(""))},f=()=>{p(null),g("")},v=y=>{let S=0,k=0;return Object.values(y.workspaces).forEach(N=>{S+=N.windowCount,N.windows.forEach(C=>{k+=C.boundSessions.length})}),`${S} windows, ${k} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((y,S)=>r.jsx("li",{className:"preset-item",children:d===y.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:h,onChange:k=>g(k.target.value),onKeyDown:k=>{k.key==="Enter"&&m(),k.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:m,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",S+1]}),r.jsx("span",{className:"preset-name",children:y.name}),r.jsx("span",{className:"preset-summary",children:v(y)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>j(y.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>T(y),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function kx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:d,sessions:p,loadPreset:h,layoutPresets:g}=pt(),x=u.useCallback(async()=>{try{const T=d.defaultSessionPrefix||"tmux",m=T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${m}(\\d+)$`),v=p.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),y=v.length>0?Math.max(...v)+1:1,S=`${T}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S})})).ok&&c()}catch(T){console.error("Failed to create session:",T)}},[d.defaultSessionPrefix,p,c]),j=u.useCallback(()=>{const T=document.querySelector(".session-search-input");T&&(T.focus(),T.select())},[]),w=u.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);u.useEffect(()=>{const T=m=>{const f=m.target,v=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(m.key==="Escape"){if(s)return;if(a){m.preventDefault(),o();return}}if(!(v||s)){if(m.key==="?"||m.shiftKey&&m.key==="/"){m.preventDefault(),n();return}if(m.key==="/"&&!m.ctrlKey&&!m.metaKey){m.preventDefault(),j();return}if(m.key==="Tab"&&!m.ctrlKey&&!m.shiftKey&&!m.altKey&&(e==="terminal1"||e==="terminal2")){m.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!m.ctrlKey&&!m.metaKey&&!m.altKey&&/^[1-4]$/.test(m.key)){const y=w();if(y){const S=parseInt(m.key,10),k=l[y];if(S<=k.windowCount){m.preventDefault();return}}}if(m.ctrlKey&&m.key==="s"){m.preventDefault(),i();return}if(m.ctrlKey&&m.key==="n"){m.preventDefault(),x();return}if(m.ctrlKey&&/^[1-9]$/.test(m.key)){const y=parseInt(m.key,10)-1;if(y<g.length){m.preventDefault(),h(g[y].id);return}}}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e,t,n,s,a,o,j,i,x,w,l,h,g])}function bx({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function Cx(){const[e,t]=u.useState("terminal1"),[n,s]=u.useState(null),[l,i]=u.useState(!1),[o,a]=u.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:d,setIsDragging:p,isDragging:h,settings:g}=pt(),x=u.useCallback(()=>i(!0),[]),j=u.useCallback(()=>i(!1),[]),w=u.useCallback(()=>a(!0),[]),T=u.useCallback(()=>a(!1),[]);kx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),u.useEffect(()=>{document.documentElement.setAttribute("data-theme",g.theme)},[g.theme]),u.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${g.fontSize}px`)},[g.fontSize]);const m=yg(vg(_a,{activationConstraint:{distance:4}})),f=y=>{var k,N;const S=(k=y.active.data.current)==null?void 0:k.type;s(S==="tag"?((N=y.active.data.current)==null?void 0:N.sessionName)??null:y.active.id),p(!0)},v=y=>{var N,C,b,P;const{active:S,over:k}=y;if(s(null),p(!1),!k){if(((N=S.data.current)==null?void 0:N.type)==="tag"){const{sessionName:_,sourceWindowId:U,sourceWorkspaceId:Q}=S.data.current;d(Q,U,_)}return}if(((C=k.data.current)==null?void 0:C.type)==="window"){const _=k.data.current.windowId,U=k.data.current.workspaceId;if(((b=S.data.current)==null?void 0:b.type)==="session")c(U,_,S.id);else if(((P=S.data.current)==null?void 0:P.type)==="tag"){const{sessionName:Q,sourceWindowId:A,sourceWorkspaceId:V}=S.data.current;(A!==_||V!==U)&&c(U,_,Q)}}};return r.jsxs(mv,{sensors:m,onDragStart:f,onDragEnd:v,children:[r.jsxs("div",{className:`dashboard ${h?"is-dragging":""}`,children:[r.jsx(Kv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(qv,{}),r.jsx(ry,{workspaceId:e})]}),e==="files"&&r.jsx(Ny,{}),e==="beads_viewer"&&r.jsx(Eu,{children:r.jsx(By,{})}),e==="chat"&&r.jsx(Eu,{children:r.jsx(ux,{})}),e==="manual"&&r.jsx(Uy,{}),e==="settings"&&r.jsx(ky,{}),e==="help"&&r.jsx(Ey,{})]}),r.jsx(by,{}),r.jsx(Nx,{isOpen:l,onClose:j}),r.jsx(Sx,{isOpen:o,onClose:T})]}),r.jsx(yx,{}),r.jsx(Ov,{children:n?r.jsx(bx,{name:n}):null})]})}function Ex(){return r.jsx(Hv,{children:r.jsx(Cx,{})})}Ai.createRoot(document.getElementById("root")).render(r.jsx(ye.StrictMode,{children:r.jsx(Av,{children:r.jsx(Ex,{})})}));
