var Eh=Object.defineProperty;var Th=(e,t,n)=>t in e?Eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ba=(e,t,n)=>Th(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Ph(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cu={exports:{}},Ol={},Eu={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Ah=Symbol.for("react.memo"),Fh=Symbol.for("react.lazy"),Wa=Symbol.iterator;function $h(e){return e===null||typeof e!="object"?null:(e=Wa&&e[Wa]||e["@@iterator"],typeof e=="function"?e:null)}var Tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pu=Object.assign,Du={};function cs(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=cs.prototype;function Mo(e,t,n){this.props=e,this.context=t,this.refs=Du,this.updater=n||Tu}var Oo=Mo.prototype=new Ru;Oo.constructor=Mo;Pu(Oo,cs.prototype);Oo.isPureReactComponent=!0;var Ua=Array.isArray,Iu=Object.prototype.hasOwnProperty,Lo={current:null},Mu={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Iu.call(t,s)&&!Mu.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:mr,type:e,key:i,ref:o,props:l,_owner:Lo.current}}function Bh(e,t){return{$$typeof:mr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _o(e){return typeof e=="object"&&e!==null&&e.$$typeof===mr}function Wh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Va=/\/+/g;function si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wh(""+e.key):t.toString(36)}function Ur(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mr:case Dh:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+si(o,0):s,Ua(l)?(n="",e!=null&&(n=e.replace(Va,"$&/")+"/"),Ur(l,t,n,"",function(u){return u})):l!=null&&(_o(l)&&(l=Bh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Va,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ua(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+si(i,a);o+=Ur(i,t,n,c,l)}else if(c=$h(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+si(i,a++),o+=Ur(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cr(e,t,n){if(e==null)return e;var s=[],l=0;return Ur(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Vr={transition:null},Vh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Vr,ReactCurrentOwner:Lo};function Lu(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Cr,forEach:function(e,t,n){Cr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cr(e,function(){t++}),t},toArray:function(e){return Cr(e,function(t){return t})||[]},only:function(e){if(!_o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=cs;Z.Fragment=Rh;Z.Profiler=Mh;Z.PureComponent=Mo;Z.StrictMode=Ih;Z.Suspense=zh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;Z.act=Lu;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Pu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Lo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Iu.call(t,c)&&!Mu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:mr,type:e.type,key:l,ref:i,props:s,_owner:o}};Z.createContext=function(e){return e={$$typeof:Lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oh,_context:e},e.Consumer=e};Z.createElement=Ou;Z.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:_h,render:e}};Z.isValidElement=_o;Z.lazy=function(e){return{$$typeof:Fh,_payload:{_status:-1,_result:e},_init:Uh}};Z.memo=function(e,t){return{$$typeof:Ah,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Vr.transition;Vr.transition={};try{e()}finally{Vr.transition=t}};Z.unstable_act=Lu;Z.useCallback=function(e,t){return Ae.current.useCallback(e,t)};Z.useContext=function(e){return Ae.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ae.current.useEffect(e,t)};Z.useId=function(){return Ae.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ae.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};Z.useRef=function(e){return Ae.current.useRef(e)};Z.useState=function(e){return Ae.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ae.current.useTransition()};Z.version="18.3.1";Eu.exports=Z;var d=Eu.exports;const ge=Ph(d);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=d,Kh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Gh=Object.prototype.hasOwnProperty,Yh=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function _u(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Gh.call(t,s)&&!Xh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Kh,type:e,key:i,ref:o,props:l,_owner:Yh.current}}Ol.Fragment=Qh;Ol.jsx=_u;Ol.jsxs=_u;Cu.exports=Ol;var r=Cu.exports,Oi={},zu={exports:{}},qe={},Au={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,A){var U=_.length;_.push(A);e:for(;0<U;){var ee=U-1>>>1,q=_[ee];if(0<l(q,A))_[ee]=A,_[U]=q,U=ee;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var A=_[0],U=_.pop();if(U!==A){_[0]=U;e:for(var ee=0,q=_.length,ye=q>>>1;ee<ye;){var G=2*(ee+1)-1,ue=_[G],R=G+1,F=_[R];if(0>l(ue,U))R<q&&0>l(F,ue)?(_[ee]=F,_[R]=U,ee=R):(_[ee]=ue,_[G]=U,ee=G);else if(R<q&&0>l(F,U))_[ee]=F,_[R]=U,ee=R;else break e}}return A}function l(_,A){var U=_.sortIndex-A.sortIndex;return U!==0?U:_.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,g=3,x=!1,j=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var A=n(u);A!==null;){if(A.callback===null)s(u);else if(A.startTime<=_)s(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function y(_){if(w=!1,v(_),!j)if(n(c)!==null)j=!0,X(S);else{var A=n(u);A!==null&&Y(y,A.startTime-_)}}function S(_,A){j=!1,w&&(w=!1,m(b),b=-1),x=!0;var U=g;try{for(v(A),p=n(c);p!==null&&(!(p.expirationTime>A)||_&&!E());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,g=p.priorityLevel;var q=ee(p.expirationTime<=A);A=e.unstable_now(),typeof q=="function"?p.callback=q:p===n(c)&&s(c),v(A)}else s(c);p=n(c)}if(p!==null)var ye=!0;else{var G=n(u);G!==null&&Y(y,G.startTime-A),ye=!1}return ye}finally{p=null,g=U,x=!1}}var k=!1,N=null,b=-1,C=5,D=-1;function E(){return!(e.unstable_now()-D<C)}function V(){if(N!==null){var _=e.unstable_now();D=_;var A=!0;try{A=N(!0,_)}finally{A?K():(k=!1,N=null)}}else k=!1}var K;if(typeof f=="function")K=function(){f(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=V,K=function(){B.postMessage(null)}}else K=function(){P(V,0)};function X(_){N=_,k||(k=!0,K())}function Y(_,A){b=P(function(){_(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,X(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var U=g;g=A;try{return _()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,A){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var U=g;g=_;try{return A()}finally{g=U}},e.unstable_scheduleCallback=function(_,A,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,_){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,_={id:h++,callback:A,priorityLevel:_,startTime:U,expirationTime:q,sortIndex:-1},U>ee?(_.sortIndex=U,t(u,_),n(c)===null&&_===n(u)&&(w?(m(b),b=-1):w=!0,Y(y,U-ee))):(_.sortIndex=q,t(c,_),j||x||(j=!0,X(S))),_},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(_){var A=g;return function(){var U=g;g=A;try{return _.apply(this,arguments)}finally{g=U}}}})(Fu);Au.exports=Fu;var Jh=Au.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=d,Ze=Jh;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $u=new Set,Gs={};function En(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(Gs[e]=t,e=0;e<t.length;e++)$u.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=Object.prototype.hasOwnProperty,qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ha={},Ka={};function ep(e){return Li.call(Ka,e)?!0:Li.call(Ha,e)?!1:qh.test(e)?Ka[e]=!0:(Ha[e]=!0,!1)}function tp(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,n,s){if(t===null||typeof t>"u"||tp(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var zo=/[\-:]([a-z])/g;function Ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zo,Ao);De[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zo,Ao);De[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zo,Ao);De[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fo(e,t,n,s){var l=De.hasOwnProperty(t)?De[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,n,l,s)&&(n=null),s||l===null?ep(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var At=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Er=Symbol.for("react.element"),On=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),_i=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Wu=Symbol.for("react.context"),Bo=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Ai=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Uu=Symbol.for("react.offscreen"),Qa=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,ri;function Rs(e){if(ri===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ri=t&&t[1]||""}return`
`+ri+e}var li=!1;function ii(e,t){if(!e||li)return"";li=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{li=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function sp(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=ii(e.type,!1),e;case 11:return e=ii(e.type.render,!1),e;case 1:return e=ii(e.type,!0),e;default:return""}}function Fi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case On:return"Portal";case _i:return"Profiler";case $o:return"StrictMode";case zi:return"Suspense";case Ai:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wu:return(e.displayName||"Context")+".Consumer";case Bu:return(e._context.displayName||"Context")+".Provider";case Bo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wo:return t=e.displayName||null,t!==null?t:Fi(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Fi(e(t))}catch{}}return null}function rp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fi(t);case 8:return t===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=Vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tr(e){e._valueTracker||(e._valueTracker=lp(e))}function Hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Vu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $i(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ga(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ku(e,t){t=t.checked,t!=null&&Fo(e,"checked",t,!1)}function Bi(e,t){Ku(e,t);var n=on(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wi(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ya(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wi(e,t,n){(t!=="number"||sl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Yn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ui(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Is(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function Qu(e,t){var n=on(t.value),s=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ja(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pr,Yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function Xu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function Ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Xu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var op=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hi(e,t){if(t){if(op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ki(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,Xn=null,Jn=null;function Za(e){if(e=yr(e)){if(typeof Gi!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Fl(t),Gi(e.stateNode,e.type,t))}}function Zu(e){Xn?Jn?Jn.push(e):Jn=[e]:Xn=e}function qu(){if(Xn){var e=Xn,t=Jn;if(Jn=Xn=null,Za(e),t)for(e=0;e<t.length;e++)Za(t[e])}}function ed(e,t){return e(t)}function td(){}var oi=!1;function nd(e,t,n){if(oi)return e(t,n);oi=!0;try{return ed(e,t,n)}finally{oi=!1,(Xn!==null||Jn!==null)&&(td(),qu())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var s=Fl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Yi=!1;if(Mt)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Yi=!1}function ap(e,t,n,s,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _s=!1,rl=null,ll=!1,Xi=null,cp={onError:function(e){_s=!0,rl=e}};function up(e,t,n,s,l,i,o,a,c){_s=!1,rl=null,ap.apply(cp,arguments)}function dp(e,t,n,s,l,i,o,a,c){if(up.apply(this,arguments),_s){if(_s){var u=rl;_s=!1,rl=null}else throw Error(M(198));ll||(ll=!0,Xi=u)}}function Tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qa(e){if(Tn(e)!==e)throw Error(M(188))}function fp(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return qa(l),e;if(i===s)return qa(l),t;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function rd(e){return e=fp(e),e!==null?ld(e):null}function ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ld(e);if(t!==null)return t;e=e.sibling}return null}var id=Ze.unstable_scheduleCallback,ec=Ze.unstable_cancelCallback,hp=Ze.unstable_shouldYield,pp=Ze.unstable_requestPaint,ve=Ze.unstable_now,mp=Ze.unstable_getCurrentPriorityLevel,Vo=Ze.unstable_ImmediatePriority,od=Ze.unstable_UserBlockingPriority,il=Ze.unstable_NormalPriority,gp=Ze.unstable_LowPriority,ad=Ze.unstable_IdlePriority,Ll=null,kt=null;function vp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:wp,yp=Math.log,xp=Math.LN2;function wp(e){return e>>>=0,e===0?32:31-(yp(e)/xp|0)|0}var Dr=64,Rr=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=Ms(a):(i&=o,i!==0&&(s=Ms(i)))}else o=n&~l,o!==0?s=Ms(o):i!==0&&(s=Ms(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=jp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Ji(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cd(){var e=Dr;return Dr<<=1,!(Dr&4194240)&&(Dr=64),e}function ai(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Sp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Ho(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var ne=0;function ud(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dd,Ko,fd,hd,pd,Zi=!1,Ir=[],Zt=null,qt=null,en=null,Js=new Map,Zs=new Map,Gt=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function Ss(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=yr(t),t!==null&&Ko(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bp(e,t,n,s,l){switch(t){case"focusin":return Zt=Ss(Zt,e,t,n,s,l),!0;case"dragenter":return qt=Ss(qt,e,t,n,s,l),!0;case"mouseover":return en=Ss(en,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return Js.set(i,Ss(Js.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,Zs.set(i,Ss(Zs.get(i)||null,e,t,n,s,l)),!0}return!1}function md(e){var t=vn(e.target);if(t!==null){var n=Tn(t);if(n!==null){if(t=n.tag,t===13){if(t=sd(n),t!==null){e.blockedOn=t,pd(e.priority,function(){fd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Qi=s,n.target.dispatchEvent(s),Qi=null}else return t=yr(n),t!==null&&Ko(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){Hr(e)&&n.delete(t)}function Cp(){Zi=!1,Zt!==null&&Hr(Zt)&&(Zt=null),qt!==null&&Hr(qt)&&(qt=null),en!==null&&Hr(en)&&(en=null),Js.forEach(nc),Zs.forEach(nc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Cp)))}function qs(e){function t(l){return ks(l,e)}if(0<Ir.length){ks(Ir[0],e);for(var n=1;n<Ir.length;n++){var s=Ir[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Zt!==null&&ks(Zt,e),qt!==null&&ks(qt,e),en!==null&&ks(en,e),Js.forEach(t),Zs.forEach(t),n=0;n<Gt.length;n++)s=Gt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)md(n),n.blockedOn===null&&Gt.shift()}var Zn=At.ReactCurrentBatchConfig,al=!0;function Ep(e,t,n,s){var l=ne,i=Zn.transition;Zn.transition=null;try{ne=1,Qo(e,t,n,s)}finally{ne=l,Zn.transition=i}}function Tp(e,t,n,s){var l=ne,i=Zn.transition;Zn.transition=null;try{ne=4,Qo(e,t,n,s)}finally{ne=l,Zn.transition=i}}function Qo(e,t,n,s){if(al){var l=qi(e,t,n,s);if(l===null)yi(e,t,s,cl,n),tc(e,s);else if(bp(l,e,t,n,s))s.stopPropagation();else if(tc(e,s),t&4&&-1<kp.indexOf(e)){for(;l!==null;){var i=yr(l);if(i!==null&&dd(i),i=qi(e,t,n,s),i===null&&yi(e,t,s,cl,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else yi(e,t,s,null,n)}}var cl=null;function qi(e,t,n,s){if(cl=null,e=Uo(s),e=vn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mp()){case Vo:return 1;case od:return 4;case il:case gp:return 16;case ad:return 536870912;default:return 16}default:return 16}}var Xt=null,Go=null,Kr=null;function vd(){if(Kr)return Kr;var e,t=Go,n=t.length,s,l="value"in Xt?Xt.value:Xt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Kr=l.slice(e,1<s?1-s:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mr(){return!0}function sc(){return!1}function et(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mr:sc,this.isPropagationStopped=sc,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),t}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=et(us),vr=pe({},us,{view:0,detail:0}),Pp=et(vr),ci,ui,bs,_l=pe({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(ci=e.screenX-bs.screenX,ui=e.screenY-bs.screenY):ui=ci=0,bs=e),ci)},movementY:function(e){return"movementY"in e?e.movementY:ui}}),rc=et(_l),Dp=pe({},_l,{dataTransfer:0}),Rp=et(Dp),Ip=pe({},vr,{relatedTarget:0}),di=et(Ip),Mp=pe({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=et(Mp),Lp=pe({},us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_p=et(Lp),zp=pe({},us,{data:0}),lc=et(zp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function Xo(){return Bp}var Wp=pe({},vr,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Up=et(Wp),Vp=pe({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=et(Vp),Hp=pe({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Kp=et(Hp),Qp=pe({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=et(Qp),Yp=pe({},_l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=et(Yp),Jp=[9,13,27,32],Jo=Mt&&"CompositionEvent"in window,zs=null;Mt&&"documentMode"in document&&(zs=document.documentMode);var Zp=Mt&&"TextEvent"in window&&!zs,yd=Mt&&(!Jo||zs&&8<zs&&11>=zs),oc=" ",ac=!1;function xd(e,t){switch(e){case"keyup":return Jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function qp(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(ac=!0,oc);case"textInput":return e=t.data,e===oc&&ac?null:e;default:return null}}function em(e,t){if(_n)return e==="compositionend"||!Jo&&xd(e,t)?(e=vd(),Kr=Go=Xt=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tm[e.type]:t==="textarea"}function jd(e,t,n,s){Zu(s),t=ul(t,"onChange"),0<t.length&&(n=new Yo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var As=null,er=null;function nm(e){Id(e,0)}function zl(e){var t=Fn(e);if(Hu(t))return e}function sm(e,t){if(e==="change")return t}var Nd=!1;if(Mt){var fi;if(Mt){var hi="oninput"in document;if(!hi){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),hi=typeof uc.oninput=="function"}fi=hi}else fi=!1;Nd=fi&&(!document.documentMode||9<document.documentMode)}function dc(){As&&(As.detachEvent("onpropertychange",Sd),er=As=null)}function Sd(e){if(e.propertyName==="value"&&zl(er)){var t=[];jd(t,er,e,Uo(e)),nd(nm,t)}}function rm(e,t,n){e==="focusin"?(dc(),As=t,er=n,As.attachEvent("onpropertychange",Sd)):e==="focusout"&&dc()}function lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(er)}function im(e,t){if(e==="click")return zl(t)}function om(e,t){if(e==="input"||e==="change")return zl(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:am;function tr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Li.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bd(){for(var e=window,t=sl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sl(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cm(e){var t=bd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(s!==null&&Zo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=hc(n,i);var o=hc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var um=Mt&&"documentMode"in document&&11>=document.documentMode,zn=null,eo=null,Fs=null,to=!1;function pc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;to||zn==null||zn!==sl(s)||(s=zn,"selectionStart"in s&&Zo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Fs&&tr(Fs,s)||(Fs=s,s=ul(eo,"onSelect"),0<s.length&&(t=new Yo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=zn)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var An={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},pi={},Cd={};Mt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Al(e){if(pi[e])return pi[e];if(!An[e])return e;var t=An[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return pi[e]=t[n];return e}var Ed=Al("animationend"),Td=Al("animationiteration"),Pd=Al("animationstart"),Dd=Al("transitionend"),Rd=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){Rd.set(e,t),En(t,[e])}for(var mi=0;mi<mc.length;mi++){var gi=mc[mi],dm=gi.toLowerCase(),fm=gi[0].toUpperCase()+gi.slice(1);cn(dm,"on"+fm)}cn(Ed,"onAnimationEnd");cn(Td,"onAnimationIteration");cn(Pd,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Dd,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function gc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,dp(s,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;gc(l,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;gc(l,a,u),i=c}}}if(ll)throw e=Xi,ll=!1,Xi=null,e}function ae(e,t){var n=t[io];n===void 0&&(n=t[io]=new Set);var s=e+"__bubble";n.has(s)||(Md(t,e,2,!1),n.add(s))}function vi(e,t,n){var s=0;t&&(s|=4),Md(n,e,s,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function nr(e){if(!e[Lr]){e[Lr]=!0,$u.forEach(function(n){n!=="selectionchange"&&(hm.has(n)||vi(n,!1,e),vi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,vi("selectionchange",!1,t))}}function Md(e,t,n,s){switch(gd(t)){case 1:var l=Ep;break;case 4:l=Tp;break;default:l=Qo}n=l.bind(null,t,n,e),l=void 0,!Yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function yi(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=vn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}nd(function(){var u=i,h=Uo(n),p=[];e:{var g=Rd.get(e);if(g!==void 0){var x=Yo,j=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":x=Up;break;case"focusin":j="focus",x=di;break;case"focusout":j="blur",x=di;break;case"beforeblur":case"afterblur":x=di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Kp;break;case Ed:case Td:case Pd:x=Op;break;case Dd:x=Gp;break;case"scroll":x=Pp;break;case"wheel":x=Xp;break;case"copy":case"cut":case"paste":x=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ic}var w=(t&4)!==0,P=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var f=u,v;f!==null;){v=f;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=Xs(f,m),y!=null&&w.push(sr(f,y,v)))),P)break;f=f.return}0<w.length&&(g=new x(g,j,null,n,h),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==Qi&&(j=n.relatedTarget||n.fromElement)&&(vn(j)||j[Ot]))break e;if((x||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=u,j=j?vn(j):null,j!==null&&(P=Tn(j),j!==P||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(w=rc,y="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=ic,y="onPointerLeave",m="onPointerEnter",f="pointer"),P=x==null?g:Fn(x),v=j==null?g:Fn(j),g=new w(y,f+"leave",x,n,h),g.target=P,g.relatedTarget=v,y=null,vn(h)===u&&(w=new w(m,f+"enter",j,n,h),w.target=v,w.relatedTarget=P,y=w),P=y,x&&j)t:{for(w=x,m=j,f=0,v=w;v;v=In(v))f++;for(v=0,y=m;y;y=In(y))v++;for(;0<f-v;)w=In(w),f--;for(;0<v-f;)m=In(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=In(w),m=In(m)}w=null}else w=null;x!==null&&vc(p,g,x,w,!1),j!==null&&P!==null&&vc(p,P,j,w,!0)}}e:{if(g=u?Fn(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var S=sm;else if(cc(g))if(Nd)S=om;else{S=lm;var k=rm}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=im);if(S&&(S=S(e,u))){jd(p,S,n,h);break e}k&&k(e,g,u),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Wi(g,"number",g.value)}switch(k=u?Fn(u):window,e){case"focusin":(cc(k)||k.contentEditable==="true")&&(zn=k,eo=u,Fs=null);break;case"focusout":Fs=eo=zn=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,pc(p,n,h);break;case"selectionchange":if(um)break;case"keydown":case"keyup":pc(p,n,h)}var N;if(Jo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _n?xd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yd&&n.locale!=="ko"&&(_n||b!=="onCompositionStart"?b==="onCompositionEnd"&&_n&&(N=vd()):(Xt=h,Go="value"in Xt?Xt.value:Xt.textContent,_n=!0)),k=ul(u,b),0<k.length&&(b=new lc(b,e,null,n,h),p.push({event:b,listeners:k}),N?b.data=N:(N=wd(n),N!==null&&(b.data=N)))),(N=Zp?qp(e,n):em(e,n))&&(u=ul(u,"onBeforeInput"),0<u.length&&(h=new lc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=N))}Id(p,t)})}function sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Xs(e,n),i!=null&&s.unshift(sr(e,i,l)),i=Xs(e,t),i!=null&&s.push(sr(e,i,l))),e=e.return}return s}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,l?(c=Xs(n,i),c!=null&&o.unshift(sr(n,c,a))):l||(c=Xs(n,i),c!=null&&o.push(sr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pm=/\r\n?/g,mm=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(pm,`
`).replace(mm,"")}function _r(e,t,n){if(t=yc(t),yc(e)!==t&&n)throw Error(M(425))}function dl(){}var no=null,so=null;function ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=typeof setTimeout=="function"?setTimeout:void 0,gm=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,vm=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(ym)}:lo;function ym(e){setTimeout(function(){throw e})}function xi(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),qs(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);qs(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),St="__reactFiber$"+ds,rr="__reactProps$"+ds,Ot="__reactContainer$"+ds,io="__reactEvents$"+ds,xm="__reactListeners$"+ds,wm="__reactHandles$"+ds;function vn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wc(e);e!==null;){if(n=e[St])return n;e=wc(e)}return t}e=n,n=e.parentNode}return null}function yr(e){return e=e[St]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Fl(e){return e[rr]||null}var oo=[],$n=-1;function un(e){return{current:e}}function ce(e){0>$n||(e.current=oo[$n],oo[$n]=null,$n--)}function ie(e,t){$n++,oo[$n]=e.current,e.current=t}var an={},Le=un(an),Ue=un(!1),Nn=an;function ss(e,t){var n=e.type.contextTypes;if(!n)return an;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function fl(){ce(Ue),ce(Le)}function jc(e,t,n){if(Le.current!==an)throw Error(M(168));ie(Le,t),ie(Ue,n)}function Od(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(M(108,rp(e)||"Unknown",l));return pe({},n,s)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Nn=Le.current,ie(Le,e),ie(Ue,Ue.current),!0}function Nc(e,t,n){var s=e.stateNode;if(!s)throw Error(M(169));n?(e=Od(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,ce(Ue),ce(Le),ie(Le,e)):ce(Ue),ie(Ue,n)}var Pt=null,$l=!1,wi=!1;function Ld(e){Pt===null?Pt=[e]:Pt.push(e)}function jm(e){$l=!0,Ld(e)}function dn(){if(!wi&&Pt!==null){wi=!0;var e=0,t=ne;try{var n=Pt;for(ne=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Pt=null,$l=!1}catch(l){throw Pt!==null&&(Pt=Pt.slice(e+1)),id(Vo,dn),l}finally{ne=t,wi=!1}}return null}var Bn=[],Wn=0,pl=null,ml=0,st=[],rt=0,Sn=null,Dt=1,Rt="";function mn(e,t){Bn[Wn++]=ml,Bn[Wn++]=pl,pl=e,ml=t}function _d(e,t,n){st[rt++]=Dt,st[rt++]=Rt,st[rt++]=Sn,Sn=e;var s=Dt;e=Rt;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,Dt=1<<32-pt(t)+l|n<<l|s,Rt=i+e}else Dt=1<<i|n<<l|s,Rt=e}function qo(e){e.return!==null&&(mn(e,1),_d(e,1,0))}function ea(e){for(;e===pl;)pl=Bn[--Wn],Bn[Wn]=null,ml=Bn[--Wn],Bn[Wn]=null;for(;e===Sn;)Sn=st[--rt],st[rt]=null,Rt=st[--rt],st[rt]=null,Dt=st[--rt],st[rt]=null}var Je=null,Xe=null,de=!1,ht=null;function zd(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Dt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function co(e){if(de){var t=Xe;if(t){var n=t;if(!Sc(e,t)){if(ao(e))throw Error(M(418));t=tn(n.nextSibling);var s=Je;t&&Sc(e,t)?zd(s,n):(e.flags=e.flags&-4097|2,de=!1,Je=e)}}else{if(ao(e))throw Error(M(418));e.flags=e.flags&-4097|2,de=!1,Je=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function zr(e){if(e!==Je)return!1;if(!de)return kc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ro(e.type,e.memoizedProps)),t&&(t=Xe)){if(ao(e))throw Ad(),Error(M(418));for(;t;)zd(e,t),t=tn(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?tn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=Xe;e;)e=tn(e.nextSibling)}function rs(){Xe=Je=null,de=!1}function ta(e){ht===null?ht=[e]:ht.push(e)}var Nm=At.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Ar(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bc(e){var t=e._init;return t(e._payload)}function Fd(e){function t(m,f){if(e){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function s(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=ln(m,f),m.index=0,m.sibling=null,m}function i(m,f,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,v,y){return f===null||f.tag!==6?(f=Ei(v,m.mode,y),f.return=m,f):(f=l(f,v),f.return=m,f)}function c(m,f,v,y){var S=v.type;return S===Ln?h(m,f,v.props.children,y,v.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ht&&bc(S)===f.type)?(y=l(f,v.props),y.ref=Cs(m,f,v),y.return=m,y):(y=el(v.type,v.key,v.props,null,m.mode,y),y.ref=Cs(m,f,v),y.return=m,y)}function u(m,f,v,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Ti(v,m.mode,y),f.return=m,f):(f=l(f,v.children||[]),f.return=m,f)}function h(m,f,v,y,S){return f===null||f.tag!==7?(f=jn(v,m.mode,y,S),f.return=m,f):(f=l(f,v),f.return=m,f)}function p(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ei(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Er:return v=el(f.type,f.key,f.props,null,m.mode,v),v.ref=Cs(m,null,f),v.return=m,v;case On:return f=Ti(f,m.mode,v),f.return=m,f;case Ht:var y=f._init;return p(m,y(f._payload),v)}if(Is(f)||js(f))return f=jn(f,m.mode,v,null),f.return=m,f;Ar(m,f)}return null}function g(m,f,v,y){var S=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,f,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Er:return v.key===S?c(m,f,v,y):null;case On:return v.key===S?u(m,f,v,y):null;case Ht:return S=v._init,g(m,f,S(v._payload),y)}if(Is(v)||js(v))return S!==null?null:h(m,f,v,y,null);Ar(m,v)}return null}function x(m,f,v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,a(f,m,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Er:return m=m.get(y.key===null?v:y.key)||null,c(f,m,y,S);case On:return m=m.get(y.key===null?v:y.key)||null,u(f,m,y,S);case Ht:var k=y._init;return x(m,f,v,k(y._payload),S)}if(Is(y)||js(y))return m=m.get(v)||null,h(f,m,y,S,null);Ar(f,y)}return null}function j(m,f,v,y){for(var S=null,k=null,N=f,b=f=0,C=null;N!==null&&b<v.length;b++){N.index>b?(C=N,N=null):C=N.sibling;var D=g(m,N,v[b],y);if(D===null){N===null&&(N=C);break}e&&N&&D.alternate===null&&t(m,N),f=i(D,f,b),k===null?S=D:k.sibling=D,k=D,N=C}if(b===v.length)return n(m,N),de&&mn(m,b),S;if(N===null){for(;b<v.length;b++)N=p(m,v[b],y),N!==null&&(f=i(N,f,b),k===null?S=N:k.sibling=N,k=N);return de&&mn(m,b),S}for(N=s(m,N);b<v.length;b++)C=x(N,m,b,v[b],y),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?b:C.key),f=i(C,f,b),k===null?S=C:k.sibling=C,k=C);return e&&N.forEach(function(E){return t(m,E)}),de&&mn(m,b),S}function w(m,f,v,y){var S=js(v);if(typeof S!="function")throw Error(M(150));if(v=S.call(v),v==null)throw Error(M(151));for(var k=S=null,N=f,b=f=0,C=null,D=v.next();N!==null&&!D.done;b++,D=v.next()){N.index>b?(C=N,N=null):C=N.sibling;var E=g(m,N,D.value,y);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(m,N),f=i(E,f,b),k===null?S=E:k.sibling=E,k=E,N=C}if(D.done)return n(m,N),de&&mn(m,b),S;if(N===null){for(;!D.done;b++,D=v.next())D=p(m,D.value,y),D!==null&&(f=i(D,f,b),k===null?S=D:k.sibling=D,k=D);return de&&mn(m,b),S}for(N=s(m,N);!D.done;b++,D=v.next())D=x(N,m,b,D.value,y),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?b:D.key),f=i(D,f,b),k===null?S=D:k.sibling=D,k=D);return e&&N.forEach(function(V){return t(m,V)}),de&&mn(m,b),S}function P(m,f,v,y){if(typeof v=="object"&&v!==null&&v.type===Ln&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Er:e:{for(var S=v.key,k=f;k!==null;){if(k.key===S){if(S=v.type,S===Ln){if(k.tag===7){n(m,k.sibling),f=l(k,v.props.children),f.return=m,m=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ht&&bc(S)===k.type){n(m,k.sibling),f=l(k,v.props),f.ref=Cs(m,k,v),f.return=m,m=f;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===Ln?(f=jn(v.props.children,m.mode,y,v.key),f.return=m,m=f):(y=el(v.type,v.key,v.props,null,m.mode,y),y.ref=Cs(m,f,v),y.return=m,m=y)}return o(m);case On:e:{for(k=v.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=l(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ti(v,m.mode,y),f.return=m,m=f}return o(m);case Ht:return k=v._init,P(m,f,k(v._payload),y)}if(Is(v))return j(m,f,v,y);if(js(v))return w(m,f,v,y);Ar(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,v),f.return=m,m=f):(n(m,f),f=Ei(v,m.mode,y),f.return=m,m=f),o(m)):n(m,f)}return P}var ls=Fd(!0),$d=Fd(!1),gl=un(null),vl=null,Un=null,na=null;function sa(){na=Un=vl=null}function ra(e){var t=gl.current;ce(gl),e._currentValue=t}function uo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){vl=e,na=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(na!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(vl===null)throw Error(M(308));Un=e,vl.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var yn=null;function la(e){yn===null?yn=[e]:yn.push(e)}function Bd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,la(t)):(n.next=l.next,l.next=n),t.interleaved=n,Lt(e,s)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Lt(e,n)}return l=s.interleaved,l===null?(t.next=t,la(s)):(t.next=l.next,l.next=t),s.interleaved=t,Lt(e,n)}function Gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ho(e,n)}}function Cc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,s){var l=e.updateQueue;Kt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=l.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,x=a.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var j=e,w=a;switch(g=t,x=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(x,p,g);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,g=typeof j=="function"?j.call(x,p,g):j,g==null)break e;p=pe({},p,g);break e;case 2:Kt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);bn|=o,e.lanes=o,e.memoizedState=p}}function Ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(M(191,l));l.call(s)}}}var xr={},bt=un(xr),lr=un(xr),ir=un(xr);function xn(e){if(e===xr)throw Error(M(174));return e}function oa(e,t){switch(ie(ir,t),ie(lr,e),ie(bt,xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vi(t,e)}ce(bt),ie(bt,t)}function is(){ce(bt),ce(lr),ce(ir)}function Ud(e){xn(ir.current);var t=xn(bt.current),n=Vi(t,e.type);t!==n&&(ie(lr,e),ie(bt,n))}function aa(e){lr.current===e&&(ce(bt),ce(lr))}var fe=un(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ji=[];function ca(){for(var e=0;e<ji.length;e++)ji[e]._workInProgressVersionPrimary=null;ji.length=0}var Yr=At.ReactCurrentDispatcher,Ni=At.ReactCurrentBatchConfig,kn=0,he=null,je=null,ke=null,wl=!1,$s=!1,or=0,Sm=0;function Ie(){throw Error(M(321))}function ua(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function da(e,t,n,s,l,i){if(kn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yr.current=e===null||e.memoizedState===null?Em:Tm,e=n(s,l),$s){i=0;do{if($s=!1,or=0,25<=i)throw Error(M(301));i+=1,ke=je=null,t.updateQueue=null,Yr.current=Pm,e=n(s,l)}while($s)}if(Yr.current=jl,t=je!==null&&je.next!==null,kn=0,ke=je=he=null,wl=!1,t)throw Error(M(300));return e}function fa(){var e=or!==0;return or=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?he.memoizedState=ke=e:ke=ke.next=e,ke}function at(){if(je===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=ke===null?he.memoizedState:ke.next;if(t!==null)ke=t,je=e;else{if(e===null)throw Error(M(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ke===null?he.memoizedState=ke=e:ke=ke.next=e}return ke}function ar(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=at(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=je,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((kn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=s):c=c.next=p,he.lanes|=h,bn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,he.lanes|=i,bn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=at(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Vd(){}function Hd(e,t){var n=he,s=at(),l=t(),i=!gt(s.memoizedState,l);if(i&&(s.memoizedState=l,We=!0),s=s.queue,ha(Gd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,cr(9,Qd.bind(null,n,s,l,t),void 0,null),Ce===null)throw Error(M(349));kn&30||Kd(n,t,l)}return l}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,s){t.value=n,t.getSnapshot=s,Yd(t)&&Xd(e)}function Gd(e,t,n){return n(function(){Yd(t)&&Xd(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Xd(e){var t=Lt(e,1);t!==null&&mt(t,e,1,-1)}function Tc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,he,e),[t.memoizedState,e]}function cr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Jd(){return at().memoizedState}function Xr(e,t,n,s){var l=Nt();he.flags|=e,l.memoizedState=cr(1|t,n,void 0,s===void 0?null:s)}function Bl(e,t,n,s){var l=at();s=s===void 0?null:s;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,s!==null&&ua(s,o.deps)){l.memoizedState=cr(t,n,i,s);return}}he.flags|=e,l.memoizedState=cr(1|t,n,i,s)}function Pc(e,t){return Xr(8390656,8,e,t)}function ha(e,t){return Bl(2048,8,e,t)}function Zd(e,t){return Bl(4,2,e,t)}function qd(e,t){return Bl(4,4,e,t)}function ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){return n=n!=null?n.concat([e]):null,Bl(4,4,ef.bind(null,t,e),n)}function pa(){}function nf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ua(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function sf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ua(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function rf(e,t,n){return kn&21?(gt(n,t)||(n=cd(),he.lanes|=n,bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function km(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var s=Ni.transition;Ni.transition={};try{e(!1),t()}finally{ne=n,Ni.transition=s}}function lf(){return at().memoizedState}function bm(e,t,n){var s=rn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},of(e))af(t,n);else if(n=Bd(e,t,n,s),n!==null){var l=ze();mt(n,e,s,l),cf(n,t,s)}}function Cm(e,t,n){var s=rn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(of(e))af(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(l.next=l,la(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Bd(e,t,l,s),n!==null&&(l=ze(),mt(n,e,s,l),cf(n,t,s))}}function of(e){var t=e.alternate;return e===he||t!==null&&t===he}function af(e,t){$s=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ho(e,n)}}var jl={readContext:ot,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Em={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Pc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xr(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=bm.bind(null,he,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:pa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=km.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=he,l=Nt();if(de){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ce===null)throw Error(M(349));kn&30||Kd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Pc(Gd.bind(null,s,i,e),[e]),s.flags|=2048,cr(9,Qd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Ce.identifierPrefix;if(de){var n=Rt,s=Dt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tm={readContext:ot,useCallback:nf,useContext:ot,useEffect:ha,useImperativeHandle:tf,useInsertionEffect:Zd,useLayoutEffect:qd,useMemo:sf,useReducer:Si,useRef:Jd,useState:function(){return Si(ar)},useDebugValue:pa,useDeferredValue:function(e){var t=at();return rf(t,je.memoizedState,e)},useTransition:function(){var e=Si(ar)[0],t=at().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Hd,useId:lf,unstable_isNewReconciler:!1},Pm={readContext:ot,useCallback:nf,useContext:ot,useEffect:ha,useImperativeHandle:tf,useInsertionEffect:Zd,useLayoutEffect:qd,useMemo:sf,useReducer:ki,useRef:Jd,useState:function(){return ki(ar)},useDebugValue:pa,useDeferredValue:function(e){var t=at();return je===null?t.memoizedState=e:rf(t,je.memoizedState,e)},useTransition:function(){var e=ki(ar)[0],t=at().memoizedState;return[e,t]},useMutableSource:Vd,useSyncExternalStore:Hd,useId:lf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ze(),l=rn(e),i=It(s,l);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,l),t!==null&&(mt(t,e,l,s),Gr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ze(),l=rn(e),i=It(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,l),t!==null&&(mt(t,e,l,s),Gr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),s=rn(e),l=It(n,s);l.tag=2,t!=null&&(l.callback=t),t=nn(e,l,s),t!==null&&(mt(t,e,s,n),Gr(t,e,s))}};function Dc(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!tr(n,s)||!tr(l,i):!0}function uf(e,t,n){var s=!1,l=an,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(l=Ve(t)?Nn:Le.current,s=t.contextTypes,i=(s=s!=null)?ss(e,l):an),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ia(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ot(i):(i=Ve(t)?Nn:Le.current,l.context=ss(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fo(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Wl.enqueueReplaceState(l,l.state,null),yl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var n="",s=t;do n+=sp(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function bi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function po(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function df(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Sl||(Sl=!0,ko=s),po(e,t)},n}function ff(e,t,n){n=It(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){po(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){po(e,t),typeof s!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ic(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Dm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Vm.bind(null,e,t,n),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Rm=At.ReactCurrentOwner,We=!1;function _e(e,t,n,s){t.child=e===null?$d(t,null,n,s):ls(t,e.child,n,s)}function Lc(e,t,n,s,l){n=n.render;var i=t.ref;return qn(t,l),s=da(e,t,n,s,i,l),n=fa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(de&&n&&qo(t),t.flags|=1,_e(e,t,s,l),t.child)}function _c(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!Na(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hf(e,t,i,s,l)):(e=el(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(o,s)&&e.ref===t.ref)return _t(e,t,l)}return t.flags|=1,e=ln(i,s),e.ref=t.ref,e.return=t,t.child=e}function hf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(tr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,_t(e,t,l)}return mo(e,t,n,s,l)}function pf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Hn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Hn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ie(Hn,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ie(Hn,Ye),Ye|=s;return _e(e,t,l,n),t.child}function mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mo(e,t,n,s,l){var i=Ve(n)?Nn:Le.current;return i=ss(t,i),qn(t,l),n=da(e,t,n,s,i,l),s=fa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(de&&s&&qo(t),t.flags|=1,_e(e,t,n,l),t.child)}function zc(e,t,n,s,l){if(Ve(n)){var i=!0;hl(t)}else i=!1;if(qn(t,l),t.stateNode===null)Jr(e,t),uf(t,n,s),ho(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?Nn:Le.current,u=ss(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Rc(t,o,s,u),Kt=!1;var g=t.memoizedState;o.state=g,yl(t,s,o,l),c=t.memoizedState,a!==s||g!==c||Ue.current||Kt?(typeof h=="function"&&(fo(t,n,h,s),c=t.memoizedState),(a=Kt||Dc(t,n,a,s,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Wd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,p=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?Nn:Le.current,c=ss(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Rc(t,o,s,c),Kt=!1,g=t.memoizedState,o.state=g,yl(t,s,o,l);var j=t.memoizedState;a!==p||g!==j||Ue.current||Kt?(typeof x=="function"&&(fo(t,n,x,s),j=t.memoizedState),(u=Kt||Dc(t,n,u,s,g,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),o.props=s,o.state=j,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return go(e,t,n,s,i,l)}function go(e,t,n,s,l,i){mf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&Nc(t,n,!1),_t(e,t,i);s=t.stateNode,Rm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ls(t,e.child,null,i),t.child=ls(t,null,a,i)):_e(e,t,a,i),t.memoizedState=s.state,l&&Nc(t,n,!0),t.child}function gf(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),oa(e,t.containerInfo)}function Ac(e,t,n,s,l){return rs(),ta(l),t.flags|=256,_e(e,t,n,s),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0};function yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function vf(e,t,n){var s=t.pendingProps,l=fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(fe,l&1),e===null)return co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hl(o,s,0,null),e=jn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yo(n),t.memoizedState=vo,e):ma(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Im(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ln(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=ln(a,i):(i=jn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?yo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=vo,s}return i=e.child,e=i.sibling,s=ln(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ma(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fr(e,t,n,s){return s!==null&&ta(s),ls(t,e.child,null,n),e=ma(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=bi(Error(M(422))),Fr(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Hl({mode:"visible",children:s.children},l,0,null),i=jn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ls(t,e.child,null,o),t.child.memoizedState=yo(o),t.memoizedState=vo,i);if(!(t.mode&1))return Fr(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(M(419)),s=bi(i,s,void 0),Fr(e,t,o,s)}if(a=(o&e.childLanes)!==0,We||a){if(s=Ce,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Lt(e,l),mt(s,e,l,-1))}return ja(),s=bi(Error(M(421))),Fr(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Hm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=tn(l.nextSibling),Je=t,de=!0,ht=null,e!==null&&(st[rt++]=Dt,st[rt++]=Rt,st[rt++]=Sn,Dt=e.id,Rt=e.overflow,Sn=t),t=ma(t,s.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),uo(e.return,t,n)}function Ci(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function yf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(_e(e,t,s.children,n),s=fe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ie(fe,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ci(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ci(t,!0,n,null,i);break;case"together":Ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mm(e,t,n){switch(t.tag){case 3:gf(t),rs();break;case 5:Ud(t);break;case 1:Ve(t.type)&&hl(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ie(gl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ie(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?vf(e,t,n):(ie(fe,fe.current&1),e=_t(e,t,n),e!==null?e.sibling:null);ie(fe,fe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return yf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(fe,fe.current),s)break;return null;case 22:case 23:return t.lanes=0,pf(e,t,n)}return _t(e,t,n)}var xf,xo,wf,jf;xf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xo=function(){};wf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,xn(bt.current);var i=null;switch(n){case"input":l=$i(e,l),s=$i(e,s),i=[];break;case"select":l=pe({},l,{value:void 0}),s=pe({},s,{value:void 0}),i=[];break;case"textarea":l=Ui(e,l),s=Ui(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=dl)}Hi(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Es(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Om(e,t,n){var s=t.pendingProps;switch(ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ve(t.type)&&fl(),Me(t),null;case 3:return s=t.stateNode,is(),ce(Ue),ce(Le),ca(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Eo(ht),ht=null))),xo(e,t),Me(t),null;case 5:aa(t);var l=xn(ir.current);if(n=t.type,e!==null&&t.stateNode!=null)wf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(M(166));return Me(t),null}if(e=xn(bt.current),zr(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[St]=t,s[rr]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",s),ae("close",s);break;case"iframe":case"object":case"embed":ae("load",s);break;case"video":case"audio":for(l=0;l<Os.length;l++)ae(Os[l],s);break;case"source":ae("error",s);break;case"img":case"image":case"link":ae("error",s),ae("load",s);break;case"details":ae("toggle",s);break;case"input":Ga(s,i),ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ae("invalid",s);break;case"textarea":Xa(s,i),ae("invalid",s)}Hi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,a,e),l=["children",""+a]):Gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",s)}switch(n){case"input":Tr(s),Ya(s,i,!0);break;case"textarea":Tr(s),Ja(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=dl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[St]=t,e[rr]=s,xf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ki(n,s),n){case"dialog":ae("cancel",e),ae("close",e),l=s;break;case"iframe":case"object":case"embed":ae("load",e),l=s;break;case"video":case"audio":for(l=0;l<Os.length;l++)ae(Os[l],e);l=s;break;case"source":ae("error",e),l=s;break;case"img":case"image":case"link":ae("error",e),ae("load",e),l=s;break;case"details":ae("toggle",e),l=s;break;case"input":Ga(e,s),l=$i(e,s),ae("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=pe({},s,{value:void 0}),ae("invalid",e);break;case"textarea":Xa(e,s),l=Ui(e,s),ae("invalid",e);break;default:l=s}Hi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ju(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ys(e,c):typeof c=="number"&&Ys(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",e):c!=null&&Fo(e,i,c,o))}switch(n){case"input":Tr(e),Ya(e,s,!1);break;case"textarea":Tr(e),Ja(e);break;case"option":s.value!=null&&e.setAttribute("value",""+on(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Yn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Yn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)jf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(M(166));if(n=xn(ir.current),xn(bt.current),zr(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(i=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:_r(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_r(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return Me(t),null;case 13:if(ce(fe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Xe!==null&&t.mode&1&&!(t.flags&128))Ad(),rs(),t.flags|=98560,i=!1;else if(i=zr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[St]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else ht!==null&&(Eo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Se===0&&(Se=3):ja())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return is(),xo(e,t),e===null&&nr(t.stateNode.containerInfo),Me(t),null;case 10:return ra(t.type._context),Me(t),null;case 17:return Ve(t.type)&&fl(),Me(t),null;case 19:if(ce(fe),i=t.memoizedState,i===null)return Me(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Es(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xl(e),o!==null){for(t.flags|=128,Es(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>as&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304)}else{if(!s)if(e=xl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Me(t),null}else 2*ve()-i.renderingStartTime>as&&n!==1073741824&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=fe.current,ie(fe,s?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return wa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Lm(e,t){switch(ea(t),t.tag){case 1:return Ve(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),ce(Ue),ce(Le),ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aa(t),null;case 13:if(ce(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(fe),null;case 4:return is(),null;case 10:return ra(t.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var $r=!1,Oe=!1,_m=typeof WeakSet=="function"?WeakSet:Set,$=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(e,t,s)}else n.current=null}function wo(e,t,n){try{n()}catch(s){me(e,t,s)}}var $c=!1;function zm(e,t){if(no=al,e=bd(),Zo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=e,g=null;t:for(;;){for(var x;p!==n||l!==0&&p.nodeType!==3||(a=o+l),p!==i||s!==0&&p.nodeType!==3||(c=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===n&&++u===l&&(a=o),g===i&&++h===s&&(c=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(so={focusedElem:e,selectionRange:n},al=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,P=j.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),P);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(y){me(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=$c,$c=!1,j}function Bs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&wo(t,n,i)}l=l.next}while(l!==s)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function jo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nf(e){var t=e.alternate;t!==null&&(e.alternate=null,Nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[rr],delete t[io],delete t[xm],delete t[wm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(s!==4&&(e=e.child,e!==null))for(No(e,t,n),e=e.sibling;e!==null;)No(e,t,n),e=e.sibling}function So(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(So(e,t,n),e=e.sibling;e!==null;)So(e,t,n),e=e.sibling}var Te=null,ft=!1;function Vt(e,t,n){for(n=n.child;n!==null;)kf(e,t,n),n=n.sibling}function kf(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Oe||Vn(n,t);case 6:var s=Te,l=ft;Te=null,Vt(e,t,n),Te=s,ft=l,Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ft?(e=Te,n=n.stateNode,e.nodeType===8?xi(e.parentNode,n):e.nodeType===1&&xi(e,n),qs(e)):xi(Te,n.stateNode));break;case 4:s=Te,l=ft,Te=n.stateNode.containerInfo,ft=!0,Vt(e,t,n),Te=s,ft=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wo(n,t,o),l=l.next}while(l!==s)}Vt(e,t,n);break;case 1:if(!Oe&&(Vn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){me(n,t,a)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Oe=(s=Oe)||n.memoizedState!==null,Vt(e,t,n),Oe=s):Vt(e,t,n);break;default:Vt(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _m),t.forEach(function(s){var l=Km.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,ft=!1;break e;case 3:Te=a.stateNode.containerInfo,ft=!0;break e;case 4:Te=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Te===null)throw Error(M(160));kf(i,o,l),Te=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){me(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}function bf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),jt(e),s&4){try{Bs(3,e,e.return),Ul(3,e)}catch(w){me(e,e.return,w)}try{Bs(5,e,e.return)}catch(w){me(e,e.return,w)}}break;case 1:ut(t,e),jt(e),s&512&&n!==null&&Vn(n,n.return);break;case 5:if(ut(t,e),jt(e),s&512&&n!==null&&Vn(n,n.return),e.flags&32){var l=e.stateNode;try{Ys(l,"")}catch(w){me(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ku(l,i),Ki(a,o);var u=Ki(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?Ju(l,p):h==="dangerouslySetInnerHTML"?Yu(l,p):h==="children"?Ys(l,p):Fo(l,h,p,u)}switch(a){case"input":Bi(l,i);break;case"textarea":Qu(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Yn(l,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Yn(l,!!i.multiple,i.defaultValue,!0):Yn(l,!!i.multiple,i.multiple?[]:"",!1))}l[rr]=i}catch(w){me(e,e.return,w)}}break;case 6:if(ut(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){me(e,e.return,w)}}break;case 3:if(ut(t,e),jt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(w){me(e,e.return,w)}break;case 4:ut(t,e),jt(e);break;case 13:ut(t,e),jt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(ya=ve())),s&4&&Wc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||h,ut(t,e),Oe=u):ut(t,e),jt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for($=e,h=e.child;h!==null;){for(p=$=h;$!==null;){switch(g=$,x=g.child,g.tag){case 0:case 11:case 14:case 15:Bs(4,g,g.return);break;case 1:Vn(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){me(s,n,w)}}break;case 5:Vn(g,g.return);break;case 22:if(g.memoizedState!==null){Vc(p);continue}}x!==null?(x.return=g,$=x):Vc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Xu("display",o))}catch(w){me(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){me(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),jt(e),s&4&&Wc(e);break;case 21:break;default:ut(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sf(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Ys(l,""),s.flags&=-33);var i=Bc(e);So(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Bc(e);No(e,a,o);break;default:throw Error(M(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Am(e,t,n){$=e,Cf(e)}function Cf(e,t,n){for(var s=(e.mode&1)!==0;$!==null;){var l=$,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||$r;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=$r;var u=Oe;if($r=o,(Oe=c)&&!u)for($=l;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Hc(l):c!==null?(c.return=o,$=c):Hc(l);for(;i!==null;)$=i,Cf(i),i=i.sibling;$=l,$r=a,Oe=u}Uc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,$=i):Uc(e)}}function Uc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Ul(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Oe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ec(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ec(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&qs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Oe||t.flags&512&&jo(t)}catch(g){me(t,t.return,g)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Vc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Hc(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ul(4,t)}catch(c){me(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){me(t,l,c)}}var i=t.return;try{jo(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{jo(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Fm=Math.ceil,Nl=At.ReactCurrentDispatcher,ga=At.ReactCurrentOwner,it=At.ReactCurrentBatchConfig,te=0,Ce=null,xe=null,Pe=0,Ye=0,Hn=un(0),Se=0,ur=null,bn=0,Vl=0,va=0,Ws=null,Be=null,ya=0,as=1/0,Tt=null,Sl=!1,ko=null,sn=null,Br=!1,Jt=null,kl=0,Us=0,bo=null,Zr=-1,qr=0;function ze(){return te&6?ve():Zr!==-1?Zr:Zr=ve()}function rn(e){return e.mode&1?te&2&&Pe!==0?Pe&-Pe:Nm.transition!==null?(qr===0&&(qr=cd()),qr):(e=ne,e!==0||(e=window.event,e=e===void 0?16:gd(e.type)),e):1}function mt(e,t,n,s){if(50<Us)throw Us=0,bo=null,Error(M(185));gr(e,n,s),(!(te&2)||e!==Ce)&&(e===Ce&&(!(te&2)&&(Vl|=n),Se===4&&Yt(e,Pe)),He(e,s),n===1&&te===0&&!(t.mode&1)&&(as=ve()+500,$l&&dn()))}function He(e,t){var n=e.callbackNode;Np(e,t);var s=ol(e,e===Ce?Pe:0);if(s===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?jm(Kc.bind(null,e)):Ld(Kc.bind(null,e)),vm(function(){!(te&6)&&dn()}),n=null;else{switch(ud(s)){case 1:n=Vo;break;case 4:n=od;break;case 16:n=il;break;case 536870912:n=ad;break;default:n=il}n=Of(n,Ef.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ef(e,t){if(Zr=-1,qr=0,te&6)throw Error(M(327));var n=e.callbackNode;if(es()&&e.callbackNode!==n)return null;var s=ol(e,e===Ce?Pe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=bl(e,s);else{t=s;var l=te;te|=2;var i=Pf();(Ce!==e||Pe!==t)&&(Tt=null,as=ve()+500,wn(e,t));do try{Wm();break}catch(a){Tf(e,a)}while(!0);sa(),Nl.current=i,te=l,xe!==null?t=0:(Ce=null,Pe=0,t=Se)}if(t!==0){if(t===2&&(l=Ji(e),l!==0&&(s=l,t=Co(e,l))),t===1)throw n=ur,wn(e,0),Yt(e,s),He(e,ve()),n;if(t===6)Yt(e,s);else{if(l=e.current.alternate,!(s&30)&&!$m(l)&&(t=bl(e,s),t===2&&(i=Ji(e),i!==0&&(s=i,t=Co(e,i))),t===1))throw n=ur,wn(e,0),Yt(e,s),He(e,ve()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(M(345));case 2:gn(e,Be,Tt);break;case 3:if(Yt(e,s),(s&130023424)===s&&(t=ya+500-ve(),10<t)){if(ol(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=lo(gn.bind(null,e,Be,Tt),t);break}gn(e,Be,Tt);break;case 4:if(Yt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-pt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Fm(s/1960))-s,10<s){e.timeoutHandle=lo(gn.bind(null,e,Be,Tt),s);break}gn(e,Be,Tt);break;case 5:gn(e,Be,Tt);break;default:throw Error(M(329))}}}return He(e,ve()),e.callbackNode===n?Ef.bind(null,e):null}function Co(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Eo(t)),e}function Eo(e){Be===null?Be=e:Be.push.apply(Be,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~va,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function Kc(e){if(te&6)throw Error(M(327));es();var t=ol(e,0);if(!(t&1))return He(e,ve()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var s=Ji(e);s!==0&&(t=s,n=Co(e,s))}if(n===1)throw n=ur,wn(e,0),Yt(e,t),He(e,ve()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Be,Tt),He(e,ve()),null}function xa(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(as=ve()+500,$l&&dn())}}function Cn(e){Jt!==null&&Jt.tag===0&&!(te&6)&&es();var t=te;te|=1;var n=it.transition,s=ne;try{if(it.transition=null,ne=1,e)return e()}finally{ne=s,it.transition=n,te=t,!(te&6)&&dn()}}function wa(){Ye=Hn.current,ce(Hn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gm(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(ea(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fl();break;case 3:is(),ce(Ue),ce(Le),ca();break;case 5:aa(s);break;case 4:is();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:ra(s.type._context);break;case 22:case 23:wa()}n=n.return}if(Ce=e,xe=e=ln(e.current,null),Pe=Ye=t,Se=0,ur=null,va=Vl=bn=0,Be=Ws=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}yn=null}return e}function Tf(e,t){do{var n=xe;try{if(sa(),Yr.current=jl,wl){for(var s=he.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}wl=!1}if(kn=0,ke=je=he=null,$s=!1,or=0,ga.current=null,n===null||n.return===null){Se=1,ur=t,xe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Pe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Mc(o);if(x!==null){x.flags&=-257,Oc(x,o,a,i,t),x.mode&1&&Ic(i,u,t),t=x,c=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){Ic(i,u,t),ja();break e}c=Error(M(426))}}else if(de&&a.mode&1){var P=Mc(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Oc(P,o,a,i,t),ta(os(c,a));break e}}i=c=os(c,a),Se!==4&&(Se=2),Ws===null?Ws=[i]:Ws.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=df(i,c,t);Cc(i,m);break e;case 1:a=c;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sn===null||!sn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=ff(i,a,t);Cc(i,y);break e}}i=i.return}while(i!==null)}Rf(n)}catch(S){t=S,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Pf(){var e=Nl.current;return Nl.current=jl,e===null?jl:e}function ja(){(Se===0||Se===3||Se===2)&&(Se=4),Ce===null||!(bn&268435455)&&!(Vl&268435455)||Yt(Ce,Pe)}function bl(e,t){var n=te;te|=2;var s=Pf();(Ce!==e||Pe!==t)&&(Tt=null,wn(e,t));do try{Bm();break}catch(l){Tf(e,l)}while(!0);if(sa(),te=n,Nl.current=s,xe!==null)throw Error(M(261));return Ce=null,Pe=0,Se}function Bm(){for(;xe!==null;)Df(xe)}function Wm(){for(;xe!==null&&!hp();)Df(xe)}function Df(e){var t=Mf(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Rf(e):xe=t,ga.current=null}function Rf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lm(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,xe=null;return}}else if(n=Om(n,t,Ye),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Se===0&&(Se=5)}function gn(e,t,n){var s=ne,l=it.transition;try{it.transition=null,ne=1,Um(e,t,n,s)}finally{it.transition=l,ne=s}return null}function Um(e,t,n,s){do es();while(Jt!==null);if(te&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sp(e,i),e===Ce&&(xe=Ce=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Br||(Br=!0,Of(il,function(){return es(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=ne;ne=1;var a=te;te|=4,ga.current=null,zm(e,n),bf(n,e),cm(so),al=!!no,so=no=null,e.current=n,Am(n),pp(),te=a,ne=o,it.transition=i}else e.current=n;if(Br&&(Br=!1,Jt=e,kl=l),i=e.pendingLanes,i===0&&(sn=null),vp(n.stateNode),He(e,ve()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Sl)throw Sl=!1,e=ko,ko=null,e;return kl&1&&e.tag!==0&&es(),i=e.pendingLanes,i&1?e===bo?Us++:(Us=0,bo=e):Us=0,dn(),null}function es(){if(Jt!==null){var e=ud(kl),t=it.transition,n=ne;try{if(it.transition=null,ne=16>e?16:e,Jt===null)var s=!1;else{if(e=Jt,Jt=null,kl=0,te&6)throw Error(M(331));var l=te;for(te|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for($=u;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:Bs(8,h,i)}var p=h.child;if(p!==null)p.return=h,$=p;else for(;$!==null;){h=$;var g=h.sibling,x=h.return;if(Nf(h),h===u){$=null;break}if(g!==null){g.return=x,$=g;break}$=x}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,$=m;break e}$=i.return}}var f=e.current;for($=f;$!==null;){o=$;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,$=v;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ul(9,a)}}catch(S){me(a,a.return,S)}if(a===o){$=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,$=y;break e}$=a.return}}if(te=l,dn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ll,e)}catch{}s=!0}return s}finally{ne=n,it.transition=t}}return!1}function Qc(e,t,n){t=os(n,t),t=df(e,t,1),e=nn(e,t,1),t=ze(),e!==null&&(gr(e,1,t),He(e,t))}function me(e,t,n){if(e.tag===3)Qc(e,e,n);else for(;t!==null;){if(t.tag===3){Qc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){e=os(n,e),e=ff(t,e,1),t=nn(t,e,1),e=ze(),t!==null&&(gr(t,1,e),He(t,e));break}}t=t.return}}function Vm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Pe&n)===n&&(Se===4||Se===3&&(Pe&130023424)===Pe&&500>ve()-ya?wn(e,0):va|=n),He(e,t)}function If(e,t){t===0&&(e.mode&1?(t=Rr,Rr<<=1,!(Rr&130023424)&&(Rr=4194304)):t=1);var n=ze();e=Lt(e,t),e!==null&&(gr(e,t,n),He(e,n))}function Hm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),If(e,n)}function Km(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(t),If(e,n)}var Mf;Mf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Mm(e,t,n);We=!!(e.flags&131072)}else We=!1,de&&t.flags&1048576&&_d(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Jr(e,t),e=t.pendingProps;var l=ss(t,Le.current);qn(t,n),l=da(null,t,s,e,l,n);var i=fa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,hl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ia(t),l.updater=Wl,t.stateNode=l,l._reactInternals=t,ho(t,s,e,n),t=go(null,t,s,!0,i,n)):(t.tag=0,de&&i&&qo(t),_e(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Jr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Gm(s),e=dt(s,e),l){case 0:t=mo(null,t,s,e,n);break e;case 1:t=zc(null,t,s,e,n);break e;case 11:t=Lc(null,t,s,e,n);break e;case 14:t=_c(null,t,s,dt(s.type,e),n);break e}throw Error(M(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),mo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),zc(e,t,s,l,n);case 3:e:{if(gf(t),e===null)throw Error(M(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Wd(e,t),yl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=os(Error(M(423)),t),t=Ac(e,t,s,n,l);break e}else if(s!==l){l=os(Error(M(424)),t),t=Ac(e,t,s,n,l);break e}else for(Xe=tn(t.stateNode.containerInfo.firstChild),Je=t,de=!0,ht=null,n=$d(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),s===l){t=_t(e,t,n);break e}_e(e,t,s,n)}t=t.child}return t;case 5:return Ud(t),e===null&&co(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,ro(s,l)?o=null:i!==null&&ro(s,i)&&(t.flags|=32),mf(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&co(t),null;case 13:return vf(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ls(t,null,s,n):_e(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Lc(e,t,s,l,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,ie(gl,s._currentValue),s._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===l.children&&!Ue.current){t=_t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=It(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),uo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,qn(t,n),l=ot(l),s=s(l),t.flags|=1,_e(e,t,s,n),t.child;case 14:return s=t.type,l=dt(s,t.pendingProps),l=dt(s.type,l),_c(e,t,s,l,n);case 15:return hf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Jr(e,t),t.tag=1,Ve(s)?(e=!0,hl(t)):e=!1,qn(t,n),uf(t,s,l),ho(t,s,l,n),go(null,t,s,!0,e,n);case 19:return yf(e,t,n);case 22:return pf(e,t,n)}throw Error(M(156,t.tag))};function Of(e,t){return id(e,t)}function Qm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new Qm(e,t,n,s)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gm(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bo)return 11;if(e===Wo)return 14}return 2}function ln(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function el(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")Na(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return jn(n.children,l,i,t);case $o:o=8,l|=8;break;case _i:return e=lt(12,n,t,l|2),e.elementType=_i,e.lanes=i,e;case zi:return e=lt(13,n,t,l),e.elementType=zi,e.lanes=i,e;case Ai:return e=lt(19,n,t,l),e.elementType=Ai,e.lanes=i,e;case Uu:return Hl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bu:o=10;break e;case Wu:o=9;break e;case Bo:o=11;break e;case Wo:o=14;break e;case Ht:o=16,s=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=lt(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function jn(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function Hl(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Uu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ei(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ti(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ym(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Sa(e,t,n,s,l,i,o,a,c){return e=new Ym(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(i),e}function Xm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Lf(e){if(!e)return an;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Od(e,n,t)}return t}function _f(e,t,n,s,l,i,o,a,c){return e=Sa(n,s,!0,e,l,i,o,a,c),e.context=Lf(null),n=e.current,s=ze(),l=rn(n),i=It(s,l),i.callback=t??null,nn(n,i,l),e.current.lanes=l,gr(e,l,s),He(e,s),e}function Kl(e,t,n,s){var l=t.current,i=ze(),o=rn(l);return n=Lf(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=nn(l,t,o),e!==null&&(mt(e,l,o,i),Gr(e,l,o)),o}function Cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ka(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Jm(){return null}var zf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ba(e){this._internalRoot=e}Ql.prototype.render=ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Kl(e,t,null,null)};Ql.prototype.unmount=ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Kl(null,e,null,null)}),t[Ot]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=hd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&md(e)}};function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Zm(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=Cl(o);i.call(u)}}var o=_f(t,s,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=o,e[Ot]=o.current,nr(e.nodeType===8?e.parentNode:e),Cn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var u=Cl(c);a.call(u)}}var c=Sa(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=c,e[Ot]=c.current,nr(e.nodeType===8?e.parentNode:e),Cn(function(){Kl(t,c,n,s)}),c}function Yl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=Cl(o);a.call(c)}}Kl(t,o,e,l)}else o=Zm(n,t,e,l,s);return Cl(o)}dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(Ho(t,n|1),He(t,ve()),!(te&6)&&(as=ve()+500,dn()))}break;case 13:Cn(function(){var s=Lt(e,1);if(s!==null){var l=ze();mt(s,e,1,l)}}),ka(e,1)}};Ko=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=ze();mt(t,e,134217728,n)}ka(e,134217728)}};fd=function(e){if(e.tag===13){var t=rn(e),n=Lt(e,t);if(n!==null){var s=ze();mt(n,e,t,s)}ka(e,t)}};hd=function(){return ne};pd=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Gi=function(e,t,n){switch(t){case"input":if(Bi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Fl(s);if(!l)throw Error(M(90));Hu(s),Bi(s,l)}}}break;case"textarea":Qu(e,n);break;case"select":t=n.value,t!=null&&Yn(e,!!n.multiple,t,!1)}};ed=xa;td=Cn;var qm={usingClientEntryPoint:!1,Events:[yr,Fn,Fl,Zu,qu,xa]},Ts={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eg={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||Jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Ll=Wr.inject(eg),kt=Wr}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(t))throw Error(M(200));return Xm(e,t,null,n)};qe.createRoot=function(e,t){if(!Ca(e))throw Error(M(299));var n=!1,s="",l=zf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Sa(e,1,!1,null,null,n,!1,s,l),e[Ot]=t.current,nr(e.nodeType===8?e.parentNode:e),new ba(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=rd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Cn(e)};qe.hydrate=function(e,t,n){if(!Gl(t))throw Error(M(200));return Yl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ca(e))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=zf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_f(t,null,e,1,n??null,l,!1,i,o),e[Ot]=t.current,nr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ql(t)};qe.render=function(e,t,n){if(!Gl(t))throw Error(M(200));return Yl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(M(40));return e._reactRootContainer?(Cn(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};qe.unstable_batchedUpdates=xa;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Gl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Yl(e,t,n,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function Af(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Af)}catch(e){console.error(e)}}Af(),zu.exports=qe;var Kn=zu.exports,Xc=Kn;Oi.createRoot=Xc.createRoot,Oi.hydrateRoot=Xc.hydrateRoot;const Xl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ea(e){return"nodeType"in e}function $e(e){var t,n;return e?fs(e)?e:Ea(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ta(e){const{Document:t}=$e(e);return e instanceof t}function wr(e){return fs(e)?!1:e instanceof $e(e).HTMLElement}function Ff(e){return e instanceof $e(e).SVGElement}function hs(e){return e?fs(e)?e.document:Ea(e)?Ta(e)?e:wr(e)||Ff(e)?e.ownerDocument:document:document:document}const zt=Xl?d.useLayoutEffect:d.useEffect;function Jl(e){const t=d.useRef(e);return zt(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function tg(){const e=d.useRef(null),t=d.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function dr(e,t){t===void 0&&(t=[e]);const n=d.useRef(e);return zt(()=>{n.current!==e&&(n.current=e)},t),n}function jr(e,t){const n=d.useRef();return d.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function El(e){const t=Jl(e),n=d.useRef(null),s=d.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Tl(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let Pi={};function Zl(e,t){return d.useMemo(()=>{if(t)return t;const n=Pi[e]==null?0:Pi[e]+1;return Pi[e]=n,e+"-"+n},[e,t])}function $f(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const ts=$f(1),Pl=$f(-1);function ng(e){return"clientX"in e&&"clientY"in e}function Pa(e){if(!e)return!1;const{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function sg(e){if(!e)return!1;const{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function Dl(e){if(sg(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ng(e)?{x:e.clientX,y:e.clientY}:null}const fr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[fr.Translate.toString(e),fr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),Jc="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function rg(e){return e.matches(Jc)?e:e.querySelector(Jc)}const lg={display:"none"};function ig(e){let{id:t,value:n}=e;return ge.createElement("div",{id:t,style:lg},n)}function og(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ge.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function ag(){const[e,t]=d.useState("");return{announce:d.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Bf=d.createContext(null);function cg(e){const t=d.useContext(Bf);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ug(){const[e]=d.useState(()=>new Set),t=d.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[d.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const dg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hg(e){let{announcements:t=fg,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=dg}=e;const{announce:i,announcement:o}=ag(),a=Zl("DndLiveRegion"),[c,u]=d.useState(!1);if(d.useEffect(()=>{u(!0)},[]),cg(d.useMemo(()=>({onDragStart(p){let{active:g}=p;i(t.onDragStart({active:g}))},onDragMove(p){let{active:g,over:x}=p;t.onDragMove&&i(t.onDragMove({active:g,over:x}))},onDragOver(p){let{active:g,over:x}=p;i(t.onDragOver({active:g,over:x}))},onDragEnd(p){let{active:g,over:x}=p;i(t.onDragEnd({active:g,over:x}))},onDragCancel(p){let{active:g,over:x}=p;i(t.onDragCancel({active:g,over:x}))}}),[i,t])),!c)return null;const h=ge.createElement(ge.Fragment,null,ge.createElement(ig,{id:s,value:l.draggable}),ge.createElement(og,{id:a,announcement:o}));return n?Kn.createPortal(h,n):h}var Ne;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ne||(Ne={}));function Rl(){}function pg(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function mg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const vt=Object.freeze({x:0,y:0});function gg(e,t){const n=Dl(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function vg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function yg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function xg(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const wg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=xg(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(vg)};function jg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Wf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function Ng(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const Sg=Ng(1);function Uf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function kg(e,t,n){const s=Uf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const bg={ignoreTransform:!1};function Nr(e,t){t===void 0&&(t=bg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=$e(e).getComputedStyle(e);u&&(n=kg(n,u,h))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function Zc(e){return Nr(e,{ignoreTransform:!0})}function Cg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Eg(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position==="fixed"}function Tg(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function Da(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Ta(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!wr(l)||Ff(l)||n.includes(l))return n;const i=$e(e).getComputedStyle(l);return l!==e&&Tg(l,i)&&n.push(l),Eg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Vf(e){const[t]=Da(e,1);return t??null}function Di(e){return!Xl||!e?null:fs(e)?e:Ea(e)?Ta(e)||e===hs(e).scrollingElement?window:wr(e)?e:null:null}function Hf(e){return fs(e)?e.scrollX:e.scrollLeft}function Kf(e){return fs(e)?e.scrollY:e.scrollTop}function To(e){return{x:Hf(e),y:Kf(e)}}var be;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(be||(be={}));function Qf(e){return!Xl||!e?!1:e===document.scrollingElement}function Gf(e){const t={x:0,y:0},n=Qf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Pg={x:.2,y:.2};function Dg(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Pg);const{isTop:u,isBottom:h,isLeft:p,isRight:g}=Gf(e),x={x:0,y:0},j={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(x.y=be.Backward,j.y=s*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(x.y=be.Forward,j.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!g&&a>=t.right-w.width?(x.x=be.Forward,j.x=s*Math.abs((t.right-w.width-a)/w.width)):!p&&o<=t.left+w.width&&(x.x=be.Backward,j.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:j}}function Rg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Yf(e){return e.reduce((t,n)=>ts(t,To(n)),vt)}function Ig(e){return e.reduce((t,n)=>t+Hf(n),0)}function Mg(e){return e.reduce((t,n)=>t+Kf(n),0)}function Xf(e,t){if(t===void 0&&(t=Nr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Vf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Og=[["x",["left","right"],Ig],["y",["top","bottom"],Mg]];class Ra{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Da(n),l=Yf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Og)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(s),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vs{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Lg(e){const{EventTarget:t}=$e(e);return e instanceof t?e:hs(e)}function Ri(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function qc(e){e.preventDefault()}function _g(e){e.stopPropagation()}var re;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(re||(re={}));const Jf={start:[re.Space,re.Enter],cancel:[re.Esc],end:[re.Space,re.Enter,re.Tab]},zg=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case re.Right:return{...n,x:n.x+25};case re.Left:return{...n,x:n.x-25};case re.Down:return{...n,y:n.y+25};case re.Up:return{...n,y:n.y-25}}};class Zf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vs(hs(n)),this.windowListeners=new Vs($e(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&Xf(s),n(vt)}handleKeyDown(t){if(Pa(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=Jf,coordinateGetter:o=zg,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:s.current,currentCoordinates:h});if(p){const g=Pl(p,h),x={x:0,y:0},{scrollableAncestors:j}=s.current;for(const w of j){const P=t.code,{isTop:m,isRight:f,isLeft:v,isBottom:y,maxScroll:S,minScroll:k}=Gf(w),N=Rg(w),b={x:Math.min(P===re.Right?N.right-N.width/2:N.right,Math.max(P===re.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(P===re.Down?N.bottom-N.height/2:N.bottom,Math.max(P===re.Down?N.top:N.top+N.height/2,p.y))},C=P===re.Right&&!f||P===re.Left&&!v,D=P===re.Down&&!y||P===re.Up&&!m;if(C&&b.x!==p.x){const E=w.scrollLeft+g.x,V=P===re.Right&&E<=S.x||P===re.Left&&E>=k.x;if(V&&!g.y){w.scrollTo({left:E,behavior:a});return}V?x.x=w.scrollLeft-E:x.x=P===re.Right?w.scrollLeft-S.x:w.scrollLeft-k.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(D&&b.y!==p.y){const E=w.scrollTop+g.y,V=P===re.Down&&E<=S.y||P===re.Up&&E>=k.y;if(V&&!g.x){w.scrollTo({top:E,behavior:a});return}V?x.y=w.scrollTop-E:x.y=P===re.Down?w.scrollTop-S.y:w.scrollTop-k.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,ts(Pl(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=Jf,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function eu(e){return!!(e&&"distance"in e)}function tu(e){return!!(e&&"delay"in e)}class Ia{constructor(t,n,s){var l;s===void 0&&(s=Lg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=hs(o),this.documentListeners=new Vs(this.document),this.listeners=new Vs(s),this.windowListeners=new Vs($e(o)),this.initialCoordinates=(l=Dl(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,qc),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,qc),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(eu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,_g,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Dl(t))!=null?n:vt,u=Pl(l,c);if(!s&&a){if(eu(a)){if(a.tolerance!=null&&Ri(u,a.tolerance))return this.handleCancel();if(Ri(u,a.distance))return this.handleStart()}if(tu(a)&&Ri(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===re.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ag={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ma extends Ia{constructor(t){const{event:n}=t,s=hs(n.target);super(t,Ag,s)}}Ma.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const Fg={move:{name:"mousemove"},end:{name:"mouseup"}};var Po;(function(e){e[e.RightClick=2]="RightClick"})(Po||(Po={}));class $g extends Ia{constructor(t){super(t,Fg,hs(t.event.target))}}$g.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Po.RightClick?!1:(s==null||s({event:n}),!0)}}];const Ii={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bg extends Ia{constructor(t){super(t,Ii)}static setup(){return window.addEventListener(Ii.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ii.move.name,t)};function t(){}}}Bg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Hs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hs||(Hs={}));var Il;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Il||(Il={}));function Wg(e){let{acceleration:t,activator:n=Hs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Il.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:g}=e;const x=Vg({delta:p,disabled:!i}),[j,w]=tg(),P=d.useRef({x:0,y:0}),m=d.useRef({x:0,y:0}),f=d.useMemo(()=>{switch(n){case Hs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hs.DraggableRect:return l}},[n,l,c]),v=d.useRef(null),y=d.useCallback(()=>{const k=v.current;if(!k)return;const N=P.current.x*m.current.x,b=P.current.y*m.current.y;k.scrollBy(N,b)},[]),S=d.useMemo(()=>a===Il.TreeOrder?[...u].reverse():u,[a,u]);d.useEffect(()=>{if(!i||!u.length||!f){w();return}for(const k of S){if((s==null?void 0:s(k))===!1)continue;const N=u.indexOf(k),b=h[N];if(!b)continue;const{direction:C,speed:D}=Dg(k,b,f,t,g);for(const E of["x","y"])x[E][C[E]]||(D[E]=0,C[E]=0);if(D.x>0||D.y>0){w(),v.current=k,j(y,o),P.current=D,m.current=C;return}}P.current={x:0,y:0},m.current={x:0,y:0},w()},[t,y,s,w,i,o,JSON.stringify(f),JSON.stringify(x),j,u,S,h,JSON.stringify(g)])}const Ug={x:{[be.Backward]:!1,[be.Forward]:!1},y:{[be.Backward]:!1,[be.Forward]:!1}};function Vg(e){let{delta:t,disabled:n}=e;const s=Tl(t);return jr(l=>{if(n||!s||!l)return Ug;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[be.Backward]:l.x[be.Backward]||i.x===-1,[be.Forward]:l.x[be.Forward]||i.x===1},y:{[be.Backward]:l.y[be.Backward]||i.y===-1,[be.Forward]:l.y[be.Forward]||i.y===1}}},[n,t,s])}function Hg(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return jr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Kg(e,t){return d.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var hr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(hr||(hr={}));var Do;(function(e){e.Optimized="optimized"})(Do||(Do={}));const nu=new Map;function Qg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=d.useState(null),{frequency:a,measure:c,strategy:u}=l,h=d.useRef(e),p=P(),g=dr(p),x=d.useCallback(function(m){m===void 0&&(m=[]),!g.current&&o(f=>f===null?m:f.concat(m.filter(v=>!f.includes(v))))},[g]),j=d.useRef(null),w=jr(m=>{if(p&&!n)return nu;if(!m||m===nu||h.current!==e||i!=null){const f=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){f.set(v.id,v.rect.current);continue}const y=v.node.current,S=y?new Ra(c(y),y):null;v.rect.current=S,S&&f.set(v.id,S)}return f}return m},[e,i,n,p,c]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{p||x()},[n,p]),d.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),d.useEffect(()=>{p||typeof a!="number"||j.current!==null||(j.current=setTimeout(()=>{x(),j.current=null},a))},[a,p,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function P(){switch(u){case hr.Always:return!1;case hr.BeforeDragging:return n;default:return!n}}}function Oa(e,t){return jr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Gg(e,t){return Oa(e,t)}function Yg(e){let{callback:t,disabled:n}=e;const s=Jl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ql(e){let{callback:t,disabled:n}=e;const s=Jl(t),l=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return d.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Xg(e){return new Ra(Nr(e),e)}function su(e,t,n){t===void 0&&(t=Xg);const[s,l]=d.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=Yg({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=ql({callback:i});return zt(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function Jg(e){const t=Oa(e);return Wf(e,t)}const ru=[];function Zg(e){const t=d.useRef(e),n=jr(s=>e?s&&s!==ru&&e&&t.current&&e.parentNode===t.current.parentNode?s:Da(e):ru,[e]);return d.useEffect(()=>{t.current=e},[e]),n}function qg(e){const[t,n]=d.useState(null),s=d.useRef(e),l=d.useCallback(i=>{const o=Di(i.target);o&&n(a=>a?(a.set(o,To(o)),new Map(a)):null)},[]);return d.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const u=Di(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,To(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Di(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ts(i,o),vt):Yf(e):vt,[e,t])}function lu(e,t){t===void 0&&(t=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},t),d.useEffect(()=>{const s=e!==vt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Pl(e,n.current):vt}function ev(e){d.useEffect(()=>{if(!Xl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function tv(e,t){return d.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function qf(e){return d.useMemo(()=>e?Cg(e):null,[e])}const iu=[];function nv(e,t){t===void 0&&(t=Nr);const[n]=e,s=qf(n?$e(n):null),[l,i]=d.useState(iu);function o(){i(()=>e.length?e.map(c=>Qf(c)?s:new Ra(t(c),c)):iu)}const a=ql({callback:o});return zt(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function eh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wr(t)?t:e}function sv(e){let{measure:t}=e;const[n,s]=d.useState(null),l=d.useCallback(u=>{for(const{target:h}of u)if(wr(h)){s(p=>{const g=t(h);return p?{...p,width:g.width,height:g.height}:g});break}},[t]),i=ql({callback:l}),o=d.useCallback(u=>{const h=eh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),s(h?t(h):null)},[t,i]),[a,c]=El(o);return d.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const rv=[{sensor:Ma,options:{}},{sensor:Zf,options:{}}],lv={current:{}},tl={draggable:{measure:Zc},droppable:{measure:Zc,strategy:hr.WhileDragging,frequency:Do.Optimized},dragOverlay:{measure:Nr}};class Ks extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const iv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ks,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tl,measureDroppableContainers:Rl,windowRect:null,measuringScheduled:!1},th={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rl,draggableNodes:new Map,over:null,measureDroppableContainers:Rl},Sr=d.createContext(th),nh=d.createContext(iv);function ov(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ks}}}function av(e,t){switch(t.type){case Ne.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ne.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ne.DragEnd:case Ne.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ne.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Ks(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case Ne.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Ks(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case Ne.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Ks(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function cv(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=d.useContext(Sr),i=Tl(s),o=Tl(n==null?void 0:n.id);return d.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!Pa(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=rg(h);if(p){p.focus();break}}})}},[s,t,l,o,i]),null}function sh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function uv(e){return d.useMemo(()=>({draggable:{...tl.draggable,...e==null?void 0:e.draggable},droppable:{...tl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...tl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function dv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=d.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;zt(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Wf(h,s);if(o||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=Vf(u);g&&g.scrollBy({top:p.y,left:p.x})}},[t,o,a,s,n])}const ei=d.createContext({...vt,scaleX:1,scaleY:1});var Qt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Qt||(Qt={}));const fv=d.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=rv,collisionDetection:p=wg,measuring:g,modifiers:x,...j}=t;const w=d.useReducer(av,void 0,ov),[P,m]=w,[f,v]=ug(),[y,S]=d.useState(Qt.Uninitialized),k=y===Qt.Initialized,{draggable:{active:N,nodes:b,translate:C},droppable:{containers:D}}=P,E=N!=null?b.get(N):null,V=d.useRef({initial:null,translated:null}),K=d.useMemo(()=>{var Re;return N!=null?{id:N,data:(Re=E==null?void 0:E.data)!=null?Re:lv,rect:V}:null},[N,E]),L=d.useRef(null),[B,X]=d.useState(null),[Y,_]=d.useState(null),A=dr(j,Object.values(j)),U=Zl("DndDescribedBy",o),ee=d.useMemo(()=>D.getEnabled(),[D]),q=uv(g),{droppableRects:ye,measureDroppableContainers:G,measuringScheduled:ue}=Qg(ee,{dragging:k,dependencies:[C.x,C.y],config:q.droppable}),R=Hg(b,N),F=d.useMemo(()=>Y?Dl(Y):null,[Y]),I=Ch(),O=Gg(R,q.draggable.measure);dv({activeNode:N!=null?b.get(N):null,config:I.layoutShiftCompensation,initialRect:O,measure:q.draggable.measure});const z=su(R,q.draggable.measure,O),H=su(R?R.parentElement:null),Q=d.useRef({activatorEvent:null,active:null,activeNode:R,collisionRect:null,collisions:null,droppableRects:ye,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),oe=D.getNodeFor((n=Q.current.over)==null?void 0:n.id),T=sv({measure:q.dragOverlay.measure}),W=(s=T.nodeRef.current)!=null?s:R,J=k?(l=T.rect)!=null?l:z:null,se=!!(T.nodeRef.current&&T.rect),yt=Jg(se?null:z),ms=qf(W?$e(W):null),we=Zg(k?oe??R:null),hn=nv(we),Ft=sh(x,{transform:{x:C.x-yt.x,y:C.y-yt.y,scaleX:1,scaleY:1},activatorEvent:Y,active:K,activeNodeRect:z,containerNodeRect:H,draggingNodeRect:J,over:Q.current.over,overlayNodeRect:T.rect,scrollableAncestors:we,scrollableAncestorRects:hn,windowRect:ms}),gs=F?ts(F,C):null,br=qg(we),xh=lu(br),wh=lu(br,[z]),Pn=ts(Ft,xh),Dn=J?Sg(J,Ft):null,vs=K&&Dn?p({active:K,collisionRect:Dn,droppableRects:ye,droppableContainers:ee,pointerCoordinates:gs}):null,za=yg(vs,"id"),[$t,Aa]=d.useState(null),jh=se?Ft:ts(Ft,wh),Nh=jg(jh,(i=$t==null?void 0:$t.rect)!=null?i:null,z),ti=d.useRef(null),Fa=d.useCallback((Re,Ke)=>{let{sensor:Qe,options:Bt}=Ke;if(L.current==null)return;const tt=b.get(L.current);if(!tt)return;const Ge=Re.nativeEvent,xt=new Qe({active:L.current,activeNode:tt,event:Ge,options:Bt,context:Q,onAbort(Ee){if(!b.get(Ee))return;const{onDragAbort:wt}=A.current,Et={id:Ee};wt==null||wt(Et),f({type:"onDragAbort",event:Et})},onPending(Ee,Wt,wt,Et){if(!b.get(Ee))return;const{onDragPending:xs}=A.current,Ut={id:Ee,constraint:Wt,initialCoordinates:wt,offset:Et};xs==null||xs(Ut),f({type:"onDragPending",event:Ut})},onStart(Ee){const Wt=L.current;if(Wt==null)return;const wt=b.get(Wt);if(!wt)return;const{onDragStart:Et}=A.current,ys={activatorEvent:Ge,active:{id:Wt,data:wt.data,rect:V}};Kn.unstable_batchedUpdates(()=>{Et==null||Et(ys),S(Qt.Initializing),m({type:Ne.DragStart,initialCoordinates:Ee,active:Wt}),f({type:"onDragStart",event:ys}),X(ti.current),_(Ge)})},onMove(Ee){m({type:Ne.DragMove,coordinates:Ee})},onEnd:Rn(Ne.DragEnd),onCancel:Rn(Ne.DragCancel)});ti.current=xt;function Rn(Ee){return async function(){const{active:wt,collisions:Et,over:ys,scrollAdjustedTranslate:xs}=Q.current;let Ut=null;if(wt&&xs){const{cancelDrop:ws}=A.current;Ut={activatorEvent:Ge,active:wt,collisions:Et,delta:xs,over:ys},Ee===Ne.DragEnd&&typeof ws=="function"&&await Promise.resolve(ws(Ut))&&(Ee=Ne.DragCancel)}L.current=null,Kn.unstable_batchedUpdates(()=>{m({type:Ee}),S(Qt.Uninitialized),Aa(null),X(null),_(null),ti.current=null;const ws=Ee===Ne.DragEnd?"onDragEnd":"onDragCancel";if(Ut){const ni=A.current[ws];ni==null||ni(Ut),f({type:ws,event:Ut})}})}}},[b]),Sh=d.useCallback((Re,Ke)=>(Qe,Bt)=>{const tt=Qe.nativeEvent,Ge=b.get(Bt);if(L.current!==null||!Ge||tt.dndKit||tt.defaultPrevented)return;const xt={active:Ge};Re(Qe,Ke.options,xt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},L.current=Bt,Fa(Qe,Ke))},[b,Fa]),$a=Kg(h,Sh);ev(h),zt(()=>{z&&y===Qt.Initializing&&S(Qt.Initialized)},[z,y]),d.useEffect(()=>{const{onDragMove:Re}=A.current,{active:Ke,activatorEvent:Qe,collisions:Bt,over:tt}=Q.current;if(!Ke||!Qe)return;const Ge={active:Ke,activatorEvent:Qe,collisions:Bt,delta:{x:Pn.x,y:Pn.y},over:tt};Kn.unstable_batchedUpdates(()=>{Re==null||Re(Ge),f({type:"onDragMove",event:Ge})})},[Pn.x,Pn.y]),d.useEffect(()=>{const{active:Re,activatorEvent:Ke,collisions:Qe,droppableContainers:Bt,scrollAdjustedTranslate:tt}=Q.current;if(!Re||L.current==null||!Ke||!tt)return;const{onDragOver:Ge}=A.current,xt=Bt.get(za),Rn=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,Ee={active:Re,activatorEvent:Ke,collisions:Qe,delta:{x:tt.x,y:tt.y},over:Rn};Kn.unstable_batchedUpdates(()=>{Aa(Rn),Ge==null||Ge(Ee),f({type:"onDragOver",event:Ee})})},[za]),zt(()=>{Q.current={activatorEvent:Y,active:K,activeNode:R,collisionRect:Dn,collisions:vs,droppableRects:ye,draggableNodes:b,draggingNode:W,draggingNodeRect:J,droppableContainers:D,over:$t,scrollableAncestors:we,scrollAdjustedTranslate:Pn},V.current={initial:J,translated:Dn}},[K,R,vs,Dn,b,W,J,ye,D,$t,we,Pn]),Wg({...I,delta:C,draggingRect:Dn,pointerCoordinates:gs,scrollableAncestors:we,scrollableAncestorRects:hn});const kh=d.useMemo(()=>({active:K,activeNode:R,activeNodeRect:z,activatorEvent:Y,collisions:vs,containerNodeRect:H,dragOverlay:T,draggableNodes:b,droppableContainers:D,droppableRects:ye,over:$t,measureDroppableContainers:G,scrollableAncestors:we,scrollableAncestorRects:hn,measuringConfiguration:q,measuringScheduled:ue,windowRect:ms}),[K,R,z,Y,vs,H,T,b,D,ye,$t,G,we,hn,q,ue,ms]),bh=d.useMemo(()=>({activatorEvent:Y,activators:$a,active:K,activeNodeRect:z,ariaDescribedById:{draggable:U},dispatch:m,draggableNodes:b,over:$t,measureDroppableContainers:G}),[Y,$a,K,z,m,U,b,$t,G]);return ge.createElement(Bf.Provider,{value:v},ge.createElement(Sr.Provider,{value:bh},ge.createElement(nh.Provider,{value:kh},ge.createElement(ei.Provider,{value:Nh},u)),ge.createElement(cv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ge.createElement(hg,{...a,hiddenTextDescribedById:U}));function Ch(){const Re=(B==null?void 0:B.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Qe=k&&!Re&&!Ke;return typeof c=="object"?{...c,enabled:Qe}:{enabled:Qe}}}),hv=d.createContext(null),ou="button",pv="Draggable";function rh(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=Zl(pv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:g}=d.useContext(Sr),{role:x=ou,roleDescription:j="draggable",tabIndex:w=0}=l??{},P=(c==null?void 0:c.id)===t,m=d.useContext(P?ei:hv),[f,v]=El(),[y,S]=El(),k=tv(o,t),N=dr(n);zt(()=>(p.set(t,{id:t,key:i,node:f,activatorNode:y,data:N}),()=>{const C=p.get(t);C&&C.key===i&&p.delete(t)}),[p,t]);const b=d.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":P&&x===ou?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[s,x,w,P,j,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:P,listeners:s?void 0:k,node:f,over:g,setNodeRef:v,setActivatorNodeRef:S,transform:m}}function mv(){return d.useContext(nh)}const gv="Droppable",vv={timeout:25};function yv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=Zl(gv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=d.useContext(Sr),h=d.useRef({disabled:n}),p=d.useRef(!1),g=d.useRef(null),x=d.useRef(null),{disabled:j,updateMeasurementsFor:w,timeout:P}={...vv,...l},m=dr(w??s),f=d.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),x.current=null},P)},[P]),v=ql({callback:f,disabled:j||!o}),y=d.useCallback((b,C)=>{v&&(C&&(v.unobserve(C),p.current=!1),b&&v.observe(b))},[v]),[S,k]=El(y),N=dr(t);return d.useEffect(()=>{!v||!S.current||(v.disconnect(),p.current=!1,v.observe(S.current))},[S,v]),d.useEffect(()=>(a({type:Ne.RegisterDroppable,element:{id:s,key:i,disabled:n,node:S,rect:g,data:N}}),()=>a({type:Ne.UnregisterDroppable,key:i,id:s})),[s]),d.useEffect(()=>{n!==h.current.disabled&&(a({type:Ne.SetDroppableDisabled,id:s,key:i,disabled:n}),h.current.disabled=n)},[s,i,n,a]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===s,node:S,over:c,setNodeRef:k}}function xv(e){let{animation:t,children:n}=e;const[s,l]=d.useState(null),[i,o]=d.useState(null),a=Tl(n);return!n&&!s&&a&&l(a),zt(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),ge.createElement(ge.Fragment,null,n,s?d.cloneElement(s,{ref:o}):null)}const wv={x:0,y:0,scaleX:1,scaleY:1};function jv(e){let{children:t}=e;return ge.createElement(Sr.Provider,{value:th},ge.createElement(ei.Provider,{value:wv},t))}const Nv={position:"fixed",touchAction:"none"},Sv=e=>Pa(e)?"transform 250ms ease":void 0,kv=d.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:h=Sv}=e;if(!a)return null;const p=l?u:{...u,scaleX:1,scaleY:1},g={...Nv,width:a.width,height:a.height,top:a.top,left:a.left,transform:fr.Transform.toString(p),transformOrigin:l&&s?gg(s,a):void 0,transition:typeof h=="function"?h(s):h,...c};return ge.createElement(n,{className:o,style:g,ref:t},i)}),bv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Cv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:fr.Transform.toString(t)},{transform:fr.Transform.toString(n)}]},Ev={duration:250,easing:"ease",keyframes:Cv,sideEffects:bv({styles:{active:{opacity:"0"}}})};function Tv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return Jl((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=eh(o);if(!u)return;const{transform:h}=$e(o).getComputedStyle(o),p=Uf(h);if(!p)return;const g=typeof t=="function"?t:Pv(t);return Xf(c,l.draggable.measure),g({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:p})})}function Pv(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...Ev,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-h.x,y:c.y-h.y,...p},x=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:g}}),[j]=x,w=x[x.length-1];if(JSON.stringify(j)===JSON.stringify(w))return;const P=s==null?void 0:s({active:o,dragOverlay:a,...u}),m=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(f=>{m.onfinish=()=>{P==null||P(),f()}})}}let au=0;function Dv(e){return d.useMemo(()=>{if(e!=null)return au++,au},[e])}const Rv=ge.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggableNodes:j,droppableContainers:w,dragOverlay:P,over:m,measuringConfiguration:f,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:S}=mv(),k=d.useContext(ei),N=Dv(p==null?void 0:p.id),b=sh(o,{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:P.rect,over:m,overlayNodeRect:P.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:k,windowRect:S}),C=Oa(g),D=Tv({config:s,draggableNodes:j,droppableContainers:w,measuringConfiguration:f}),E=C?P.setRef:void 0;return ge.createElement(jv,null,ge.createElement(xv,{animation:D},p&&N?ge.createElement(kv,{key:N,id:p.id,ref:E,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...l},transform:b},n):null))}),lh={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Iv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},nl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:lh},cu=10,Qn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ml={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Mv(e){if(Ml[e])return Ml[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function uu(e){return Ml[e]?Ml[e].priority:e.startsWith("gt-")?3:99}const ih=d.createContext(null),du=5;function Ov({children:e}){const[t,n]=d.useState([]),[s,l]=d.useState(1),i=d.useCallback((c,u)=>{const h=s;l(g=>g+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(g=>{const x=[p,...g];return x.length>du?x.slice(0,du):x})},[s]),o=d.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=d.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(ih.Provider,{value:a,children:e})}function kr(){const e=d.useContext(ih);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function fu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const oh="chrote-dashboard-state",ah="chrote-dashboard-presets",Ps=["terminal1","terminal2"];function Lv(){try{const e=localStorage.getItem(ah);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function _v(e){try{localStorage.setItem(ah,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function zv(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function hu(e){return JSON.parse(JSON.stringify(e))}function Av(){try{const e=localStorage.getItem(oh);if(e){const t=JSON.parse(e);return Bv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Fv(e){try{localStorage.setItem(oh,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function pr(e){return Math.max(1,Math.min(4,e))}function $v(e,t){const n=pr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Qs(e,t){return{windows:$v(e,t),windowCount:pr(t)}}function Ds(e){return typeof e=="object"&&e!==null}function Bv(e){if(Ds(e)){if(Ds(e.workspaces)&&Ds(e.workspaces.terminal1)&&Ds(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??nl,s=(l,i)=>{const o=Ds(i)?i:{},a=pr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,p)=>{const g=c[p];return{id:`${l}-window-${p}`,boundSessions:(g==null?void 0:g.boundSessions)??[],activeSession:(g==null?void 0:g.activeSession)??null,colorIndex:typeof(g==null?void 0:g.colorIndex)=="number"?g.colorIndex:p}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??nl,s=pr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Qs("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Qs("terminal1",2),terminal2:Qs("terminal2",2)},sidebarCollapsed:!1,settings:nl}}const ch=d.createContext(null);function Wv({children:e}){const t=d.useMemo(()=>Av(),[]),{addToast:n}=kr(),[s,l]=d.useState([]),[i,o]=d.useState({}),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,g]=d.useState((t==null?void 0:t.workspaces)??{terminal1:Qs("terminal1",2),terminal2:Qs("terminal2",2)}),[x,j]=d.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,P]=d.useState(null),[m,f]=d.useState(!1),[v,y]=d.useState((t==null?void 0:t.settings)??nl),[S,k]=d.useState(null),[N,b]=d.useState(()=>Lv()),C=d.useMemo(()=>{const I=new Map;return Ps.forEach(O=>{p[O].windows.forEach((H,Q)=>{H.boundSessions.forEach(oe=>{I.set(oe,{workspaceId:O,windowId:H.id,colorIndex:H.colorIndex,windowIndex:Q+1})})})}),I},[p]);d.useEffect(()=>{g(I=>{let O=!1;const z={...I};return Ps.forEach(H=>{const Q=I[H];Q.windows.some(T=>T.activeSession==="INIT-PENDING")&&(O=!0,z[H]={...Q,windows:Q.windows.map(T=>T.activeSession==="INIT-PENDING"?{...T,activeSession:null}:T)})}),O?z:I})},[]),d.useEffect(()=>{const I={...p};Ps.forEach(O=>{const z=p[O];I[O]={...z,windows:z.windows.map(H=>H.activeSession==="INIT-PENDING"?{...H,activeSession:null}:H)}}),Fv({workspaces:I,sidebarCollapsed:x,settings:v})},[p,x,v]),d.useEffect(()=>{_v(N)},[N]);const D=d.useCallback(async()=>{try{const O=await(await fetch("/api/tmux/sessions")).json();O.error?(h(O.error),l([]),o({})):(h(null),l(O.sessions),o(O.grouped))}catch(I){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",I)}finally{c(!1)}},[]);d.useEffect(()=>{D();const I=setInterval(D,v.autoRefreshInterval);return()=>clearInterval(I)},[D,v.autoRefreshInterval]),d.useEffect(()=>{const I={...lh,...v.tmuxAppearance};fu(I)},[]);const E=d.useCallback((I,O)=>{const z=pr(O);g(H=>{const Q=H[I];if(!Q)return H;const oe=(()=>{if(z>Q.windows.length){const T=[...Q.windows];for(let W=Q.windows.length;W<z;W++)T.push({id:`${I}-window-${W}`,boundSessions:[],activeSession:null,colorIndex:W});return T}return z<Q.windows.length?Q.windows.slice(0,z):Q.windows})();return{...H,[I]:{...Q,windowCount:z,windows:oe}}})},[]),V=d.useCallback((I,O,z)=>{g(H=>{const Q={...H};let oe=!1,T=!1;if(Ps.forEach(se=>{const yt=H[se],ms=yt.windows.map(we=>{const hn=se===I&&we.id===O,Ft=we.boundSessions.includes(z);if(!hn&&!Ft)return we;if(!hn&&Ft){const gs=we.boundSessions.filter(br=>br!==z);return{...we,boundSessions:gs,activeSession:we.activeSession===z?gs[0]??null:we.activeSession}}return T=!0,oe=we.boundSessions.length===0||we.boundSessions.length===1&&Ft,we});Q[se]={...yt,windows:ms}}),!T)return H;const W=Q[I],J=W.windows.map(se=>se.id!==O||se.boundSessions.includes(z)?se:{...se,boundSessions:[...se.boundSessions,z],activeSession:oe?z:se.activeSession});return{...Q,[I]:{...W,windows:J}}})},[]),K=d.useCallback((I,O,z)=>{g(H=>{const Q=H[I];if(!Q)return H;const oe=Q.windows.map(T=>{if(T.id!==O||!T.boundSessions.includes(z))return T;const W=T.boundSessions.filter(J=>J!==z);return{...T,boundSessions:W,activeSession:T.activeSession===z?W[0]??null:T.activeSession}});return{...H,[I]:{...Q,windows:oe}}})},[]),L=d.useCallback((I,O,z)=>{g(H=>{const Q=H[I];if(!Q)return H;const oe=Q.windows.map(T=>T.id!==O||!T.boundSessions.includes(z)?T:{...T,activeSession:z});return{...H,[I]:{...Q,windows:oe}}})},[]),B=d.useCallback((I,O,z)=>{g(H=>{const Q=H[I];if(!Q)return H;const oe=Q.windows.map(T=>{if(T.id!==O||T.boundSessions.length<=1)return T;const W=T.activeSession?T.boundSessions.indexOf(T.activeSession):0,J=z==="next"?(W+1)%T.boundSessions.length:(W-1+T.boundSessions.length)%T.boundSessions.length;return{...T,activeSession:T.boundSessions[J]}});return{...H,[I]:{...Q,windows:oe}}})},[]),X=d.useCallback(()=>{j(I=>!I)},[]),Y=d.useCallback(I=>{P(I)},[]),_=d.useCallback(()=>{P(null)},[]),A=d.useCallback(I=>{const O=C.get(I);O?L(O.workspaceId,O.windowId,I):Y(I)},[C,L,Y]),U=d.useCallback(I=>{y(O=>{const z={...O,...I};return I.tmuxAppearance&&fu(z.tmuxAppearance),z})},[]),ee=d.useCallback(async I=>{try{const O=await fetch(`/api/tmux/sessions/${encodeURIComponent(I)}`,{method:"DELETE"});if(O.ok)n(`Session '${I}' deleted`,"info"),D();else{const z=await O.text();console.error("Failed to delete session:",z),n("Failed to delete session","error")}}catch(O){console.error("Failed to delete session:",O),n("Failed to delete session","error")}},[D,n]),q=d.useCallback(async(I,O)=>{try{const z=await fetch(`/api/tmux/sessions/${encodeURIComponent(I)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:O})});if(z.ok)return g(H=>{const Q={...H};return Ps.forEach(oe=>{const T=H[oe];Q[oe]={...T,windows:T.windows.map(W=>({...W,boundSessions:W.boundSessions.map(J=>J===I?O:J),activeSession:W.activeSession===I?O:W.activeSession}))}}),Q}),n(`Session renamed to '${O}'`,"success"),D(),!0;{const H=await z.text();return console.error("Failed to rename session:",H),n("Failed to rename session","error"),!1}}catch(z){return console.error("Failed to rename session:",z),n("Failed to rename session","error"),!1}},[D,n]),ye=d.useCallback(I=>{if(N.length>=cu)return n(`Maximum ${cu} presets reached`,"warning"),!1;const O={id:zv(),name:I,createdAt:Date.now(),workspaces:hu(p)};return b(z=>[...z,O]),n(`Layout '${I}' saved`,"success"),!0},[N.length,p,n]),G=d.useCallback(I=>{const O=N.find(z=>z.id===I);if(!O){n("Preset not found","error");return}g(hu(O.workspaces)),n(`Layout '${O.name}' loaded`,"info")},[N,n]),ue=d.useCallback(I=>{const O=N.find(z=>z.id===I);O&&(b(z=>z.filter(H=>H.id!==I)),n(`Preset '${O.name}' deleted`,"info"))},[N,n]),R=d.useCallback((I,O)=>{b(z=>z.map(H=>H.id===I?{...H,name:O}:H))},[]),F=d.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:u,workspaces:p,sidebarCollapsed:x,floatingSession:w,assignedSessions:C,isDragging:m,settings:v,focusedWindowKey:S,layoutPresets:N,setWindowCount:E,addSessionToWindow:V,removeSessionFromWindow:K,setActiveSession:L,cycleSession:B,toggleSidebar:X,openFloatingModal:Y,closeFloatingModal:_,handleSessionClick:A,refreshSessions:D,deleteSession:ee,renameSession:q,setIsDragging:f,updateSettings:U,setFocusedWindowKey:k,saveCurrentLayout:ye,loadPreset:G,deletePreset:ue,renamePreset:R}),[s,i,a,u,p,x,w,C,m,v,S,N,E,V,K,L,B,X,Y,_,A,D,ee,q,f,U,k,ye,G,ue,R]);return r.jsx(ch.Provider,{value:F,children:e})}function ct(){const e=d.useContext(ch);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const pn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function pu(){const e=d.useRef(null),{settings:t,updateSettings:n}=ct(),[s,l]=d.useState(0),[i,o]=d.useState(!1);d.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),d.useEffect(()=>{const h=e.current;h&&(h.src=pn[s].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[s,t.musicEnabled]);const a=()=>l(h=>(h+1)%pn.length),c=()=>l(h=>(h-1+pn.length)%pn.length),u=h=>{l(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[pn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",pn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:pn.map((h,p)=>r.jsxs("button",{className:`music-dropdown-item ${p===s?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===s&&t.musicEnabled&&""]},p))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function uh(e){const[t,n]=d.useState(!1);return d.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const l=()=>n(s.matches);return s.addEventListener("change",l),()=>s.removeEventListener("change",l)},[t,e]),t}function Uv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){var x;const[l,i]=d.useState(!1),[o,a]=d.useState(!1),c=d.useRef(null),u=uh("(max-width: 768px)");d.useEffect(()=>{const j=w=>{c.current&&!c.current.contains(w.target)&&i(!1);const P=w.target;o&&!P.closest(".tab-bar")&&a(!1)};if(l||o)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[l,o]);const h=[{id:"chat",label:" Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads_viewer",label:"Beads"},{id:"settings",label:"Settings"}],p=j=>{j.external?window.open(j.url,"_blank","noopener,noreferrer"):(t(j.id),a(!1))},g=((x=h.find(j=>j.id===e))==null?void 0:x.label)||"Menu";return r.jsx("div",{className:`tab-bar ${u?"mobile-mode":""}`,children:u?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"tab-bar-mobile-start",children:[r.jsx("button",{className:`tab hamburger-btn ${o?"active":""}`,onClick:()=>a(!o),children:""}),r.jsx("span",{className:"mobile-active-tab",children:g})]}),o&&r.jsxs("div",{className:"mobile-nav-dropdown",children:[h.map(j=>r.jsx("button",{className:`mobile-nav-item ${!j.external&&e===j.id?"active":""}`,onClick:()=>p(j),children:j.label},j.id)),r.jsx("div",{className:"mobile-nav-divider"}),s&&r.jsx("button",{className:"mobile-nav-item",onClick:()=>{s(),a(!1)},children:" Layouts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{n&&n(),a(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("help"),a(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"mobile-nav-item",onClick:()=>{t("manual"),a(!1)},children:"Gastown Operators Manual"})]}),r.jsx("div",{className:"tab-bar-actions",children:r.jsx(pu,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"tab-bar-tabs",children:h.map(j=>r.jsx("button",{className:`tab ${!j.external&&e===j.id?"active":""} ${j.external?"external":""}`,onClick:()=>p(j),title:j.external?`Open ${j.label.replace(" ","")} in new tab`:void 0,children:j.label},j.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),r.jsxs("div",{className:"help-menu-container",ref:c,children:[r.jsx("button",{className:`tab ${l?"active":""}`,onClick:()=>i(!l),title:"Help & Documentation",children:"?"}),l&&r.jsxs("div",{className:"help-dropdown",children:[n&&r.jsx("button",{className:"help-dropdown-item",onClick:()=>{n(),i(!1)},children:"Keyboard Shortcuts"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("help"),i(!1)},children:"Dashboard Help"}),r.jsx("button",{className:"help-dropdown-item",onClick:()=>{t("manual"),i(!1)},children:"Gastown Operators Manual"})]})]}),r.jsx(pu,{})]})]})})}const Vv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Hv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Kv(e){const t=Hv(e);return t?{role:t,...Vv[t]}:null}function Qv({sessionName:e,compact:t=!1}){const n=Kv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Gv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[h,p]=d.useState({show:!1,x:0,y:0}),[g,x]=d.useState(!1),[j,w]=d.useState(""),[P,m]=d.useState(!1),f=d.useRef(null),v=c?Qn[c.colorIndex%Qn.length].border:void 0,y=c?{backgroundColor:v,color:"#000",borderColor:v}:void 0,S=c?{color:v}:void 0,{attributes:k,listeners:N,setNodeRef:b,transform:C,isDragging:D}=rh({id:e.name,data:{type:"session",session:e}}),E=C?{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,zIndex:D?1e3:void 0}:void 0,V=d.useRef(null),K=d.useCallback(G=>{G.persist(),V.current=setTimeout(()=>{if(V.current){const ue=G.touches[0];p({show:!0,x:ue.clientX,y:ue.clientY}),m(!1)}},500)},[]),L=d.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),B=d.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),X=d.useCallback(G=>{G.preventDefault(),G.stopPropagation(),p({show:!0,x:G.clientX,y:G.clientY}),m(!1)},[]),Y=d.useCallback(()=>{p({show:!1,x:0,y:0}),m(!1)},[]),_=d.useCallback(async()=>{Y(),await s(e.name)},[s,e.name,Y]),A=d.useCallback(()=>{w(e.name),x(!0),Y()},[e.name,Y]),U=d.useCallback(async()=>{j&&j!==e.name&&await l(e.name,j),x(!1)},[j,e.name,l]),ee=d.useCallback(G=>{G.key==="Enter"?U():G.key==="Escape"&&x(!1)},[U]),q=d.useCallback(G=>{const ue=G.startsWith("terminal2-")?"terminal2":"terminal1";o(ue,G,e.name),Y()},[o,e.name,Y]),ye=d.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),Y()},[c,a,e.name,Y]);return d.useEffect(()=>{g&&f.current&&(f.current.focus(),f.current.select())},[g]),d.useEffect(()=>{if(!h.show)return;const G=()=>Y();return document.addEventListener("click",G),()=>document.removeEventListener("click",G)},[h.show,Y]),g?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:f,type:"text",className:"session-rename-input",value:j,onChange:G=>w(G.target.value),onKeyDown:ee,onBlur:U})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:b,className:`session-item ${u?"assigned":""} ${D?"dragging":""}`,style:E,...N,...k,onClick:()=>n(e.name),onContextMenu:X,onTouchStart:K,onTouchEnd:L,onTouchMove:B,children:[c&&r.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(Qv,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:S,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&r.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:G=>G.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:A,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),P&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(G=>{const ue=i[G];return ue.windows.slice(0,ue.windowCount).map((R,F)=>{const I=Qn[R.colorIndex%Qn.length],O=(c==null?void 0:c.windowId)===R.id,z=G==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${O?"active":""}`,onClick:()=>q(R.id),style:{borderLeft:`3px solid ${I.border}`},children:[z,"Window ",F+1,O&&r.jsx("span",{className:"session-context-check",children:""})]},R.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:ye,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:_,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Yv({groupKey:e,sessions:t}){const[n,s]=d.useState(!0),l=Mv(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Gv,{session:i},i.name))})]})}const mu=["chrote-chat"];function Xv({onConfirm:e,onCancel:t,sessionCount:n,sessionNames:s=[]}){const[l,i]=d.useState(""),o=l==="NUKE",a=s.filter(h=>mu.includes(h)).length,c=n-a,u=h=>{h.preventDefault(),o&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:c})," tmux session",c!==1?"s":"","."]}),a>0&&r.jsxs("p",{className:"nuke-protected",children:[r.jsx("strong",{children:a})," protected session",a!==1?"s":""," will be preserved: ",mu.filter(h=>s.includes(h)).join(", ")]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:u,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:l,onChange:h=>i(h.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!o,children:"Destroy All"})]})]})]})]})})}function Jv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=kr(),[u,h]=d.useState(!1),[p,g]=d.useState(""),[x,j]=d.useState(!1),[w,P]=d.useState(!1),m=d.useMemo(()=>{const y=Object.entries(e);return(p?y.map(([k,N])=>[k,N.filter(b=>b.name.toLowerCase().includes(p.toLowerCase()))]).filter(([k,N])=>N.length>0):y).sort(([k],[N])=>{const b=uu(k),C=uu(N);return b!==C?b-C:k.localeCompare(N)})},[e,p]),f=async()=>{h(!0);try{const y=a.defaultSessionPrefix||"tmux",S=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=new RegExp(`^${S}(\\d+)$`),N=o.map(E=>E.name.match(k)).filter(Boolean).map(E=>parseInt(E[1],10)),b=N.length>0?Math.max(...N)+1:1,C=`${y}${b}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})})).ok?(c(`Session '${C}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{h(!1)}},v=async()=>{P(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{P(!1),j(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:f,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:y=>g(y.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&m.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),m.map(([y,S])=>r.jsx(Yv,{groupKey:y,sessions:S},y))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>j(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&r.jsx(Xv,{sessionCount:o.length,sessionNames:o.map(y=>y.name),onConfirm:v,onCancel:()=>j(!1)})]})}function Zv({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=d.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=kr(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function qv({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=yv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function ey({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=rh({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,g=e.includes("-")?e.split("-").slice(-1)[0]:e,x=j=>{h||j.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:x,...a,...o,children:[r.jsx("span",{className:"tag-name",children:g}),r.jsx("button",{className:"tag-remove",onClick:j=>{j.stopPropagation(),l()},children:""})]})}function ty({workspaceId:e,window:t,isDragging:n=!1,style:s}){const[l,i]=d.useState(new Set),o=d.useRef(new Map),a=d.useRef(null),c=d.useRef(null),{removeSessionFromWindow:u,setActiveSession:h,cycleSession:p,settings:g,focusedWindowKey:x,setFocusedWindowKey:j}=ct(),w=`${e}-${t.id}`,P=x===w,m=t.activeSession,f=m?l.has(m):!1,v=d.useCallback(()=>{if(m)try{const L=o.current.get(m);if(!(L!=null&&L.contentWindow))return;L.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[m]),y=d.useCallback((L,B)=>{if(!(L!=null&&L.contentWindow))return;let X=0;const Y=20,_=()=>{try{const A=L.contentWindow;if(A.term){A.term.options.fontSize=B;return}}catch{}X++,X<Y&&setTimeout(_,50)};_()},[]),S=d.useCallback(L=>{i(X=>new Set(X).add(L));const B=o.current.get(L);B&&(y(B,g.fontSize),setTimeout(()=>{L===t.activeSession&&v()},100),setTimeout(()=>{L===t.activeSession&&v()},300))},[y,g.fontSize,v,t.activeSession]);d.useEffect(()=>{l.forEach(L=>{const B=o.current.get(L);B&&y(B,g.fontSize)})},[g.fontSize,l,y]),d.useEffect(()=>{m&&l.has(m)&&setTimeout(v,50)},[m,l,v]),d.useEffect(()=>{const L=new Set(t.boundSessions);o.current.forEach((B,X)=>{L.has(X)||o.current.delete(X)}),i(B=>{const X=new Set;return B.forEach(Y=>{L.has(Y)&&X.add(Y)}),X})},[t.boundSessions]);const k=d.useCallback(()=>{j(w)},[w,j]),N=d.useRef(P),b=d.useRef(t.boundSessions);d.useEffect(()=>{N.current=P,b.current=t.boundSessions},[P,t.boundSessions]),d.useEffect(()=>{const L=B=>{N.current&&B.ctrlKey&&(b.current.length<=1||(B.key==="ArrowRight"?(B.preventDefault(),p(e,t.id,"next")):B.key==="ArrowLeft"&&(B.preventDefault(),p(e,t.id,"prev"))))};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[e,t.id,p]),d.useEffect(()=>{const L=a.current;if(!L)return;let B;const X=new ResizeObserver(()=>{clearTimeout(B),B=setTimeout(v,100)});return X.observe(L),()=>{clearTimeout(B),X.disconnect()}},[v]);const C=Qn[t.colorIndex%Qn.length],D=L=>{u(e,t.id,L)},E=L=>{h(e,t.id,L)},V=t.boundSessions.length>0,K=L=>`/terminal/?arg=${encodeURIComponent(L)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:c,className:`terminal-window ${P?"focused":""}`,tabIndex:-1,onClick:k,style:{"--window-accent":C.accent,"--window-bg":C.bg,"--window-border":C.border,...s},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(L=>r.jsx(ey,{sessionName:L,isActive:L===m,workspaceId:e,windowId:t.id,onRemove:()=>D(L),onClick:()=>E(L)},L))}),r.jsxs("div",{className:"window-controls",children:[V&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>p(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${f?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:a,className:"terminal-window-body",children:[m==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:C.accent},children:r.jsx("span",{children:"Initializing Session..."})}):V?t.boundSessions.map(L=>{const B=L===m;return r.jsx("iframe",{ref:X=>{X&&o.current.set(L,X)},src:K(L),onLoad:()=>S(L),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:B?"block":"none",position:B?"relative":"absolute"},title:`Terminal ${t.id} - ${L}`},L)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(Zv,{workspaceId:e,windowId:t.id,accentColor:C.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(qv,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ny({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=ct(),l=t[e],i=l.windows,o=l.windowCount,a=uh("(max-width: 768px)"),[c,u]=d.useState(0);d.useEffect(()=>{c>=o&&u(0)},[o,c]);const h=()=>{if(a)return"grid-1";switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsx("div",{className:"terminal-area-controls",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"View:"}),r.jsxs("div",{className:"mobile-controls-row",style:{display:"flex",gap:"4px",alignItems:"center",flex:1,overflowX:"auto"},children:[Array.from({length:o}).map((p,g)=>r.jsx("button",{className:`layout-btn ${c===g?"active":""}`,onClick:()=>u(g),children:g+1},`view-${g}`)),r.jsx("div",{style:{width:"1px",height:"16px",background:"var(--divider)",margin:"0 8px"}}),r.jsx("span",{className:"layout-label",children:"Count:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),style:{opacity:o===p?1:.7},children:p},`count-${p}`))]})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(p=>r.jsx("button",{className:`layout-btn ${o===p?"active":""}`,onClick:()=>n(e,p),title:`${p} window${p>1?"s":""}`,children:p},p))]})}),r.jsx("div",{className:`terminal-grid ${h()}`,"data-workspace":e,children:i.slice(0,o).map((p,g)=>{const x=!a||g===c;return r.jsx(ty,{workspaceId:e,window:p,isDragging:s,style:{display:x?"flex":"none"}},p.id)})})]})}class le extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function La(e){return`/${e}`}const fn="/api/files";function dh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new le('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new le("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new le("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new le('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function ps(e,t){if(!e.ok)switch(e.status){case 403:throw new le("Permission denied","PERMISSION",403);case 404:throw new le("File not found","NOT_FOUND",404);case 409:throw new le("Already exists","CONFLICT",409);case 413:throw new le("File too large","STORAGE",413);case 507:throw new le("Insufficient storage","STORAGE",507);default:throw new le(`${t}: ${e.status}`,"SERVER",e.status)}}function Gn(e,t){if(e instanceof le)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function fh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${fn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new le(l instanceof Error?l.message:"Network error","NETWORK")}ps(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new le("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new le("Invalid directory response","INVALID");if(s.isDir===!1)throw new le("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new le("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function hh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${fn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new le(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new le("Folder already exists","CONFLICT",409);ps(s,"Failed to create folder")}async function sy(e,t){let n;try{n=await fetch(`${fn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new le(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new le("Destination already exists","CONFLICT",409);ps(n,"Failed to rename")}async function ry(e){let t;try{t=await fetch(`${fn}/resources${e}`,{method:"DELETE"})}catch(n){throw new le(n instanceof Error?n.message:"Network error","NETWORK")}ps(t,"Failed to delete")}async function Ro(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=dh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${fn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new le(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new le("File too large","STORAGE",413);if(o.status===507)throw new le("Insufficient storage","STORAGE",507);ps(o,`Failed to upload ${l}`)}}async function ly(e){try{return(await fetch(`${fn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function _a(e){return`${fn}/raw${e}?inline=false`}async function iy(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(u=>u.length>0).map(u=>dh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${fn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new le(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new le("File too large","STORAGE",413);if(c.status===507)throw new le("Insufficient storage","STORAGE",507);ps(c,`Failed to upload ${o}`)}}function oy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?La(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function Io(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function ay(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function ph(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function cy({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:ph(e)})}function Mi({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function uy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:g}){const x=d.useRef(null);d.useEffect(()=>{if(o&&x.current){x.current.focus();const f=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,f)}},[o,e.name]);const j=()=>{g||(e.isDir?s():window.open(_a(e.path),"_blank"))},w=f=>{g||(f.key==="Enter"&&!o?j():f.key==="F2"&&!o&&i())},P=f=>{f.key==="Enter"?u():f.key==="Escape"&&h()},m=p?La(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${g?"disabled":""}`,onClick:g?void 0:n,onDoubleClick:j,onContextMenu:g?void 0:l,onKeyDown:w,tabIndex:g?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(cy,{item:e}),o?r.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:f=>c(f.target.value),onKeyDown:P,onBlur:h}):r.jsx("span",{className:"fb-filename",children:m})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Io(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:ay(e.modified)})]})}function dy({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open(_a(e.path),"_blank"))},c=i?La(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:ph(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function fy({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=d.useRef(null);d.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&s()},g=x=>{x.key==="Escape"&&s()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",g)}},[s]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function hy({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=d.useState(""),o=d.useRef(null);d.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function py({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function my({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=d.useState(!1),[i,o]=d.useState(!1),[a,c]=d.useState(null),u=d.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},p=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},g=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const P=w.dataTransfer.files;P.length>0&&await x(P)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Ro(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(P){const m=Gn(P,"upload");c(null),n(m)}finally{o(!1)}},j=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:g,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:j,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function mh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((p,g)=>{u.file(p,g)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await mh(a,c);n.push(...u)}}return n}async function gy(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await mh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function vy({onError:e}){const[t,n]=d.useState([]),[s,l]=d.useState(""),[i,o]=d.useState(!1),[a,c]=d.useState(!1),[u,h]=d.useState("idle"),p=d.useRef(null),g=d.useRef(null),x="/code/incoming",j=C=>{C.preventDefault(),C.stopPropagation(),o(!0)},w=C=>{C.preventDefault(),C.stopPropagation(),o(!1)},P=async C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),C.dataTransfer.items&&C.dataTransfer.items.length>0){const D=await gy(C.dataTransfer.items);D.length>0&&(n(E=>[...E,...D]),h("idle"))}else if(C.dataTransfer.files.length>0){const D=Array.from(C.dataTransfer.files).map(E=>({type:"file",name:E.name,size:E.size,file:E}));n(E=>[...E,...D]),h("idle")}},m=C=>{if(C.target.files&&C.target.files.length>0){const D=Array.from(C.target.files).map(E=>({type:"file",name:E.name,size:E.size,file:E}));n(E=>[...E,...D]),h("idle")}},f=C=>{if(C.target.files&&C.target.files.length>0){const D=Array.from(C.target.files),E=new Map;for(const K of D){const L=K.webkitRelativePath||K.name,B=L.split("/")[0];E.has(B)||E.set(B,[]),E.get(B).push({file:K,relativePath:L})}const V=Array.from(E.entries()).map(([K,L])=>({type:"folder",name:K,size:L.reduce((B,X)=>B+X.file.size,0),filesWithPaths:L}));n(K=>[...K,...V]),h("idle")}},v=C=>{n(D=>D.filter((E,V)=>V!==C))},y=async()=>{if(t.length!==0){c(!0);try{await ly(x)||await hh("/code","incoming");for(const D of t)D.type==="file"&&D.file?await Ro(x,[D.file]):D.type==="folder"&&D.filesWithPaths&&await iy(x,D.filesWithPaths);if(s.trim()&&t.length>0){const D=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await Ro(x,[D])}h("success"),n([]),l(""),p.current&&(p.current.value=""),g.current&&(g.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(C){h("error");const D=Gn(C,"upload");e(`Failed to send: ${D}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},S=t.reduce((C,D)=>C+D.size,0),k=t.reduce((C,D)=>{var E;return D.type==="file"?C+1:C+(((E=D.filesWithPaths)==null?void 0:E.length)||0)},0),N=t.filter(C=>C.type==="folder").length,b=t.filter(C=>C.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:j,onDragLeave:w,onDrop:P,children:[r.jsx("input",{ref:p,type:"file",multiple:!0,onChange:m,style:{display:"none"}}),r.jsx("input",{ref:g,type:"file",webkitdirectory:"",onChange:f,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((C,D)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:C.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[C.name,C.type==="folder"&&C.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",C.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:Io(C.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:E=>{E.stopPropagation(),v(D)},children:""})]},`${C.name}-${D}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:C=>{var D;C.stopPropagation(),(D=p.current)==null||D.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:C=>{var D;C.stopPropagation(),(D=g.current)==null||D.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var D;C.stopPropagation(),(D=p.current)==null||D.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var D;C.stopPropagation(),(D=g.current)==null||D.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:C=>l(C.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[N>0&&`${N} folder${N>1?"s":""}`,N>0&&b>0&&", ",b>0&&`${b} file${b>1?"s":""}`," ","(",k," total)  ",Io(S)]}),r.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function yy(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function xy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return d.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function wy(){const[e,t]=d.useState("browser"),[n,s]=d.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=d.useState({type:null,loading:!1,error:null}),[o,a]=d.useState(null),[c,u]=d.useState(null),[h,p]=d.useState(null),[g,x]=d.useState(""),[j,w]=d.useState(!1),[P,m]=d.useState(null),[f,v]=d.useState(["/"]),[y,S]=d.useState(0),k=d.useCallback(R=>{a(R)},[]),N=d.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),b=d.useCallback(async R=>{s(F=>({...F,loading:!0,error:null}));try{const F=await fh(R);s(I=>({...I,items:F,loading:!1,currentPath:R,selectedItems:new Set,error:null}))}catch(F){const I=Gn(F,"fetch");s(O=>({...O,loading:!1,error:I,items:[]}))}},[]);d.useEffect(()=>{b("/")},[b]);const C=d.useCallback((R,F=!0)=>{if(F){const I=[...f.slice(0,y+1),R];v(I),S(I.length-1)}b(R)},[b,f,y]),D=d.useCallback(()=>{if(y>0){const R=y-1;S(R),b(f[R])}},[y,f,b]),E=d.useCallback(()=>{if(y<f.length-1){const R=y+1;S(R),b(f[R])}},[y,f,b]),V=d.useCallback(()=>{const R=n.currentPath.split("/").filter(Boolean);R.length>0&&(R.pop(),C("/"+R.join("/")))},[n.currentPath,C]),K=d.useMemo(()=>{const R=[...n.items],F=n.searchQuery?R.filter(I=>I.name.toLowerCase().includes(n.searchQuery.toLowerCase())):R;return F.sort((I,O)=>{if(I.isDir!==O.isDir)return I.isDir?-1:1;let z=0;switch(n.sortBy){case"name":z=I.name.localeCompare(O.name);break;case"size":z=I.size-O.size;break;case"modified":z=new Date(I.modified).getTime()-new Date(O.modified).getTime();break}return n.sortDir==="asc"?z:-z}),F},[n.items,n.sortBy,n.sortDir,n.searchQuery]),L=R=>{s(F=>({...F,sortBy:R,sortDir:F.sortBy===R&&F.sortDir==="asc"?"desc":"asc"}))},B=(R,F)=>{if(F.preventDefault(),F.ctrlKey||F.metaKey)s(I=>{const O=new Set(I.selectedItems);return O.has(R.name)?O.delete(R.name):O.add(R.name),{...I,selectedItems:O}});else if(F.shiftKey&&n.selectedItems.size>0){const I=Array.from(n.selectedItems).pop(),O=K.findIndex(T=>T.name===I),z=K.findIndex(T=>T.name===R.name),H=Math.min(O,z),Q=Math.max(O,z),oe=new Set(K.slice(H,Q+1).map(T=>T.name));s(T=>({...T,selectedItems:oe}))}else s(I=>({...I,selectedItems:new Set([R.name])}))},X=(R,F)=>{F.preventDefault(),u({x:F.clientX,y:F.clientY,item:R}),R&&!n.selectedItems.has(R.name)&&s(I=>({...I,selectedItems:new Set([R.name])}))},Y=R=>{p(R.name),x(R.name),u(null)},_=async()=>{if(!h||!g.trim()||g===h){A();return}const R=n.items.find(I=>I.name===h);if(!R)return;const F=n.currentPath==="/"?`/${g}`:`${n.currentPath}/${g}`;i({type:"rename",loading:!0,error:null,target:R.name});try{await sy(R.path,F),await b(n.currentPath),N()}catch(I){const O=Gn(I,"rename");i({type:"rename",loading:!1,error:O,target:R.name}),k(O)}finally{A()}},A=()=>{p(null),x("")},U=async()=>{if(P){i({type:"delete",loading:!0,error:null,target:P.name});try{await ry(P.path),await b(n.currentPath),N(),m(null)}catch(R){const F=Gn(R,"delete");i({type:"delete",loading:!1,error:F,target:P.name}),k(F)}}},ee=async R=>{i({type:"create",loading:!0,error:null,target:R});try{await hh(n.currentPath,R),await b(n.currentPath),N(),w(!1)}catch(F){const I=Gn(F,"create");i({type:"create",loading:!1,error:I,target:R})}},q=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(_a(c.item.path),"_blank"),u(null)},ye=()=>{if(c!=null&&c.item){const R=c.item.path;navigator.clipboard.writeText(R)}u(null)};d.useEffect(()=>{const R=F=>{if(e==="browser"&&!(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"))if(F.key==="F5")F.preventDefault(),b(n.currentPath);else if(F.key==="Backspace")F.preventDefault(),V();else if(F.key==="Delete"){const I=n.items.find(O=>n.selectedItems.has(O.name));I&&m(I)}else if(F.key==="F2"){const I=n.items.find(O=>n.selectedItems.has(O.name));I&&Y(I)}else F.ctrlKey&&F.key==="a"&&(F.preventDefault(),s(I=>({...I,selectedItems:new Set(I.items.map(O=>O.name))})))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,n.currentPath,n.items,n.selectedItems,b,V]);const G=n.currentPath==="/"||n.currentPath==="",ue=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(xy,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(my,{currentPath:n.currentPath,onUploadComplete:()=>b(n.currentPath),onError:k}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:ue,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>b(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(vy,{onError:k}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:D,disabled:y===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:E,disabled:y>=f.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:V,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(oy,{path:n.currentPath,onNavigate:C}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:R=>s(F=>({...F,searchQuery:R.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(R=>({...R,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(R=>({...R,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:R=>{R.target.closest(".fb-row, .fb-grid-item")||X(null,R)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>b(n.currentPath),children:"Retry"})]}):K.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(Mi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-name"}),r.jsx(Mi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-size"}),r.jsx(Mi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:L,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:K.map(R=>r.jsx(uy,{item:R,isSelected:n.selectedItems.has(R.name),onSelect:F=>B(R,F),onNavigate:()=>C(R.path),onContextMenu:F=>X(R,F),onRename:()=>Y(R),isRenaming:h===R.name,renameValue:g,setRenameValue:x,onRenameSubmit:_,onRenameCancel:A,isAtRoot:G,disabled:ue},R.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:K.map(R=>r.jsx(dy,{item:R,isSelected:n.selectedItems.has(R.name),onSelect:F=>B(R,F),onNavigate:()=>C(R.path),onContextMenu:F=>X(R,F),isAtRoot:G,disabled:ue},R.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[K.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),ue&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(yy,{})}),c&&r.jsx(fy,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:q,onRename:()=>c.item&&Y(c.item),onDelete:()=>c.item&&m(c.item),onCopyPath:ye,onNewFolder:()=>{u(null),w(!0)}}),j&&r.jsx(hy,{onClose:()=>{w(!1),N()},onCreate:ee,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),P&&r.jsx(py,{item:P,onClose:()=>{m(null),N()},onConfirm:U,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function jy({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=d.useState(n),[i,o]=d.useState([]),[a,c]=d.useState(!0),[u,h]=d.useState(null),[p,g]=d.useState(!1),x=d.useCallback(async y=>{try{const S=y==="/"?"/.beads":`${y}/.beads`,k=await fetch(`/api/files/resources${S}`);return k.ok?(await k.json()).isDir===!0:!1}catch{return!1}},[]),j=d.useCallback(async y=>{c(!0),h(null);try{const k=(await fh(y)).filter(C=>C.isDir),N=await x(y);g(N);const b=await Promise.all(k.map(async C=>({...C,hasBeads:await x(C.path)})));o(b)}catch(S){h(S instanceof Error?S.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);d.useEffect(()=>{j(s)},[s,j]);const w=y=>{l(y)},P=()=>{if(s==="/")return;const y=s.split("/").filter(Boolean);y.pop(),l(y.length===0?"/":"/"+y.join("/"))},m=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((y,S,k)=>({name:y,path:"/"+k.slice(0,S+1).join("/")}))],f=()=>{e(s)},v=y=>{y.target===y.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:v,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:P,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:m.map((y,S)=>r.jsxs("span",{children:[S>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),p&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>r.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:f,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function Mn({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Ny(){var g,x,j,w,P,m;const{settings:e,updateSettings:t}=ct(),[n,s]=d.useState(!1),l=f=>{const v=e.beadsProjectPaths||[];v.includes(f)||t({beadsProjectPaths:[...v,f]}),s(!1)},i=f=>{const v=e.beadsProjectPaths||[];t({beadsProjectPaths:v.filter(y=>y!==f)})},o=f=>{t({theme:f})},a=f=>{const v=parseInt(f.target.value,10);v>=12&&v<=20&&t({fontSize:v})},c=f=>{t({autoRefreshInterval:parseInt(f.target.value,10)})},u=f=>{t({defaultSessionPrefix:f.target.value})},h=(f,v)=>{t({tmuxAppearance:{...e.tmuxAppearance,[f]:v}})},p=f=>{const v=Iv[f];v&&t({tmuxAppearance:v})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option ${e.theme===f?"selected":""} theme-${f}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(f=>r.jsx("button",{className:`theme-option theme-${f}`,onClick:()=>p(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Mn,{label:"Background",value:((g=e.tmuxAppearance)==null?void 0:g.statusBg)??"#000000",onChange:f=>h("statusBg",f)}),r.jsx(Mn,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:f=>h("statusFg",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Mn,{label:"Active",value:((j=e.tmuxAppearance)==null?void 0:j.paneBorderActive)??"#00ff41",onChange:f=>h("paneBorderActive",f)}),r.jsx(Mn,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:f=>h("paneBorderInactive",f)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(Mn,{label:"Background",value:((P=e.tmuxAppearance)==null?void 0:P.modeStyleBg)??"#00ff41",onChange:f=>h("modeStyleBg",f)}),r.jsx(Mn,{label:"Foreground",value:((m=e.tmuxAppearance)==null?void 0:m.modeStyleFg)??"#000000",onChange:f=>h("modeStyleFg",f)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(f=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:f}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(f),title:"Remove project",children:""})]},f)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(jy,{onSelect:l,onClose:()=>s(!1)})]})}function Sy(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[s,l]=d.useState(!1),[i,o]=d.useState({x:80,y:60}),[a]=d.useState({width:1e3,height:700}),[c,u]=d.useState(!1),h=d.useRef({x:0,y:0}),p=d.useRef(null),g=d.useRef(null);d.useEffect(()=>{l(!1)},[e]);const x=d.useCallback(()=>{try{const f=p.current;if(!(f!=null&&f.contentWindow))return;f.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),j=d.useCallback(f=>{const v=p.current;if(!(v!=null&&v.contentWindow))return;let y=0;const S=20,k=()=>{try{const N=v.contentWindow;if(N.term){N.term.options.fontSize=f;return}}catch{}y++,y<S&&setTimeout(k,50)};k()},[]),w=d.useCallback(()=>{l(!0),j(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[j,n.fontSize,x]);d.useEffect(()=>{s&&j(n.fontSize)},[s,n.fontSize,j]),d.useEffect(()=>{const f=g.current;if(!f)return;let v;const y=new ResizeObserver(()=>{clearTimeout(v),v=setTimeout(x,100)});return y.observe(f),()=>{clearTimeout(v),y.disconnect()}},[x]);const P=f=>{f.target.closest(".modal-close")||(u(!0),h.current={x:f.clientX-i.x,y:f.clientY-i.y})};if(d.useEffect(()=>{if(!c)return;const f=y=>{o({x:y.clientX-h.current.x,y:y.clientY-h.current.y})},v=()=>{u(!1)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)}},[c]),!e)return null;const m=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:P,children:[r.jsx("span",{className:"modal-title",children:m}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:g,className:"floating-modal-body",children:r.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const ky=[{id:"shortcuts",label:"Shortcuts",icon:"01"},{id:"terminals",label:"Terminals",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"tmux",label:"tmux",icon:"05"}];function by(){const[e,t]=d.useState("shortcuts"),n=()=>{switch(e){case"shortcuts":return r.jsx(gu,{});case"terminals":return r.jsx(Cy,{});case"sessions":return r.jsx(Ey,{});case"files":return r.jsx(Ty,{});case"tmux":return r.jsx(Py,{});default:return r.jsx(gu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Dashboard Help"}),r.jsx("p",{className:"help-subtitle",children:"How to use this interface."})]}),r.jsx("nav",{className:"help-nav",children:ky.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function gu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Keyboard Shortcuts"}),r.jsxs("p",{className:"help-intro",children:["Press ",r.jsx("kbd",{children:"?"})," anywhere to see this overlay."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Navigation"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Tab"})}),r.jsx("span",{children:"Toggle between Terminal 1 and Terminal 2"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"1"})," ",r.jsx("kbd",{children:"2"})," ",r.jsx("kbd",{children:"3"})," ",r.jsx("kbd",{children:"4"})]}),r.jsx("span",{children:"Focus terminal pane by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Focus the session search box"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Esc"})}),r.jsx("span",{children:"Close modals and overlays"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Actions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"S"})]}),r.jsx("span",{children:"Toggle the sidebar"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Create a new session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"1-9"})]}),r.jsx("span",{children:"Load layout preset by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Show keyboard shortcuts overlay"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Quick Tips"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text to bypass tmux and copy natively"]}),r.jsxs("li",{children:["Collapse the sidebar with ",r.jsx("kbd",{children:"Ctrl+S"})," for maximum terminal space"]}),r.jsxs("li",{children:["Use ",r.jsx("kbd",{children:"Tab"})," to quickly flip between your two terminal workspaces"]})]})]})]})}function Cy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Panes"}),r.jsx("p",{className:"help-intro",children:"Each workspace has up to 4 panes in a responsive grid."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Two Workspaces"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Terminal 1"})," and ",r.jsx("strong",{children:"Terminal 2"})," are independent. Each has its own set of 4 panes with different sessions bound. Use ",r.jsx("kbd",{children:"Tab"})," to switch between them."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open terminal in a floating window."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Unbind sessions from this pane (doesn't kill them)."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle"}),r.jsx("p",{children:"When multiple sessions are bound, cycle through them."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each pane shows colored tags for bound sessions:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Click a tag"})," - Switch to that session"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag a tag"})," - Move to another pane"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Drag outside"})," - Unbind from pane"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Watch vs Control Mode"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Watch Mode (default)"}),r.jsx("p",{children:"See output, scroll freely. Keyboard input disabled."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Control Mode"}),r.jsx("p",{children:"Click the pane to enable input. Type directly into tmux."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Watch mode is default because agents don't like surprise keyboard input."})]})]})}function Ey(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Panel"}),r.jsx("p",{className:"help-intro",children:"The left sidebar lists all tmux sessions."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Click vs Drag"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Click = Peek"}),r.jsx("p",{children:"Opens a modal with read-only preview. Quick look without binding."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Drag = Bind"}),r.jsx("p",{children:"Drag onto a pane to bind the session there. It stays until you remove it."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Groups"}),r.jsx("p",{children:"Sessions auto-organize by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group (top priority)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt-*"})}),r.jsx("span",{children:"Gastown workers"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Search & Filter"}),r.jsxs("p",{children:["Press ",r.jsx("kbd",{children:"/"})," to focus the search box. Type to filter sessions by name. Clear the search to see all sessions again."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Context Menu"}),r.jsx("p",{children:"Right-click a session for options:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rename"})," - Change the session name"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Kill"})," - Terminate the session"]})]})]})]})}function Ty(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse files on the server. Read-only for /vault."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Available Paths"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"Project files (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"Reference files (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"All other paths are restricted for security."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Navigate"}),r.jsx("p",{children:"Click folders to enter, breadcrumbs to go back."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"View"}),r.jsx("p",{children:"Click files to preview with syntax highlighting."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files to your local machine."})]})]})]})]})]})}function Py(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Reference"}),r.jsxs("p",{className:"help-intro",children:["Useful when you're in control mode. Prefix is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Scrolling & Copy"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter scroll/copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"g"})," / ",r.jsx("kbd",{children:"G"})]}),r.jsx("span",{children:"Go to top / bottom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"/"})," / ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"Search forward / backward"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panes (within tmux)"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split vertical"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split horizontal"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename session"})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Pro Tip"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and use native browser copy. Works in watch mode too."]})]})]})}const gh="/api/beads";async function vh(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Dy(){const{settings:e}=ct(),[t,n]=d.useState([]),[s,l]=d.useState(!0),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;l(!0),o(null);try{const u=await vh(`${gh}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const g of p){if(h.some(j=>j.path===g))continue;const x=g.split("/").filter(Boolean).pop()||g;h.push({name:x,path:g,beadsPath:`${g}/.beads`})}n(h),!u.success&&p.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return d.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function Ry(e){const[t,n]=d.useState([]),[s,l]=d.useState(!1),[i,o]=d.useState(null),a=d.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await vh(`${gh}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return d.useEffect(()=>{a()},[a]),{issues:t,loading:s,error:i,refresh:a}}const Iy={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)",hooked:"var(--beads-status-hooked, var(--beads-status-progress))"},My={bug:"",feature:"",task:"",chore:"",epic:""};function vu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function yu(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function Oy(e){return e.replace(/_/g," ")}function xu({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=Iy[e.status]||"var(--text-secondary)",i=e.type&&My[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${yu(e.priority)}`,children:vu(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${yu(e.priority)}`,children:vu(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:Oy(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const wu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"hooked",label:"Hooked"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Ly({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of wu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[wu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(xu,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(xu,{issue:i,showDependencies:!0},i.id))})]})]})}const _y=`
## Beads Viewer (bv) - Quick Reference

**bv** is a high-performance Terminal UI for browsing and managing tasks in projects using the Beads issue tracking system.

### Navigation
| Key | Action |
|-----|--------|
| \`j/k\` | Move down/up |
| \`/\` | Fuzzy search |
| \`Enter\` | Select/expand |
| \`q\` | Quit |

### Views
| Key | View |
|-----|------|
| \`b\` | Kanban board |
| \`g\` | Dependency graph |
| \`i\` | Insights & metrics |
| \`h\` | History timeline |

### Filters
| Key | Filter |
|-----|--------|
| \`o\` | Open issues |
| \`c\` | Closed issues |
| \`r\` | Ready (unblocked) |

### Actions
| Key | Action |
|-----|--------|
| \`E\` | Export to Markdown |
| \`C\` | Copy issue as Markdown |
| \`O\` | Open in editor |
| \`t\` | Time-travel (pick revision) |
| \`T\` | Compare with HEAD~5 |

### Features
- **Live Reload**: Auto-refreshes when beads.jsonl changes
- **Split View**: List + details on wide screens
- **Markdown**: Beautiful rendering with syntax highlighting
- **AI-Ready**: Structured insights for coding agents
`;function zy(){const{projects:e,loading:t}=Dy(),[n,s]=d.useState(null),[l,i]=d.useState(!1),{issues:o,loading:a,error:c}=Ry(n);d.useEffect(()=>{!n&&e.length>0&&s(e[0].path)},[e,n]);const u=d.useCallback(async p=>{if(p){s(p);try{await fetch(`/api/bv-terminal/restart?path=${encodeURIComponent(p)}`,{method:"POST"})}catch(g){console.error("Failed to restart bv terminal:",g)}}},[]),h=d.useCallback(()=>{window.open("/bv-terminal/","_blank")},[]);return r.jsxs("div",{className:"bv-container",children:[r.jsx("div",{className:"bv-toolbar",children:r.jsxs("div",{className:"bv-toolbar-left",children:[r.jsx("label",{htmlFor:"bv-project-select",children:"Project:"}),r.jsx("select",{id:"bv-project-select",value:n||"",onChange:p=>u(p.target.value),disabled:t,children:t?r.jsx("option",{children:"Loading projects..."}):e.length===0?r.jsx("option",{children:"No projects with .beads found"}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(p=>r.jsx("option",{value:p.path,children:p.name},p.path))]})}),r.jsx("button",{className:"bv-btn bv-btn-primary",onClick:h,disabled:!n,title:"Open interactive beads_viewer in new tab",children:"Open Beads Viewer"}),r.jsx("button",{className:"bv-btn",onClick:()=>i(!0),title:"BV keyboard shortcuts and help",children:"BV Help"})]})}),l&&r.jsx("div",{className:"bv-help-overlay",onClick:()=>i(!1),children:r.jsxs("div",{className:"bv-help-modal",onClick:p=>p.stopPropagation(),children:[r.jsxs("div",{className:"bv-help-header",children:[r.jsx("h2",{children:"Beads Viewer Help"}),r.jsx("button",{className:"bv-help-close",onClick:()=>i(!1),children:""})]}),r.jsx("div",{className:"bv-help-content",children:r.jsx("pre",{children:_y})})]})}),r.jsx("div",{className:"bv-kanban-full",children:r.jsx(Ly,{issues:o,loading:a,error:c})})]})}const Ay=[{id:"overview",label:"Overview",icon:"00"},{id:"agents",label:"Agents",icon:"01"},{id:"molecules",label:"Molecules",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"philosophy",label:"Philosophy",icon:"04"},{id:"links",label:"Links",icon:"05"}];function Fy(){const[e,t]=d.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(ju,{});case"agents":return r.jsx($y,{});case"molecules":return r.jsx(By,{});case"beads":return r.jsx(Wy,{});case"philosophy":return r.jsx(Uy,{});case"links":return r.jsx(Vy,{});default:return r.jsx(ju,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You don't run commands. You tell agents what to do."})]}),r.jsx("nav",{className:"help-nav",children:Ay.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function ju(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Gas Town"}),r.jsx("p",{children:"A multi-agent orchestrator for Claude Code."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This?"}),r.jsx("p",{children:"Gas Town presents itself as a single-agent interface, but in the background it spawns and manages a series of specialized agents to get many threads of work done in parallel."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["It's more like a ",r.jsx("strong",{children:"coding agent factory"})," than a coding agent. You talk to the factory foremanthe Mayorand they coordinate as many workers as needed to get your tasks done."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Mad Max Theme"}),r.jsx("p",{children:'"Gas Town" is a reference to the oil refinery citadel in Mad Max. The theme continues throughout:'}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rigs"})," - Project workspaces"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Refinery"})," - Merge queue processor"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Parallel work swarms"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Guzzoline"})," - The fuel that powers the work"]})]}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:`The Deacon is named for a Dennis Hopper character from Waterworld, inspired by Lord Humungus from Mad Max. It's also short for "daemon beacon."`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Running with Just the Mayor"}),r.jsx("p",{children:"You technically only need the Mayor. Running with just the Mayor is a good tutorial. The Mayor can file and fix issues itself, or you can ask it to sling work to polecats."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Even alone, it still gets all the benefits of GUPP, MEOW, and the other protocols."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Entry Points"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt may at"})}),r.jsx("span",{children:"Attach to the Mayor (main interface)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"gt crew at"})}),r.jsx("span",{children:"Attach to a Crew workspace"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"These are your two main entry points to Gas Town."})]})]})}function $y(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"The Seven Roles"}),r.jsx("p",{className:"help-intro",children:"Plus youthe Overseer. That's eight."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Who Do You Talk To?"}),r.jsx("p",{children:"The Mayor is the main agent you talk to most of the time. It's your concierge and chief-of-staff."}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"But if the Mayor is busy, all the other workers are also Claude Code so they're all very smart and helpful."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Town-Level Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mayor"}),r.jsx("p",{children:"Your main point of contact. Kicks off most work convoys and receives notifications when they finish."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Deacon"}),r.jsxs("p",{children:["Runs town-level plugins and handles ",r.jsx("code",{children:"gt handoff"}),", agent recycling, and worker cleanup. Background role."]})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Dogs"}),r.jsx("p",{children:"The Deacon's personal crew. Handle complex work and investigations so patrol steps don't interfere with core eventing."})]})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Dogs are named for the MI5 internal security characters in Mick Herron's Slow Horses novels."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Per-Rig Roles"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Polecats"}),r.jsx("p",{children:"Ephemeral, unsupervised workers. Pick up slung work, complete it, submit MRs without human intervention. Best for well-defined, well-specified work."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Witness"}),r.jsx("p",{children:"Checks on polecat and refinery wellbeing. Peeks in on the Deacon. Runs rig-level plugins."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Refinery"}),r.jsx("p",{children:"Manages merges. Most useful when you've done a LOT of up-front specification work and have huge piles of beads to churn through."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crew"}),r.jsx("p",{children:"Named, long-lived workers on each project rig. Your design team. They create guzzoline for the swarms."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Overseer (You)"}),r.jsx("p",{children:"That's you, Human. The eighth role. As the Overseer, you have an identity in the system, your own inbox, and you can send and receive town mail."}),r.jsx("p",{style:{marginTop:"0.75rem",fontWeight:"bold"},children:"You're the boss, the head honcho, the big cheese."})]})]})}function By(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Formulas & Molecules"}),r.jsx("p",{className:"help-intro",children:"Durable workflows that survive crashes."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Core Idea"}),r.jsx("p",{children:"Molecules are workflows chained with Beads. They can have arbitrary shapes unlike epicsand they can be stitched together at runtime."}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["The key benefit: ",r.jsx("strong",{children:"workflows survive agent crashes, compactions, restarts, and interruptions."})," ","Just start the agent up in the same sandbox, have it find its place in the molecule, and pick up where it left off."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Lifecycle"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Formula (TOML)"}),r.jsxs("p",{children:["Source form for workflows. Stored in ",r.jsx("code",{children:".beads/formulas/"}),"."]})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Protomolecule"}),r.jsx("p",{children:"Like a class or template. An entire graph of template issues with instructions and dependencies, ready to instantiate."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Molecule"}),r.jsx("p",{children:"Instantiated from a protomolecule via variable substitution. A real workflow with actual beads."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Hooks"}),r.jsxs("p",{children:["Every Gas Town worker has its own ",r.jsx("strong",{children:"hook"})," . It's a special pinned bead, just for that agent, where you hang molecules."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["You ",r.jsx("strong",{children:"sling"})," work to workers, and it goes on their hook. The hook is persistenta Bead backed by Git."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Molecules Are Durable"}),r.jsx("p",{children:"If a molecule is on an agent's hook:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"The agent is persistent"})," - A Bead backed by Git. Sessions come and go; agents stay."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The hook is persistent"})," - Also a Bead backed by Git."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"The molecule is persistent"})," - A chain of Beads, also in Git."]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"So it doesn't matter if Claude Code crashes or runs out of context."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Common Formulas"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"shiny"})}),r.jsx("span",{children:"Design  Plan  Implement  Review  Test"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"release"})}),r.jsx("span",{children:"Bump version  Run tests  Build  Tag  Publish"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"code-review"})}),r.jsx("span",{children:"Multi-dimension parallel review"})]})]})]})]})}function Wy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Git-backed issue tracking that agents understand."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored as JSON files in ",r.jsx("code",{children:".beads/"}),". They're Git-backed, so they survive across sessions and machines."]}),r.jsxs("p",{style:{marginTop:"0.75rem"},children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"}),". States flow: ",r.jsx("strong",{children:"open"}),"  ",r.jsx("strong",{children:"in-progress"}),"  ",r.jsx("strong",{children:"done"}),"  ",r.jsx("strong",{children:"closed"}),"."]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Why Beads?"}),r.jsx("p",{children:"With molecules, the idea was: make 20 beads for the release steps, chain them together in the right order, and make the agent walk the chain one issue at a time."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Activity feed"})," - Automatically produced as agents claim and close issues"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crash recovery"})," - Workflow survives interruptions"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Audit trail"})," - Everything committed to Git"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Bead Flow"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"You ask for something"}),r.jsx("p",{children:'"Hey Mayor, implement dark mode."'})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Beads get created"}),r.jsx("p",{children:"Design bead, implement bead, test bead. Chained in order."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Polecats claim beads"}),r.jsx("p",{children:"Work is slung. Polecats grab beads from their hook."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"4"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Work completes"}),r.jsx("p",{children:"MRs submitted. Refinery merges. You approve."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Beads Tab Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. See everything at a glance."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize if needed."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How fast is work flowing?"})]})]})]})]})]})}function Uy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operating Philosophy"}),r.jsx("p",{className:"help-intro",children:"Principles that make this work."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"You Ask, They Do"}),r.jsxs("p",{children:["Your job is ",r.jsx("strong",{children:"intent"}),". Their job is ",r.jsx("strong",{children:"execution"}),"."]}),r.jsx("p",{style:{marginTop:"0.75rem"},children:"Don't tell agents how to do things. Tell them what you want done. They know how to write code, run tests, fix bugs. You provide direction, not instructions."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Sessions Are Cattle"}),r.jsx("p",{children:"Tmux sessions come and go. Agents die and respawn. This is normal. Don't get attached. Don't mourn them."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Your work lives in Git. Beads are committed. Code is committed. If a session dies, the work survives."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Start Simple"}),r.jsx("p",{children:"You can use Polecats without the Refinery, even without the Witness or Deacon. Just tell the Mayor to shut down the rig and sling work to polecats with the message that they should merge to main directly."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"Or polecats can submit MRs and the Mayor merges them manually."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When Refineries Shine"}),r.jsx("p",{children:"Refineries are most useful when you've done a LOT of up-front specification work and have huge piles of Beads to churn through with long convoys."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"For smaller work, the Mayor alone is often enough."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"When to Intervene"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent asks a question"})," - Answer it"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat escalates"})," - Work needs human attention"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PR ready"})," - Review and approve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Total chaos"})," - Settings  Nuke All Sessions"]})]})]})]})}function Vy(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"Go deeper. The real documentation lives here."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Steve Yegge's Articles"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/gas-town-emergency-user-manual-cf0e4556d74b",target:"_blank",rel:"noopener noreferrer",children:"Gas Town Emergency User Manual"})," ","- The essential guide after 12 days and 100+ PRs"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/welcome-to-gas-town-4f25ee16dd04",target:"_blank",rel:"noopener noreferrer",children:"Welcome to Gas Town"})," ","- The original launch announcement"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://steve-yegge.medium.com/the-future-of-coding-agents-e9451a84207c",target:"_blank",rel:"noopener noreferrer",children:"The Future of Coding Agents"})," ","- Three days after launch, the vision"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Community Guides"}),r.jsx("ul",{className:"help-list",children:r.jsxs("li",{children:[r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",children:"Gastown User Manual (Xexr)"})," ","- Comprehensive community-maintained guide"]})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- The multi-agent orchestrator"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent underneath"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"This dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Works from any device on your Tailscale network."})]})]})}const Ct="/api/chat";function Hy(){const[e,t]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(null),o=d.useCallback(async()=>{var a,c;try{s(!0);const h=await(await fetch(`${Ct}/conversations`)).json();((a=h.data)==null?void 0:a.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return d.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function Ky(e,t){const[n,s]=d.useState([]),[l,i]=d.useState(!1),[o,a]=d.useState(null),c=d.useCallback(async(u=!1)=>{var h,p;if(!e||!t){s([]);return}try{u||i(!0);const g=encodeURIComponent(e),x=encodeURIComponent(t),w=await(await fetch(`${Ct}/history?target=${g}&workspace=${x}`)).json();((h=w.data)==null?void 0:h.messages)!==void 0?(s(w.data.messages||[]),a(null)):a(((p=w.error)==null?void 0:p.message)||"Failed to load history")}catch{a("Network error")}finally{u||i(!1)}},[e,t]);return d.useEffect(()=>{c()},[c]),{messages:n,loading:l,error:o,refresh:c}}async function Qy(e,t,n){var l,i,o,a,c;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending message"),console.log("Payload:",JSON.stringify(s,null,2)),console.log("Endpoint:",`${Ct}/send`);try{const u=await fetch(`${Ct}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});console.log("Response status:",u.status,u.statusText);const h=await u.json();return console.log("Response body:",JSON.stringify(h,null,2)),console.groupEnd(),(l=h.data)!=null&&l.success?{success:!0,messageId:(i=h.data)==null?void 0:i.messageId,mailSent:((o=h.data)==null?void 0:o.mailSent)??!1,nudged:((a=h.data)==null?void 0:a.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((c=h.error)==null?void 0:c.message)||"Send failed"}}catch(u){return console.error("Network error:",u),console.groupEnd(),{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}async function Gy(e,t,n){var l,i,o;const s={workspace:e,target:t,message:n};console.group("[ChroteChat] Sending nudge"),console.log("Payload:",JSON.stringify(s,null,2));try{const c=await(await fetch(`${Ct}/nudge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();return console.log("Response:",JSON.stringify(c,null,2)),console.groupEnd(),(l=c.data)!=null&&l.success?{success:!0,nudged:((i=c.data)==null?void 0:i.nudged)??!1}:{success:!1,nudged:!1,error:((o=c.error)==null?void 0:o.message)||"Nudge failed"}}catch(a){return console.error("Network error:",a),console.groupEnd(),{success:!1,nudged:!1,error:"Network error"}}}async function Yy(){var e,t;try{const s=await(await fetch(`${Ct}/session/status`)).json();return{exists:((e=s.data)==null?void 0:e.exists)??!1,workspace:(t=s.data)==null?void 0:t.workspace}}catch{return{exists:!1}}}async function Xy(e){var t;try{const s=await(await fetch(`${Ct}/session/init`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.created??!1,workspace:s.data.workspace,message:s.data.message}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to init session"}}catch{return{created:!1,message:"Network error"}}}async function Jy(e){var t;try{const s=await(await fetch(`${Ct}/session/restart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e})})).json();return s.data?{created:s.data.restarted??!1,workspace:s.data.workspace}:{created:!1,message:((t=s.error)==null?void 0:t.message)||"Failed to restart session"}}catch{return{created:!1,message:"Network error"}}}async function Zy(e,t){var n,s;try{const i=await(await fetch(`${Ct}/channel/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,name:t})})).json();return(n=i.data)!=null&&n.success?{success:!0}:{success:!1,message:((s=i.error)==null?void 0:s.message)||"Failed to create channel"}}catch{return{success:!1,message:"Network error"}}}async function qy(e,t,n){var s,l;try{const o=await(await fetch(`${Ct}/channel/invite`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,channel:t,targets:n})})).json();return(s=o.data)!=null&&s.success?{success:!0,sent:o.data.sent,total:o.data.total}:{success:!1,message:((l=o.error)==null?void 0:l.message)||"Failed to invite members"}}catch{return{success:!1,message:"Network error"}}}const Nu="chrote-chat-selected";function ex(){const[e,t]=d.useState(()=>{try{return localStorage.getItem(Nu)}catch{return null}}),[n,s]=d.useState("list"),[l,i]=d.useState(""),[o,a]=d.useState(!1),[c,u]=d.useState(null),[h,p]=d.useState(!1),[g,x]=d.useState(!1),[j,w]=d.useState({exists:!1,initializing:!1}),[P,m]=d.useState(!1),[f,v]=d.useState(""),[y,S]=d.useState(""),[k,N]=d.useState([]),{conversations:b,loading:C,refresh:D}=Hy(),E=b.find(T=>T.target===e),{messages:V,loading:K,refresh:L}=Ky(e,(E==null?void 0:E.workspace)??null),{addToast:B}=kr(),X=d.useRef(null),Y=d.useRef(null),_=d.useRef(null),A=d.useRef(null),U=d.useRef(!0),ee=d.useRef(0);d.useEffect(()=>{const T=()=>window.innerWidth<=768&&"ontouchstart"in window,W=()=>{if(!(!A.current||!T())&&window.visualViewport){const se=window.visualViewport.height;A.current.style.height=`${se}px`,setTimeout(()=>{var yt;(yt=X.current)==null||yt.scrollIntoView({behavior:"smooth"})},100)}},J=()=>{A.current&&(T()||(A.current.style.height=""))};return window.visualViewport&&(window.visualViewport.addEventListener("resize",W),window.visualViewport.addEventListener("scroll",W)),window.addEventListener("resize",J),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",W),window.visualViewport.removeEventListener("scroll",W)),window.removeEventListener("resize",J)}},[]);const q=()=>{const T=Y.current;if(!T)return;const{scrollTop:W,scrollHeight:J,clientHeight:se}=T;U.current=J-W-se<100};d.useEffect(()=>{var J;const T=V.length,W=T>ee.current;if(ee.current=T,W&&U.current&&((J=X.current)==null||J.scrollIntoView({behavior:"smooth"})),c&&V.length>0){const se=[...V].reverse().find(yt=>yt.role==="user");se&&se.content===c&&u(null)}},[V,c]),d.useEffect(()=>{var T;o&&((T=X.current)==null||T.scrollIntoView({behavior:"smooth"}))},[o]),d.useEffect(()=>{var T;e&&(window.matchMedia("(max-width: 768px)").matches||(T=_.current)==null||T.focus())},[e]),d.useEffect(()=>{if(!e)return;const T=setInterval(()=>{L(!0)},5e3);return()=>clearInterval(T)},[e,L]),d.useEffect(()=>{Yy().then(T=>{w({exists:T.exists,initializing:!1})})},[]),d.useEffect(()=>{(async()=>{if(!(E!=null&&E.workspace)||j.exists||j.initializing)return;w(J=>({...J,initializing:!0}));const W=await Xy(E.workspace);w({exists:W.created||j.exists,initializing:!1}),W.created&&B("Chat session initialized","success")})()},[E==null?void 0:E.workspace,j.exists,j.initializing,B]);const ye=async()=>{var J;const T=(E==null?void 0:E.workspace)||((J=b.find(se=>se.workspace))==null?void 0:J.workspace);if(!T){B("No workspace available to restart session","error");return}w({exists:!1,initializing:!0});const W=await Jy(T);w({exists:W.created,initializing:!1}),W.created?B("Chat session restarted","success"):B(W.message||"Failed to restart session","error")},G=T=>{t(T),s("chat");try{localStorage.setItem(Nu,T)}catch{}},ue=()=>{s("list")},R=async()=>{if(!E||!E.workspace||!l.trim()||o)return;const T=l.trim();i(""),a(!0);const W=await Qy(E.workspace,E.target,T);if(W.success){const J=[];W.mailSent&&J.push("Mail sent"),W.nudged&&J.push("Agent nudged"),B(J.join(", ")||"Message sent","success"),u(T),a(!1),setTimeout(()=>{L()},1e3),setTimeout(()=>{u(null)},1e4)}else B(W.error||"Send failed","error"),a(!1)},F=async()=>{if(!E||!E.workspace||h)return;p(!0);const T=await Gy(E.workspace,E.target);T.success?B("Nudged!","success"):B(T.error||"Nudge failed","error"),p(!1)},I=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),R())},O=T=>{i(T.target.value);const W=T.target;W.style.height="auto",W.style.height=Math.min(W.scrollHeight,120)+"px"},z=async()=>{var J;const T=(E==null?void 0:E.workspace)||((J=b.find(se=>se.workspace))==null?void 0:J.workspace);if(!f||!T){B("Select an agent first to define workspace","error");return}const W=await Zy(T,f);W.success?(B(`Channel '${f}' created`,"success"),v(""),S(f)):B(W.message||"Failed","error")},H=async()=>{var J;const T=(E==null?void 0:E.workspace)||((J=b.find(se=>se.workspace))==null?void 0:J.workspace);if(!y||k.length===0||!T){B("Missing info or workspace","error");return}B("Sending invites...","info");const W=await qy(T,y,k);W.success?(B(`Invited ${W.sent} agents`,"success"),N([]),m(!1)):B(W.message||"Failed","error")},Q=T=>{k.includes(T)?N(k.filter(W=>W!==T)):N([...k,T])},oe=V;return r.jsxs("div",{ref:A,className:`chrote-chat mobile-view-${n}`,children:[r.jsxs("div",{className:`chat-sidebar ${g?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>x(!g),title:g?"Expand":"Collapse",children:g?"":""}),!g&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"channel-btn",onClick:()=>m(!0),title:"Manage Channels",style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem",padding:"0 4px"},children:""}),r.jsx("button",{className:"refresh-btn",onClick:()=>D(),disabled:C,title:"Refresh",children:""})]})]}),!g&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"chat-conversations",children:C&&b.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):b.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):b.map(T=>r.jsx(tx,{conversation:T,selected:T.target===e,onClick:()=>G(T.target)},T.target))}),r.jsxs("div",{className:"chat-sidebar-footer",children:[r.jsx("button",{className:"restart-session-btn",onClick:ye,disabled:j.initializing,title:"Restart the chrote-chat tmux session",children:j.initializing?"Restarting...":"Restart Chat Session"}),r.jsx("div",{className:"session-status",children:j.exists?"Session active":"No session"})]})]})]}),r.jsxs("div",{className:"chat-main",children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("button",{className:"chat-back-btn mobile-only",onClick:ue,title:"Back to agents",children:""}),r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(E==null?void 0:E.displayName)||e||"Chat"}),e&&r.jsx("span",{className:`chat-header-status ${E!=null&&E.online?"online":"offline"}`,children:E!=null&&E.online?"Online":"Offline"})]}),e&&r.jsx("button",{className:"refresh-btn",onClick:()=>L(),disabled:K,title:"Refresh history",children:""})]}),e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-messages",ref:Y,onScroll:q,children:[K&&oe.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):oe.length===0&&!o&&!c?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):oe.map(T=>r.jsx(rx,{message:T},T.id)),c&&r.jsx(sx,{content:c}),o&&r.jsx(nx,{}),r.jsx("div",{ref:X})]}),r.jsxs("div",{className:"chat-input-area",children:[!(E!=null&&E.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:_,className:"chat-input",value:l,onChange:O,onKeyDown:I,placeholder:E!=null&&E.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:o||!(E!=null&&E.workspace)}),r.jsx("button",{className:"chat-nudge-btn",onClick:F,disabled:h||!(E!=null&&E.workspace),title:"Send a quick nudge",children:h?"...":"Nudge!"}),r.jsx("button",{className:"chat-send-btn",onClick:R,disabled:!l.trim()||o||!(E!=null&&E.workspace),title:E!=null&&E.workspace?"Send (Enter)":"No workspace detected",children:o?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})]}),P&&r.jsx("div",{className:"channel-modal-overlay",children:r.jsxs("div",{className:"channel-modal",children:[r.jsxs("div",{className:"channel-modal-header",children:[r.jsx("h3",{children:" Channels"}),r.jsx("button",{className:"close-btn",onClick:()=>m(!1),children:""})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Create Channel"}),r.jsxs("div",{className:"channel-row",children:[r.jsx("input",{value:f,onChange:T=>v(T.target.value),placeholder:"Channel Name"}),r.jsx("button",{onClick:z,children:"Create"})]})]}),r.jsxs("div",{className:"channel-modal-section",children:[r.jsx("h4",{children:"Invite Members"}),r.jsx("p",{className:"hint",children:"Selected agents receive a DM with subscription instructions."}),r.jsx("input",{value:y,onChange:T=>S(T.target.value),placeholder:"Channel Name to Invite To",className:"full-width"}),r.jsx("div",{className:"agent-select-list",children:b.map(T=>r.jsxs("label",{className:"agent-select-item",children:[r.jsx("input",{type:"checkbox",checked:k.includes(T.target),onChange:()=>Q(T.target)}),r.jsx("span",{children:T.displayName})]},T.target))}),r.jsxs("button",{className:"invite-btn full-width",disabled:!y||k.length===0,onClick:H,children:["Invite ",k.length," Agents"]})]})]})})]})}function tx({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function nx(){return r.jsx("div",{className:"chat-sending-spinner",children:r.jsx("div",{className:"spinner"})})}function sx({content:e}){return r.jsxs("div",{className:"chat-message user pending",children:[r.jsx("div",{className:"chat-message-content",children:e.split(`
`).map((t,n)=>r.jsx("p",{children:t||""},n))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-pending",children:"Delivering..."})})]})}function rx({message:e}){const t=e.role==="user",n=s=>{try{return new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((s,l)=>r.jsx("p",{children:s||""},l))}),r.jsx("div",{className:"chat-message-meta",children:r.jsx("span",{className:"chat-message-time",children:n(e.timestamp)})})]})}class Su extends d.Component{constructor(n){super(n);Ba(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const ku=4e3,bu=300,lx={success:"",info:"",warning:"",error:""};function ix({toast:e,onRemove:t}){const[n,s]=d.useState(!1),[l,i]=d.useState(100);d.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,p=Math.max(0,100-h/ku*100);i(p)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),bu)},ku);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),bu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:lx[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function ox(){const{toasts:e,removeToast:t}=kr();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(ix,{toast:n,onRemove:t},n.id))})}const ax=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function yh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function cx({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(yh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function ux({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(cx,{...n},s))})]})}function dx({isOpen:e,onClose:t}){const n=d.useRef(null);d.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:ax.map((l,i)=>r.jsx(ux,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(yh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function fx({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=ct(),[a,c]=d.useState(""),[u,h]=d.useState(null),[p,g]=d.useState(""),x=()=>{a.trim()&&s(a.trim())&&c("")},j=y=>{l(y),t()},w=y=>{i(y)},P=y=>{h(y.id),g(y.name)},m=()=>{u&&p.trim()&&(o(u,p.trim()),h(null),g(""))},f=()=>{h(null),g("")},v=y=>{let S=0,k=0;return Object.values(y.workspaces).forEach(N=>{S+=N.windowCount,N.windows.forEach(b=>{k+=b.boundSessions.length})}),`${S} windows, ${k} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((y,S)=>r.jsx("li",{className:"preset-item",children:u===y.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:k=>g(k.target.value),onKeyDown:k=>{k.key==="Enter"&&m(),k.key==="Escape"&&f()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:m,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:f,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",S+1]}),r.jsx("span",{className:"preset-name",children:y.name}),r.jsx("span",{className:"preset-summary",children:v(y)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>j(y.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>P(y),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function hx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:g}=ct(),x=d.useCallback(async()=>{try{const P=u.defaultSessionPrefix||"tmux",m=P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`^${m}(\\d+)$`),v=h.map(N=>N.name.match(f)).filter(Boolean).map(N=>parseInt(N[1],10)),y=v.length>0?Math.max(...v)+1:1,S=`${P}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S})})).ok&&c()}catch(P){console.error("Failed to create session:",P)}},[u.defaultSessionPrefix,h,c]),j=d.useCallback(()=>{const P=document.querySelector(".session-search-input");P&&(P.focus(),P.select())},[]),w=d.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);d.useEffect(()=>{const P=m=>{const f=m.target,v=f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable;if(m.key==="Escape"){if(s)return;if(a){m.preventDefault(),o();return}}if(!(v||s)){if(m.key==="?"||m.shiftKey&&m.key==="/"){m.preventDefault(),n();return}if(m.key==="/"&&!m.ctrlKey&&!m.metaKey){m.preventDefault(),j();return}if(m.key==="Tab"&&!m.ctrlKey&&!m.shiftKey&&!m.altKey&&(e==="terminal1"||e==="terminal2")){m.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!m.ctrlKey&&!m.metaKey&&!m.altKey&&/^[1-4]$/.test(m.key)){const y=w();if(y){const S=parseInt(m.key,10),k=l[y];if(S<=k.windowCount){m.preventDefault();return}}}if(m.ctrlKey&&m.key==="s"){m.preventDefault(),i();return}if(m.ctrlKey&&m.key==="n"){m.preventDefault(),x();return}if(m.ctrlKey&&/^[1-9]$/.test(m.key)){const y=parseInt(m.key,10)-1;if(y<g.length){m.preventDefault(),p(g[y].id);return}}}};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,t,n,s,a,o,j,i,x,w,l,p,g])}function px({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function mx(){const[e,t]=d.useState("terminal1"),[n,s]=d.useState(null),[l,i]=d.useState(!1),[o,a]=d.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:g}=ct(),x=d.useCallback(()=>i(!0),[]),j=d.useCallback(()=>i(!1),[]),w=d.useCallback(()=>a(!0),[]),P=d.useCallback(()=>a(!1),[]);hx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:l}),d.useEffect(()=>{document.documentElement.setAttribute("data-theme",g.theme)},[g.theme]),d.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${g.fontSize}px`)},[g.fontSize]);const m=mg(pg(Ma,{activationConstraint:{distance:4}})),f=y=>{var k,N;const S=(k=y.active.data.current)==null?void 0:k.type;s(S==="tag"?((N=y.active.data.current)==null?void 0:N.sessionName)??null:y.active.id),h(!0)},v=y=>{var N,b,C,D;const{active:S,over:k}=y;if(s(null),h(!1),!k){if(((N=S.data.current)==null?void 0:N.type)==="tag"){const{sessionName:E,sourceWindowId:V,sourceWorkspaceId:K}=S.data.current;u(K,V,E)}return}if(((b=k.data.current)==null?void 0:b.type)==="window"){const E=k.data.current.windowId,V=k.data.current.workspaceId;if(((C=S.data.current)==null?void 0:C.type)==="session")c(V,E,S.id);else if(((D=S.data.current)==null?void 0:D.type)==="tag"){const{sessionName:K,sourceWindowId:L,sourceWorkspaceId:B}=S.data.current;(L!==E||B!==V)&&c(V,E,K)}}};return r.jsxs(fv,{sensors:m,onDragStart:f,onDragEnd:v,children:[r.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[r.jsx(Uv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(Jv,{}),r.jsx(ny,{workspaceId:e})]}),e==="files"&&r.jsx(wy,{}),e==="beads_viewer"&&r.jsx(Su,{children:r.jsx(zy,{})}),e==="chat"&&r.jsx(Su,{children:r.jsx(ex,{})}),e==="manual"&&r.jsx(Fy,{}),e==="settings"&&r.jsx(Ny,{}),e==="help"&&r.jsx(by,{})]}),r.jsx(Sy,{}),r.jsx(dx,{isOpen:l,onClose:j}),r.jsx(fx,{isOpen:o,onClose:P})]}),r.jsx(ox,{}),r.jsx(Rv,{children:n?r.jsx(px,{name:n}):null})]})}function gx(){return r.jsx(Wv,{children:r.jsx(mx,{})})}Oi.createRoot(document.getElementById("root")).render(r.jsx(ge.StrictMode,{children:r.jsx(Ov,{children:r.jsx(gx,{})})}));
