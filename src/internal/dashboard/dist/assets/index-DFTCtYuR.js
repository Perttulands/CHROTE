var bh=Object.defineProperty;var Ch=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ka=(e,t,n)=>Ch(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Eh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eu={exports:{}},Ml={},Pu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=Symbol.for("react.element"),Ph=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),_h=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),Qa=Symbol.iterator;function Ah(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tu=Object.assign,Ru={};function us(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Du}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iu(){}Iu.prototype=us.prototype;function zo(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Du}var Ao=zo.prototype=new Iu;Ao.constructor=zo;Tu(Ao,us.prototype);Ao.isPureReactComponent=!0;var Ga=Array.isArray,Lu=Object.prototype.hasOwnProperty,Fo={current:null},Ou={key:!0,ref:!0,__self:!0,__source:!0};function Mu(e,t,n){var s,l={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Lu.call(t,s)&&!Ou.hasOwnProperty(s)&&(l[s]=t[s]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)l[s]===void 0&&(l[s]=a[s]);return{$$typeof:mr,type:e,key:i,ref:o,props:l,_owner:Fo.current}}function Fh(e,t){return{$$typeof:mr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $o(e){return typeof e=="object"&&e!==null&&e.$$typeof===mr}function $h(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ya=/\/+/g;function ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$h(""+e.key):t.toString(36)}function Vr(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mr:case Ph:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+ii(o,0):s,Ga(l)?(n="",e!=null&&(n=e.replace(Ya,"$&/")+"/"),Vr(l,t,n,"",function(u){return u})):l!=null&&($o(l)&&(l=Fh(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ya,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ga(e))for(var a=0;a<e.length;a++){i=e[a];var c=s+ii(i,a);o+=Vr(i,t,n,c,l)}else if(c=Ah(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=s+ii(i,a++),o+=Vr(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cr(e,t,n){if(e==null)return e;var s=[],l=0;return Vr(e,s,"","",function(i){return t.call(n,i,l++)}),s}function Bh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Hr={transition:null},Wh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Hr,ReactCurrentOwner:Fo};function _u(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Cr,forEach:function(e,t,n){Cr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cr(e,function(){t++}),t},toArray:function(e){return Cr(e,function(t){return t})||[]},only:function(e){if(!$o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=us;Q.Fragment=Dh;Q.Profiler=Rh;Q.PureComponent=zo;Q.StrictMode=Th;Q.Suspense=Mh;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wh;Q.act=_u;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Tu({},e.props),l=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Fo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Lu.call(t,c)&&!Ou.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:mr,type:e.type,key:l,ref:i,props:s,_owner:o}};Q.createContext=function(e){return e={$$typeof:Lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ih,_context:e},e.Consumer=e};Q.createElement=Mu;Q.createFactory=function(e){var t=Mu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Oh,render:e}};Q.isValidElement=$o;Q.lazy=function(e){return{$$typeof:zh,_payload:{_status:-1,_result:e},_init:Bh}};Q.memo=function(e,t){return{$$typeof:_h,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Hr.transition;Hr.transition={};try{e()}finally{Hr.transition=t}};Q.unstable_act=_u;Q.useCallback=function(e,t){return Ae.current.useCallback(e,t)};Q.useContext=function(e){return Ae.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ae.current.useEffect(e,t)};Q.useId=function(){return Ae.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ae.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};Q.useRef=function(e){return Ae.current.useRef(e)};Q.useState=function(e){return Ae.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ae.current.useTransition()};Q.version="18.3.1";Pu.exports=Q;var f=Pu.exports;const he=Eh(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=f,Vh=Symbol.for("react.element"),Hh=Symbol.for("react.fragment"),Kh=Object.prototype.hasOwnProperty,Qh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var s,l={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Kh.call(t,s)&&!Gh.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Vh,type:e,key:i,ref:o,props:l,_owner:Qh.current}}Ml.Fragment=Hh;Ml.jsx=zu;Ml.jsxs=zu;Eu.exports=Ml;var r=Eu.exports,Ai={},Au={exports:{}},qe={},Fu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,U){var z=M.length;M.push(U);e:for(;0<z;){var Y=z-1>>>1,G=M[Y];if(0<l(G,U))M[Y]=U,M[z]=G,z=Y;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var U=M[0],z=M.pop();if(z!==U){M[0]=z;e:for(var Y=0,G=M.length,je=G>>>1;Y<je;){var ge=2*(Y+1)-1,Ce=M[ge],D=ge+1,$=M[D];if(0>l(Ce,z))D<G&&0>l($,Ce)?(M[Y]=$,M[D]=z,Y=D):(M[Y]=Ce,M[ge]=z,Y=ge);else if(D<G&&0>l($,z))M[Y]=$,M[D]=z,Y=D;else break e}}return U}function l(M,U){var z=M.sortIndex-U.sortIndex;return z!==0?z:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,m=null,g=3,y=!1,N=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=M)s(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function x(M){if(w=!1,v(M),!N)if(n(c)!==null)N=!0,ne(j);else{var U=n(u);U!==null&&Z(x,U.startTime-M)}}function j(M,U){N=!1,w&&(w=!1,p(k),k=-1),y=!0;var z=g;try{for(v(U),m=n(c);m!==null&&(!(m.expirationTime>U)||M&&!L());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var G=Y(m.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&s(c),v(U)}else s(c);m=n(c)}if(m!==null)var je=!0;else{var ge=n(u);ge!==null&&Z(x,ge.startTime-U),je=!1}return je}finally{m=null,g=z,y=!1}}var b=!1,S=null,k=-1,C=5,P=-1;function L(){return!(e.unstable_now()-P<C)}function A(){if(S!==null){var M=e.unstable_now();P=M;var U=!0;try{U=S(!0,M)}finally{U?R():(b=!1,S=null)}}else b=!1}var R;if(typeof d=="function")R=function(){d(A)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=A,R=function(){K.postMessage(null)}}else R=function(){E(A,0)};function ne(M){S=M,b||(b=!0,R())}function Z(M,U){k=E(function(){M(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,ne(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var z=g;g=U;try{return M()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=g;g=M;try{return U()}finally{g=z}},e.unstable_scheduleCallback=function(M,U,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,M={id:h++,callback:U,priorityLevel:M,startTime:z,expirationTime:G,sortIndex:-1},z>Y?(M.sortIndex=z,t(u,M),n(c)===null&&M===n(u)&&(w?(p(k),k=-1):w=!0,Z(x,z-Y))):(M.sortIndex=G,t(c,M),N||y||(N=!0,ne(j))),M},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(M){var U=g;return function(){var z=g;g=U;try{return M.apply(this,arguments)}finally{g=z}}}})($u);Fu.exports=$u;var Yh=Fu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=f,Ze=Yh;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,Gs={};function En(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(Gs[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=Object.prototype.hasOwnProperty,Jh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xa={},Ja={};function Zh(e){return Fi.call(Ja,e)?!0:Fi.call(Xa,e)?!1:Jh.test(e)?Ja[e]=!0:(Xa[e]=!0,!1)}function qh(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ep(e,t,n,s){if(t===null||typeof t>"u"||qh(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,s,l,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bo=/[\-:]([a-z])/g;function Wo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bo,Wo);Te[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bo,Wo);Te[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bo,Wo);Te[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uo(e,t,n,s){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ep(t,n,l,s)&&(n=null),s||l===null?Zh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ft=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Er=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),Vo=Symbol.for("react.strict_mode"),$i=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),Uu=Symbol.for("react.context"),Ho=Symbol.for("react.forward_ref"),Bi=Symbol.for("react.suspense"),Wi=Symbol.for("react.suspense_list"),Ko=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Vu=Symbol.for("react.offscreen"),Za=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Za&&e[Za]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,oi;function Ts(e){if(oi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oi=t&&t[1]||""}return`
`+oi+e}var ai=!1;function ci(e,t){if(!e||ai)return"";ai=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),i=s.stack.split(`
`),o=l.length-1,a=i.length-1;1<=o&&0<=a&&l[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==i[a]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ai=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ts(e):""}function tp(e){switch(e.tag){case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return e=ci(e.type,!1),e;case 11:return e=ci(e.type.render,!1),e;case 1:return e=ci(e.type,!0),e;default:return""}}function Ui(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case Mn:return"Portal";case $i:return"Profiler";case Vo:return"StrictMode";case Bi:return"Suspense";case Wi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uu:return(e.displayName||"Context")+".Consumer";case Wu:return(e._context.displayName||"Context")+".Provider";case Ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ko:return t=e.displayName||null,t!==null?t:Ui(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Ui(e(t))}catch{}}return null}function np(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ui(t);case 8:return t===Vo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sp(e){var t=Hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=sp(e))}function Ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Hu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vi(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qa(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qu(e,t){t=t.checked,t!=null&&Uo(e,"checked",t,!1)}function Hi(e,t){Qu(e,t);var n=an(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ki(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ki(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ki(e,t,n){(t!=="number"||rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Xn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Rs(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function Gu(e,t){var n=an(t.value),s=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dr,Xu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rp=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(e){rp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Os[t]=Os[e]})});function Ju(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Os.hasOwnProperty(e)&&Os[e]?(""+t).trim():t+"px"}function Zu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Ju(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var lp=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(e,t){if(t){if(lp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Xi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function Qo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Jn=null,Zn=null;function sc(e){if(e=xr(e)){if(typeof Zi!="function")throw Error(I(280));var t=e.stateNode;t&&(t=$l(t),Zi(e.stateNode,e.type,t))}}function qu(e){Jn?Zn?Zn.push(e):Zn=[e]:Jn=e}function ed(){if(Jn){var e=Jn,t=Zn;if(Zn=Jn=null,sc(e),t)for(e=0;e<t.length;e++)sc(t[e])}}function td(e,t){return e(t)}function nd(){}var ui=!1;function sd(e,t,n){if(ui)return e(t,n);ui=!0;try{return td(e,t,n)}finally{ui=!1,(Jn!==null||Zn!==null)&&(nd(),ed())}}function Xs(e,t){var n=e.stateNode;if(n===null)return null;var s=$l(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var qi=!1;if(Ot)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){qi=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{qi=!1}function ip(e,t,n,s,l,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Ms=!1,ll=null,il=!1,eo=null,op={onError:function(e){Ms=!0,ll=e}};function ap(e,t,n,s,l,i,o,a,c){Ms=!1,ll=null,ip.apply(op,arguments)}function cp(e,t,n,s,l,i,o,a,c){if(ap.apply(this,arguments),Ms){if(Ms){var u=ll;Ms=!1,ll=null}else throw Error(I(198));il||(il=!0,eo=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Pn(e)!==e)throw Error(I(188))}function up(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return rc(l),e;if(i===s)return rc(l),t;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=l,s=i;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,s=i;break}if(a===s){o=!0,s=l,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=l;break}if(a===s){o=!0,s=i,n=l;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ld(e){return e=up(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var od=Ze.unstable_scheduleCallback,lc=Ze.unstable_cancelCallback,dp=Ze.unstable_shouldYield,fp=Ze.unstable_requestPaint,me=Ze.unstable_now,hp=Ze.unstable_getCurrentPriorityLevel,Go=Ze.unstable_ImmediatePriority,ad=Ze.unstable_UserBlockingPriority,ol=Ze.unstable_NormalPriority,pp=Ze.unstable_LowPriority,cd=Ze.unstable_IdlePriority,_l=null,kt=null;function mp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:xp,gp=Math.log,vp=Math.LN2;function xp(e){return e>>>=0,e===0?32:31-(gp(e)/vp|0)|0}var Tr=64,Rr=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?s=Is(a):(i&=o,i!==0&&(s=Is(i)))}else o=n&~l,o!==0?s=Is(o):i!==0&&(s=Is(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-pt(t),l=1<<n,s|=e[n],t&=~l;return s}function yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=l[o];c===-1?(!(a&n)||a&s)&&(l[o]=yp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function to(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(){var e=Tr;return Tr<<=1,!(Tr&4194240)&&(Tr=64),e}function di(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Yo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var J=0;function dd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,Xo,hd,pd,md,no=!1,Ir=[],qt=null,en=null,tn=null,Js=new Map,Zs=new Map,Yt=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function Ss(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=xr(t),t!==null&&Xo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Sp(e,t,n,s,l){switch(t){case"focusin":return qt=Ss(qt,e,t,n,s,l),!0;case"dragenter":return en=Ss(en,e,t,n,s,l),!0;case"mouseover":return tn=Ss(tn,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return Js.set(i,Ss(Js.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,Zs.set(i,Ss(Zs.get(i)||null,e,t,n,s,l)),!0}return!1}function gd(e){var t=vn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=rd(n),t!==null){e.blockedOn=t,md(e.priority,function(){hd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=so(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ji=s,n.target.dispatchEvent(s),Ji=null}else return t=xr(n),t!==null&&Xo(t),e.blockedOn=n,!1;t.shift()}return!0}function oc(e,t,n){Kr(e)&&n.delete(t)}function kp(){no=!1,qt!==null&&Kr(qt)&&(qt=null),en!==null&&Kr(en)&&(en=null),tn!==null&&Kr(tn)&&(tn=null),Js.forEach(oc),Zs.forEach(oc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,kp)))}function qs(e){function t(l){return ks(l,e)}if(0<Ir.length){ks(Ir[0],e);for(var n=1;n<Ir.length;n++){var s=Ir[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qt!==null&&ks(qt,e),en!==null&&ks(en,e),tn!==null&&ks(tn,e),Js.forEach(t),Zs.forEach(t),n=0;n<Yt.length;n++)s=Yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)gd(n),n.blockedOn===null&&Yt.shift()}var qn=Ft.ReactCurrentBatchConfig,cl=!0;function bp(e,t,n,s){var l=J,i=qn.transition;qn.transition=null;try{J=1,Jo(e,t,n,s)}finally{J=l,qn.transition=i}}function Cp(e,t,n,s){var l=J,i=qn.transition;qn.transition=null;try{J=4,Jo(e,t,n,s)}finally{J=l,qn.transition=i}}function Jo(e,t,n,s){if(cl){var l=so(e,t,n,s);if(l===null)ji(e,t,s,ul,n),ic(e,s);else if(Sp(l,e,t,n,s))s.stopPropagation();else if(ic(e,s),t&4&&-1<Np.indexOf(e)){for(;l!==null;){var i=xr(l);if(i!==null&&fd(i),i=so(e,t,n,s),i===null&&ji(e,t,s,ul,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else ji(e,t,s,null,n)}}var ul=null;function so(e,t,n,s){if(ul=null,e=Qo(s),e=vn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Go:return 1;case ad:return 4;case ol:case pp:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Jt=null,Zo=null,Qr=null;function xd(){if(Qr)return Qr;var e,t=Zo,n=t.length,s,l="value"in Jt?Jt.value:Jt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[i-s];s++);return Qr=l.slice(e,1<s?1-s:void 0)}function Gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function ac(){return!1}function et(e){function t(n,s,l,i,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lr:ac,this.isPropagationStopped=ac,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=et(ds),vr=de({},ds,{view:0,detail:0}),Ep=et(vr),fi,hi,bs,zl=de({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(fi=e.screenX-bs.screenX,hi=e.screenY-bs.screenY):hi=fi=0,bs=e),fi)},movementY:function(e){return"movementY"in e?e.movementY:hi}}),cc=et(zl),Pp=de({},zl,{dataTransfer:0}),Dp=et(Pp),Tp=de({},vr,{relatedTarget:0}),pi=et(Tp),Rp=de({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=et(Rp),Lp=de({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Op=et(Lp),Mp=de({},ds,{data:0}),uc=et(Mp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ap[e])?!!t[e]:!1}function ea(){return Fp}var $p=de({},vr,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bp=et($p),Wp=de({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=et(Wp),Up=de({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Vp=et(Up),Hp=de({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=et(Hp),Qp=de({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gp=et(Qp),Yp=[9,13,27,32],ta=Ot&&"CompositionEvent"in window,_s=null;Ot&&"documentMode"in document&&(_s=document.documentMode);var Xp=Ot&&"TextEvent"in window&&!_s,yd=Ot&&(!ta||_s&&8<_s&&11>=_s),fc=" ",hc=!1;function wd(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Jp(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(hc=!0,fc);case"textInput":return e=t.data,e===fc&&hc?null:e;default:return null}}function Zp(e,t){if(zn)return e==="compositionend"||!ta&&wd(e,t)?(e=xd(),Qr=Zo=Jt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qp[e.type]:t==="textarea"}function Nd(e,t,n,s){qu(s),t=dl(t,"onChange"),0<t.length&&(n=new qo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var zs=null,er=null;function em(e){Ld(e,0)}function Al(e){var t=$n(e);if(Ku(t))return e}function tm(e,t){if(e==="change")return t}var Sd=!1;if(Ot){var mi;if(Ot){var gi="oninput"in document;if(!gi){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),gi=typeof mc.oninput=="function"}mi=gi}else mi=!1;Sd=mi&&(!document.documentMode||9<document.documentMode)}function gc(){zs&&(zs.detachEvent("onpropertychange",kd),er=zs=null)}function kd(e){if(e.propertyName==="value"&&Al(er)){var t=[];Nd(t,er,e,Qo(e)),sd(em,t)}}function nm(e,t,n){e==="focusin"?(gc(),zs=t,er=n,zs.attachEvent("onpropertychange",kd)):e==="focusout"&&gc()}function sm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(er)}function rm(e,t){if(e==="click")return Al(t)}function lm(e,t){if(e==="input"||e==="change")return Al(t)}function im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:im;function tr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Fi.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xc(e,t){var n=vc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vc(n)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cd(){for(var e=window,t=rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function om(e){var t=Cd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bd(n.ownerDocument.documentElement,n)){if(s!==null&&na(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=xc(n,i);var o=xc(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var am=Ot&&"documentMode"in document&&11>=document.documentMode,An=null,ro=null,As=null,lo=!1;function yc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||An==null||An!==rl(s)||(s=An,"selectionStart"in s&&na(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),As&&tr(As,s)||(As=s,s=dl(ro,"onSelect"),0<s.length&&(t=new qo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=An)))}function Or(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionend:Or("Transition","TransitionEnd")},vi={},Ed={};Ot&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Fl(e){if(vi[e])return vi[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ed)return vi[e]=t[n];return e}var Pd=Fl("animationend"),Dd=Fl("animationiteration"),Td=Fl("animationstart"),Rd=Fl("transitionend"),Id=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){Id.set(e,t),En(t,[e])}for(var xi=0;xi<wc.length;xi++){var yi=wc[xi],cm=yi.toLowerCase(),um=yi[0].toUpperCase()+yi.slice(1);un(cm,"on"+um)}un(Pd,"onAnimationEnd");un(Dd,"onAnimationIteration");un(Td,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Rd,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function jc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,cp(s,t,void 0,e),e.currentTarget=null}function Ld(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&l.isPropagationStopped())break e;jc(l,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&l.isPropagationStopped())break e;jc(l,a,u),i=c}}}if(il)throw e=eo,il=!1,eo=null,e}function re(e,t){var n=t[uo];n===void 0&&(n=t[uo]=new Set);var s=e+"__bubble";n.has(s)||(Od(t,e,2,!1),n.add(s))}function wi(e,t,n){var s=0;t&&(s|=4),Od(n,e,s,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function nr(e){if(!e[Mr]){e[Mr]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(dm.has(n)||wi(n,!1,e),wi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mr]||(t[Mr]=!0,wi("selectionchange",!1,t))}}function Od(e,t,n,s){switch(vd(t)){case 1:var l=bp;break;case 4:l=Cp;break;default:l=Jo}n=l.bind(null,t,n,e),l=void 0,!qi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ji(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;a!==null;){if(o=vn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}sd(function(){var u=i,h=Qo(n),m=[];e:{var g=Id.get(e);if(g!==void 0){var y=qo,N=e;switch(e){case"keypress":if(Gr(n)===0)break e;case"keydown":case"keyup":y=Bp;break;case"focusin":N="focus",y=pi;break;case"focusout":N="blur",y=pi;break;case"beforeblur":case"afterblur":y=pi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Vp;break;case Pd:case Dd:case Td:y=Ip;break;case Rd:y=Kp;break;case"scroll":y=Ep;break;case"wheel":y=Gp;break;case"copy":case"cut":case"paste":y=Op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=dc}var w=(t&4)!==0,E=!w&&e==="scroll",p=w?g!==null?g+"Capture":null:g;w=[];for(var d=u,v;d!==null;){v=d;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,p!==null&&(x=Xs(d,p),x!=null&&w.push(sr(d,x,v)))),E)break;d=d.return}0<w.length&&(g=new y(g,N,null,n,h),m.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Ji&&(N=n.relatedTarget||n.fromElement)&&(vn(N)||N[Mt]))break e;if((y||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,y?(N=n.relatedTarget||n.toElement,y=u,N=N?vn(N):null,N!==null&&(E=Pn(N),N!==E||N.tag!==5&&N.tag!==6)&&(N=null)):(y=null,N=u),y!==N)){if(w=cc,x="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=dc,x="onPointerLeave",p="onPointerEnter",d="pointer"),E=y==null?g:$n(y),v=N==null?g:$n(N),g=new w(x,d+"leave",y,n,h),g.target=E,g.relatedTarget=v,x=null,vn(h)===u&&(w=new w(p,d+"enter",N,n,h),w.target=v,w.relatedTarget=E,x=w),E=x,y&&N)t:{for(w=y,p=N,d=0,v=w;v;v=In(v))d++;for(v=0,x=p;x;x=In(x))v++;for(;0<d-v;)w=In(w),d--;for(;0<v-d;)p=In(p),v--;for(;d--;){if(w===p||p!==null&&w===p.alternate)break t;w=In(w),p=In(p)}w=null}else w=null;y!==null&&Nc(m,g,y,w,!1),N!==null&&E!==null&&Nc(m,E,N,w,!0)}}e:{if(g=u?$n(u):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var j=tm;else if(pc(g))if(Sd)j=lm;else{j=sm;var b=nm}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=rm);if(j&&(j=j(e,u))){Nd(m,j,n,h);break e}b&&b(e,g,u),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&Ki(g,"number",g.value)}switch(b=u?$n(u):window,e){case"focusin":(pc(b)||b.contentEditable==="true")&&(An=b,ro=u,As=null);break;case"focusout":As=ro=An=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,yc(m,n,h);break;case"selectionchange":if(am)break;case"keydown":case"keyup":yc(m,n,h)}var S;if(ta)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?wd(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(yd&&n.locale!=="ko"&&(zn||k!=="onCompositionStart"?k==="onCompositionEnd"&&zn&&(S=xd()):(Jt=h,Zo="value"in Jt?Jt.value:Jt.textContent,zn=!0)),b=dl(u,k),0<b.length&&(k=new uc(k,e,null,n,h),m.push({event:k,listeners:b}),S?k.data=S:(S=jd(n),S!==null&&(k.data=S)))),(S=Xp?Jp(e,n):Zp(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(h=new uc("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=S))}Ld(m,t)})}function sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Xs(e,n),i!=null&&s.unshift(sr(e,i,l)),i=Xs(e,t),i!=null&&s.push(sr(e,i,l))),e=e.return}return s}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,s,l){for(var i=t._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,l?(c=Xs(n,i),c!=null&&o.unshift(sr(n,c,a))):l||(c=Xs(n,i),c!=null&&o.push(sr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var fm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(fm,`
`).replace(hm,"")}function _r(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(I(425))}function fl(){}var io=null,oo=null;function ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var co=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(gm)}:co;function gm(e){setTimeout(function(){throw e})}function Ni(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),qs(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);qs(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),St="__reactFiber$"+fs,rr="__reactProps$"+fs,Mt="__reactContainer$"+fs,uo="__reactEvents$"+fs,vm="__reactListeners$"+fs,xm="__reactHandles$"+fs;function vn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bc(e);e!==null;){if(n=e[St])return n;e=bc(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[St]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function $l(e){return e[rr]||null}var fo=[],Bn=-1;function dn(e){return{current:e}}function le(e){0>Bn||(e.current=fo[Bn],fo[Bn]=null,Bn--)}function se(e,t){Bn++,fo[Bn]=e.current,e.current=t}var cn={},Me=dn(cn),Ue=dn(!1),Nn=cn;function rs(e,t){var n=e.type.contextTypes;if(!n)return cn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function hl(){le(Ue),le(Me)}function Cc(e,t,n){if(Me.current!==cn)throw Error(I(168));se(Me,t),se(Ue,n)}function Md(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(I(108,np(e)||"Unknown",l));return de({},n,s)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Nn=Me.current,se(Me,e),se(Ue,Ue.current),!0}function Ec(e,t,n){var s=e.stateNode;if(!s)throw Error(I(169));n?(e=Md(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,le(Ue),le(Me),se(Me,e)):le(Ue),se(Ue,n)}var Tt=null,Bl=!1,Si=!1;function _d(e){Tt===null?Tt=[e]:Tt.push(e)}function ym(e){Bl=!0,_d(e)}function fn(){if(!Si&&Tt!==null){Si=!0;var e=0,t=J;try{var n=Tt;for(J=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Tt=null,Bl=!1}catch(l){throw Tt!==null&&(Tt=Tt.slice(e+1)),od(Go,fn),l}finally{J=t,Si=!1}}return null}var Wn=[],Un=0,ml=null,gl=0,st=[],rt=0,Sn=null,Rt=1,It="";function mn(e,t){Wn[Un++]=gl,Wn[Un++]=ml,ml=e,gl=t}function zd(e,t,n){st[rt++]=Rt,st[rt++]=It,st[rt++]=Sn,Sn=e;var s=Rt;e=It;var l=32-pt(s)-1;s&=~(1<<l),n+=1;var i=32-pt(t)+l;if(30<i){var o=l-l%5;i=(s&(1<<o)-1).toString(32),s>>=o,l-=o,Rt=1<<32-pt(t)+l|n<<l|s,It=i+e}else Rt=1<<i|n<<l|s,It=e}function sa(e){e.return!==null&&(mn(e,1),zd(e,1,0))}function ra(e){for(;e===ml;)ml=Wn[--Un],Wn[Un]=null,gl=Wn[--Un],Wn[Un]=null;for(;e===Sn;)Sn=st[--rt],st[rt]=null,It=st[--rt],st[rt]=null,Rt=st[--rt],st[rt]=null}var Je=null,Xe=null,oe=!1,ht=null;function Ad(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function ho(e){return(e.mode&1)!==0&&(e.flags&128)===0}function po(e){if(oe){var t=Xe;if(t){var n=t;if(!Pc(e,t)){if(ho(e))throw Error(I(418));t=nn(n.nextSibling);var s=Je;t&&Pc(e,t)?Ad(s,n):(e.flags=e.flags&-4097|2,oe=!1,Je=e)}}else{if(ho(e))throw Error(I(418));e.flags=e.flags&-4097|2,oe=!1,Je=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function zr(e){if(e!==Je)return!1;if(!oe)return Dc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ao(e.type,e.memoizedProps)),t&&(t=Xe)){if(ho(e))throw Fd(),Error(I(418));for(;t;)Ad(e,t),t=nn(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?nn(e.stateNode.nextSibling):null;return!0}function Fd(){for(var e=Xe;e;)e=nn(e.nextSibling)}function ls(){Xe=Je=null,oe=!1}function la(e){ht===null?ht=[e]:ht.push(e)}var wm=Ft.ReactCurrentBatchConfig;function Cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=l.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Ar(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function $d(e){function t(p,d){if(e){var v=p.deletions;v===null?(p.deletions=[d],p.flags|=16):v.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function s(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function l(p,d){return p=on(p,d),p.index=0,p.sibling=null,p}function i(p,d,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<d?(p.flags|=2,d):v):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,v,x){return d===null||d.tag!==6?(d=Ti(v,p.mode,x),d.return=p,d):(d=l(d,v),d.return=p,d)}function c(p,d,v,x){var j=v.type;return j===_n?h(p,d,v.props.children,x,v.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kt&&Tc(j)===d.type)?(x=l(d,v.props),x.ref=Cs(p,d,v),x.return=p,x):(x=tl(v.type,v.key,v.props,null,p.mode,x),x.ref=Cs(p,d,v),x.return=p,x)}function u(p,d,v,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Ri(v,p.mode,x),d.return=p,d):(d=l(d,v.children||[]),d.return=p,d)}function h(p,d,v,x,j){return d===null||d.tag!==7?(d=jn(v,p.mode,x,j),d.return=p,d):(d=l(d,v),d.return=p,d)}function m(p,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ti(""+d,p.mode,v),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Er:return v=tl(d.type,d.key,d.props,null,p.mode,v),v.ref=Cs(p,null,d),v.return=p,v;case Mn:return d=Ri(d,p.mode,v),d.return=p,d;case Kt:var x=d._init;return m(p,x(d._payload),v)}if(Rs(d)||js(d))return d=jn(d,p.mode,v,null),d.return=p,d;Ar(p,d)}return null}function g(p,d,v,x){var j=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(p,d,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Er:return v.key===j?c(p,d,v,x):null;case Mn:return v.key===j?u(p,d,v,x):null;case Kt:return j=v._init,g(p,d,j(v._payload),x)}if(Rs(v)||js(v))return j!==null?null:h(p,d,v,x,null);Ar(p,v)}return null}function y(p,d,v,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(v)||null,a(d,p,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Er:return p=p.get(x.key===null?v:x.key)||null,c(d,p,x,j);case Mn:return p=p.get(x.key===null?v:x.key)||null,u(d,p,x,j);case Kt:var b=x._init;return y(p,d,v,b(x._payload),j)}if(Rs(x)||js(x))return p=p.get(v)||null,h(d,p,x,j,null);Ar(d,x)}return null}function N(p,d,v,x){for(var j=null,b=null,S=d,k=d=0,C=null;S!==null&&k<v.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var P=g(p,S,v[k],x);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(p,S),d=i(P,d,k),b===null?j=P:b.sibling=P,b=P,S=C}if(k===v.length)return n(p,S),oe&&mn(p,k),j;if(S===null){for(;k<v.length;k++)S=m(p,v[k],x),S!==null&&(d=i(S,d,k),b===null?j=S:b.sibling=S,b=S);return oe&&mn(p,k),j}for(S=s(p,S);k<v.length;k++)C=y(S,p,k,v[k],x),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),d=i(C,d,k),b===null?j=C:b.sibling=C,b=C);return e&&S.forEach(function(L){return t(p,L)}),oe&&mn(p,k),j}function w(p,d,v,x){var j=js(v);if(typeof j!="function")throw Error(I(150));if(v=j.call(v),v==null)throw Error(I(151));for(var b=j=null,S=d,k=d=0,C=null,P=v.next();S!==null&&!P.done;k++,P=v.next()){S.index>k?(C=S,S=null):C=S.sibling;var L=g(p,S,P.value,x);if(L===null){S===null&&(S=C);break}e&&S&&L.alternate===null&&t(p,S),d=i(L,d,k),b===null?j=L:b.sibling=L,b=L,S=C}if(P.done)return n(p,S),oe&&mn(p,k),j;if(S===null){for(;!P.done;k++,P=v.next())P=m(p,P.value,x),P!==null&&(d=i(P,d,k),b===null?j=P:b.sibling=P,b=P);return oe&&mn(p,k),j}for(S=s(p,S);!P.done;k++,P=v.next())P=y(S,p,k,P.value,x),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),d=i(P,d,k),b===null?j=P:b.sibling=P,b=P);return e&&S.forEach(function(A){return t(p,A)}),oe&&mn(p,k),j}function E(p,d,v,x){if(typeof v=="object"&&v!==null&&v.type===_n&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Er:e:{for(var j=v.key,b=d;b!==null;){if(b.key===j){if(j=v.type,j===_n){if(b.tag===7){n(p,b.sibling),d=l(b,v.props.children),d.return=p,p=d;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kt&&Tc(j)===b.type){n(p,b.sibling),d=l(b,v.props),d.ref=Cs(p,b,v),d.return=p,p=d;break e}n(p,b);break}else t(p,b);b=b.sibling}v.type===_n?(d=jn(v.props.children,p.mode,x,v.key),d.return=p,p=d):(x=tl(v.type,v.key,v.props,null,p.mode,x),x.ref=Cs(p,d,v),x.return=p,p=x)}return o(p);case Mn:e:{for(b=v.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(p,d.sibling),d=l(d,v.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=Ri(v,p.mode,x),d.return=p,p=d}return o(p);case Kt:return b=v._init,E(p,d,b(v._payload),x)}if(Rs(v))return N(p,d,v,x);if(js(v))return w(p,d,v,x);Ar(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(p,d.sibling),d=l(d,v),d.return=p,p=d):(n(p,d),d=Ti(v,p.mode,x),d.return=p,p=d),o(p)):n(p,d)}return E}var is=$d(!0),Bd=$d(!1),vl=dn(null),xl=null,Vn=null,ia=null;function oa(){ia=Vn=xl=null}function aa(e){var t=vl.current;le(vl),e._currentValue=t}function mo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function es(e,t){xl=e,ia=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(ia!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(xl===null)throw Error(I(308));Vn=e,xl.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var xn=null;function ca(e){xn===null?xn=[e]:xn.push(e)}function Wd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,ca(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,s)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,X&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,_t(e,n)}return l=s.interleaved,l===null?(t.next=t,ca(s)):(t.next=l.next,l.next=t),s.interleaved=t,_t(e,n)}function Yr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Yo(e,n)}}function Rc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yl(e,t,n,s){var l=e.updateQueue;Qt=!1;var i=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var m=l.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,y=a.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,w=a;switch(g=t,y=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){m=N.call(y,m,g);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,g=typeof N=="function"?N.call(y,m,g):N,g==null)break e;m=de({},m,g);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,c=m):h=h.next=y,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);bn|=o,e.lanes=o,e.memoizedState=m}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(I(191,l));l.call(s)}}}var yr={},bt=dn(yr),lr=dn(yr),ir=dn(yr);function yn(e){if(e===yr)throw Error(I(174));return e}function da(e,t){switch(se(ir,t),se(lr,e),se(bt,yr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gi(t,e)}le(bt),se(bt,t)}function os(){le(bt),le(lr),le(ir)}function Vd(e){yn(ir.current);var t=yn(bt.current),n=Gi(t,e.type);t!==n&&(se(lr,e),se(bt,n))}function fa(e){lr.current===e&&(le(bt),le(lr))}var ce=dn(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=[];function ha(){for(var e=0;e<ki.length;e++)ki[e]._workInProgressVersionPrimary=null;ki.length=0}var Xr=Ft.ReactCurrentDispatcher,bi=Ft.ReactCurrentBatchConfig,kn=0,ue=null,xe=null,Se=null,jl=!1,Fs=!1,or=0,jm=0;function Ie(){throw Error(I(321))}function pa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function ma(e,t,n,s,l,i){if(kn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xr.current=e===null||e.memoizedState===null?bm:Cm,e=n(s,l),Fs){i=0;do{if(Fs=!1,or=0,25<=i)throw Error(I(301));i+=1,Se=xe=null,t.updateQueue=null,Xr.current=Em,e=n(s,l)}while(Fs)}if(Xr.current=Nl,t=xe!==null&&xe.next!==null,kn=0,Se=xe=ue=null,jl=!1,t)throw Error(I(300));return e}function ga(){var e=or!==0;return or=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ue.memoizedState=Se=e:Se=Se.next=e,Se}function at(){if(xe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Se===null?ue.memoizedState:Se.next;if(t!==null)Se=t,xe=e;else{if(e===null)throw Error(I(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Se===null?ue.memoizedState=Se=e:Se=Se.next=e}return Se}function ar(e,t){return typeof t=="function"?t(e):t}function Ci(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=xe,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var o=l.next;l.next=i.next,i.next=o}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((kn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=s):c=c.next=m,ue.lanes|=h,bn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ue.lanes|=i,bn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ei(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do i=e(i,o.action),o=o.next;while(o!==l);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Hd(){}function Kd(e,t){var n=ue,s=at(),l=t(),i=!gt(s.memoizedState,l);if(i&&(s.memoizedState=l,We=!0),s=s.queue,va(Yd.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,cr(9,Gd.bind(null,n,s,l,t),void 0,null),be===null)throw Error(I(349));kn&30||Qd(n,t,l)}return l}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gd(e,t,n,s){t.value=n,t.getSnapshot=s,Xd(t)&&Jd(e)}function Yd(e,t,n){return n(function(){Xd(t)&&Jd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Jd(e){var t=_t(e,1);t!==null&&mt(t,e,1,-1)}function Lc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},t.queue=e,e=e.dispatch=km.bind(null,ue,e),[t.memoizedState,e]}function cr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Zd(){return at().memoizedState}function Jr(e,t,n,s){var l=Nt();ue.flags|=e,l.memoizedState=cr(1|t,n,void 0,s===void 0?null:s)}function Wl(e,t,n,s){var l=at();s=s===void 0?null:s;var i=void 0;if(xe!==null){var o=xe.memoizedState;if(i=o.destroy,s!==null&&pa(s,o.deps)){l.memoizedState=cr(t,n,i,s);return}}ue.flags|=e,l.memoizedState=cr(1|t,n,i,s)}function Oc(e,t){return Jr(8390656,8,e,t)}function va(e,t){return Wl(2048,8,e,t)}function qd(e,t){return Wl(4,2,e,t)}function ef(e,t){return Wl(4,4,e,t)}function tf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nf(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,tf.bind(null,t,e),n)}function xa(){}function sf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pa(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function rf(e,t){var n=at();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pa(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function lf(e,t,n){return kn&21?(gt(n,t)||(n=ud(),ue.lanes|=n,bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Nm(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var s=bi.transition;bi.transition={};try{e(!1),t()}finally{J=n,bi.transition=s}}function of(){return at().memoizedState}function Sm(e,t,n){var s=ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},af(e))cf(t,n);else if(n=Wd(e,t,n,s),n!==null){var l=ze();mt(n,e,s,l),uf(n,t,s)}}function km(e,t,n){var s=ln(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(af(e))cf(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(l.hasEagerState=!0,l.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(l.next=l,ca(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Wd(e,t,l,s),n!==null&&(l=ze(),mt(n,e,s,l),uf(n,t,s))}}function af(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function cf(e,t){Fs=jl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uf(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Yo(e,n)}}var Nl={readContext:ot,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},bm={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jr(4194308,4,tf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Nt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Sm.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:xa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Nm.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ue,l=Nt();if(oe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),be===null)throw Error(I(349));kn&30||Qd(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Oc(Yd.bind(null,s,i,e),[e]),s.flags|=2048,cr(9,Gd.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=be.identifierPrefix;if(oe){var n=It,s=Rt;n=(s&~(1<<32-pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cm={readContext:ot,useCallback:sf,useContext:ot,useEffect:va,useImperativeHandle:nf,useInsertionEffect:qd,useLayoutEffect:ef,useMemo:rf,useReducer:Ci,useRef:Zd,useState:function(){return Ci(ar)},useDebugValue:xa,useDeferredValue:function(e){var t=at();return lf(t,xe.memoizedState,e)},useTransition:function(){var e=Ci(ar)[0],t=at().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Kd,useId:of,unstable_isNewReconciler:!1},Em={readContext:ot,useCallback:sf,useContext:ot,useEffect:va,useImperativeHandle:nf,useInsertionEffect:qd,useLayoutEffect:ef,useMemo:rf,useReducer:Ei,useRef:Zd,useState:function(){return Ei(ar)},useDebugValue:xa,useDeferredValue:function(e){var t=at();return xe===null?t.memoizedState=e:lf(t,xe.memoizedState,e)},useTransition:function(){var e=Ei(ar)[0],t=at().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Kd,useId:of,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function go(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ze(),l=ln(e),i=Lt(s,l);i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Yr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ze(),l=ln(e),i=Lt(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,l),t!==null&&(mt(t,e,l,s),Yr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),s=ln(e),l=Lt(n,s);l.tag=2,t!=null&&(l.callback=t),t=sn(e,l,s),t!==null&&(mt(t,e,s,n),Yr(t,e,s))}};function Mc(e,t,n,s,l,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!tr(n,s)||!tr(l,i):!0}function df(e,t,n){var s=!1,l=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(l=Ve(t)?Nn:Me.current,s=t.contextTypes,i=(s=s!=null)?rs(e,l):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function _c(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ua(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=ot(i):(i=Ve(t)?Nn:Me.current,l.context=rs(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(go(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ul.enqueueReplaceState(l,l.state,null),yl(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var n="",s=t;do n+=tp(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Pi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pm=typeof WeakMap=="function"?WeakMap:Map;function ff(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){kl||(kl=!0,Po=s),xo(e,t)},n}function hf(e,t,n){n=Lt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){xo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xo(e,t),typeof s!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Pm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Wm.bind(null,e,t,n),t.then(e,e))}function Ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var Dm=Ft.ReactCurrentOwner,We=!1;function _e(e,t,n,s){t.child=e===null?Bd(t,null,n,s):is(t,e.child,n,s)}function $c(e,t,n,s,l){n=n.render;var i=t.ref;return es(t,l),s=ma(e,t,n,s,i,l),n=ga(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(oe&&n&&sa(t),t.flags|=1,_e(e,t,s,l),t.child)}function Bc(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!Ca(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pf(e,t,i,s,l)):(e=tl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(o,s)&&e.ref===t.ref)return zt(e,t,l)}return t.flags|=1,e=on(i,s),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(tr(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,l)}return yo(e,t,n,s,l)}function mf(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Kn,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Kn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,se(Kn,Ye),Ye|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,se(Kn,Ye),Ye|=s;return _e(e,t,l,n),t.child}function gf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yo(e,t,n,s,l){var i=Ve(n)?Nn:Me.current;return i=rs(t,i),es(t,l),n=ma(e,t,n,s,i,l),s=ga(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(oe&&s&&sa(t),t.flags|=1,_e(e,t,n,l),t.child)}function Wc(e,t,n,s,l){if(Ve(n)){var i=!0;pl(t)}else i=!1;if(es(t,l),t.stateNode===null)Zr(e,t),df(t,n,s),vo(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?Nn:Me.current,u=rs(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&_c(t,o,s,u),Qt=!1;var g=t.memoizedState;o.state=g,yl(t,s,o,l),c=t.memoizedState,a!==s||g!==c||Ue.current||Qt?(typeof h=="function"&&(go(t,n,h,s),c=t.memoizedState),(a=Qt||Mc(t,n,a,s,g,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Ud(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,m=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?Nn:Me.current,c=rs(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==c)&&_c(t,o,s,c),Qt=!1,g=t.memoizedState,o.state=g,yl(t,s,o,l);var N=t.memoizedState;a!==m||g!==N||Ue.current||Qt?(typeof y=="function"&&(go(t,n,y,s),N=t.memoizedState),(u=Qt||Mc(t,n,u,s,g,N,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),o.props=s,o.state=N,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return wo(e,t,n,s,i,l)}function wo(e,t,n,s,l,i){gf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&Ec(t,n,!1),zt(e,t,i);s=t.stateNode,Dm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=is(t,e.child,null,i),t.child=is(t,null,a,i)):_e(e,t,a,i),t.memoizedState=s.state,l&&Ec(t,n,!0),t.child}function vf(e){var t=e.stateNode;t.pendingContext?Cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cc(e,t.context,!1),da(e,t.containerInfo)}function Uc(e,t,n,s,l){return ls(),la(l),t.flags|=256,_e(e,t,n,s),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0};function No(e){return{baseLanes:e,cachePool:null,transitions:null}}function xf(e,t,n){var s=t.pendingProps,l=ce.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(ce,l&1),e===null)return po(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kl(o,s,0,null),e=jn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=No(n),t.memoizedState=jo,e):ya(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Tm(e,t,o,s,a,l,n);if(i){i=s.fallback,o=t.mode,l=e.child,a=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=on(l,c),s.subtreeFlags=l.subtreeFlags&14680064),a!==null?i=on(a,i):(i=jn(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?No(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=jo,s}return i=e.child,e=i.sibling,s=on(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ya(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fr(e,t,n,s){return s!==null&&la(s),is(t,e.child,null,n),e=ya(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tm(e,t,n,s,l,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Pi(Error(I(422))),Fr(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Kl({mode:"visible",children:s.children},l,0,null),i=jn(i,l,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&is(t,e.child,null,o),t.child.memoizedState=No(o),t.memoizedState=jo,i);if(!(t.mode&1))return Fr(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(I(419)),s=Pi(i,s,void 0),Fr(e,t,o,s)}if(a=(o&e.childLanes)!==0,We||a){if(s=be,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,_t(e,l),mt(s,e,l,-1))}return ba(),s=Pi(Error(I(421))),Fr(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Um.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,Xe=nn(l.nextSibling),Je=t,oe=!0,ht=null,e!==null&&(st[rt++]=Rt,st[rt++]=It,st[rt++]=Sn,Rt=e.id,It=e.overflow,Sn=t),t=ya(t,s.children),t.flags|=4096,t)}function Vc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),mo(e.return,t,n)}function Di(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function yf(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(_e(e,t,s.children,n),s=ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vc(e,n,t);else if(e.tag===19)Vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(se(ce,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Di(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&wl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Di(t,!0,n,null,i);break;case"together":Di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rm(e,t,n){switch(t.tag){case 3:vf(t),ls();break;case 5:Vd(t);break;case 1:Ve(t.type)&&pl(t);break;case 4:da(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;se(vl,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(se(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?xf(e,t,n):(se(ce,ce.current&1),e=zt(e,t,n),e!==null?e.sibling:null);se(ce,ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return yf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(ce,ce.current),s)break;return null;case 22:case 23:return t.lanes=0,mf(e,t,n)}return zt(e,t,n)}var wf,So,jf,Nf;wf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};So=function(){};jf=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,yn(bt.current);var i=null;switch(n){case"input":l=Vi(e,l),s=Vi(e,s),i=[];break;case"select":l=de({},l,{value:void 0}),s=de({},s,{value:void 0}),i=[];break;case"textarea":l=Qi(e,l),s=Qi(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fl)}Yi(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var a=l[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&re("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Nf=function(e,t,n,s){n!==s&&(t.flags|=4)};function Es(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Im(e,t,n){var s=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ve(t.type)&&hl(),Le(t),null;case 3:return s=t.stateNode,os(),le(Ue),le(Me),ha(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Ro(ht),ht=null))),So(e,t),Le(t),null;case 5:fa(t);var l=yn(ir.current);if(n=t.type,e!==null&&t.stateNode!=null)jf(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Le(t),null}if(e=yn(bt.current),zr(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[St]=t,s[rr]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",s),re("close",s);break;case"iframe":case"object":case"embed":re("load",s);break;case"video":case"audio":for(l=0;l<Ls.length;l++)re(Ls[l],s);break;case"source":re("error",s);break;case"img":case"image":case"link":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"input":qa(s,i),re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},re("invalid",s);break;case"textarea":tc(s,i),re("invalid",s)}Yi(n,i),l=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,a,e),l=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_r(s.textContent,a,e),l=["children",""+a]):Gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",s)}switch(n){case"input":Pr(s),ec(s,i,!0);break;case"textarea":Pr(s),nc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=fl)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[St]=t,e[rr]=s,wf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xi(n,s),n){case"dialog":re("cancel",e),re("close",e),l=s;break;case"iframe":case"object":case"embed":re("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ls.length;l++)re(Ls[l],e);l=s;break;case"source":re("error",e),l=s;break;case"img":case"image":case"link":re("error",e),re("load",e),l=s;break;case"details":re("toggle",e),l=s;break;case"input":qa(e,s),l=Vi(e,s),re("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=de({},s,{value:void 0}),re("invalid",e);break;case"textarea":tc(e,s),l=Qi(e,s),re("invalid",e);break;default:l=s}Yi(n,l),a=l;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Zu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ys(e,c):typeof c=="number"&&Ys(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&Uo(e,i,c,o))}switch(n){case"input":Pr(e),ec(e,s,!1);break;case"textarea":Pr(e),nc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+an(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Xn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Xn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Nf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(n=yn(ir.current),yn(bt.current),zr(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(i=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:_r(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_r(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return Le(t),null;case 13:if(le(ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Xe!==null&&t.mode&1&&!(t.flags&128))Fd(),ls(),t.flags|=98560,i=!1;else if(i=zr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[St]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else ht!==null&&(Ro(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?we===0&&(we=3):ba())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return os(),So(e,t),e===null&&nr(t.stateNode.containerInfo),Le(t),null;case 10:return aa(t.type._context),Le(t),null;case 17:return Ve(t.type)&&hl(),Le(t),null;case 19:if(le(ce),i=t.memoizedState,i===null)return Le(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Es(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wl(e),o!==null){for(t.flags|=128,Es(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>cs&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304)}else{if(!s)if(e=wl(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Le(t),null}else 2*me()-i.renderingStartTime>cs&&n!==1073741824&&(t.flags|=128,s=!0,Es(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ce.current,se(ce,s?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return ka(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ye&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Lm(e,t){switch(ra(t),t.tag){case 1:return Ve(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return os(),le(Ue),le(Me),ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fa(t),null;case 13:if(le(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ce),null;case 4:return os(),null;case 10:return aa(t.type._context),null;case 22:case 23:return ka(),null;case 24:return null;default:return null}}var $r=!1,Oe=!1,Om=typeof WeakSet=="function"?WeakSet:Set,F=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){fe(e,t,s)}else n.current=null}function ko(e,t,n){try{n()}catch(s){fe(e,t,s)}}var Hc=!1;function Mm(e,t){if(io=cl,e=Cd(),na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,m=e,g=null;t:for(;;){for(var y;m!==n||l!==0&&m.nodeType!==3||(a=o+l),m!==i||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===e)break t;if(g===n&&++u===l&&(a=o),g===i&&++h===s&&(c=o),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oo={focusedElem:e,selectionRange:n},cl=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,E=N.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),E);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){fe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return N=Hc,Hc=!1,N}function $s(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ko(t,n,i)}l=l.next}while(l!==s)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function bo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sf(e){var t=e.alternate;t!==null&&(e.alternate=null,Sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[rr],delete t[uo],delete t[vm],delete t[xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kf(e){return e.tag===5||e.tag===3||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Co(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(s!==4&&(e=e.child,e!==null))for(Co(e,t,n),e=e.sibling;e!==null;)Co(e,t,n),e=e.sibling}function Eo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Eo(e,t,n),e=e.sibling;e!==null;)Eo(e,t,n),e=e.sibling}var Pe=null,ft=!1;function Ht(e,t,n){for(n=n.child;n!==null;)bf(e,t,n),n=n.sibling}function bf(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Oe||Hn(n,t);case 6:var s=Pe,l=ft;Pe=null,Ht(e,t,n),Pe=s,ft=l,Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?Ni(e.parentNode,n):e.nodeType===1&&Ni(e,n),qs(e)):Ni(Pe,n.stateNode));break;case 4:s=Pe,l=ft,Pe=n.stateNode.containerInfo,ft=!0,Ht(e,t,n),Pe=s,ft=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ko(n,t,o),l=l.next}while(l!==s)}Ht(e,t,n);break;case 1:if(!Oe&&(Hn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){fe(n,t,a)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Oe=(s=Oe)||n.memoizedState!==null,Ht(e,t,n),Oe=s):Ht(e,t,n);break;default:Ht(e,t,n)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Om),t.forEach(function(s){var l=Vm.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,ft=!1;break e;case 3:Pe=a.stateNode.containerInfo,ft=!0;break e;case 4:Pe=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Pe===null)throw Error(I(160));bf(i,o,l),Pe=null,ft=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){fe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cf(t,e),t=t.sibling}function Cf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),jt(e),s&4){try{$s(3,e,e.return),Vl(3,e)}catch(w){fe(e,e.return,w)}try{$s(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:ut(t,e),jt(e),s&512&&n!==null&&Hn(n,n.return);break;case 5:if(ut(t,e),jt(e),s&512&&n!==null&&Hn(n,n.return),e.flags&32){var l=e.stateNode;try{Ys(l,"")}catch(w){fe(e,e.return,w)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Qu(l,i),Xi(a,o);var u=Xi(a,i);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?Zu(l,m):h==="dangerouslySetInnerHTML"?Xu(l,m):h==="children"?Ys(l,m):Uo(l,h,m,u)}switch(a){case"input":Hi(l,i);break;case"textarea":Gu(l,i);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Xn(l,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Xn(l,!!i.multiple,i.defaultValue,!0):Xn(l,!!i.multiple,i.multiple?[]:"",!1))}l[rr]=i}catch(w){fe(e,e.return,w)}}break;case 6:if(ut(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(I(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(w){fe(e,e.return,w)}}break;case 3:if(ut(t,e),jt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:ut(t,e),jt(e);break;case 13:ut(t,e),jt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Na=me())),s&4&&Qc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||h,ut(t,e),Oe=u):ut(t,e),jt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(F=e,h=e.child;h!==null;){for(m=F=h;F!==null;){switch(g=F,y=g.child,g.tag){case 0:case 11:case 14:case 15:$s(4,g,g.return);break;case 1:Hn(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){fe(s,n,w)}}break;case 5:Hn(g,g.return);break;case 22:if(g.memoizedState!==null){Yc(m);continue}}y!==null?(y.return=g,F=y):Yc(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{l=m.stateNode,u?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ju("display",o))}catch(w){fe(e,e.return,w)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){fe(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ut(t,e),jt(e),s&4&&Qc(e);break;case 21:break;default:ut(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kf(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Ys(l,""),s.flags&=-33);var i=Kc(e);Eo(e,i,l);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Kc(e);Co(e,a,o);break;default:throw Error(I(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _m(e,t,n){F=e,Ef(e)}function Ef(e,t,n){for(var s=(e.mode&1)!==0;F!==null;){var l=F,i=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||$r;if(!o){var a=l.alternate,c=a!==null&&a.memoizedState!==null||Oe;a=$r;var u=Oe;if($r=o,(Oe=c)&&!u)for(F=l;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Xc(l):c!==null?(c.return=o,F=c):Xc(l);for(;i!==null;)F=i,Ef(i),i=i.sibling;F=l,$r=a,Oe=u}Gc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,F=i):Gc(e)}}function Gc(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Vl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Oe)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&qs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Oe||t.flags&512&&bo(t)}catch(g){fe(t,t.return,g)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Yc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Xc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(c){fe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){fe(t,l,c)}}var i=t.return;try{bo(t)}catch(c){fe(t,i,c)}break;case 5:var o=t.return;try{bo(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var zm=Math.ceil,Sl=Ft.ReactCurrentDispatcher,wa=Ft.ReactCurrentOwner,it=Ft.ReactCurrentBatchConfig,X=0,be=null,ve=null,De=0,Ye=0,Kn=dn(0),we=0,ur=null,bn=0,Hl=0,ja=0,Bs=null,Be=null,Na=0,cs=1/0,Dt=null,kl=!1,Po=null,rn=null,Br=!1,Zt=null,bl=0,Ws=0,Do=null,qr=-1,el=0;function ze(){return X&6?me():qr!==-1?qr:qr=me()}function ln(e){return e.mode&1?X&2&&De!==0?De&-De:wm.transition!==null?(el===0&&(el=ud()),el):(e=J,e!==0||(e=window.event,e=e===void 0?16:vd(e.type)),e):1}function mt(e,t,n,s){if(50<Ws)throw Ws=0,Do=null,Error(I(185));gr(e,n,s),(!(X&2)||e!==be)&&(e===be&&(!(X&2)&&(Hl|=n),we===4&&Xt(e,De)),He(e,s),n===1&&X===0&&!(t.mode&1)&&(cs=me()+500,Bl&&fn()))}function He(e,t){var n=e.callbackNode;wp(e,t);var s=al(e,e===be?De:0);if(s===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?ym(Jc.bind(null,e)):_d(Jc.bind(null,e)),mm(function(){!(X&6)&&fn()}),n=null;else{switch(dd(s)){case 1:n=Go;break;case 4:n=ad;break;case 16:n=ol;break;case 536870912:n=cd;break;default:n=ol}n=Mf(n,Pf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pf(e,t){if(qr=-1,el=0,X&6)throw Error(I(327));var n=e.callbackNode;if(ts()&&e.callbackNode!==n)return null;var s=al(e,e===be?De:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Cl(e,s);else{t=s;var l=X;X|=2;var i=Tf();(be!==e||De!==t)&&(Dt=null,cs=me()+500,wn(e,t));do try{$m();break}catch(a){Df(e,a)}while(!0);oa(),Sl.current=i,X=l,ve!==null?t=0:(be=null,De=0,t=we)}if(t!==0){if(t===2&&(l=to(e),l!==0&&(s=l,t=To(e,l))),t===1)throw n=ur,wn(e,0),Xt(e,s),He(e,me()),n;if(t===6)Xt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Am(l)&&(t=Cl(e,s),t===2&&(i=to(e),i!==0&&(s=i,t=To(e,i))),t===1))throw n=ur,wn(e,0),Xt(e,s),He(e,me()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:gn(e,Be,Dt);break;case 3:if(Xt(e,s),(s&130023424)===s&&(t=Na+500-me(),10<t)){if(al(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=co(gn.bind(null,e,Be,Dt),t);break}gn(e,Be,Dt);break;case 4:if(Xt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-pt(s);i=1<<o,o=t[o],o>l&&(l=o),s&=~i}if(s=l,s=me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zm(s/1960))-s,10<s){e.timeoutHandle=co(gn.bind(null,e,Be,Dt),s);break}gn(e,Be,Dt);break;case 5:gn(e,Be,Dt);break;default:throw Error(I(329))}}}return He(e,me()),e.callbackNode===n?Pf.bind(null,e):null}function To(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Ro(t)),e}function Ro(e){Be===null?Be=e:Be.push.apply(Be,e)}function Am(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ja,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function Jc(e){if(X&6)throw Error(I(327));ts();var t=al(e,0);if(!(t&1))return He(e,me()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var s=to(e);s!==0&&(t=s,n=To(e,s))}if(n===1)throw n=ur,wn(e,0),Xt(e,t),He(e,me()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Be,Dt),He(e,me()),null}function Sa(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(cs=me()+500,Bl&&fn())}}function Cn(e){Zt!==null&&Zt.tag===0&&!(X&6)&&ts();var t=X;X|=1;var n=it.transition,s=J;try{if(it.transition=null,J=1,e)return e()}finally{J=s,it.transition=n,X=t,!(X&6)&&fn()}}function ka(){Ye=Kn.current,le(Kn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pm(n)),ve!==null)for(n=ve.return;n!==null;){var s=n;switch(ra(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hl();break;case 3:os(),le(Ue),le(Me),ha();break;case 5:fa(s);break;case 4:os();break;case 13:le(ce);break;case 19:le(ce);break;case 10:aa(s.type._context);break;case 22:case 23:ka()}n=n.return}if(be=e,ve=e=on(e.current,null),De=Ye=t,we=0,ur=null,ja=Hl=bn=0,Be=Bs=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=l,s.next=o}n.pending=s}xn=null}return e}function Df(e,t){do{var n=ve;try{if(oa(),Xr.current=Nl,jl){for(var s=ue.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}jl=!1}if(kn=0,Se=xe=ue=null,Fs=!1,or=0,wa.current=null,n===null||n.return===null){we=1,ur=t,ve=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=De,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Ac(o);if(y!==null){y.flags&=-257,Fc(y,o,a,i,t),y.mode&1&&zc(i,u,t),t=y,c=u;var N=t.updateQueue;if(N===null){var w=new Set;w.add(c),t.updateQueue=w}else N.add(c);break e}else{if(!(t&1)){zc(i,u,t),ba();break e}c=Error(I(426))}}else if(oe&&a.mode&1){var E=Ac(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Fc(E,o,a,i,t),la(as(c,a));break e}}i=c=as(c,a),we!==4&&(we=2),Bs===null?Bs=[i]:Bs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=ff(i,c,t);Rc(i,p);break e;case 1:a=c;var d=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rn===null||!rn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=hf(i,a,t);Rc(i,x);break e}}i=i.return}while(i!==null)}If(n)}catch(j){t=j,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function Tf(){var e=Sl.current;return Sl.current=Nl,e===null?Nl:e}function ba(){(we===0||we===3||we===2)&&(we=4),be===null||!(bn&268435455)&&!(Hl&268435455)||Xt(be,De)}function Cl(e,t){var n=X;X|=2;var s=Tf();(be!==e||De!==t)&&(Dt=null,wn(e,t));do try{Fm();break}catch(l){Df(e,l)}while(!0);if(oa(),X=n,Sl.current=s,ve!==null)throw Error(I(261));return be=null,De=0,we}function Fm(){for(;ve!==null;)Rf(ve)}function $m(){for(;ve!==null&&!dp();)Rf(ve)}function Rf(e){var t=Of(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?If(e):ve=t,wa.current=null}function If(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lm(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=Im(n,t,Ye),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function gn(e,t,n){var s=J,l=it.transition;try{it.transition=null,J=1,Bm(e,t,n,s)}finally{it.transition=l,J=s}return null}function Bm(e,t,n,s){do ts();while(Zt!==null);if(X&6)throw Error(I(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jp(e,i),e===be&&(ve=be=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Br||(Br=!0,Mf(ol,function(){return ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=J;J=1;var a=X;X|=4,wa.current=null,Mm(e,n),Cf(n,e),om(oo),cl=!!io,oo=io=null,e.current=n,_m(n),fp(),X=a,J=o,it.transition=i}else e.current=n;if(Br&&(Br=!1,Zt=e,bl=l),i=e.pendingLanes,i===0&&(rn=null),mp(n.stateNode),He(e,me()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(kl)throw kl=!1,e=Po,Po=null,e;return bl&1&&e.tag!==0&&ts(),i=e.pendingLanes,i&1?e===Do?Ws++:(Ws=0,Do=e):Ws=0,fn(),null}function ts(){if(Zt!==null){var e=dd(bl),t=it.transition,n=J;try{if(it.transition=null,J=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,bl=0,X&6)throw Error(I(331));var l=X;for(X|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(F=u;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:$s(8,h,i)}var m=h.child;if(m!==null)m.return=h,F=m;else for(;F!==null;){h=F;var g=h.sibling,y=h.return;if(Sf(h),h===u){F=null;break}if(g!==null){g.return=y,F=g;break}F=y}}}var N=i.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$s(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,F=p;break e}F=i.return}}var d=e.current;for(F=d;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=d;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(j){fe(a,a.return,j)}if(a===o){F=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,F=x;break e}F=a.return}}if(X=l,fn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(_l,e)}catch{}s=!0}return s}finally{J=n,it.transition=t}}return!1}function Zc(e,t,n){t=as(n,t),t=ff(e,t,1),e=sn(e,t,1),t=ze(),e!==null&&(gr(e,1,t),He(e,t))}function fe(e,t,n){if(e.tag===3)Zc(e,e,n);else for(;t!==null;){if(t.tag===3){Zc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rn===null||!rn.has(s))){e=as(n,e),e=hf(t,e,1),t=sn(t,e,1),e=ze(),t!==null&&(gr(t,1,e),He(t,e));break}}t=t.return}}function Wm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(De&n)===n&&(we===4||we===3&&(De&130023424)===De&&500>me()-Na?wn(e,0):ja|=n),He(e,t)}function Lf(e,t){t===0&&(e.mode&1?(t=Rr,Rr<<=1,!(Rr&130023424)&&(Rr=4194304)):t=1);var n=ze();e=_t(e,t),e!==null&&(gr(e,t,n),He(e,n))}function Um(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lf(e,n)}function Vm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Lf(e,n)}var Of;Of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Rm(e,t,n);We=!!(e.flags&131072)}else We=!1,oe&&t.flags&1048576&&zd(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zr(e,t),e=t.pendingProps;var l=rs(t,Me.current);es(t,n),l=ma(null,t,s,e,l,n);var i=ga();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,pl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ua(t),l.updater=Ul,t.stateNode=l,l._reactInternals=t,vo(t,s,e,n),t=wo(null,t,s,!0,i,n)):(t.tag=0,oe&&i&&sa(t),_e(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Zr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Km(s),e=dt(s,e),l){case 0:t=yo(null,t,s,e,n);break e;case 1:t=Wc(null,t,s,e,n);break e;case 11:t=$c(null,t,s,e,n);break e;case 14:t=Bc(null,t,s,dt(s.type,e),n);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),yo(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Wc(e,t,s,l,n);case 3:e:{if(vf(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Ud(e,t),yl(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=as(Error(I(423)),t),t=Uc(e,t,s,n,l);break e}else if(s!==l){l=as(Error(I(424)),t),t=Uc(e,t,s,n,l);break e}else for(Xe=nn(t.stateNode.containerInfo.firstChild),Je=t,oe=!0,ht=null,n=Bd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),s===l){t=zt(e,t,n);break e}_e(e,t,s,n)}t=t.child}return t;case 5:return Vd(t),e===null&&po(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,o=l.children,ao(s,l)?o=null:i!==null&&ao(s,i)&&(t.flags|=32),gf(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&po(t),null;case 13:return xf(e,t,n);case 4:return da(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=is(t,null,s,n):_e(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),$c(e,t,s,l,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,o=l.value,se(vl,s._currentValue),s._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===l.children&&!Ue.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Lt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),mo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,es(t,n),l=ot(l),s=s(l),t.flags|=1,_e(e,t,s,n),t.child;case 14:return s=t.type,l=dt(s,t.pendingProps),l=dt(s.type,l),Bc(e,t,s,l,n);case 15:return pf(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:dt(s,l),Zr(e,t),t.tag=1,Ve(s)?(e=!0,pl(t)):e=!1,es(t,n),df(t,s,l),vo(t,s,l,n),wo(null,t,s,!0,e,n);case 19:return yf(e,t,n);case 22:return mf(e,t,n)}throw Error(I(156,t.tag))};function Mf(e,t){return od(e,t)}function Hm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new Hm(e,t,n,s)}function Ca(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Km(e){if(typeof e=="function")return Ca(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ho)return 11;if(e===Ko)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,s,l,i){var o=2;if(s=e,typeof e=="function")Ca(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return jn(n.children,l,i,t);case Vo:o=8,l|=8;break;case $i:return e=lt(12,n,t,l|2),e.elementType=$i,e.lanes=i,e;case Bi:return e=lt(13,n,t,l),e.elementType=Bi,e.lanes=i,e;case Wi:return e=lt(19,n,t,l),e.elementType=Wi,e.lanes=i,e;case Vu:return Kl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wu:o=10;break e;case Uu:o=9;break e;case Ho:o=11;break e;case Ko:o=14;break e;case Kt:o=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=lt(o,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function jn(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function Kl(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Vu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ti(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Ri(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qm(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ea(e,t,n,s,l,i,o,a,c){return e=new Qm(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ua(i),e}function Gm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function _f(e){if(!e)return cn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Md(e,n,t)}return t}function zf(e,t,n,s,l,i,o,a,c){return e=Ea(n,s,!0,e,l,i,o,a,c),e.context=_f(null),n=e.current,s=ze(),l=ln(n),i=Lt(s,l),i.callback=t??null,sn(n,i,l),e.current.lanes=l,gr(e,l,s),He(e,s),e}function Ql(e,t,n,s){var l=t.current,i=ze(),o=ln(l);return n=_f(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=sn(l,t,o),e!==null&&(mt(e,l,o,i),Yr(e,l,o)),o}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pa(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}function Ym(){return null}var Af=typeof reportError=="function"?reportError:function(e){console.error(e)};function Da(e){this._internalRoot=e}Gl.prototype.render=Da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ql(e,t,null,null)};Gl.prototype.unmount=Da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ql(null,e,null,null)}),t[Mt]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&gd(e)}};function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function Xm(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var u=El(o);i.call(u)}}var o=zf(t,s,e,0,null,!1,!1,"",eu);return e._reactRootContainer=o,e[Mt]=o.current,nr(e.nodeType===8?e.parentNode:e),Cn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var a=s;s=function(){var u=El(c);a.call(u)}}var c=Ea(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=c,e[Mt]=c.current,nr(e.nodeType===8?e.parentNode:e),Cn(function(){Ql(t,c,n,s)}),c}function Xl(e,t,n,s,l){var i=n._reactRootContainer;if(i){var o=i;if(typeof l=="function"){var a=l;l=function(){var c=El(o);a.call(c)}}Ql(t,o,e,l)}else o=Xm(n,t,e,l,s);return El(o)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Is(t.pendingLanes);n!==0&&(Yo(t,n|1),He(t,me()),!(X&6)&&(cs=me()+500,fn()))}break;case 13:Cn(function(){var s=_t(e,1);if(s!==null){var l=ze();mt(s,e,1,l)}}),Pa(e,1)}};Xo=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=ze();mt(t,e,134217728,n)}Pa(e,134217728)}};hd=function(e){if(e.tag===13){var t=ln(e),n=_t(e,t);if(n!==null){var s=ze();mt(n,e,t,s)}Pa(e,t)}};pd=function(){return J};md=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Zi=function(e,t,n){switch(t){case"input":if(Hi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=$l(s);if(!l)throw Error(I(90));Ku(s),Hi(s,l)}}}break;case"textarea":Gu(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};td=Sa;nd=Cn;var Jm={usingClientEntryPoint:!1,Events:[xr,$n,$l,qu,ed,Sa]},Ps={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zm={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||Ym,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{_l=Wr.inject(Zm),kt=Wr}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ta(t))throw Error(I(200));return Gm(e,t,null,n)};qe.createRoot=function(e,t){if(!Ta(e))throw Error(I(299));var n=!1,s="",l=Af;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ea(e,1,!1,null,null,n,!1,s,l),e[Mt]=t.current,nr(e.nodeType===8?e.parentNode:e),new Da(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Cn(e)};qe.hydrate=function(e,t,n){if(!Yl(t))throw Error(I(200));return Xl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ta(e))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",o=Af;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zf(t,null,e,1,n??null,l,!1,i,o),e[Mt]=t.current,nr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Gl(t)};qe.render=function(e,t,n){if(!Yl(t))throw Error(I(200));return Xl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(I(40));return e._reactRootContainer?(Cn(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};qe.unstable_batchedUpdates=Sa;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Yl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Xl(e,t,n,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function Ff(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ff)}catch(e){console.error(e)}}Ff(),Au.exports=qe;var Qn=Au.exports,tu=Qn;Ai.createRoot=tu.createRoot,Ai.hydrateRoot=tu.hydrateRoot;const Jl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ra(e){return"nodeType"in e}function $e(e){var t,n;return e?hs(e)?e:Ra(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ia(e){const{Document:t}=$e(e);return e instanceof t}function wr(e){return hs(e)?!1:e instanceof $e(e).HTMLElement}function $f(e){return e instanceof $e(e).SVGElement}function ps(e){return e?hs(e)?e.document:Ra(e)?Ia(e)?e:wr(e)||$f(e)?e.ownerDocument:document:document:document}const At=Jl?f.useLayoutEffect:f.useEffect;function Zl(e){const t=f.useRef(e);return At(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t.current==null?void 0:t.current(...s)},[])}function qm(){const e=f.useRef(null),t=f.useCallback((s,l)=>{e.current=setInterval(s,l)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function dr(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return At(()=>{n.current!==e&&(n.current=e)},t),n}function jr(e,t){const n=f.useRef();return f.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Pl(e){const t=Zl(e),n=f.useRef(null),s=f.useCallback(l=>{l!==n.current&&(t==null||t(l,n.current)),n.current=l},[]);return[n,s]}function Dl(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let Ii={};function ql(e,t){return f.useMemo(()=>{if(t)return t;const n=Ii[e]==null?0:Ii[e]+1;return Ii[e]=n,e+"-"+n},[e,t])}function Bf(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];return s.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const ns=Bf(1),Tl=Bf(-1);function eg(e){return"clientX"in e&&"clientY"in e}function La(e){if(!e)return!1;const{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function tg(e){if(!e)return!1;const{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function Rl(e){if(tg(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return eg(e)?{x:e.clientX,y:e.clientY}:null}const fr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[fr.Translate.toString(e),fr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),nu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ng(e){return e.matches(nu)?e:e.querySelector(nu)}const sg={display:"none"};function rg(e){let{id:t,value:n}=e;return he.createElement("div",{id:t,style:sg},n)}function lg(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:t,style:l,role:"status","aria-live":s,"aria-atomic":!0},n)}function ig(){const[e,t]=f.useState("");return{announce:f.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Wf=f.createContext(null);function og(e){const t=f.useContext(Wf);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ag(){const[e]=f.useState(()=>new Set),t=f.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[f.useCallback(s=>{let{type:l,event:i}=s;e.forEach(o=>{var a;return(a=o[l])==null?void 0:a.call(o,i)})},[e]),t]}const cg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ug={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function dg(e){let{announcements:t=ug,container:n,hiddenTextDescribedById:s,screenReaderInstructions:l=cg}=e;const{announce:i,announcement:o}=ig(),a=ql("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),og(f.useMemo(()=>({onDragStart(m){let{active:g}=m;i(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:y}=m;t.onDragMove&&i(t.onDragMove({active:g,over:y}))},onDragOver(m){let{active:g,over:y}=m;i(t.onDragOver({active:g,over:y}))},onDragEnd(m){let{active:g,over:y}=m;i(t.onDragEnd({active:g,over:y}))},onDragCancel(m){let{active:g,over:y}=m;i(t.onDragCancel({active:g,over:y}))}}),[i,t])),!c)return null;const h=he.createElement(he.Fragment,null,he.createElement(rg,{id:s,value:l.draggable}),he.createElement(lg,{id:a,announcement:o}));return n?Qn.createPortal(h,n):h}var ye;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ye||(ye={}));function Il(){}function fg(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function hg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const vt=Object.freeze({x:0,y:0});function pg(e,t){const n=Rl(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function mg(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function gg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function vg(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=l-s,a=i-n;if(s<l&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,m=h/(c+u-h);return Number(m.toFixed(4))}return 0}const xg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const l=[];for(const i of s){const{id:o}=i,a=n.get(o);if(a){const c=vg(a,t);c>0&&l.push({id:o,data:{droppableContainer:i,value:c}})}}return l.sort(mg)};function yg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Uf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function wg(e){return function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return l.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const jg=wg(1);function Vf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ng(e,t,n){const s=Vf(t);if(!s)return e;const{scaleX:l,scaleY:i,x:o,y:a}=s,c=e.left-o-(1-l)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=l?e.width/l:e.width,m=i?e.height/i:e.height;return{width:h,height:m,top:u,right:c+h,bottom:u+m,left:c}}const Sg={ignoreTransform:!1};function Nr(e,t){t===void 0&&(t=Sg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=$e(e).getComputedStyle(e);u&&(n=Ng(n,u,h))}const{top:s,left:l,width:i,height:o,bottom:a,right:c}=n;return{top:s,left:l,width:i,height:o,bottom:a,right:c}}function su(e){return Nr(e,{ignoreTransform:!0})}function kg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function bg(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position==="fixed"}function Cg(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const i=t[l];return typeof i=="string"?n.test(i):!1})}function Oa(e,t){const n=[];function s(l){if(t!=null&&n.length>=t||!l)return n;if(Ia(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!wr(l)||$f(l)||n.includes(l))return n;const i=$e(e).getComputedStyle(l);return l!==e&&Cg(l,i)&&n.push(l),bg(l,i)?n:s(l.parentNode)}return e?s(e):n}function Hf(e){const[t]=Oa(e,1);return t??null}function Li(e){return!Jl||!e?null:hs(e)?e:Ra(e)?Ia(e)||e===ps(e).scrollingElement?window:wr(e)?e:null:null}function Kf(e){return hs(e)?e.scrollX:e.scrollLeft}function Qf(e){return hs(e)?e.scrollY:e.scrollTop}function Io(e){return{x:Kf(e),y:Qf(e)}}var ke;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ke||(ke={}));function Gf(e){return!Jl||!e?!1:e===document.scrollingElement}function Yf(e){const t={x:0,y:0},n=Gf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,a=e.scrollLeft>=s.x;return{isTop:l,isLeft:i,isBottom:o,isRight:a,maxScroll:s,minScroll:t}}const Eg={x:.2,y:.2};function Pg(e,t,n,s,l){let{top:i,left:o,right:a,bottom:c}=n;s===void 0&&(s=10),l===void 0&&(l=Eg);const{isTop:u,isBottom:h,isLeft:m,isRight:g}=Yf(e),y={x:0,y:0},N={x:0,y:0},w={height:t.height*l.y,width:t.width*l.x};return!u&&i<=t.top+w.height?(y.y=ke.Backward,N.y=s*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(y.y=ke.Forward,N.y=s*Math.abs((t.bottom-w.height-c)/w.height)),!g&&a>=t.right-w.width?(y.x=ke.Forward,N.x=s*Math.abs((t.right-w.width-a)/w.width)):!m&&o<=t.left+w.width&&(y.x=ke.Backward,N.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:y,speed:N}}function Dg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:s,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Xf(e){return e.reduce((t,n)=>ns(t,Io(n)),vt)}function Tg(e){return e.reduce((t,n)=>t+Kf(n),0)}function Rg(e){return e.reduce((t,n)=>t+Qf(n),0)}function Jf(e,t){if(t===void 0&&(t=Nr),!e)return;const{top:n,left:s,bottom:l,right:i}=t(e);Hf(e)&&(l<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ig=[["x",["left","right"],Tg],["y",["top","bottom"],Rg]];class Ma{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Oa(n),l=Xf(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of Ig)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(s),h=l[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Us{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var l;(l=this.target)==null||l.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Lg(e){const{EventTarget:t}=$e(e);return e instanceof t?e:ps(e)}function Oi(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function ru(e){e.preventDefault()}function Og(e){e.stopPropagation()}var ee;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ee||(ee={}));const Zf={start:[ee.Space,ee.Enter],cancel:[ee.Esc],end:[ee.Space,ee.Enter,ee.Tab]},Mg=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ee.Right:return{...n,x:n.x+25};case ee.Left:return{...n,x:n.x-25};case ee.Down:return{...n,y:n.y+25};case ee.Up:return{...n,y:n.y-25}}};class qf{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Us(ps(n)),this.windowListeners=new Us($e(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&Jf(s),n(vt)}handleKeyDown(t){if(La(t)){const{active:n,context:s,options:l}=this.props,{keyboardCodes:i=Zf,coordinateGetter:o=Mg,scrollBehavior:a="smooth"}=l,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=s.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const m=o(t,{active:n,context:s.current,currentCoordinates:h});if(m){const g=Tl(m,h),y={x:0,y:0},{scrollableAncestors:N}=s.current;for(const w of N){const E=t.code,{isTop:p,isRight:d,isLeft:v,isBottom:x,maxScroll:j,minScroll:b}=Yf(w),S=Dg(w),k={x:Math.min(E===ee.Right?S.right-S.width/2:S.right,Math.max(E===ee.Right?S.left:S.left+S.width/2,m.x)),y:Math.min(E===ee.Down?S.bottom-S.height/2:S.bottom,Math.max(E===ee.Down?S.top:S.top+S.height/2,m.y))},C=E===ee.Right&&!d||E===ee.Left&&!v,P=E===ee.Down&&!x||E===ee.Up&&!p;if(C&&k.x!==m.x){const L=w.scrollLeft+g.x,A=E===ee.Right&&L<=j.x||E===ee.Left&&L>=b.x;if(A&&!g.y){w.scrollTo({left:L,behavior:a});return}A?y.x=w.scrollLeft-L:y.x=E===ee.Right?w.scrollLeft-j.x:w.scrollLeft-b.x,y.x&&w.scrollBy({left:-y.x,behavior:a});break}else if(P&&k.y!==m.y){const L=w.scrollTop+g.y,A=E===ee.Down&&L<=j.y||E===ee.Up&&L>=b.y;if(A&&!g.x){w.scrollTo({top:L,behavior:a});return}A?y.y=w.scrollTop-L:y.y=E===ee.Down?w.scrollTop-j.y:w.scrollTop-b.y,y.y&&w.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(t,ns(Tl(m,this.referenceCoordinates),y))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qf.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=Zf,onActivation:l}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function lu(e){return!!(e&&"distance"in e)}function iu(e){return!!(e&&"delay"in e)}class _a{constructor(t,n,s){var l;s===void 0&&(s=Lg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=ps(o),this.documentListeners=new Us(this.document),this.listeners=new Us(s),this.windowListeners=new Us($e(o)),this.initialCoordinates=(l=Rl(i))!=null?l:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,ru),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,ru),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(lu(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:l}=this.props;l(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,Og,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:l,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!l)return;const c=(n=Rl(t))!=null?n:vt,u=Tl(l,c);if(!s&&a){if(lu(a)){if(a.tolerance!=null&&Oi(u,a.tolerance))return this.handleCancel();if(Oi(u,a.distance))return this.handleStart()}if(iu(a)&&Oi(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ee.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const _g={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class za extends _a{constructor(t){const{event:n}=t,s=ps(n.target);super(t,_g,s)}}za.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const zg={move:{name:"mousemove"},end:{name:"mouseup"}};var Lo;(function(e){e[e.RightClick=2]="RightClick"})(Lo||(Lo={}));class Ag extends _a{constructor(t){super(t,zg,ps(t.event.target))}}Ag.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Lo.RightClick?!1:(s==null||s({event:n}),!0)}}];const Mi={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Fg extends _a{constructor(t){super(t,Mi)}static setup(){return window.addEventListener(Mi.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Mi.move.name,t)};function t(){}}}Fg.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:l}=n;return l.length>1?!1:(s==null||s({event:n}),!0)}}];var Vs;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Vs||(Vs={}));var Ll;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ll||(Ll={}));function $g(e){let{acceleration:t,activator:n=Vs.Pointer,canScroll:s,draggingRect:l,enabled:i,interval:o=5,order:a=Ll.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:m,threshold:g}=e;const y=Wg({delta:m,disabled:!i}),[N,w]=qm(),E=f.useRef({x:0,y:0}),p=f.useRef({x:0,y:0}),d=f.useMemo(()=>{switch(n){case Vs.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vs.DraggableRect:return l}},[n,l,c]),v=f.useRef(null),x=f.useCallback(()=>{const b=v.current;if(!b)return;const S=E.current.x*p.current.x,k=E.current.y*p.current.y;b.scrollBy(S,k)},[]),j=f.useMemo(()=>a===Ll.TreeOrder?[...u].reverse():u,[a,u]);f.useEffect(()=>{if(!i||!u.length||!d){w();return}for(const b of j){if((s==null?void 0:s(b))===!1)continue;const S=u.indexOf(b),k=h[S];if(!k)continue;const{direction:C,speed:P}=Pg(b,k,d,t,g);for(const L of["x","y"])y[L][C[L]]||(P[L]=0,C[L]=0);if(P.x>0||P.y>0){w(),v.current=b,N(x,o),E.current=P,p.current=C;return}}E.current={x:0,y:0},p.current={x:0,y:0},w()},[t,x,s,w,i,o,JSON.stringify(d),JSON.stringify(y),N,u,j,h,JSON.stringify(g)])}const Bg={x:{[ke.Backward]:!1,[ke.Forward]:!1},y:{[ke.Backward]:!1,[ke.Forward]:!1}};function Wg(e){let{delta:t,disabled:n}=e;const s=Dl(t);return jr(l=>{if(n||!s||!l)return Bg;const i={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[ke.Backward]:l.x[ke.Backward]||i.x===-1,[ke.Forward]:l.x[ke.Forward]||i.x===1},y:{[ke.Backward]:l.y[ke.Backward]||i.y===-1,[ke.Forward]:l.y[ke.Forward]||i.y===1}}},[n,t,s])}function Ug(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return jr(l=>{var i;return t==null?null:(i=s??l)!=null?i:null},[s,t])}function Vg(e,t){return f.useMemo(()=>e.reduce((n,s)=>{const{sensor:l}=s,i=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...i]},[]),[e,t])}var hr;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(hr||(hr={}));var Oo;(function(e){e.Optimized="optimized"})(Oo||(Oo={}));const ou=new Map;function Hg(e,t){let{dragging:n,dependencies:s,config:l}=t;const[i,o]=f.useState(null),{frequency:a,measure:c,strategy:u}=l,h=f.useRef(e),m=E(),g=dr(m),y=f.useCallback(function(p){p===void 0&&(p=[]),!g.current&&o(d=>d===null?p:d.concat(p.filter(v=>!d.includes(v))))},[g]),N=f.useRef(null),w=jr(p=>{if(m&&!n)return ou;if(!p||p===ou||h.current!==e||i!=null){const d=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){d.set(v.id,v.rect.current);continue}const x=v.node.current,j=x?new Ma(c(x),x):null;v.rect.current=j,j&&d.set(v.id,j)}return d}return p},[e,i,n,m,c]);return f.useEffect(()=>{h.current=e},[e]),f.useEffect(()=>{m||y()},[n,m]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{m||typeof a!="number"||N.current!==null||(N.current=setTimeout(()=>{y(),N.current=null},a))},[a,m,y,...s]),{droppableRects:w,measureDroppableContainers:y,measuringScheduled:i!=null};function E(){switch(u){case hr.Always:return!1;case hr.BeforeDragging:return n;default:return!n}}}function Aa(e,t){return jr(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Kg(e,t){return Aa(e,t)}function Qg(e){let{callback:t,disabled:n}=e;const s=Zl(t),l=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return f.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ei(e){let{callback:t,disabled:n}=e;const s=Zl(t),l=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return f.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function Gg(e){return new Ma(Nr(e),e)}function au(e,t,n){t===void 0&&(t=Gg);const[s,l]=f.useState(null);function i(){l(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=Qg({callback(c){if(e)for(const u of c){const{type:h,target:m}=u;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),a=ei({callback:i});return At(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),s}function Yg(e){const t=Aa(e);return Uf(e,t)}const cu=[];function Xg(e){const t=f.useRef(e),n=jr(s=>e?s&&s!==cu&&e&&t.current&&e.parentNode===t.current.parentNode?s:Oa(e):cu,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function Jg(e){const[t,n]=f.useState(null),s=f.useRef(e),l=f.useCallback(i=>{const o=Li(i.target);o&&n(a=>a?(a.set(o,Io(o)),new Map(a)):null)},[]);return f.useEffect(()=>{const i=s.current;if(e!==i){o(i);const a=e.map(c=>{const u=Li(c);return u?(u.addEventListener("scroll",l,{passive:!0}),[u,Io(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),s.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=Li(c);u==null||u.removeEventListener("scroll",l)})}},[l,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ns(i,o),vt):Xf(e):vt,[e,t])}function uu(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const s=e!==vt;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Tl(e,n.current):vt}function Zg(e){f.useEffect(()=>{if(!Jl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function qg(e,t){return f.useMemo(()=>e.reduce((n,s)=>{let{eventName:l,handler:i}=s;return n[l]=o=>{i(o,t)},n},{}),[e,t])}function eh(e){return f.useMemo(()=>e?kg(e):null,[e])}const du=[];function ev(e,t){t===void 0&&(t=Nr);const[n]=e,s=eh(n?$e(n):null),[l,i]=f.useState(du);function o(){i(()=>e.length?e.map(c=>Gf(c)?s:new Ma(t(c),c)):du)}const a=ei({callback:o});return At(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),l}function th(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wr(t)?t:e}function tv(e){let{measure:t}=e;const[n,s]=f.useState(null),l=f.useCallback(u=>{for(const{target:h}of u)if(wr(h)){s(m=>{const g=t(h);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),i=ei({callback:l}),o=f.useCallback(u=>{const h=th(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),s(h?t(h):null)},[t,i]),[a,c]=Pl(o);return f.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const nv=[{sensor:za,options:{}},{sensor:qf,options:{}}],sv={current:{}},nl={draggable:{measure:su},droppable:{measure:su,strategy:hr.WhileDragging,frequency:Oo.Optimized},dragOverlay:{measure:Nr}};class Hs extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const rv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Il},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nl,measureDroppableContainers:Il,windowRect:null,measuringScheduled:!1},nh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Il,draggableNodes:new Map,over:null,measureDroppableContainers:Il},Sr=f.createContext(nh),sh=f.createContext(rv);function lv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hs}}}function iv(e,t){switch(t.type){case ye.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ye.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ye.DragEnd:case ye.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ye.RegisterDroppable:{const{element:n}=t,{id:s}=n,l=new Hs(e.droppable.containers);return l.set(s,n),{...e,droppable:{...e.droppable,containers:l}}}case ye.SetDroppableDisabled:{const{id:n,key:s,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const o=new Hs(e.droppable.containers);return o.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case ye.UnregisterDroppable:{const{id:n,key:s}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const i=new Hs(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ov(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:l}=f.useContext(Sr),i=Dl(s),o=Dl(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!s&&i&&o!=null){if(!La(i)||document.activeElement===i.target)return;const a=l.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const m=ng(h);if(m){m.focus();break}}})}},[s,t,l,o,i]),null}function rh(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((l,i)=>i({transform:l,...s}),n):n}function av(e){return f.useMemo(()=>({draggable:{...nl.draggable,...e==null?void 0:e.draggable},droppable:{...nl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function cv(e){let{activeNode:t,measure:n,initialRect:s,config:l=!0}=e;const i=f.useRef(!1),{x:o,y:a}=typeof l=="boolean"?{x:l,y:l}:l;At(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!s)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),m=Uf(h,s);if(o||(m.x=0),a||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=Hf(u);g&&g.scrollBy({top:m.y,left:m.x})}},[t,o,a,s,n])}const ti=f.createContext({...vt,scaleX:1,scaleY:1});var Gt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Gt||(Gt={}));const uv=f.memo(function(t){var n,s,l,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=nv,collisionDetection:m=xg,measuring:g,modifiers:y,...N}=t;const w=f.useReducer(iv,void 0,lv),[E,p]=w,[d,v]=ag(),[x,j]=f.useState(Gt.Uninitialized),b=x===Gt.Initialized,{draggable:{active:S,nodes:k,translate:C},droppable:{containers:P}}=E,L=S!=null?k.get(S):null,A=f.useRef({initial:null,translated:null}),R=f.useMemo(()=>{var Re;return S!=null?{id:S,data:(Re=L==null?void 0:L.data)!=null?Re:sv,rect:A}:null},[S,L]),W=f.useRef(null),[K,ne]=f.useState(null),[Z,M]=f.useState(null),U=dr(N,Object.values(N)),z=ql("DndDescribedBy",o),Y=f.useMemo(()=>P.getEnabled(),[P]),G=av(g),{droppableRects:je,measureDroppableContainers:ge,measuringScheduled:Ce}=Hg(Y,{dragging:b,dependencies:[C.x,C.y],config:G.droppable}),D=Ug(k,S),$=f.useMemo(()=>Z?Rl(Z):null,[Z]),T=kh(),O=Kg(D,G.draggable.measure);cv({activeNode:S!=null?k.get(S):null,config:T.layoutShiftCompensation,initialRect:O,measure:G.draggable.measure});const _=au(D,G.draggable.measure,O),V=au(D?D.parentElement:null),H=f.useRef({activatorEvent:null,active:null,activeNode:D,collisionRect:null,collisions:null,droppableRects:je,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=P.getNodeFor((n=H.current.over)==null?void 0:n.id),B=tv({measure:G.dragOverlay.measure}),q=(s=B.nodeRef.current)!=null?s:D,Ne=b?(l=B.rect)!=null?l:_:null,ae=!!(B.nodeRef.current&&B.rect),xt=Yg(ae?null:_),Ct=eh(q?$e(q):null),pe=Xg(b?ie??D:null),Et=ev(pe),$t=rh(y,{transform:{x:C.x-xt.x,y:C.y-xt.y,scaleX:1,scaleY:1},activatorEvent:Z,active:R,activeNodeRect:_,containerNodeRect:V,draggingNodeRect:Ne,over:H.current.over,overlayNodeRect:B.rect,scrollableAncestors:pe,scrollableAncestorRects:Et,windowRect:Ct}),gs=$?ns($,C):null,br=Jg(pe),vh=uu(br),xh=uu(br,[_]),Dn=ns($t,vh),Tn=Ne?jg(Ne,$t):null,vs=R&&Tn?m({active:R,collisionRect:Tn,droppableRects:je,droppableContainers:Y,pointerCoordinates:gs}):null,Wa=gg(vs,"id"),[Bt,Ua]=f.useState(null),yh=ae?$t:ns($t,xh),wh=yg(yh,(i=Bt==null?void 0:Bt.rect)!=null?i:null,_),ri=f.useRef(null),Va=f.useCallback((Re,Ke)=>{let{sensor:Qe,options:Wt}=Ke;if(W.current==null)return;const tt=k.get(W.current);if(!tt)return;const Ge=Re.nativeEvent,yt=new Qe({active:W.current,activeNode:tt,event:Ge,options:Wt,context:H,onAbort(Ee){if(!k.get(Ee))return;const{onDragAbort:wt}=U.current,Pt={id:Ee};wt==null||wt(Pt),d({type:"onDragAbort",event:Pt})},onPending(Ee,Ut,wt,Pt){if(!k.get(Ee))return;const{onDragPending:ys}=U.current,Vt={id:Ee,constraint:Ut,initialCoordinates:wt,offset:Pt};ys==null||ys(Vt),d({type:"onDragPending",event:Vt})},onStart(Ee){const Ut=W.current;if(Ut==null)return;const wt=k.get(Ut);if(!wt)return;const{onDragStart:Pt}=U.current,xs={activatorEvent:Ge,active:{id:Ut,data:wt.data,rect:A}};Qn.unstable_batchedUpdates(()=>{Pt==null||Pt(xs),j(Gt.Initializing),p({type:ye.DragStart,initialCoordinates:Ee,active:Ut}),d({type:"onDragStart",event:xs}),ne(ri.current),M(Ge)})},onMove(Ee){p({type:ye.DragMove,coordinates:Ee})},onEnd:Rn(ye.DragEnd),onCancel:Rn(ye.DragCancel)});ri.current=yt;function Rn(Ee){return async function(){const{active:wt,collisions:Pt,over:xs,scrollAdjustedTranslate:ys}=H.current;let Vt=null;if(wt&&ys){const{cancelDrop:ws}=U.current;Vt={activatorEvent:Ge,active:wt,collisions:Pt,delta:ys,over:xs},Ee===ye.DragEnd&&typeof ws=="function"&&await Promise.resolve(ws(Vt))&&(Ee=ye.DragCancel)}W.current=null,Qn.unstable_batchedUpdates(()=>{p({type:Ee}),j(Gt.Uninitialized),Ua(null),ne(null),M(null),ri.current=null;const ws=Ee===ye.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const li=U.current[ws];li==null||li(Vt),d({type:ws,event:Vt})}})}}},[k]),jh=f.useCallback((Re,Ke)=>(Qe,Wt)=>{const tt=Qe.nativeEvent,Ge=k.get(Wt);if(W.current!==null||!Ge||tt.dndKit||tt.defaultPrevented)return;const yt={active:Ge};Re(Qe,Ke.options,yt)===!0&&(tt.dndKit={capturedBy:Ke.sensor},W.current=Wt,Va(Qe,Ke))},[k,Va]),Ha=Vg(h,jh);Zg(h),At(()=>{_&&x===Gt.Initializing&&j(Gt.Initialized)},[_,x]),f.useEffect(()=>{const{onDragMove:Re}=U.current,{active:Ke,activatorEvent:Qe,collisions:Wt,over:tt}=H.current;if(!Ke||!Qe)return;const Ge={active:Ke,activatorEvent:Qe,collisions:Wt,delta:{x:Dn.x,y:Dn.y},over:tt};Qn.unstable_batchedUpdates(()=>{Re==null||Re(Ge),d({type:"onDragMove",event:Ge})})},[Dn.x,Dn.y]),f.useEffect(()=>{const{active:Re,activatorEvent:Ke,collisions:Qe,droppableContainers:Wt,scrollAdjustedTranslate:tt}=H.current;if(!Re||W.current==null||!Ke||!tt)return;const{onDragOver:Ge}=U.current,yt=Wt.get(Wa),Rn=yt&&yt.rect.current?{id:yt.id,rect:yt.rect.current,data:yt.data,disabled:yt.disabled}:null,Ee={active:Re,activatorEvent:Ke,collisions:Qe,delta:{x:tt.x,y:tt.y},over:Rn};Qn.unstable_batchedUpdates(()=>{Ua(Rn),Ge==null||Ge(Ee),d({type:"onDragOver",event:Ee})})},[Wa]),At(()=>{H.current={activatorEvent:Z,active:R,activeNode:D,collisionRect:Tn,collisions:vs,droppableRects:je,draggableNodes:k,draggingNode:q,draggingNodeRect:Ne,droppableContainers:P,over:Bt,scrollableAncestors:pe,scrollAdjustedTranslate:Dn},A.current={initial:Ne,translated:Tn}},[R,D,vs,Tn,k,q,Ne,je,P,Bt,pe,Dn]),$g({...T,delta:C,draggingRect:Tn,pointerCoordinates:gs,scrollableAncestors:pe,scrollableAncestorRects:Et});const Nh=f.useMemo(()=>({active:R,activeNode:D,activeNodeRect:_,activatorEvent:Z,collisions:vs,containerNodeRect:V,dragOverlay:B,draggableNodes:k,droppableContainers:P,droppableRects:je,over:Bt,measureDroppableContainers:ge,scrollableAncestors:pe,scrollableAncestorRects:Et,measuringConfiguration:G,measuringScheduled:Ce,windowRect:Ct}),[R,D,_,Z,vs,V,B,k,P,je,Bt,ge,pe,Et,G,Ce,Ct]),Sh=f.useMemo(()=>({activatorEvent:Z,activators:Ha,active:R,activeNodeRect:_,ariaDescribedById:{draggable:z},dispatch:p,draggableNodes:k,over:Bt,measureDroppableContainers:ge}),[Z,Ha,R,_,p,z,k,Bt,ge]);return he.createElement(Wf.Provider,{value:v},he.createElement(Sr.Provider,{value:Sh},he.createElement(sh.Provider,{value:Nh},he.createElement(ti.Provider,{value:wh},u)),he.createElement(ov,{disabled:(a==null?void 0:a.restoreFocus)===!1})),he.createElement(dg,{...a,hiddenTextDescribedById:z}));function kh(){const Re=(K==null?void 0:K.autoScrollEnabled)===!1,Ke=typeof c=="object"?c.enabled===!1:c===!1,Qe=b&&!Re&&!Ke;return typeof c=="object"?{...c,enabled:Qe}:{enabled:Qe}}}),dv=f.createContext(null),fu="button",fv="Draggable";function lh(e){let{id:t,data:n,disabled:s=!1,attributes:l}=e;const i=ql(fv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:m,over:g}=f.useContext(Sr),{role:y=fu,roleDescription:N="draggable",tabIndex:w=0}=l??{},E=(c==null?void 0:c.id)===t,p=f.useContext(E?ti:dv),[d,v]=Pl(),[x,j]=Pl(),b=qg(o,t),S=dr(n);At(()=>(m.set(t,{id:t,key:i,node:d,activatorNode:x,data:S}),()=>{const C=m.get(t);C&&C.key===i&&m.delete(t)}),[m,t]);const k=f.useMemo(()=>({role:y,tabIndex:w,"aria-disabled":s,"aria-pressed":E&&y===fu?!0:void 0,"aria-roledescription":N,"aria-describedby":h.draggable}),[s,y,w,E,N,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:E,listeners:s?void 0:b,node:d,over:g,setNodeRef:v,setActivatorNodeRef:j,transform:p}}function hv(){return f.useContext(sh)}const pv="Droppable",mv={timeout:25};function gv(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:l}=e;const i=ql(pv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=f.useContext(Sr),h=f.useRef({disabled:n}),m=f.useRef(!1),g=f.useRef(null),y=f.useRef(null),{disabled:N,updateMeasurementsFor:w,timeout:E}={...mv,...l},p=dr(w??s),d=f.useCallback(()=>{if(!m.current){m.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),y.current=null},E)},[E]),v=ei({callback:d,disabled:N||!o}),x=f.useCallback((k,C)=>{v&&(C&&(v.unobserve(C),m.current=!1),k&&v.observe(k))},[v]),[j,b]=Pl(x),S=dr(t);return f.useEffect(()=>{!v||!j.current||(v.disconnect(),m.current=!1,v.observe(j.current))},[j,v]),f.useEffect(()=>(a({type:ye.RegisterDroppable,element:{id:s,key:i,disabled:n,node:j,rect:g,data:S}}),()=>a({type:ye.UnregisterDroppable,key:i,id:s})),[s]),f.useEffect(()=>{n!==h.current.disabled&&(a({type:ye.SetDroppableDisabled,id:s,key:i,disabled:n}),h.current.disabled=n)},[s,i,n,a]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===s,node:j,over:c,setNodeRef:b}}function vv(e){let{animation:t,children:n}=e;const[s,l]=f.useState(null),[i,o]=f.useState(null),a=Dl(n);return!n&&!s&&a&&l(a),At(()=>{if(!i)return;const c=s==null?void 0:s.key,u=s==null?void 0:s.props.id;if(c==null||u==null){l(null);return}Promise.resolve(t(u,i)).then(()=>{l(null)})},[t,s,i]),he.createElement(he.Fragment,null,n,s?f.cloneElement(s,{ref:o}):null)}const xv={x:0,y:0,scaleX:1,scaleY:1};function yv(e){let{children:t}=e;return he.createElement(Sr.Provider,{value:nh},he.createElement(ti.Provider,{value:xv},t))}const wv={position:"fixed",touchAction:"none"},jv=e=>La(e)?"transform 250ms ease":void 0,Nv=f.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:l,children:i,className:o,rect:a,style:c,transform:u,transition:h=jv}=e;if(!a)return null;const m=l?u:{...u,scaleX:1,scaleY:1},g={...wv,width:a.width,height:a.height,top:a.top,left:a.left,transform:fr.Transform.toString(m),transformOrigin:l&&s?pg(s,a):void 0,transition:typeof h=="function"?h(s):h,...c};return he.createElement(n,{className:o,style:g,ref:t},i)}),Sv=e=>t=>{let{active:n,dragOverlay:s}=t;const l={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(l[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&s.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(l))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},kv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:fr.Transform.toString(t)},{transform:fr.Transform.toString(n)}]},bv={duration:250,easing:"ease",keyframes:kv,sideEffects:Sv({styles:{active:{opacity:"0"}}})};function Cv(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:l}=e;return Zl((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=th(o);if(!u)return;const{transform:h}=$e(o).getComputedStyle(o),m=Vf(h);if(!m)return;const g=typeof t=="function"?t:Ev(t);return Jf(c,l.draggable.measure),g({active:{id:i,data:a.data,node:c,rect:l.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:l.dragOverlay.measure(u)},droppableContainers:s,measuringConfiguration:l,transform:m})})}function Ev(e){const{duration:t,easing:n,sideEffects:s,keyframes:l}={...bv,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},m={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-h.x,y:c.y-h.y,...m},y=l({...u,active:o,dragOverlay:a,transform:{initial:c,final:g}}),[N]=y,w=y[y.length-1];if(JSON.stringify(N)===JSON.stringify(w))return;const E=s==null?void 0:s({active:o,dragOverlay:a,...u}),p=a.node.animate(y,{duration:t,easing:n,fill:"forwards"});return new Promise(d=>{p.onfinish=()=>{E==null||E(),d()}})}}let hu=0;function Pv(e){return f.useMemo(()=>{if(e!=null)return hu++,hu},[e])}const Dv=he.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:l,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:y,draggableNodes:N,droppableContainers:w,dragOverlay:E,over:p,measuringConfiguration:d,scrollableAncestors:v,scrollableAncestorRects:x,windowRect:j}=hv(),b=f.useContext(ti),S=Pv(m==null?void 0:m.id),k=rh(o,{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:y,draggingNodeRect:E.rect,over:p,overlayNodeRect:E.rect,scrollableAncestors:v,scrollableAncestorRects:x,transform:b,windowRect:j}),C=Aa(g),P=Cv({config:s,draggableNodes:N,droppableContainers:w,measuringConfiguration:d}),L=C?E.setRef:void 0;return he.createElement(yv,null,he.createElement(vv,{animation:P},m&&S?he.createElement(Nv,{key:S,id:m.id,ref:L,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:C,style:{zIndex:u,...l},transform:k},n):null))}),ih={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Tv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},sl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:ih},pu=10,Gn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ol={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Rv(e){if(Ol[e])return Ol[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function mu(e){return Ol[e]?Ol[e].priority:e.startsWith("gt-")?3:99}const oh=f.createContext(null),gu=5;function Iv({children:e}){const[t,n]=f.useState([]),[s,l]=f.useState(1),i=f.useCallback((c,u)=>{const h=s;l(g=>g+1);const m={id:h,message:c,type:u,createdAt:Date.now()};n(g=>{const y=[m,...g];return y.length>gu?y.slice(0,gu):y})},[s]),o=f.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=f.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return r.jsx(oh.Provider,{value:a,children:e})}function kr(){const e=f.useContext(oh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function vu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const ah="chrote-dashboard-state",ch="chrote-dashboard-presets",Ln=["terminal1","terminal2"];function Lv(){try{const e=localStorage.getItem(ch);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Ov(e){try{localStorage.setItem(ch,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function Mv(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function xu(e){return JSON.parse(JSON.stringify(e))}function _v(){try{const e=localStorage.getItem(ah);if(e){const t=JSON.parse(e);return Fv(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function zv(e){try{localStorage.setItem(ah,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function pr(e){return Math.max(1,Math.min(4,e))}function Av(e,t){const n=pr(t);return Array.from({length:n},(s,l)=>({id:`${e}-window-${l}`,boundSessions:[],activeSession:null,colorIndex:l}))}function Ks(e,t){return{windows:Av(e,t),windowCount:pr(t)}}function Ds(e){return typeof e=="object"&&e!==null}function Fv(e){if(Ds(e)){if(Ds(e.workspaces)&&Ds(e.workspaces.terminal1)&&Ds(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??sl,s=(l,i)=>{const o=Ds(i)?i:{},a=pr(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,m)=>{const g=c[m];return{id:`${l}-window-${m}`,boundSessions:(g==null?void 0:g.boundSessions)??[],activeSession:(g==null?void 0:g.activeSession)??null,colorIndex:typeof(g==null?void 0:g.colorIndex)=="number"?g.colorIndex:m}}),windowCount:a}};return{workspaces:{terminal1:s("terminal1",e.workspaces.terminal1),terminal2:s("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??sl,s=pr(e.windowCount),l=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:s},(o,a)=>{const c=l[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:s},terminal2:Ks("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Ks("terminal1",2),terminal2:Ks("terminal2",2)},sidebarCollapsed:!1,settings:sl}}const uh=f.createContext(null);function $v({children:e}){const t=f.useMemo(()=>_v(),[]),{addToast:n}=kr(),[s,l]=f.useState([]),[i,o]=f.useState({}),[a,c]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState((t==null?void 0:t.workspaces)??{terminal1:Ks("terminal1",2),terminal2:Ks("terminal2",2)}),[y,N]=f.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,E]=f.useState(null),[p,d]=f.useState(!1),[v,x]=f.useState((t==null?void 0:t.settings)??sl),[j,b]=f.useState(null),[S,k]=f.useState(()=>Lv()),C=f.useMemo(()=>{const T=new Map;return Ln.forEach(O=>{m[O].windows.forEach((V,H)=>{V.boundSessions.forEach(ie=>{T.set(ie,{workspaceId:O,windowId:V.id,colorIndex:V.colorIndex,windowIndex:H+1})})})}),T},[m]);f.useEffect(()=>{g(T=>{let O=!1;const _={...T};return Ln.forEach(V=>{const H=T[V];H.windows.some(B=>B.activeSession==="INIT-PENDING")&&(O=!0,_[V]={...H,windows:H.windows.map(B=>B.activeSession==="INIT-PENDING"?{...B,activeSession:null}:B)})}),O?_:T})},[]),f.useEffect(()=>{const T={...m};Ln.forEach(O=>{const _=m[O];T[O]={..._,windows:_.windows.map(V=>V.activeSession==="INIT-PENDING"?{...V,activeSession:null}:V)}}),zv({workspaces:T,sidebarCollapsed:y,settings:v})},[m,y,v]),f.useEffect(()=>{Ov(S)},[S]);const P=f.useCallback(async()=>{try{const O=await(await fetch("/api/tmux/sessions")).json();if(O.error)h(O.error),l([]),o({});else{h(null),l(O.sessions),o(O.grouped);const _=new Set(O.sessions.map(V=>V.name));g(V=>{let H=!1;const ie={...V};return Ln.forEach(B=>{const q=V[B],Ne=q.windows.map(ae=>{const xt=ae.boundSessions.filter(Ct=>_.has(Ct));if(xt.length!==ae.boundSessions.length){H=!0;const Ct=ae.boundSessions.filter(Et=>!_.has(Et));console.error(`Orphaned sessions removed from ${ae.id}:`,Ct);const pe=xt.includes(ae.activeSession??"")?ae.activeSession:xt[0]??null;return{...ae,boundSessions:xt,activeSession:pe}}return ae});Ne!==q.windows&&(ie[B]={...q,windows:Ne})}),H?ie:V})}}catch(T){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",T)}finally{c(!1)}},[]);f.useEffect(()=>{P();const T=setInterval(P,v.autoRefreshInterval);return()=>clearInterval(T)},[P,v.autoRefreshInterval]),f.useEffect(()=>{const T={...ih,...v.tmuxAppearance};vu(T)},[]);const L=f.useCallback((T,O)=>{const _=pr(O);g(V=>{const H=V[T];if(!H)return V;const ie=(()=>{if(_>H.windows.length){const B=[...H.windows];for(let q=H.windows.length;q<_;q++)B.push({id:`${T}-window-${q}`,boundSessions:[],activeSession:null,colorIndex:q});return B}return _<H.windows.length?H.windows.slice(0,_):H.windows})();return{...V,[T]:{...H,windowCount:_,windows:ie}}})},[]),A=f.useCallback((T,O,_)=>{g(V=>{const H={...V};let ie=!1,B=!1;if(Ln.forEach(ae=>{const xt=V[ae],Ct=xt.windows.map(pe=>{const Et=ae===T&&pe.id===O,$t=pe.boundSessions.includes(_);if(!Et&&!$t)return pe;if(!Et&&$t){const gs=pe.boundSessions.filter(br=>br!==_);return{...pe,boundSessions:gs,activeSession:pe.activeSession===_?gs[0]??null:pe.activeSession}}return B=!0,ie=pe.boundSessions.length===0||pe.boundSessions.length===1&&$t,pe});H[ae]={...xt,windows:Ct}}),!B)return V;const q=H[T],Ne=q.windows.map(ae=>ae.id!==O||ae.boundSessions.includes(_)?ae:{...ae,boundSessions:[...ae.boundSessions,_],activeSession:ie?_:ae.activeSession});return{...H,[T]:{...q,windows:Ne}}})},[]),R=f.useCallback((T,O,_)=>{g(V=>{const H=V[T];if(!H)return V;const ie=H.windows.map(B=>{if(B.id!==O||!B.boundSessions.includes(_))return B;const q=B.boundSessions.filter(Ne=>Ne!==_);return{...B,boundSessions:q,activeSession:B.activeSession===_?q[0]??null:B.activeSession}});return{...V,[T]:{...H,windows:ie}}})},[]),W=f.useCallback((T,O,_)=>{g(V=>{const H=V[T];if(!H)return V;const ie=H.windows.map(B=>B.id!==O||!B.boundSessions.includes(_)?B:{...B,activeSession:_});return{...V,[T]:{...H,windows:ie}}})},[]),K=f.useCallback((T,O,_)=>{g(V=>{const H=V[T];if(!H)return V;const ie=H.windows.map(B=>{if(B.id!==O||B.boundSessions.length<=1)return B;const q=B.activeSession?B.boundSessions.indexOf(B.activeSession):0,Ne=_==="next"?(q+1)%B.boundSessions.length:(q-1+B.boundSessions.length)%B.boundSessions.length;return{...B,activeSession:B.boundSessions[Ne]}});return{...V,[T]:{...H,windows:ie}}})},[]),ne=f.useCallback(()=>{N(T=>!T)},[]),Z=f.useCallback(T=>{E(T)},[]),M=f.useCallback(()=>{E(null)},[]),U=f.useCallback(T=>{const O=C.get(T);O?W(O.workspaceId,O.windowId,T):Z(T)},[C,W,Z]),z=f.useCallback(T=>{x(O=>{const _={...O,...T};return T.tmuxAppearance&&vu(_.tmuxAppearance),_})},[]),Y=f.useCallback(async T=>{try{const O=await fetch(`/api/tmux/sessions/${encodeURIComponent(T)}`,{method:"DELETE"});if(O.ok)n(`Session '${T}' deleted`,"info"),P();else{const _=await O.text();console.error("Failed to delete session:",_),n("Failed to delete session","error")}}catch(O){console.error("Failed to delete session:",O),n("Failed to delete session","error")}},[P,n]),G=f.useCallback(async(T,O)=>{try{const _=await fetch(`/api/tmux/sessions/${encodeURIComponent(T)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:O})});if(_.ok)return g(V=>{const H={...V};return Ln.forEach(ie=>{const B=V[ie];H[ie]={...B,windows:B.windows.map(q=>({...q,boundSessions:q.boundSessions.map(Ne=>Ne===T?O:Ne),activeSession:q.activeSession===T?O:q.activeSession}))}}),H}),n(`Session renamed to '${O}'`,"success"),P(),!0;{const V=await _.text();return console.error("Failed to rename session:",V),n("Failed to rename session","error"),!1}}catch(_){return console.error("Failed to rename session:",_),n("Failed to rename session","error"),!1}},[P,n]),je=f.useCallback(T=>{if(S.length>=pu)return n(`Maximum ${pu} presets reached`,"warning"),!1;const O={id:Mv(),name:T,createdAt:Date.now(),workspaces:xu(m)};return k(_=>[..._,O]),n(`Layout '${T}' saved`,"success"),!0},[S.length,m,n]),ge=f.useCallback(T=>{const O=S.find(_=>_.id===T);if(!O){n("Preset not found","error");return}g(xu(O.workspaces)),n(`Layout '${O.name}' loaded`,"info")},[S,n]),Ce=f.useCallback(T=>{const O=S.find(_=>_.id===T);O&&(k(_=>_.filter(V=>V.id!==T)),n(`Preset '${O.name}' deleted`,"info"))},[S,n]),D=f.useCallback((T,O)=>{k(_=>_.map(V=>V.id===T?{...V,name:O}:V))},[]),$=f.useMemo(()=>({sessions:s,groupedSessions:i,loading:a,error:u,workspaces:m,sidebarCollapsed:y,floatingSession:w,assignedSessions:C,isDragging:p,settings:v,focusedWindowKey:j,layoutPresets:S,setWindowCount:L,addSessionToWindow:A,removeSessionFromWindow:R,setActiveSession:W,cycleSession:K,toggleSidebar:ne,openFloatingModal:Z,closeFloatingModal:M,handleSessionClick:U,refreshSessions:P,deleteSession:Y,renameSession:G,setIsDragging:d,updateSettings:z,setFocusedWindowKey:b,saveCurrentLayout:je,loadPreset:ge,deletePreset:Ce,renamePreset:D}),[s,i,a,u,m,y,w,C,p,v,j,S,L,A,R,W,K,ne,Z,M,U,P,Y,G,d,z,b,je,ge,Ce,D]);return r.jsx(uh.Provider,{value:$,children:e})}function ct(){const e=f.useContext(uh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const pn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function Bv(){const e=f.useRef(null),{settings:t,updateSettings:n}=ct(),[s,l]=f.useState(0),[i,o]=f.useState(!1);f.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(m=>{console.warn("Audio playback failed:",m.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),f.useEffect(()=>{const h=e.current;h&&(h.src=pn[s].file,t.musicEnabled&&h.play().catch(m=>console.warn("Track change play failed:",m.message)))},[s,t.musicEnabled]);const a=()=>l(h=>(h+1)%pn.length),c=()=>l(h=>(h-1+pn.length)%pn.length),u=h=>{l(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return r.jsxs("div",{className:"music-player",children:[r.jsx("audio",{ref:e,onEnded:a}),r.jsxs("div",{className:"music-controls",children:[r.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),r.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),r.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),r.jsxs("div",{className:"music-dropdown-wrap",children:[r.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[pn[s].name," ",r.jsxs("span",{className:"track-num",children:[s+1,"/",pn.length]})]}),i&&r.jsx("div",{className:"music-dropdown",children:pn.map((h,m)=>r.jsxs("button",{className:`music-dropdown-item ${m===s?"active":""}`,onClick:()=>u(m),children:[m+1,". ",h.name," ",m===s&&t.musicEnabled&&""]},m))})]}),r.jsxs("div",{className:"music-volume-inline",children:[r.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&r.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function Wv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:s}){const l=[{id:"chat",label:"Chat"},{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads",label:"Beads"},{id:"manual",label:"Manual"},{id:"settings",label:"Settings"},{id:"help",label:"Help"}],i=o=>{o.external?window.open(o.url,"_blank","noopener,noreferrer"):t(o.id)};return r.jsxs("div",{className:"tab-bar",children:[r.jsx("div",{className:"tab-bar-tabs",children:l.map(o=>r.jsx("button",{className:`tab ${!o.external&&e===o.id?"active":""} ${o.external?"external":""}`,onClick:()=>i(o),title:o.external?`Open ${o.label.replace(" ","")} in new tab`:void 0,children:o.label},o.id))}),r.jsxs("div",{className:"tab-bar-actions",children:[s&&r.jsx("button",{className:"tab",onClick:s,title:"Layout Presets",children:" Layouts"}),n&&r.jsx("button",{className:"tab",onClick:n,title:"Keyboard Shortcuts (?)",children:"?"}),r.jsx(Bv,{})]})]})}const Uv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Vv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Hv(e){const t=Vv(e);return t?{role:t,...Uv[t]}:null}function Kv({sessionName:e,compact:t=!1}){const n=Hv(e);if(!n)return null;const s={"--role-color":n.color,"--role-glow":n.glowColor};return r.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:s,title:n.name,"aria-label":n.name,children:n.emoji})}function Qv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:s,renameSession:l,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[h,m]=f.useState({show:!1,x:0,y:0}),[g,y]=f.useState(!1),[N,w]=f.useState(""),[E,p]=f.useState(!1),d=f.useRef(null),v=c?Gn[c.colorIndex%Gn.length].border:void 0,x=c?{backgroundColor:v,color:"#000",borderColor:v}:void 0,j=c?{color:v}:void 0,{attributes:b,listeners:S,setNodeRef:k,transform:C,isDragging:P}=lh({id:e.name,data:{type:"session",session:e}}),L=C?{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,zIndex:P?1e3:void 0}:void 0,A=f.useCallback(z=>{z.preventDefault(),z.stopPropagation(),m({show:!0,x:z.clientX,y:z.clientY}),p(!1)},[]),R=f.useCallback(()=>{m({show:!1,x:0,y:0}),p(!1)},[]),W=f.useCallback(async()=>{R(),await s(e.name)},[s,e.name,R]),K=f.useCallback(()=>{w(e.name),y(!0),R()},[e.name,R]),ne=f.useCallback(async()=>{N&&N!==e.name&&await l(e.name,N),y(!1)},[N,e.name,l]),Z=f.useCallback(z=>{z.key==="Enter"?ne():z.key==="Escape"&&y(!1)},[ne]),M=f.useCallback(z=>{const Y=z.startsWith("terminal2-")?"terminal2":"terminal1";o(Y,z,e.name),R()},[o,e.name,R]),U=f.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),R()},[c,a,e.name,R]);return f.useEffect(()=>{g&&d.current&&(d.current.focus(),d.current.select())},[g]),f.useEffect(()=>{if(!h.show)return;const z=()=>R();return document.addEventListener("click",z),()=>document.removeEventListener("click",z)},[h.show,R]),g?r.jsx("div",{className:"session-item renaming",children:r.jsx("input",{ref:d,type:"text",className:"session-rename-input",value:N,onChange:z=>w(z.target.value),onKeyDown:Z,onBlur:ne})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:k,className:`session-item ${u?"assigned":""} ${P?"dragging":""}`,style:L,...S,...b,onClick:()=>n(e.name),onContextMenu:A,children:[c&&r.jsx("span",{className:"window-badge",style:x,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),r.jsx(Kv,{sessionName:e.name}),r.jsx("span",{className:"session-name",style:j,children:e.name}),e.attached&&!u&&r.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&r.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:z=>z.stopPropagation(),children:[r.jsxs("button",{className:"session-context-item",onClick:K,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),r.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[r.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",r.jsx("span",{className:"session-context-arrow",children:""}),E&&r.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(z=>{const Y=i[z];return Y.windows.slice(0,Y.windowCount).map((G,je)=>{const ge=Gn[G.colorIndex%Gn.length],Ce=(c==null?void 0:c.windowId)===G.id,D=z==="terminal2"?"Terminal 2 - ":"";return r.jsxs("button",{className:`session-context-item ${Ce?"active":""}`,onClick:()=>M(G.id),style:{borderLeft:`3px solid ${ge.border}`},children:[D,"Window ",je+1,Ce&&r.jsx("span",{className:"session-context-check",children:""})]},G.id)})})})]}),u&&r.jsxs("button",{className:"session-context-item",onClick:U,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),r.jsx("div",{className:"session-context-divider"}),r.jsxs("button",{className:"session-context-item session-context-danger",onClick:W,children:[r.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Gv({groupKey:e,sessions:t}){const[n,s]=f.useState(!0),l=Rv(e);return r.jsxs("div",{className:"session-group",children:[r.jsxs("div",{className:"session-group-header",onClick:()=>s(!n),children:[r.jsx("span",{className:"expand-icon",children:n?"":""}),r.jsx("span",{className:"group-name",children:l}),r.jsx("span",{className:"session-count",children:t.length})]}),n&&r.jsx("div",{className:"session-group-items",children:t.map(i=>r.jsx(Qv,{session:i},i.name))})]})}function Yv({onConfirm:e,onCancel:t,sessionCount:n}){const[s,l]=f.useState(""),i=s==="NUKE",o=a=>{a.preventDefault(),i&&e()};return r.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:r.jsxs("div",{className:"nuke-modal",onClick:a=>a.stopPropagation(),children:[r.jsxs("div",{className:"nuke-modal-header",children:[r.jsx("span",{className:"nuke-icon",children:""}),r.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),r.jsxs("div",{className:"nuke-modal-body",children:[r.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",r.jsx("strong",{children:n})," tmux session",n!==1?"s":"","."]}),r.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),r.jsxs("form",{onSubmit:o,children:[r.jsxs("label",{className:"nuke-label",children:["Type ",r.jsx("strong",{children:"NUKE"})," to confirm:"]}),r.jsx("input",{type:"text",className:"nuke-input",value:s,onChange:a=>l(a.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),r.jsxs("div",{className:"nuke-buttons",children:[r.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!i,children:"Destroy All"})]})]})]})]})})}function Xv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:s,toggleSidebar:l,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=kr(),[u,h]=f.useState(!1),[m,g]=f.useState(""),[y,N]=f.useState(!1),[w,E]=f.useState(!1),p=f.useMemo(()=>{const x=Object.entries(e);return(m?x.map(([b,S])=>[b,S.filter(k=>k.name.toLowerCase().includes(m.toLowerCase()))]).filter(([b,S])=>S.length>0):x).sort(([b],[S])=>{const k=mu(b),C=mu(S);return k!==C?k-C:b.localeCompare(S)})},[e,m]),d=async()=>{h(!0);try{const x=a.defaultSessionPrefix||"tmux",j=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),b=new RegExp(`^${j}(\\d+)$`),S=o.map(L=>L.name.match(b)).filter(Boolean).map(L=>parseInt(L[1],10)),k=S.length>0?Math.max(...S)+1:1,C=`${x}${k}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:C})})).ok?(c(`Session '${C}' created`,"success"),i()):c("Failed to create session","error")}catch(x){console.error("Failed to create session:",x),c("Failed to create session","error")}finally{h(!1)}},v=async()=>{E(!0);try{const x=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});x.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await x.text()),c("Failed to destroy sessions","error"))}catch(x){console.error("Failed to nuke sessions:",x),c("Failed to destroy sessions","error")}finally{E(!1),N(!1)}};return r.jsxs("div",{className:`session-panel ${s?"collapsed":""}`,children:[r.jsxs("div",{className:"session-panel-header",children:[r.jsx("button",{className:"toggle-btn",onClick:l,title:s?"Expand":"Collapse",children:s?"":""}),!s&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Sessions"}),r.jsx("button",{className:"add-btn",onClick:d,disabled:u,title:"New tmux session",children:"+"}),r.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!s&&r.jsx("div",{className:"session-search-container",children:r.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:m,onChange:x=>g(x.target.value)})}),!s&&r.jsxs("div",{className:"session-panel-content",children:[t&&r.jsx("div",{className:"panel-status",children:"Loading..."}),n&&r.jsx("div",{className:"panel-error",children:n}),!t&&!n&&p.length===0&&r.jsxs("div",{className:"getting-started",children:[r.jsx("div",{className:"getting-started-title",children:"Getting Started"}),r.jsxs("div",{className:"getting-started-text",children:["Click ",r.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",r.jsx("code",{children:"tmux new -s mysession"})]}),r.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),p.map(([x,j])=>r.jsx(Gv,{groupKey:x,sessions:j},x))]}),!s&&o.length>0&&r.jsx("div",{className:"session-panel-footer",children:r.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>N(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),y&&r.jsx(Yv,{sessionCount:o.length,onConfirm:v,onCancel:()=>N(!1)})]})}function Jv({workspaceId:e,windowId:t,accentColor:n}){const[s,l]=f.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=kr(),u=async()=>{l(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{l(!1)}};return r.jsxs("button",{className:"create-session-btn",onClick:u,disabled:s,style:{"--btn-accent":n},title:"Create new session",children:[r.jsx("span",{className:"create-session-icon",children:s?"...":"+"}),r.jsx("span",{className:"create-session-label",children:"New Session"})]})}function Zv({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:s,isOver:l}=gv({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?r.jsx("div",{ref:s,className:`terminal-drop-overlay ${l?"is-over":""}`,children:r.jsx("span",{className:"drop-hint",children:l?"Release to add":"Drop here"})}):null}function qv({sessionName:e,isActive:t,workspaceId:n,windowId:s,onRemove:l,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=lh({id:`tag-${n}-${s}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:s,sourceWorkspaceId:n}}),m=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,g=e.includes("-")?e.split("-").slice(-1)[0]:e,y=N=>{h||N.target.closest(".tag-remove")||i()};return r.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:m,onClick:y,...a,...o,children:[r.jsx("span",{className:"tag-name",children:g}),r.jsx("button",{className:"tag-remove",onClick:N=>{N.stopPropagation(),l()},children:""})]})}function ex({workspaceId:e,window:t,isDragging:n=!1}){const[s,l]=f.useState(new Set),i=f.useRef(new Map),o=f.useRef(null),a=f.useRef(null),{removeSessionFromWindow:c,setActiveSession:u,cycleSession:h,settings:m,focusedWindowKey:g,setFocusedWindowKey:y}=ct(),N=`${e}-${t.id}`,w=g===N,E=t.activeSession,p=E?s.has(E):!1,d=f.useCallback(()=>{if(E)try{const R=i.current.get(E);if(!(R!=null&&R.contentWindow))return;R.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[E]),v=f.useCallback((R,W)=>{if(!(R!=null&&R.contentWindow))return;let K=0;const ne=20,Z=()=>{try{const M=R.contentWindow;if(M.term){M.term.options.fontSize=W;return}}catch{}K++,K<ne&&setTimeout(Z,50)};Z()},[]),x=f.useCallback(R=>{l(K=>new Set(K).add(R));const W=i.current.get(R);W&&(v(W,m.fontSize),setTimeout(()=>{R===t.activeSession&&d()},100),setTimeout(()=>{R===t.activeSession&&d()},300))},[v,m.fontSize,d,t.activeSession]);f.useEffect(()=>{s.forEach(R=>{const W=i.current.get(R);W&&v(W,m.fontSize)})},[m.fontSize,s,v]),f.useEffect(()=>{E&&s.has(E)&&setTimeout(d,50)},[E,s,d]),f.useEffect(()=>{const R=new Set(t.boundSessions);i.current.forEach((W,K)=>{R.has(K)||i.current.delete(K)}),l(W=>{const K=new Set;return W.forEach(ne=>{R.has(ne)&&K.add(ne)}),K})},[t.boundSessions]);const j=f.useCallback(()=>{y(N)},[N,y]),b=f.useRef(w),S=f.useRef(t.boundSessions);f.useEffect(()=>{b.current=w,S.current=t.boundSessions},[w,t.boundSessions]),f.useEffect(()=>{const R=W=>{b.current&&W.ctrlKey&&(S.current.length<=1||(W.key==="ArrowRight"?(W.preventDefault(),h(e,t.id,"next")):W.key==="ArrowLeft"&&(W.preventDefault(),h(e,t.id,"prev"))))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,t.id,h]),f.useEffect(()=>{const R=o.current;if(!R)return;let W;const K=new ResizeObserver(()=>{clearTimeout(W),W=setTimeout(d,100)});return K.observe(R),()=>{clearTimeout(W),K.disconnect()}},[d]);const k=Gn[t.colorIndex%Gn.length],C=R=>{c(e,t.id,R)},P=R=>{u(e,t.id,R)},L=t.boundSessions.length>0,A=R=>`/terminal/?arg=${encodeURIComponent(R)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return r.jsxs("div",{ref:a,className:`terminal-window ${w?"focused":""}`,tabIndex:-1,onClick:j,style:{"--window-accent":k.accent,"--window-bg":k.bg,"--window-border":k.border},children:[r.jsxs("div",{className:"terminal-window-header",children:[r.jsx("div",{className:"session-tags",children:t.boundSessions.map(R=>r.jsx(qv,{sessionName:R,isActive:R===E,workspaceId:e,windowId:t.id,onRemove:()=>C(R),onClick:()=>P(R)},R))}),r.jsxs("div",{className:"window-controls",children:[L&&t.boundSessions.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"prev"),title:"Previous session",children:""}),r.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"next"),title:"Next session",children:""})]}),r.jsx("span",{className:`status-dot ${p?"":"disconnected"}`})]})]}),r.jsxs("div",{ref:o,className:"terminal-window-body",children:[E==="INIT-PENDING"?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:k.accent},children:r.jsx("span",{children:"Initializing Session..."})}):L?t.boundSessions.map(R=>{const W=R===E;return r.jsx("iframe",{ref:K=>{K&&i.current.set(R,K)},src:A(R),onLoad:()=>x(R),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:W?"block":"none",position:W?"relative":"absolute"},title:`Terminal ${t.id} - ${R}`},R)}):r.jsxs("div",{className:"empty-window-state",children:[r.jsx(Jv,{workspaceId:e,windowId:t.id,accentColor:k.accent}),r.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),r.jsx(Zv,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function tx({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:s}=ct(),l=t[e],i=l.windows,o=l.windowCount,a=()=>{switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return r.jsxs("div",{className:"terminal-area",children:[r.jsxs("div",{className:"terminal-area-controls",children:[r.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(c=>r.jsx("button",{className:`layout-btn ${o===c?"active":""}`,onClick:()=>n(e,c),title:`${c} window${c>1?"s":""}`,children:c},c))]}),r.jsx("div",{className:`terminal-grid ${a()}`,"data-workspace":e,children:i.slice(0,o).map(c=>r.jsx(ex,{workspaceId:e,window:c,isDragging:s},c.id))})]})}class te extends Error{constructor(t,n,s){super(t),this.code=n,this.status=s,this.name="FileOperationError"}}function Fa(e){return`/${e}`}const hn="/api/files";function dh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new te('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new te("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new te("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new te('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function ms(e,t){if(!e.ok)switch(e.status){case 403:throw new te("Permission denied","PERMISSION",403);case 404:throw new te("File not found","NOT_FOUND",404);case 409:throw new te("Already exists","CONFLICT",409);case 413:throw new te("File too large","STORAGE",413);case 507:throw new te("Insufficient storage","STORAGE",507);default:throw new te(`${t}: ${e.status}`,"SERVER",e.status)}}function Yn(e,t){if(e instanceof te)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function fh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${hn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(l){throw new te(l instanceof Error?l.message:"Network error","NETWORK")}ms(n,"Failed to fetch directory");let s;try{s=await n.json()}catch{throw new te("Invalid server response","INVALID")}if(typeof s!="object"||s===null)throw new te("Invalid directory response","INVALID");if(s.isDir===!1)throw new te("Path is not a directory","INVALID");if(!("items"in s)||!Array.isArray(s.items))throw new te("Invalid directory response","INVALID");return s.items.map(l=>({name:l.name,size:l.size,modified:l.modified,isDir:l.isDir,type:l.type,path:t==="/"?`/${l.name}`:`${t}/${l.name}`}))}async function hh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let s;try{s=await fetch(`${hn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(l){throw new te(l instanceof Error?l.message:"Network error","NETWORK")}if(s.status===409)throw new te("Folder already exists","CONFLICT",409);ms(s,"Failed to create folder")}async function nx(e,t){let n;try{n=await fetch(`${hn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(s){throw new te(s instanceof Error?s.message:"Network error","NETWORK")}if(n.status===409)throw new te("Destination already exists","CONFLICT",409);ms(n,"Failed to rename")}async function sx(e){let t;try{t=await fetch(`${hn}/resources${e}`,{method:"DELETE"})}catch(n){throw new te(n instanceof Error?n.message:"Network error","NETWORK")}ms(t,"Failed to delete")}async function Mo(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const s of n){const l=dh(s.name),i=e==="/"?`/${l}`:`${e}/${l}`;let o;try{o=await fetch(`${hn}/resources${i}`,{method:"POST",headers:{"Content-Type":s.type||"application/octet-stream"},body:s})}catch(a){throw new te(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new te("File too large","STORAGE",413);if(o.status===507)throw new te("Insufficient storage","STORAGE",507);ms(o,`Failed to upload ${l}`)}}async function rx(e){try{return(await fetch(`${hn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function $a(e){return`${hn}/raw${e}?inline=false`}async function lx(e,t){for(const{file:n,relativePath:s}of t){const o=s.split("/").filter(u=>u.length>0).map(u=>dh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${hn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new te(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new te("File too large","STORAGE",413);if(c.status===507)throw new te("Insufficient storage","STORAGE",507);ms(c,`Failed to upload ${o}`)}}function ix({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),s=n.length===0,l=e;return r.jsxs("nav",{className:"fb-breadcrumbs",children:[r.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:s&&l||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?Fa(i):i;return r.jsxs("span",{className:"fb-breadcrumb-segment",children:[r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function _o(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function ox(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),l=Math.floor(s/(1e3*60*60*24));if(l===0){const i=Math.floor(s/36e5);if(i===0){const o=Math.floor(s/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return l===1?"Yesterday":l<7?`${l} days ago`:t.toLocaleDateString()}function ph(e){var s;if(e.isDir)return"";const t=((s=e.name.split(".").pop())==null?void 0:s.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function ax({item:e}){return r.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:ph(e)})}function _i({label:e,sortKey:t,currentSort:n,currentDir:s,onSort:l,className:i}){const o=n===t;return r.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>l(t),children:[e,o&&r.jsx("span",{className:"fb-sort-indicator",children:s==="asc"?"":""})]})}function cx({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:m,disabled:g}){const y=f.useRef(null);f.useEffect(()=>{if(o&&y.current){y.current.focus();const d=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;y.current.setSelectionRange(0,d)}},[o,e.name]);const N=()=>{g||(e.isDir?s():window.open($a(e.path),"_blank"))},w=d=>{g||(d.key==="Enter"&&!o?N():d.key==="F2"&&!o&&i())},E=d=>{d.key==="Enter"?u():d.key==="Escape"&&h()},p=m?Fa(e.name):e.name;return r.jsxs("div",{className:`fb-row ${t?"selected":""} ${g?"disabled":""}`,onClick:g?void 0:n,onDoubleClick:N,onContextMenu:g?void 0:l,onKeyDown:w,tabIndex:g?-1:0,role:"row",children:[r.jsxs("div",{className:"fb-cell fb-cell-name",children:[r.jsx(ax,{item:e}),o?r.jsx("input",{ref:y,type:"text",className:"fb-rename-input",value:a,onChange:d=>c(d.target.value),onKeyDown:E,onBlur:h}):r.jsx("span",{className:"fb-filename",children:p})]}),r.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":_o(e.size)}),r.jsx("div",{className:"fb-cell fb-cell-modified",children:ox(e.modified)})]})}function ux({item:e,isSelected:t,onSelect:n,onNavigate:s,onContextMenu:l,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?s():window.open($a(e.path),"_blank"))},c=i?Fa(e.name):e.name;return r.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:l,tabIndex:o?-1:0,role:"gridcell",children:[r.jsx("div",{className:"fb-grid-icon",children:ph(e)}),r.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function dx({x:e,y:t,item:n,onClose:s,onDownload:l,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=f.useRef(null);f.useEffect(()=>{const m=y=>{u.current&&!u.current.contains(y.target)&&s()},g=y=>{y.key==="Escape"&&s()};return document.addEventListener("mousedown",m),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("keydown",g)}},[s]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return r.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&r.jsxs("button",{className:"fb-context-item",onClick:l,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"fb-context-item",onClick:i,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),r.jsxs("button",{className:"fb-context-item",onClick:a,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),r.jsx("div",{className:"fb-context-divider"}),r.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&r.jsxs("button",{className:"fb-context-item",onClick:c,children:[r.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function fx({onClose:e,onCreate:t,loading:n,error:s}){const[l,i]=f.useState(""),o=f.useRef(null);f.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),l.trim()&&!n&&t(l.trim())};return r.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:r.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"New Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),r.jsxs("form",{onSubmit:a,children:[r.jsxs("div",{className:"fb-dialog-body",children:[r.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),r.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:l,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),s&&r.jsx("div",{className:"fb-dialog-error",children:s})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!l.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function hx({item:e,onClose:t,onConfirm:n,loading:s,error:l}){return r.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:r.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),r.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:s,children:""})]}),r.jsxs("div",{className:"fb-dialog-body",children:[r.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",r.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),l&&r.jsx("div",{className:"fb-dialog-error",children:l})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:s,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:s,children:s?"Deleting...":"Delete"})]})]})})}function px({currentPath:e,onUploadComplete:t,onError:n}){const[s,l]=f.useState(!1),[i,o]=f.useState(!1),[a,c]=f.useState(null),u=f.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),l(!0)},m=w=>{w.preventDefault(),w.stopPropagation(),l(!1)},g=async w=>{w.preventDefault(),w.stopPropagation(),l(!1);const E=w.dataTransfer.files;E.length>0&&await y(E)},y=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Mo(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(E){const p=Yn(E,"upload");c(null),n(p)}finally{o(!1)}},N=w=>{w.target.files&&w.target.files.length>0&&y(w.target.files)};return r.jsxs("div",{className:`fb-upload-zone ${s?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:m,onDrop:g,children:[r.jsx("input",{ref:u,type:"file",multiple:!0,onChange:N,style:{display:"none"}}),a?r.jsx("span",{className:"fb-upload-status",children:a}):r.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[r.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function mh(e,t=""){const n=[],s=e.createReader(),l=()=>new Promise((a,c)=>{s.readEntries(a,c)});let i=[],o;do o=await l(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((m,g)=>{u.file(m,g)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await mh(a,c);n.push(...u)}}return n}async function mx(e){var n;const t=[];for(let s=0;s<e.length;s++){const l=e[s];if(l.kind!=="file")continue;const i=(n=l.webkitGetAsEntry)==null?void 0:n.call(l);if(!i){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=l.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await mh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function gx({onError:e}){const[t,n]=f.useState([]),[s,l]=f.useState(""),[i,o]=f.useState(!1),[a,c]=f.useState(!1),[u,h]=f.useState("idle"),m=f.useRef(null),g=f.useRef(null),y="/code/incoming",N=C=>{C.preventDefault(),C.stopPropagation(),o(!0)},w=C=>{C.preventDefault(),C.stopPropagation(),o(!1)},E=async C=>{if(C.preventDefault(),C.stopPropagation(),o(!1),C.dataTransfer.items&&C.dataTransfer.items.length>0){const P=await mx(C.dataTransfer.items);P.length>0&&(n(L=>[...L,...P]),h("idle"))}else if(C.dataTransfer.files.length>0){const P=Array.from(C.dataTransfer.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...P]),h("idle")}},p=C=>{if(C.target.files&&C.target.files.length>0){const P=Array.from(C.target.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...P]),h("idle")}},d=C=>{if(C.target.files&&C.target.files.length>0){const P=Array.from(C.target.files),L=new Map;for(const R of P){const W=R.webkitRelativePath||R.name,K=W.split("/")[0];L.has(K)||L.set(K,[]),L.get(K).push({file:R,relativePath:W})}const A=Array.from(L.entries()).map(([R,W])=>({type:"folder",name:R,size:W.reduce((K,ne)=>K+ne.file.size,0),filesWithPaths:W}));n(R=>[...R,...A]),h("idle")}},v=C=>{n(P=>P.filter((L,A)=>A!==C))},x=async()=>{if(t.length!==0){c(!0);try{await rx(y)||await hh("/code","incoming");for(const P of t)P.type==="file"&&P.file?await Mo(y,[P.file]):P.type==="folder"&&P.filesWithPaths&&await lx(y,P.filesWithPaths);if(s.trim()&&t.length>0){const P=new File([s.trim()],`${t[0].name}.note`,{type:"text/plain"});await Mo(y,[P])}h("success"),n([]),l(""),m.current&&(m.current.value=""),g.current&&(g.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(C){h("error");const P=Yn(C,"upload");e(`Failed to send: ${P}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},j=t.reduce((C,P)=>C+P.size,0),b=t.reduce((C,P)=>{var L;return P.type==="file"?C+1:C+(((L=P.filesWithPaths)==null?void 0:L.length)||0)},0),S=t.filter(C=>C.type==="folder").length,k=t.filter(C=>C.type==="file").length;return r.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[r.jsxs("div",{className:"inbox-dropzone",onDragOver:N,onDragLeave:w,onDrop:E,children:[r.jsx("input",{ref:m,type:"file",multiple:!0,onChange:p,style:{display:"none"}}),r.jsx("input",{ref:g,type:"file",webkitdirectory:"",onChange:d,style:{display:"none"}}),t.length>0?r.jsxs("div",{className:"inbox-files-list",children:[t.map((C,P)=>r.jsxs("div",{className:"inbox-file-item",children:[r.jsx("span",{className:"inbox-file-icon",children:C.type==="folder"?"":""}),r.jsxs("span",{className:"inbox-file-name",children:[C.name,C.type==="folder"&&C.filesWithPaths&&r.jsxs("span",{className:"inbox-file-count",children:[" (",C.filesWithPaths.length," files)"]})]}),r.jsx("span",{className:"inbox-file-size",children:_o(C.size)}),r.jsx("button",{className:"inbox-file-remove",onClick:L=>{L.stopPropagation(),v(P)},children:""})]},`${C.name}-${P}`)),r.jsxs("div",{className:"inbox-add-buttons",children:[r.jsx("button",{className:"inbox-add-more",onClick:C=>{var P;C.stopPropagation(),(P=m.current)==null||P.click()},children:"+ Files"}),r.jsx("button",{className:"inbox-add-more",onClick:C=>{var P;C.stopPropagation(),(P=g.current)==null||P.click()},children:"+ Folder"})]})]}):r.jsxs("div",{className:"inbox-placeholder",children:[r.jsx("span",{className:"inbox-icon",children:""}),r.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),r.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),r.jsxs("div",{className:"inbox-browse-buttons",children:[r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var P;C.stopPropagation(),(P=m.current)==null||P.click()},children:"Browse Files"}),r.jsx("button",{className:"inbox-browse-btn",onClick:C=>{var P;C.stopPropagation(),(P=g.current)==null||P.click()},children:"Browse Folder"})]})]})]}),r.jsxs("div",{className:"inbox-bottom",children:[r.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:s,onChange:C=>l(C.target.value),disabled:a,rows:2}),r.jsxs("div",{className:"inbox-actions",children:[t.length>0&&r.jsxs("span",{className:"inbox-summary",children:[S>0&&`${S} folder${S>1?"s":""}`,S>0&&k>0&&", ",k>0&&`${k} file${k>1?"s":""}`," ","(",b," total)  ",_o(j)]}),r.jsx("button",{className:"inbox-send",onClick:x,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function vx(){return r.jsxs("div",{className:"fb-info-panel",children:[r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Available Directories"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/code"}),r.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"/vault"}),r.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Keyboard Shortcuts"}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),r.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Go Back"}),r.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Rename"}),r.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Delete"}),r.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Select All"}),r.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),r.jsxs("div",{className:"fb-info-item",children:[r.jsx("span",{className:"fb-info-label",children:"Refresh"}),r.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),r.jsxs("div",{className:"fb-info-card",children:[r.jsx("h3",{children:"Tips"}),r.jsxs("ul",{className:"fb-info-tips",children:[r.jsx("li",{children:"Double-click folders to open them"}),r.jsx("li",{children:"Double-click files to download"}),r.jsx("li",{children:"Right-click for more options"}),r.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function xx({message:e,onDismiss:t,autoDismissMs:n=5e3}){return f.useEffect(()=>{const s=setTimeout(t,n);return()=>clearTimeout(s)},[t,n]),r.jsxs("div",{className:"fb-error-toast",role:"alert",children:[r.jsx("span",{className:"fb-error-toast-icon",children:"!"}),r.jsx("span",{className:"fb-error-toast-message",children:e}),r.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function yx(){const[e,t]=f.useState("browser"),[n,s]=f.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[l,i]=f.useState({type:null,loading:!1,error:null}),[o,a]=f.useState(null),[c,u]=f.useState(null),[h,m]=f.useState(null),[g,y]=f.useState(""),[N,w]=f.useState(!1),[E,p]=f.useState(null),[d,v]=f.useState(["/"]),[x,j]=f.useState(0),b=f.useCallback(D=>{a(D)},[]),S=f.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),k=f.useCallback(async D=>{s($=>({...$,loading:!0,error:null}));try{const $=await fh(D);s(T=>({...T,items:$,loading:!1,currentPath:D,selectedItems:new Set,error:null}))}catch($){const T=Yn($,"fetch");s(O=>({...O,loading:!1,error:T,items:[]}))}},[]);f.useEffect(()=>{k("/")},[k]);const C=f.useCallback((D,$=!0)=>{if($){const T=[...d.slice(0,x+1),D];v(T),j(T.length-1)}k(D)},[k,d,x]),P=f.useCallback(()=>{if(x>0){const D=x-1;j(D),k(d[D])}},[x,d,k]),L=f.useCallback(()=>{if(x<d.length-1){const D=x+1;j(D),k(d[D])}},[x,d,k]),A=f.useCallback(()=>{const D=n.currentPath.split("/").filter(Boolean);D.length>0&&(D.pop(),C("/"+D.join("/")))},[n.currentPath,C]),R=f.useMemo(()=>{const D=[...n.items],$=n.searchQuery?D.filter(T=>T.name.toLowerCase().includes(n.searchQuery.toLowerCase())):D;return $.sort((T,O)=>{if(T.isDir!==O.isDir)return T.isDir?-1:1;let _=0;switch(n.sortBy){case"name":_=T.name.localeCompare(O.name);break;case"size":_=T.size-O.size;break;case"modified":_=new Date(T.modified).getTime()-new Date(O.modified).getTime();break}return n.sortDir==="asc"?_:-_}),$},[n.items,n.sortBy,n.sortDir,n.searchQuery]),W=D=>{s($=>({...$,sortBy:D,sortDir:$.sortBy===D&&$.sortDir==="asc"?"desc":"asc"}))},K=(D,$)=>{if($.preventDefault(),$.ctrlKey||$.metaKey)s(T=>{const O=new Set(T.selectedItems);return O.has(D.name)?O.delete(D.name):O.add(D.name),{...T,selectedItems:O}});else if($.shiftKey&&n.selectedItems.size>0){const T=Array.from(n.selectedItems).pop(),O=R.findIndex(B=>B.name===T),_=R.findIndex(B=>B.name===D.name),V=Math.min(O,_),H=Math.max(O,_),ie=new Set(R.slice(V,H+1).map(B=>B.name));s(B=>({...B,selectedItems:ie}))}else s(T=>({...T,selectedItems:new Set([D.name])}))},ne=(D,$)=>{$.preventDefault(),u({x:$.clientX,y:$.clientY,item:D}),D&&!n.selectedItems.has(D.name)&&s(T=>({...T,selectedItems:new Set([D.name])}))},Z=D=>{m(D.name),y(D.name),u(null)},M=async()=>{if(!h||!g.trim()||g===h){U();return}const D=n.items.find(T=>T.name===h);if(!D)return;const $=n.currentPath==="/"?`/${g}`:`${n.currentPath}/${g}`;i({type:"rename",loading:!0,error:null,target:D.name});try{await nx(D.path,$),await k(n.currentPath),S()}catch(T){const O=Yn(T,"rename");i({type:"rename",loading:!1,error:O,target:D.name}),b(O)}finally{U()}},U=()=>{m(null),y("")},z=async()=>{if(E){i({type:"delete",loading:!0,error:null,target:E.name});try{await sx(E.path),await k(n.currentPath),S(),p(null)}catch(D){const $=Yn(D,"delete");i({type:"delete",loading:!1,error:$,target:E.name}),b($)}}},Y=async D=>{i({type:"create",loading:!0,error:null,target:D});try{await hh(n.currentPath,D),await k(n.currentPath),S(),w(!1)}catch($){const T=Yn($,"create");i({type:"create",loading:!1,error:T,target:D})}},G=()=>{c!=null&&c.item&&!c.item.isDir&&window.open($a(c.item.path),"_blank"),u(null)},je=()=>{if(c!=null&&c.item){const D=c.item.path;navigator.clipboard.writeText(D)}u(null)};f.useEffect(()=>{const D=$=>{if(e==="browser"&&!($.target.tagName==="INPUT"||$.target.tagName==="TEXTAREA"))if($.key==="F5")$.preventDefault(),k(n.currentPath);else if($.key==="Backspace")$.preventDefault(),A();else if($.key==="Delete"){const T=n.items.find(O=>n.selectedItems.has(O.name));T&&p(T)}else if($.key==="F2"){const T=n.items.find(O=>n.selectedItems.has(O.name));T&&Z(T)}else $.ctrlKey&&$.key==="a"&&($.preventDefault(),s(T=>({...T,selectedItems:new Set(T.items.map(O=>O.name))})))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[e,n.currentPath,n.items,n.selectedItems,k,A]);const ge=n.currentPath==="/"||n.currentPath==="",Ce=l.loading;return r.jsxs("div",{className:"fb-container files-view",children:[o&&r.jsx(xx,{message:o,onDismiss:()=>a(null)}),r.jsxs("div",{className:"fb-header",children:[r.jsxs("div",{className:"fb-header-left",children:[r.jsx("h2",{className:"fb-title",children:"Files"}),r.jsxs("div",{className:"fb-tabs",children:[r.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),r.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),r.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&r.jsxs(r.Fragment,{children:[r.jsx(px,{currentPath:n.currentPath,onUploadComplete:()=>k(n.currentPath),onError:b}),r.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:Ce,children:"+"})]}),r.jsx("button",{className:"fb-btn",onClick:()=>k(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),r.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),r.jsx("div",{className:"fb-content",children:e==="browser"?r.jsxs(r.Fragment,{children:[r.jsx(gx,{onError:b}),r.jsxs("div",{className:"fb-toolbar",children:[r.jsxs("div",{className:"fb-toolbar-nav",children:[r.jsx("button",{className:"fb-nav-btn",onClick:P,disabled:x===0,title:"Back",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:L,disabled:x>=d.length-1,title:"Forward",children:""}),r.jsx("button",{className:"fb-nav-btn",onClick:A,disabled:n.currentPath==="/",title:"Up",children:""})]}),r.jsx(ix,{path:n.currentPath,onNavigate:C}),r.jsxs("div",{className:"fb-toolbar-actions",children:[r.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:D=>s($=>({...$,searchQuery:D.target.value}))}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>s(D=>({...D,viewMode:"list"})),title:"List view",children:""}),r.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>s(D=>({...D,viewMode:"grid"})),title:"Grid view",children:""})]})]}),r.jsx("div",{className:"fb-list-container",onContextMenu:D=>{D.target.closest(".fb-row, .fb-grid-item")||ne(null,D)},children:n.loading?r.jsxs("div",{className:"fb-loading",children:[r.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?r.jsxs("div",{className:"fb-error",children:[r.jsx("span",{className:"fb-error-icon",children:""}),r.jsx("span",{className:"fb-error-message",children:n.error}),r.jsx("button",{className:"fb-retry-btn",onClick:()=>k(n.currentPath),children:"Retry"})]}):R.length===0?r.jsxs("div",{className:"fb-empty",children:[r.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?r.jsxs("div",{className:"fb-list",role:"grid",children:[r.jsxs("div",{className:"fb-list-header",role:"row",children:[r.jsx(_i,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-name"}),r.jsx(_i,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-size"}),r.jsx(_i,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-modified"})]}),r.jsx("div",{className:"fb-list-body",children:R.map(D=>r.jsx(cx,{item:D,isSelected:n.selectedItems.has(D.name),onSelect:$=>K(D,$),onNavigate:()=>C(D.path),onContextMenu:$=>ne(D,$),onRename:()=>Z(D),isRenaming:h===D.name,renameValue:g,setRenameValue:y,onRenameSubmit:M,onRenameCancel:U,isAtRoot:ge,disabled:Ce},D.name))})]}):r.jsx("div",{className:"fb-grid",role:"grid",children:R.map(D=>r.jsx(ux,{item:D,isSelected:n.selectedItems.has(D.name),onSelect:$=>K(D,$),onNavigate:()=>C(D.path),onContextMenu:$=>ne(D,$),isAtRoot:ge,disabled:Ce},D.name))})}),r.jsxs("div",{className:"fb-statusbar",children:[r.jsxs("span",{children:[R.length," items"]}),n.selectedItems.size>0&&r.jsxs("span",{children:[n.selectedItems.size," selected"]}),Ce&&r.jsxs("span",{className:"fb-statusbar-operation",children:[l.type==="rename"&&"Renaming...",l.type==="delete"&&"Deleting...",l.type==="create"&&"Creating...",l.type==="upload"&&"Uploading..."]})]})]}):r.jsx(vx,{})}),c&&r.jsx(dx,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:G,onRename:()=>c.item&&Z(c.item),onDelete:()=>c.item&&p(c.item),onCopyPath:je,onNewFolder:()=>{u(null),w(!0)}}),N&&r.jsx(fx,{onClose:()=>{w(!1),S()},onCreate:Y,loading:l.type==="create"&&l.loading,error:l.type==="create"?l.error:null}),E&&r.jsx(hx,{item:E,onClose:()=>{p(null),S()},onConfirm:z,loading:l.type==="delete"&&l.loading,error:l.type==="delete"?l.error:null})]})}function wx({onSelect:e,onClose:t,initialPath:n="/"}){const[s,l]=f.useState(n),[i,o]=f.useState([]),[a,c]=f.useState(!0),[u,h]=f.useState(null),[m,g]=f.useState(!1),y=f.useCallback(async x=>{try{const j=x==="/"?"/.beads":`${x}/.beads`,b=await fetch(`/api/files/resources${j}`);return b.ok?(await b.json()).isDir===!0:!1}catch{return!1}},[]),N=f.useCallback(async x=>{c(!0),h(null);try{const b=(await fh(x)).filter(C=>C.isDir),S=await y(x);g(S);const k=await Promise.all(b.map(async C=>({...C,hasBeads:await y(C.path)})));o(k)}catch(j){h(j instanceof Error?j.message:"Failed to load directory"),o([])}finally{c(!1)}},[y]);f.useEffect(()=>{N(s)},[s,N]);const w=x=>{l(x)},E=()=>{if(s==="/")return;const x=s.split("/").filter(Boolean);x.pop(),l(x.length===0?"/":"/"+x.join("/"))},p=s==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...s.split("/").filter(Boolean).map((x,j,b)=>({name:x,path:"/"+b.slice(0,j+1).join("/")}))],d=()=>{e(s)},v=x=>{x.target===x.currentTarget&&t()};return r.jsx("div",{className:"fb-dialog-overlay",onClick:v,children:r.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"fb-dialog-header",children:[r.jsx("h3",{children:"Select Beads Project Folder"}),r.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),r.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[r.jsxs("div",{className:"folder-picker-nav",children:[r.jsx("button",{className:"folder-picker-up-btn",onClick:E,disabled:s==="/",title:"Go up",children:""}),r.jsx("div",{className:"fb-breadcrumbs",children:p.map((x,j)=>r.jsxs("span",{children:[j>0&&r.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),r.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(x.path),children:x.name})]},x.path))})]}),r.jsxs("div",{className:"folder-picker-path",children:[r.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),r.jsx("code",{children:s}),m&&r.jsx("span",{className:"beads-badge",children:".beads"})]}),r.jsx("div",{className:"folder-picker-list",children:a?r.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?r.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?r.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(x=>r.jsxs("div",{className:`folder-picker-item ${x.hasBeads?"has-beads":""}`,onClick:()=>w(x.path),children:[r.jsx("span",{className:"folder-picker-icon",children:""}),r.jsx("span",{className:"folder-picker-name",children:x.name}),x.hasBeads&&r.jsx("span",{className:"beads-badge",children:".beads"})]},x.path))})]}),r.jsxs("div",{className:"fb-dialog-footer",children:[r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),r.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:d,disabled:!m,title:m?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function On({label:e,value:t,onChange:n}){return r.jsxs("div",{className:"color-input-group",children:[r.jsx("span",{className:"color-input-label",children:e}),r.jsxs("div",{className:"color-input-controls",children:[r.jsx("input",{type:"color",value:t,onChange:s=>n(s.target.value),className:"color-picker"}),r.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function jx(){var g,y,N,w,E,p;const{settings:e,updateSettings:t}=ct(),[n,s]=f.useState(!1),l=d=>{const v=e.beadsProjectPaths||[];v.includes(d)||t({beadsProjectPaths:[...v,d]}),s(!1)},i=d=>{const v=e.beadsProjectPaths||[];t({beadsProjectPaths:v.filter(x=>x!==d)})},o=d=>{t({theme:d})},a=d=>{const v=parseInt(d.target.value,10);v>=12&&v<=20&&t({fontSize:v})},c=d=>{t({autoRefreshInterval:parseInt(d.target.value,10)})},u=d=>{t({defaultSessionPrefix:d.target.value})},h=(d,v)=>{t({tmuxAppearance:{...e.tmuxAppearance,[d]:v}})},m=d=>{const v=Tv[d];v&&t({tmuxAppearance:v})};return r.jsxs("div",{className:"settings-view",children:[r.jsx("h1",{className:"settings-title",children:"Settings"}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Appearance"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Theme"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(d=>r.jsx("button",{className:`theme-option ${e.theme===d?"selected":""} theme-${d}`,onClick:()=>o(d),children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),r.jsxs("div",{className:"slider-labels",children:[r.jsx("span",{children:"12px"}),r.jsx("span",{children:"20px"})]})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),r.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Presets"}),r.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(d=>r.jsx("button",{className:`theme-option theme-${d}`,onClick:()=>m(d),children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Status Bar"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Background",value:((g=e.tmuxAppearance)==null?void 0:g.statusBg)??"#000000",onChange:d=>h("statusBg",d)}),r.jsx(On,{label:"Foreground",value:((y=e.tmuxAppearance)==null?void 0:y.statusFg)??"#00ff41",onChange:d=>h("statusFg",d)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Pane Borders"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Active",value:((N=e.tmuxAppearance)==null?void 0:N.paneBorderActive)??"#00ff41",onChange:d=>h("paneBorderActive",d)}),r.jsx(On,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:d=>h("paneBorderInactive",d)})]})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),r.jsxs("div",{className:"settings-color-row",children:[r.jsx(On,{label:"Background",value:((E=e.tmuxAppearance)==null?void 0:E.modeStyleBg)??"#00ff41",onChange:d=>h("modeStyleBg",d)}),r.jsx(On,{label:"Foreground",value:((p=e.tmuxAppearance)==null?void 0:p.modeStyleFg)??"#000000",onChange:d=>h("modeStyleFg",d)})]})]}),r.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),r.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[r.jsx("option",{value:1e3,children:"1 second"}),r.jsx("option",{value:2e3,children:"2 seconds"}),r.jsx("option",{value:5e3,children:"5 seconds"}),r.jsx("option",{value:1e4,children:"10 seconds"}),r.jsx("option",{value:3e4,children:"30 seconds"})]}),r.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),r.jsxs("div",{className:"settings-field",children:[r.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),r.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),r.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),r.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),r.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(d=>r.jsxs("div",{className:"beads-project-item",children:[r.jsx("span",{className:"beads-project-path",children:d}),r.jsx("button",{className:"beads-project-remove",onClick:()=>i(d),title:"Remove project",children:""})]},d)):r.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),r.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>s(!0),children:"+ Add Project"})]}),r.jsx("section",{className:"settings-section settings-info",children:r.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&r.jsx(wx,{onSelect:l,onClose:()=>s(!1)})]})}function Nx(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[s,l]=f.useState(!1),[i,o]=f.useState({x:80,y:60}),[a]=f.useState({width:1e3,height:700}),[c,u]=f.useState(!1),h=f.useRef({x:0,y:0}),m=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{l(!1)},[e]);const y=f.useCallback(()=>{try{const d=m.current;if(!(d!=null&&d.contentWindow))return;d.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),N=f.useCallback(d=>{const v=m.current;if(!(v!=null&&v.contentWindow))return;let x=0;const j=20,b=()=>{try{const S=v.contentWindow;if(S.term){S.term.options.fontSize=d;return}}catch{}x++,x<j&&setTimeout(b,50)};b()},[]),w=f.useCallback(()=>{l(!0),N(n.fontSize),setTimeout(y,100),setTimeout(y,300),setTimeout(y,500)},[N,n.fontSize,y]);f.useEffect(()=>{s&&N(n.fontSize)},[s,n.fontSize,N]),f.useEffect(()=>{const d=g.current;if(!d)return;let v;const x=new ResizeObserver(()=>{clearTimeout(v),v=setTimeout(y,100)});return x.observe(d),()=>{clearTimeout(v),x.disconnect()}},[y]);const E=d=>{d.target.closest(".modal-close")||(u(!0),h.current={x:d.clientX-i.x,y:d.clientY-i.y})};if(f.useEffect(()=>{if(!c)return;const d=x=>{o({x:x.clientX-h.current.x,y:x.clientY-h.current.y})},v=()=>{u(!1)};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)}},[c]),!e)return null;const p=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"floating-modal-overlay",onClick:t,children:r.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"floating-modal-header",onMouseDown:E,children:[r.jsx("span",{className:"modal-title",children:p}),r.jsxs("div",{className:"modal-controls",children:[r.jsx("span",{className:`status-dot ${s?"":"disconnected"}`}),r.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),r.jsx("div",{ref:g,className:"floating-modal-body",children:r.jsx("iframe",{ref:m,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const Sx=[{id:"overview",label:"Overview",icon:"01"},{id:"terminal",label:"Terminal",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"shortcuts",label:"tmux",icon:"05"},{id:"tips",label:"Tips",icon:"06"}];function kx(){const[e,t]=f.useState("overview"),n=()=>{switch(e){case"overview":return r.jsx(yu,{});case"terminal":return r.jsx(bx,{});case"sessions":return r.jsx(Cx,{});case"files":return r.jsx(Ex,{});case"shortcuts":return r.jsx(Px,{});case"tips":return r.jsx(Dx,{});default:return r.jsx(yu,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Chrote Dashboard"}),r.jsx("p",{className:"help-subtitle",children:"Your command center for AI agent orchestration"})]}),r.jsx("nav",{className:"help-nav",children:Sx.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function yu(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to Chrote"}),r.jsx("p",{children:"A powerful dashboard for managing tmux sessions and AI agents in a unified interface."})]}),r.jsxs("div",{className:"help-features-grid",children:[r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Multi-Terminal View"}),r.jsx("p",{children:"View up to 4 terminal sessions simultaneously in a responsive grid layout."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Drag & Drop"}),r.jsx("p",{children:"Organize sessions by dragging them between terminal windows or the sidebar."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"File Browser"}),r.jsx("p",{children:"Browse, upload, and manage files directly within the dashboard."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Customizable"}),r.jsx("p",{children:"Choose from multiple themes and customize tmux colors to match your style."})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Quick Start"}),r.jsxs("ol",{className:"help-steps",children:[r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"1"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"View Sessions"}),r.jsx("p",{children:"Your tmux sessions appear in the left sidebar. Each session shows its agent name."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"2"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Assign to Windows"}),r.jsx("p",{children:"Drag sessions from the sidebar onto any of the terminal windows to view them."})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"help-step-number",children:"3"}),r.jsxs("div",{className:"help-step-content",children:[r.jsx("strong",{children:"Interact"}),r.jsx("p",{children:"Click on a terminal window to focus it, then type commands directly."})]})]})]})]})]})}function bx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Terminal Windows"}),r.jsx("p",{className:"help-intro",children:"The terminal view displays up to 4 tmux sessions in a responsive grid layout."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Window Layout"}),r.jsx("div",{className:"help-layout-demo",children:r.jsxs("div",{className:"help-layout-grid",children:[r.jsx("div",{className:"help-layout-cell",children:"Window 1"}),r.jsx("div",{className:"help-layout-cell",children:"Window 2"}),r.jsx("div",{className:"help-layout-cell",children:"Window 3"}),r.jsx("div",{className:"help-layout-cell",children:"Window 4"})]})}),r.jsx("p",{className:"help-hint",children:"The grid automatically adjusts based on how many windows have sessions assigned."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Window Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pop Out"}),r.jsx("p",{children:"Open a terminal in a floating window for better multitasking."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Clear"}),r.jsx("p",{children:"Remove all sessions from a window without closing them."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cycle Sessions"}),r.jsx("p",{children:"When multiple sessions are assigned, cycle through them with the arrow buttons."})]})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Tags"}),r.jsx("p",{children:"Each window shows colored tags for assigned sessions. You can:"}),r.jsxs("ul",{className:"help-list",children:[r.jsx("li",{children:"Click a tag to switch to that session"}),r.jsx("li",{children:"Drag tags between windows to reorganize"}),r.jsx("li",{children:"Drag tags outside to remove from the window"})]})]})]})}function Cx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Session Management"}),r.jsx("p",{className:"help-intro",children:"The sidebar shows all available tmux sessions and provides drag-and-drop organization."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Panel"}),r.jsx("p",{children:"The left sidebar displays all running tmux sessions. Sessions are identified by:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Agent Name"}),' - Extracted from the session name (e.g., "claude" from "gastown-claude-abc123")']}),r.jsxs("li",{children:[r.jsx("strong",{children:"Color Indicator"})," - Each session gets a unique color for easy identification"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Assignment Status"})," - Dimmed appearance if already assigned to a window"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Drag & Drop"}),r.jsxs("div",{className:"help-drag-demo",children:[r.jsxs("div",{className:"help-drag-source",children:[r.jsx("span",{children:"Session"}),r.jsx("span",{className:"help-drag-arrow",children:""})]}),r.jsx("div",{className:"help-drag-target",children:r.jsx("span",{children:"Window"})})]}),r.jsxs("ul",{className:"help-list",children:[r.jsx("li",{children:"Drag from sidebar to assign a session to a window"}),r.jsx("li",{children:"Drag between windows to move sessions"}),r.jsx("li",{children:"Drag outside any window to unassign"})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Panel Controls"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Collapse/Expand"}),r.jsx("p",{children:"Toggle the sidebar to maximize terminal space."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Auto-Refresh"}),r.jsx("p",{children:"Sessions automatically refresh. Adjust the interval in Settings."})]})]})]})]})]})}function Ex(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"File Browser"}),r.jsx("p",{className:"help-intro",children:"Browse and manage files on the server through an integrated file manager."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Features"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Browse Files"}),r.jsx("p",{children:"Navigate through directories with a familiar file explorer interface."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Upload"}),r.jsx("p",{children:"Drag and drop files to upload them to the server."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Download"}),r.jsx("p",{children:"Download files directly to your local machine."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Edit"}),r.jsx("p",{children:"Open and edit text files with syntax highlighting."})]})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Workspace Path"}),r.jsx("p",{children:"The file browser is rooted at the configured workspace directory. All agent operations happen within this sandboxed environment."})]})]})}function Px(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"tmux Commands"}),r.jsxs("p",{className:"help-intro",children:["Useful tmux commands for working with terminal sessions. The prefix key is ",r.jsx("kbd",{children:"Ctrl"})," + ",r.jsx("kbd",{children:"B"}),"."]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Copy & Scroll Mode"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"["})]}),r.jsx("span",{children:"Enter copy/scroll mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"q"})}),r.jsx("span",{children:"Exit copy mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Space"})}),r.jsx("span",{children:"Start selection (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"Enter"})}),r.jsx("span",{children:"Copy selection (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"]"})]}),r.jsx("span",{children:"Paste copied text"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"g"})}),r.jsx("span",{children:"Go to top (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"G"})}),r.jsx("span",{children:"Go to bottom (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"/"})}),r.jsx("span",{children:"Search forward (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("kbd",{children:"?"})}),r.jsx("span",{children:"Search backward (in copy mode)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"n"})," / ",r.jsx("kbd",{children:"N"})]}),r.jsx("span",{children:"Next / previous search result"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Window Management"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"c"})]}),r.jsx("span",{children:"Create new window"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"n"})]}),r.jsx("span",{children:"Next window"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"p"})]}),r.jsx("span",{children:"Previous window"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"0-9"})]}),r.jsx("span",{children:"Switch to window by number"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"w"})]}),r.jsx("span",{children:"List all windows"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"&"})]}),r.jsx("span",{children:"Kill current window"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:","})]}),r.jsx("span",{children:"Rename current window"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Pane Management"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"%"})]}),r.jsx("span",{children:"Split pane vertically"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:'"'})]}),r.jsx("span",{children:"Split pane horizontally"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Arrow"})]}),r.jsx("span",{children:"Move between panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"z"})]}),r.jsx("span",{children:"Toggle pane zoom (fullscreen)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"x"})]}),r.jsx("span",{children:"Kill current pane"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"o"})]}),r.jsx("span",{children:"Cycle through panes"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"{"})," / ",r.jsx("kbd",{children:"}"})]}),r.jsx("span",{children:"Swap pane left / right"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"Ctrl+Arrow"})]}),r.jsx("span",{children:"Resize pane"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Commands"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"d"})]}),r.jsx("span",{children:"Detach from session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"s"})]}),r.jsx("span",{children:"List all sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"$"})]}),r.jsx("span",{children:"Rename current session"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"("})," / ",r.jsx("kbd",{children:")"})]}),r.jsx("span",{children:"Previous / next session"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Miscellaneous"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:":"})]}),r.jsx("span",{children:"Enter command mode"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"?"})]}),r.jsx("span",{children:"List all key bindings"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"t"})]}),r.jsx("span",{children:"Show clock"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("kbd",{children:"Prefix"})," ",r.jsx("kbd",{children:"~"})]}),r.jsx("span",{children:"Show tmux messages"})]})]})]})]})}function Dx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Tips & Tricks"}),r.jsx("p",{className:"help-intro",children:"Get the most out of Chrote with these pro tips."}),r.jsxs("div",{className:"help-tips-grid",children:[r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"01"}),r.jsx("h3",{children:"Scroll History"}),r.jsxs("p",{children:["Use ",r.jsx("kbd",{children:"Ctrl+B"})," then ",r.jsx("kbd",{children:"["})," to enter copy mode and scroll through terminal history with arrow keys or Page Up/Down."]})]}),r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"02"}),r.jsx("h3",{children:"Quick Copy Text"}),r.jsxs("p",{children:["Hold ",r.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and perform a native selection. Then use ",r.jsx("kbd",{children:"Ctrl+C"})," to copy."]})]}),r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"03"}),r.jsx("h3",{children:"Search in Terminal"}),r.jsxs("p",{children:["In copy mode, press ",r.jsx("kbd",{children:"/"})," to search forward or ",r.jsx("kbd",{children:"?"})," to search backward through the terminal output."]})]}),r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"04"}),r.jsx("h3",{children:"Theme Matching"}),r.jsx("p",{children:"Match your tmux theme with the dashboard theme in Settings for a cohesive experience."})]}),r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"05"}),r.jsx("h3",{children:"Collapse for Space"}),r.jsx("p",{children:"Collapse the session panel when you need maximum terminal real estate."})]}),r.jsxs("div",{className:"help-tip-card",children:[r.jsx("div",{className:"help-tip-number",children:"06"}),r.jsx("h3",{children:"CLI Commands"}),r.jsxs("p",{children:["Use ",r.jsx("code",{children:"gt peek"})," and ",r.jsx("code",{children:"gt status"})," in any terminal for Gastown monitoring."]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Need More Help?"}),r.jsxs("p",{children:["Check the ",r.jsx("strong",{children:"Status"})," tab to verify system health, or visit the ",r.jsx("strong",{children:"Settings"})," tab to customize your experience."]})]})]})}const ni="/api/beads";async function si(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([l,i])=>{n.searchParams.set(l,i)}),(await fetch(n.toString())).json()}function Tx(){const{settings:e}=ct(),[t,n]=f.useState([]),[s,l]=f.useState(!0),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;l(!0),o(null);try{const u=await si(`${ni}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const m=e.beadsProjectPaths||[];for(const g of m){if(h.some(N=>N.path===g))continue;const y=g.split("/").filter(Boolean).pop()||g;h.push({name:y,path:g,beadsPath:`${g}/.beads`})}n(h),!u.success&&m.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e.beadsProjectPaths]);return f.useEffect(()=>{a()},[a]),{projects:t,loading:s,error:i,refresh:a}}function Rx(e){const[t,n]=f.useState([]),[s,l]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n([]);return}l(!0),o(null);try{const u=await si(`${ni}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{issues:t,loading:s,error:i,refresh:a}}function Ix(e){const[t,n]=f.useState(null),[s,l]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await si(`${ni}/triage`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch triage")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{triage:t,loading:s,error:i,refresh:a}}function Lx(e){const[t,n]=f.useState(null),[s,l]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n(null);return}l(!0),o(null);try{const u=await si(`${ni}/insights`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch insights")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{l(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{insights:t,loading:s,error:i,refresh:a}}function Ox({projects:e,selectedPath:t,onSelect:n,loading:s}){return s?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"Loading projects..."})})}):e.length===0?r.jsx("div",{className:"project-selector",children:r.jsx("select",{disabled:!0,children:r.jsx("option",{children:"No projects with .beads found"})})}):r.jsxs("div",{className:"project-selector",children:[r.jsx("label",{htmlFor:"project-select",children:"Project:"}),r.jsxs("select",{id:"project-select",value:t||"",onChange:l=>n(l.target.value),children:[r.jsx("option",{value:"",children:"Select a project"}),e.map(l=>r.jsxs("option",{value:l.path,children:[l.name," (",l.path,")"]},l.path))]})]})}const Mx={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)"},_x={bug:"",feature:"",task:"",chore:"",epic:""};function wu(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function ju(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function zx(e){return e.replace(/_/g," ")}function Qs({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:s=!1}){const l=Mx[e.status]||"var(--text-secondary)",i=e.type&&_x[e.type]||"";return t?r.jsxs("div",{className:`issue-card compact ${s?"highlighted":""}`,children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsx("span",{className:"issue-title",children:e.title}),e.priority&&r.jsx("span",{className:`issue-priority ${ju(e.priority)}`,children:wu(e.priority)})]}):r.jsxs("div",{className:`issue-card ${s?"highlighted":""}`,children:[r.jsxs("div",{className:"issue-card-header",children:[r.jsx("span",{className:"issue-id",children:e.id}),r.jsxs("div",{className:"issue-card-meta",children:[i&&r.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&r.jsx("span",{className:`issue-priority ${ju(e.priority)}`,children:wu(e.priority)}),r.jsx("span",{className:"issue-status",style:{color:l},children:zx(e.status)})]})]}),r.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&r.jsxs("div",{className:"issue-card-assignee",children:[r.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&r.jsxs("div",{className:"issue-card-deps",children:[r.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>r.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&r.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>r.jsx("span",{className:"issue-label",children:o},o))})]})}const Nu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Ax({issues:e,loading:t,error:n}){if(t)return r.jsx("div",{className:"beads-kanban loading",children:r.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return r.jsx("div",{className:"beads-kanban error",children:r.jsx("div",{className:"error-message",children:n})});if(e.length===0)return r.jsx("div",{className:"beads-kanban empty",children:r.jsx("div",{className:"empty-message",children:"No issues found"})});const s=new Map;for(const i of Nu.map(o=>o.status))s.set(i,[]);const l=[];for(const i of e){const o=i.status;s.has(o)?s.get(o).push(i):l.push(i)}for(const[,i]of s)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return l.sort((i,o)=>(i.priority||99)-(o.priority||99)),r.jsxs("div",{className:"beads-kanban",children:[Nu.map(i=>{const o=s.get(i.status)||[];return r.jsxs("div",{className:`kanban-column status-${i.status}`,children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:i.label}),r.jsx("span",{className:"column-count",children:o.length})]}),r.jsx("div",{className:"kanban-column-content",children:o.map(a=>r.jsx(Qs,{issue:a,showDependencies:!0},a.id))})]},i.status)}),l.length>0&&r.jsxs("div",{className:"kanban-column status-other",children:[r.jsxs("div",{className:"kanban-column-header",children:[r.jsx("span",{className:"column-title",children:"Other"}),r.jsx("span",{className:"column-count",children:l.length})]}),r.jsx("div",{className:"kanban-column-content",children:l.map(i=>r.jsx(Qs,{issue:i,showDependencies:!0},i.id))})]})]})}const Fx={high:"var(--beads-impact-high)",medium:"var(--beads-impact-medium)",low:"var(--beads-impact-low)"};function zi(e,t){return e.find(n=>n.id===t)}function $x({triage:e,issues:t,loading:n,error:s}){return n?r.jsx("div",{className:"beads-triage loading",children:r.jsx("div",{className:"loading-message",children:"Analyzing issues..."})}):s?r.jsx("div",{className:"beads-triage error",children:r.jsx("div",{className:"error-message",children:s})}):e?r.jsx("div",{className:"beads-triage",children:r.jsxs("div",{className:"triage-sections",children:[r.jsxs("section",{className:"triage-section recommendations",children:[r.jsx("h3",{children:"Recommended Next"}),e.recommendations.length===0?r.jsx("p",{className:"no-items",children:"No recommendations"}):r.jsx("div",{className:"recommendation-list",children:e.recommendations.map(l=>{const i=zi(t,l.issueId);return r.jsxs("div",{className:"recommendation-item",children:[r.jsxs("div",{className:"rec-header",children:[r.jsxs("span",{className:"rec-rank",children:["#",l.rank]}),r.jsxs("span",{className:"rec-impact",style:{color:Fx[l.estimatedImpact]},children:[l.estimatedImpact," impact"]})]}),i?r.jsx(Qs,{issue:i}):r.jsxs("div",{className:"issue-card missing",children:[r.jsx("span",{className:"issue-id",children:l.issueId}),r.jsx("span",{className:"issue-missing",children:"(issue not found)"})]}),r.jsx("div",{className:"rec-reasoning",children:l.reasoning})]},l.issueId)})})]}),r.jsxs("section",{className:"triage-section quick-wins",children:[r.jsx("h3",{children:"Quick Wins"}),r.jsx("p",{className:"section-desc",children:"Low-effort issues with no dependencies"}),e.quickWins.length===0?r.jsx("p",{className:"no-items",children:"No quick wins identified"}):r.jsx("div",{className:"quick-wins-list",children:e.quickWins.map(l=>{const i=zi(t,l);return i?r.jsx(Qs,{issue:i,compact:!0},l):r.jsx("div",{className:"issue-card compact missing",children:r.jsx("span",{className:"issue-id",children:l})},l)})})]}),r.jsxs("section",{className:"triage-section blockers",children:[r.jsx("h3",{children:"Blockers"}),r.jsx("p",{className:"section-desc",children:"Issues blocking other work"}),e.blockers.length===0?r.jsx("p",{className:"no-items",children:"No blockers identified"}):r.jsx("div",{className:"blockers-list",children:e.blockers.map(l=>{const i=zi(t,l);return i?r.jsx(Qs,{issue:i,showDependencies:!0},l):r.jsx("div",{className:"issue-card missing",children:r.jsx("span",{className:"issue-id",children:l})},l)})})]})]})}):r.jsx("div",{className:"beads-triage empty",children:r.jsx("div",{className:"empty-message",children:"No triage data available"})})}function Bx({score:e}){const t=n=>n>=80?"var(--beads-health-good)":n>=50?"var(--beads-health-warning)":"var(--beads-health-critical)";return r.jsxs("div",{className:"health-gauge",children:[r.jsxs("div",{className:"gauge-circle",children:[r.jsxs("svg",{viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t(e),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${e*2.83} 283`,transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"gauge-value",children:e})]}),r.jsx("div",{className:"gauge-label",children:"Health Score"})]})}function Ur({label:e,value:t,variant:n}){return r.jsxs("div",{className:`stat-card ${n||""}`,children:[r.jsx("div",{className:"stat-value",children:t}),r.jsx("div",{className:"stat-label",children:e})]})}function Wx({insights:e,loading:t,error:n}){return t?r.jsx("div",{className:"beads-insights loading",children:r.jsx("div",{className:"loading-message",children:"Calculating insights..."})}):n?r.jsx("div",{className:"beads-insights error",children:r.jsx("div",{className:"error-message",children:n})}):e?r.jsx("div",{className:"beads-insights",children:r.jsxs("div",{className:"insights-grid",children:[r.jsx("div",{className:"insights-section health-section",children:r.jsx(Bx,{score:e.health.score})}),r.jsxs("div",{className:"insights-section stats-section",children:[r.jsx("h3",{children:"Overview"}),r.jsxs("div",{className:"stats-grid",children:[r.jsx(Ur,{label:"Total Issues",value:e.issueCount}),r.jsx(Ur,{label:"Open",value:e.openCount,variant:"open"}),r.jsx(Ur,{label:"Blocked",value:e.blockedCount,variant:"blocked"}),r.jsx(Ur,{label:"Closed",value:e.closedCount||0,variant:"closed"})]})]}),e.byStatus&&Object.keys(e.byStatus).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Status"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byStatus).map(([s,l])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:s.replace(/_/g," ")}),r.jsx("span",{className:"breakdown-value",children:l}),r.jsx("div",{className:"breakdown-bar",style:{width:`${l/e.issueCount*100}%`}})]},s))})]}),e.byType&&Object.keys(e.byType).length>0&&r.jsxs("div",{className:"insights-section breakdown-section",children:[r.jsx("h3",{children:"By Type"}),r.jsx("div",{className:"breakdown-list",children:Object.entries(e.byType).map(([s,l])=>r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{className:"breakdown-label",children:s}),r.jsx("span",{className:"breakdown-value",children:l}),r.jsx("div",{className:"breakdown-bar type-bar",style:{width:`${l/e.issueCount*100}%`}})]},s))})]}),e.health.risks.length>0&&r.jsxs("div",{className:"insights-section risks-section",children:[r.jsx("h3",{children:"Risks"}),r.jsx("ul",{className:"risks-list",children:e.health.risks.map((s,l)=>r.jsx("li",{className:"risk-item",children:s},l))})]}),e.health.warnings.length>0&&r.jsxs("div",{className:"insights-section warnings-section",children:[r.jsx("h3",{children:"Warnings"}),r.jsx("ul",{className:"warnings-list",children:e.health.warnings.map((s,l)=>r.jsx("li",{className:"warning-item",children:s},l))})]}),e.metrics&&r.jsxs("div",{className:"insights-section metrics-section",children:[r.jsx("h3",{children:"Graph Metrics"}),r.jsxs("div",{className:"metrics-content",children:[e.metrics.density!==void 0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Graph Density"}),r.jsxs("span",{className:"metric-value",children:[(e.metrics.density*100).toFixed(1),"%"]})]}),e.metrics.cycles&&e.metrics.cycles.length>0&&r.jsxs("div",{className:"metric-item warning",children:[r.jsx("span",{className:"metric-label",children:"Circular Dependencies"}),r.jsx("span",{className:"metric-value",children:e.metrics.cycles.length})]}),e.metrics.criticalPath&&e.metrics.criticalPath.length>0&&r.jsxs("div",{className:"metric-item",children:[r.jsx("span",{className:"metric-label",children:"Critical Path Length"}),r.jsx("span",{className:"metric-value",children:e.metrics.criticalPath.length})]})]})]})]})}):r.jsx("div",{className:"beads-insights empty",children:r.jsx("div",{className:"empty-message",children:"No insights available"})})}const Ux=[{id:"kanban",label:"Kanban"},{id:"triage",label:"Triage"},{id:"insights",label:"Insights"}];function Vx(){const[e,t]=f.useState("kanban"),[n,s]=f.useState(null),{projects:l,loading:i}=Tx(),{issues:o,loading:a,error:c,refresh:u}=Rx(n),{triage:h,loading:m,error:g,refresh:y}=Ix(n),{insights:N,loading:w,error:E,refresh:p}=Lx(n),d=f.useCallback(j=>{s(j||null)},[]),v=f.useCallback(()=>{u(),y(),p()},[u,y,p]),x=a||m||w;return r.jsxs("div",{className:"beads-view",children:[r.jsxs("div",{className:"beads-header",children:[r.jsx(Ox,{projects:l,selectedPath:n,onSelect:d,loading:i}),n&&r.jsx("button",{className:"beads-refresh-btn",onClick:v,disabled:x,title:"Refresh data",children:x?"Loading...":"Refresh"})]}),n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"beads-subtabs",children:Ux.map(j=>r.jsx("button",{className:`beads-subtab ${e===j.id?"active":""}`,onClick:()=>t(j.id),children:j.label},j.id))}),r.jsxs("div",{className:"beads-content",children:[e==="kanban"&&r.jsx(Ax,{issues:o,loading:a,error:c}),e==="triage"&&r.jsx($x,{triage:h,issues:o,loading:m,error:g}),e==="insights"&&r.jsx(Wx,{insights:N,loading:w,error:E})]})]}):r.jsxs("div",{className:"beads-empty-state",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h2",{children:"Select a Project"}),r.jsx("p",{children:"Choose a project with a .beads directory to view issues and insights."}),l.length===0&&!i&&r.jsx("p",{className:"empty-hint",children:"No projects found. Create a .beads directory in /code or /workspace to get started."})]})]})}const Hx=[{id:"welcome",label:"Welcome",icon:"00"},{id:"ops",label:"Operations",icon:"01"},{id:"chat",label:"Chat",icon:"02"},{id:"beads",label:"Beads",icon:"03"},{id:"links",label:"Links",icon:"04"}];function Kx(){const[e,t]=f.useState("welcome"),n=()=>{switch(e){case"welcome":return r.jsx(Su,{});case"ops":return r.jsx(Qx,{});case"chat":return r.jsx(Gx,{});case"beads":return r.jsx(Yx,{});case"links":return r.jsx(Xx,{});default:return r.jsx(Su,{})}};return r.jsxs("div",{className:"help-view",children:[r.jsxs("div",{className:"help-header",children:[r.jsx("h1",{className:"help-title",children:"Operator's Manual"}),r.jsx("p",{className:"help-subtitle",children:"You made it this far. Might as well learn the controls."})]}),r.jsx("nav",{className:"help-nav",children:Hx.map(s=>r.jsxs("button",{className:`help-nav-item ${e===s.id?"active":""}`,onClick:()=>t(s.id),children:[r.jsx("span",{className:"help-nav-icon",children:s.icon}),r.jsx("span",{className:"help-nav-label",children:s.label})]},s.id))}),r.jsx("div",{className:"help-content",children:n()})]})}function Su(){return r.jsxs("div",{className:"help-section-content",children:[r.jsxs("div",{className:"help-hero",children:[r.jsx("div",{className:"help-hero-icon",children:""}),r.jsx("h2",{children:"Welcome to CHROTE"}),r.jsx("p",{children:"Control Hub for Remote Operations & Tmux Execution"})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"What Is This Thing?"}),r.jsx("p",{children:"CHROTE is a web dashboard for watching tmux sessions on a home server. You access it over Tailscale from any device. Phone, laptop, tablet - doesn't matter."}),r.jsx("p",{style:{marginTop:"0.75rem",opacity:.8},children:"The primary use case: running AI coding agents and watching them work without SSH."})]}),r.jsxs("div",{className:"help-features-grid",children:[r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Watch"}),r.jsx("p",{children:"Up to 4 terminal panes per tab. Two independent workspaces."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Browse"}),r.jsx("p",{children:"Native file browser. Read /code and /vault without leaving."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Chat"}),r.jsx("p",{children:"Send messages to agents. Nudge them. Mail them."})]}),r.jsxs("div",{className:"help-feature-card",children:[r.jsx("div",{className:"help-feature-icon",children:""}),r.jsx("h3",{children:"Themes"}),r.jsx("p",{children:"Matrix, Dark, Gastown. Match your mood."})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"The Guardians"}),r.jsx("p",{children:"Empty terminal panes show pixel-art operators. They're placeholders. Emotional support animals with zero therapeutic credentials."}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Polecat"})," - The ephemeral worker. Here and gone."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Fox"})," - Quick and clever. Probably up to something."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Badger"})," - Doesn't care about your problems."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Wolf"})," - When sessions need killing, Wolf answers."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Crew"})," - The human operator. That's you."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Convoy"})," - Batch operations. Strength in numbers."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Hawk"})," - Watches from above. Sees everything."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Town"})," - The whole operation."]})]})]})]})}function Qx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Operations"}),r.jsx("p",{className:"help-intro",children:"The daily reality of running this thing."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Starting Up"}),r.jsx("p",{children:"On Windows, run the PowerShell script:"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"./Chrote-Toggle.ps1"})}),r.jsx("span",{children:"Interactive menu for start/stop/status"})]})}),r.jsx("p",{style:{marginTop:"1rem"},children:"Or manage services directly in WSL:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"systemctl status chrote-server"})}),r.jsx("span",{children:"Check if it's running"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"systemctl restart chrote-server"})}),r.jsx("span",{children:"Restart the backend"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"journalctl -u chrote-server -f"})}),r.jsx("span",{children:"Watch server logs"})]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Session Naming"}),r.jsx("p",{children:"Sessions are auto-grouped by naming convention:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"hq-*"})}),r.jsx("span",{children:"HQ group - priority view at the top"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsxs("div",{className:"help-shortcut-keys",children:[r.jsx("code",{children:"main"})," / ",r.jsx("code",{children:"shell"})]}),r.jsx("span",{children:"Main group - your interactive sessions"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsxs("code",{children:["gt-","{rig}","-*"]})}),r.jsx("span",{children:"Gastown rig workers"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Name your sessions well. Future you will thank present you."})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"The Nuclear Option"}),r.jsxs("p",{children:["Settings tab has a ",r.jsx("strong",{children:"Nuke All Sessions"})," button."]}),r.jsx("p",{style:{marginTop:"0.5rem",opacity:.8},children:"It does what it says. Every tmux session dies. No confirmation twice. Use when the swarm is out of control and you need silence."})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"File Paths"}),r.jsx("p",{children:"The file browser only sees two directories:"}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/code"})}),r.jsx("span",{children:"/home/chrote/chrote (read/write)"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"/vault"})}),r.jsx("span",{children:"/mnt/e/Vault (read-only)"})]})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Everything else is off-limits. Security through simplicity."})]})]})}function Gx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Chat System"}),r.jsx("p",{className:"help-intro",children:"Two ways to talk to your agents. Pick your poison."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Nudge"}),r.jsx("p",{children:"Quick, informal poke. Like tapping someone on the shoulder."}),r.jsxs("ul",{className:"help-list",children:[r.jsx("li",{children:"Select the agent from the dropdown"}),r.jsx("li",{children:"Type your message"}),r.jsx("li",{children:"They'll see it in their terminal"})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:`Use for: "hey, status?", "stop what you're doing", "look at file X"`})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Mail"}),r.jsx("p",{children:"Formal message. Goes to their inbox. They'll see it when they check."}),r.jsxs("ul",{className:"help-list",children:[r.jsx("li",{children:"Has a subject line and body"}),r.jsx("li",{children:"Persists until read"}),r.jsx("li",{children:"Good for detailed instructions"})]}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"Use for: multi-step tasks, context that shouldn't get lost, async communication"})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"When to Use What"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Nudge"}),r.jsx("p",{children:"Agent is active. You want immediate attention. Short message."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Mail"}),r.jsx("p",{children:"Agent might be busy. Message is long or important. Can wait."})]})]})]})]})]})}function Yx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Beads"}),r.jsx("p",{className:"help-intro",children:"Work items. Issues. Tasks. Whatever you want to call them."}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"What Are Beads?"}),r.jsxs("p",{children:["Beads are atomic units of work stored in ",r.jsx("code",{children:".beads/"})," as JSON files. Git-backed, so they survive across sessions and machines."]}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:["Each bead has a short ID like ",r.jsx("code",{children:"a7x"})]}),r.jsx("li",{children:"They have states: open, in-progress, done, closed"}),r.jsx("li",{children:"Agents can hook beads and work on them"})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Views"}),r.jsxs("div",{className:"help-control-list",children:[r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Kanban"}),r.jsx("p",{children:"Columns by state. Drag to change status. Classic board view."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Triage"}),r.jsx("p",{children:"Inbox of new beads. Prioritize and assign."})]})]}),r.jsxs("div",{className:"help-control-item",children:[r.jsx("span",{className:"help-control-icon",children:""}),r.jsxs("div",{children:[r.jsx("strong",{children:"Insights"}),r.jsx("p",{children:"Stats and metrics. How's the work flowing?"})]})]})]})]}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"CLI Commands"}),r.jsxs("p",{children:["If you're in a terminal, you can use ",r.jsx("code",{children:"bd"})," (beads) commands:"]}),r.jsxs("div",{className:"help-shortcuts-table",children:[r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"bd ls"})}),r.jsx("span",{children:"List beads"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"bd show <id>"})}),r.jsx("span",{children:"Show bead details"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:'bd new "title"'})}),r.jsx("span",{children:"Create a bead"})]}),r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"bd close <id>"})}),r.jsx("span",{children:"Close a bead"})]})]})]})]})}function Xx(){return r.jsxs("div",{className:"help-section-content",children:[r.jsx("h2",{children:"Resources"}),r.jsx("p",{className:"help-intro",children:"The good stuff lives elsewhere. Here's where to find it."}),r.jsxs("div",{className:"help-card help-card-accent",children:[r.jsx("h3",{children:"Gastown User Manual"}),r.jsx("p",{children:"Running multiple AI agents? The community-maintained Gastown guide covers roles, commands, workflows, and the philosophy of multi-agent orchestration."}),r.jsx("p",{style:{marginTop:"1rem"},children:r.jsx("a",{href:"https://gist.github.com/Xexr/3a1439038e4ce34b5e9de020f6cbdc4b",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"0.75rem 1.5rem",background:"var(--primary-color)",color:"var(--bg-color)",borderRadius:"4px",textDecoration:"none",fontWeight:"bold"},children:"Read the Gastown Manual"})})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Source Code"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/Perttulands/CHROTE",target:"_blank",rel:"noopener noreferrer",children:"CHROTE on GitHub"})," ","- This dashboard"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/steveyegge/gastown",target:"_blank",rel:"noopener noreferrer",children:"Gastown on GitHub"})," ","- Multi-agent orchestration framework"]}),r.jsxs("li",{children:[r.jsx("a",{href:"https://github.com/anthropics/claude-code",target:"_blank",rel:"noopener noreferrer",children:"Claude Code on GitHub"})," ","- The AI coding agent"]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Philosophy"}),r.jsx("p",{children:"Some principles that inform how this thing works:"}),r.jsxs("ul",{className:"help-list",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Sessions are cattle, not pets."})," ","They come and go. Don't get attached."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Work lives in git."})," ","Beads, code, configs. If it's not committed, it doesn't exist."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Watch mode by default."})," ","Agents don't like surprise keyboard input."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Click to peek, drag to bind."})," ","Distinct actions for distinct intents."]})]})]}),r.jsxs("div",{className:"help-card",children:[r.jsx("h3",{children:"Access"}),r.jsx("div",{className:"help-shortcuts-table",children:r.jsxs("div",{className:"help-shortcut-row",children:[r.jsx("div",{className:"help-shortcut-keys",children:r.jsx("code",{children:"http://chrote:8080"})}),r.jsx("span",{children:"Dashboard (via Tailscale)"})]})}),r.jsx("p",{style:{marginTop:"1rem",opacity:.8},children:"If you can't reach it, check that Tailscale is connected and WSL is running."})]})]})}const Ba="/api/chat";function Jx(){const[e,t]=f.useState([]),[n,s]=f.useState(!0),[l,i]=f.useState(null),o=f.useCallback(async()=>{var a,c;try{s(!0);const h=await(await fetch(`${Ba}/conversations`)).json();((a=h.data)==null?void 0:a.conversations)!==void 0?(t(h.data.conversations||[]),i(null)):i(((c=h.error)==null?void 0:c.message)||"Failed to load conversations")}catch{i("Network error")}finally{s(!1)}},[]);return f.useEffect(()=>{o()},[o]),{conversations:e,loading:n,error:l,refresh:o}}function Zx(e){const[t,n]=f.useState([]),[s,l]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async(c=!1)=>{var u,h;if(!e){n([]);return}try{c||l(!0);const m=encodeURIComponent(e),y=await(await fetch(`${Ba}/history?target=${m}`)).json();((u=y.data)==null?void 0:u.messages)!==void 0?(n(y.data.messages||[]),o(null)):o(((h=y.error)==null?void 0:h.message)||"Failed to load history")}catch{o("Network error")}finally{c||l(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{messages:t,loading:s,error:i,refresh:a}}async function qx(e,t,n){var s,l,i,o,a;try{const u=await(await fetch(`${Ba}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace:e,target:t,message:n})})).json();return(s=u.data)!=null&&s.success?{success:!0,messageId:(l=u.data)==null?void 0:l.messageId,mailSent:((i=u.data)==null?void 0:i.mailSent)??!1,nudged:((o=u.data)==null?void 0:o.nudged)??!1}:{success:!1,mailSent:!1,nudged:!1,error:((a=u.error)==null?void 0:a.message)||"Send failed"}}catch{return{success:!1,mailSent:!1,nudged:!1,error:"Network error"}}}function ey(){const[e,t]=f.useState(null),[n,s]=f.useState("list"),[l,i]=f.useState(""),[o,a]=f.useState(!1),[c,u]=f.useState([]),[h,m]=f.useState(!1),{conversations:g,loading:y,refresh:N}=Jx(),{messages:w,loading:E,refresh:p}=Zx(e),{addToast:d}=kr(),v=f.useRef(null),x=f.useRef(null);f.useEffect(()=>{var A;(A=v.current)==null||A.scrollIntoView({behavior:"smooth"})},[w,c]),f.useEffect(()=>{var A;e&&((A=x.current)==null||A.focus())},[e]),f.useEffect(()=>{if(!e)return;const A=setInterval(()=>{p(!0)},5e3);return()=>clearInterval(A)},[e,p]);const j=g.find(A=>A.target===e),b=A=>{t(A),s("chat"),u([])},S=()=>{s("list")},k=async()=>{if(!j||!j.workspace||!l.trim()||o)return;const A=l.trim();i(""),a(!0);const R={id:`optimistic-${Date.now()}`,role:"user",from:"you",to:j.target,content:A,timestamp:new Date().toISOString(),read:!0};u(K=>[...K,R]);const W=await qx(j.workspace,j.target,A);if(W.success){const K=[];W.mailSent&&K.push("Mail sent"),W.nudged&&K.push("Agent nudged"),d(K.join(", ")||"Message sent","success"),setTimeout(()=>{p(),u([])},1e3)}else d(W.error||"Send failed","error"),u(K=>K.filter(ne=>ne.id!==R.id));a(!1)},C=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),k())},P=A=>{i(A.target.value);const R=A.target;R.style.height="auto",R.style.height=Math.min(R.scrollHeight,120)+"px"},L=[...w,...c];return r.jsxs("div",{className:`chrote-chat mobile-view-${n}`,children:[r.jsxs("div",{className:`chat-sidebar ${h?"collapsed":""}`,children:[r.jsxs("div",{className:"chat-sidebar-header",children:[r.jsx("button",{className:"toggle-btn",onClick:()=>m(!h),title:h?"Expand":"Collapse",children:h?"":""}),!h&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"panel-title",children:"Chat"}),r.jsx("button",{className:"refresh-btn",onClick:()=>N(),disabled:y,title:"Refresh",children:""})]})]}),!h&&r.jsx("div",{className:"chat-conversations",children:y&&g.length===0?r.jsx("div",{className:"chat-loading",children:"Loading..."}):g.length===0?r.jsx("div",{className:"chat-empty",children:"No agents available"}):g.map(A=>r.jsx(ty,{conversation:A,selected:A.target===e,onClick:()=>b(A.target)},A.target))})]}),r.jsx("div",{className:"chat-main",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"chat-header",children:[r.jsx("button",{className:"chat-back-btn mobile-only",onClick:S,children:""}),r.jsxs("div",{className:"chat-header-info",children:[r.jsx("span",{className:"chat-header-name",children:(j==null?void 0:j.displayName)||e}),r.jsx("span",{className:`chat-header-status ${j!=null&&j.online?"online":"offline"}`,children:j!=null&&j.online?"Online":"Offline"})]}),r.jsx("button",{className:"refresh-btn",onClick:()=>p(),disabled:E,title:"Refresh history",children:""})]}),r.jsxs("div",{className:"chat-messages",children:[E&&L.length===0?r.jsx("div",{className:"chat-loading",children:"Loading history..."}):L.length===0?r.jsx("div",{className:"chat-empty-history",children:"No messages yet. Send one to start the conversation."}):L.map(A=>r.jsx(ny,{message:A},A.id)),r.jsx("div",{ref:v})]}),r.jsxs("div",{className:"chat-input-area",children:[!(j!=null&&j.workspace)&&r.jsx("div",{className:"chat-input-warning",children:"Cannot send: No Gastown workspace detected for this agent"}),r.jsxs("div",{className:"chat-input-row",children:[r.jsx("textarea",{ref:x,className:"chat-input",value:l,onChange:P,onKeyDown:C,placeholder:j!=null&&j.workspace?"Type a message... (Enter to send)":"Messaging unavailable",rows:1,disabled:o||!(j!=null&&j.workspace)}),r.jsx("button",{className:"chat-send-btn",onClick:k,disabled:!l.trim()||o||!(j!=null&&j.workspace),title:j!=null&&j.workspace?"Send (Enter)":"No workspace detected",children:o?"...":""})]})]})]}):r.jsxs("div",{className:"chat-placeholder",children:[r.jsx("div",{className:"chat-placeholder-icon",children:""}),r.jsx("div",{className:"chat-placeholder-text",children:"Select a conversation to start chatting"}),r.jsx("div",{className:"chat-placeholder-hint",children:"Messages are sent via Mail + Nudge for reliable delivery"})]})})]})}function ty({conversation:e,selected:t,onClick:n}){return r.jsxs("button",{className:`chat-convo-item ${t?"selected":""} ${e.online?"online":"offline"}`,onClick:n,children:[r.jsxs("div",{className:"chat-convo-info",children:[r.jsx("div",{className:"chat-convo-name",children:e.displayName}),r.jsx("div",{className:"chat-convo-status",children:e.online?"Online":"Offline"})]}),e.unreadCount>0&&r.jsx("span",{className:"chat-convo-badge",children:e.unreadCount})]})}function ny({message:e}){const t=e.role==="user",n=e.id.startsWith("optimistic-"),s=l=>{try{return new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return r.jsxs("div",{className:`chat-message ${t?"user":"agent"} ${n?"optimistic":""}`,children:[r.jsx("div",{className:"chat-message-content",children:e.content.split(`
`).map((l,i)=>r.jsx("p",{children:l||""},i))}),r.jsxs("div",{className:"chat-message-meta",children:[r.jsx("span",{className:"chat-message-time",children:s(e.timestamp)}),n&&r.jsx("span",{className:"chat-message-sending",children:"Sending..."})]})]})}class ku extends f.Component{constructor(n){super(n);Ka(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-boundary-content",children:[r.jsx("div",{className:"error-icon",children:""}),r.jsx("h2",{children:"Something went wrong"}),r.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),r.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const bu=4e3,Cu=300,sy={success:"",info:"",warning:"",error:""};function ry({toast:e,onRemove:t}){const[n,s]=f.useState(!1),[l,i]=f.useState(100);f.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,m=Math.max(0,100-h/bu*100);i(m)},50),u=setTimeout(()=>{s(!0),setTimeout(()=>t(e.id),Cu)},bu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{s(!0),setTimeout(()=>t(e.id),Cu)};return r.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:sy[e.type]}),r.jsx("div",{className:"toast-content",children:r.jsx("span",{className:"toast-message",children:e.message})}),r.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),r.jsx("div",{className:"toast-progress",children:r.jsx("div",{className:"toast-progress-bar",style:{width:`${l}%`}})})]})}function ly(){const{toasts:e,removeToast:t}=kr();return e.length===0?null:r.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>r.jsx(ry,{toast:n,onRemove:t},n.id))})}const iy=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function gh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return r.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function oy({keys:e,description:t}){return r.jsxs("div",{className:"shortcut-row",children:[r.jsx("div",{className:"shortcut-keys",children:e.map((n,s)=>r.jsxs("span",{children:[s>0&&r.jsx("span",{className:"key-separator",children:"+"}),r.jsx(gh,{keyName:n})]},s))}),r.jsx("span",{className:"shortcut-description",children:t})]})}function ay({title:e,shortcuts:t}){return r.jsxs("div",{className:"shortcut-section",children:[r.jsx("h3",{className:"shortcut-section-title",children:e}),r.jsx("div",{className:"shortcut-list",children:t.map((n,s)=>r.jsx(oy,{...n},s))})]})}function cy({isOpen:e,onClose:t}){const n=f.useRef(null);f.useEffect(()=>{if(!e)return;const l=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]);const s=l=>{l.target===l.currentTarget&&t()};return e?r.jsx("div",{className:"keyboard-overlay",onClick:s,children:r.jsxs("div",{className:"keyboard-modal",ref:n,children:[r.jsxs("div",{className:"keyboard-modal-header",children:[r.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),r.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:r.jsx("span",{"aria-hidden":"true",children:""})})]}),r.jsx("div",{className:"keyboard-modal-body",children:r.jsx("div",{className:"shortcut-grid",children:iy.map((l,i)=>r.jsx(ay,{...l},i))})}),r.jsx("div",{className:"keyboard-modal-footer",children:r.jsxs("span",{className:"keyboard-hint",children:["Press ",r.jsx(gh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function uy({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:s,loadPreset:l,deletePreset:i,renamePreset:o}=ct(),[a,c]=f.useState(""),[u,h]=f.useState(null),[m,g]=f.useState(""),y=()=>{a.trim()&&s(a.trim())&&c("")},N=x=>{l(x),t()},w=x=>{i(x)},E=x=>{h(x.id),g(x.name)},p=()=>{u&&m.trim()&&(o(u,m.trim()),h(null),g(""))},d=()=>{h(null),g("")},v=x=>{let j=0,b=0;return Object.values(x.workspaces).forEach(S=>{j+=S.windowCount,S.windows.forEach(k=>{b+=k.boundSessions.length})}),`${j} windows, ${b} sessions`};return e?r.jsx("div",{className:"presets-panel-overlay",onClick:t,children:r.jsxs("div",{className:"presets-panel",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"presets-panel-header",children:[r.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),r.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),r.jsxs("div",{className:"presets-panel-body",children:[r.jsxs("div",{className:"preset-save-section",children:[r.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),r.jsxs("div",{className:"preset-save-form",children:[r.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:x=>c(x.target.value),onKeyDown:x=>x.key==="Enter"&&y(),maxLength:30}),r.jsx("button",{className:"preset-save-btn",onClick:y,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&r.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),r.jsxs("div",{className:"preset-list-section",children:[r.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?r.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):r.jsx("ul",{className:"preset-list",children:n.map((x,j)=>r.jsx("li",{className:"preset-item",children:u===x.id?r.jsxs("div",{className:"preset-edit-form",children:[r.jsx("input",{type:"text",className:"preset-edit-input",value:m,onChange:b=>g(b.target.value),onKeyDown:b=>{b.key==="Enter"&&p(),b.key==="Escape"&&d()},autoFocus:!0,maxLength:30}),r.jsx("button",{className:"preset-edit-save",onClick:p,children:""}),r.jsx("button",{className:"preset-edit-cancel",onClick:d,children:""})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"preset-info",children:[r.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",j+1]}),r.jsx("span",{className:"preset-name",children:x.name}),r.jsx("span",{className:"preset-summary",children:v(x)})]}),r.jsxs("div",{className:"preset-actions",children:[r.jsx("button",{className:"preset-load-btn",onClick:()=>N(x.id),title:"Load preset",children:"Load"}),r.jsx("button",{className:"preset-rename-btn",onClick:()=>E(x),title:"Rename preset",children:""}),r.jsx("button",{className:"preset-delete-btn",onClick:()=>w(x.id),title:"Delete preset",children:""})]})]})},x.id))})]})]}),r.jsx("div",{className:"presets-panel-footer",children:r.jsxs("span",{className:"presets-hint",children:["Use ",r.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",r.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function dy({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:s}){const{workspaces:l,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:m,layoutPresets:g}=ct(),y=f.useCallback(async()=>{try{const E=u.defaultSessionPrefix||"tmux",p=E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),d=new RegExp(`^${p}(\\d+)$`),v=h.map(S=>S.name.match(d)).filter(Boolean).map(S=>parseInt(S[1],10)),x=v.length>0?Math.max(...v)+1:1,j=`${E}${x}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j})})).ok&&c()}catch(E){console.error("Failed to create session:",E)}},[u.defaultSessionPrefix,h,c]),N=f.useCallback(()=>{const E=document.querySelector(".session-search-input");E&&(E.focus(),E.select())},[]),w=f.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);f.useEffect(()=>{const E=p=>{const d=p.target,v=d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable;if(p.key==="Escape"){if(s)return;if(a){p.preventDefault(),o();return}}if(!(v||s)){if(p.key==="?"||p.shiftKey&&p.key==="/"){p.preventDefault(),n();return}if(p.key==="/"&&!p.ctrlKey&&!p.metaKey){p.preventDefault(),N();return}if(p.key==="Tab"&&!p.ctrlKey&&!p.shiftKey&&!p.altKey&&(e==="terminal1"||e==="terminal2")){p.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!p.ctrlKey&&!p.metaKey&&!p.altKey&&/^[1-4]$/.test(p.key)){const x=w();if(x){const j=parseInt(p.key,10),b=l[x];if(j<=b.windowCount){p.preventDefault();return}}}if(p.ctrlKey&&p.key==="s"){p.preventDefault(),i();return}if(p.ctrlKey&&p.key==="n"){p.preventDefault(),y();return}if(p.ctrlKey&&/^[1-9]$/.test(p.key)){const x=parseInt(p.key,10)-1;if(x<g.length){p.preventDefault(),m(g[x].id);return}}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[e,t,n,s,a,o,N,i,y,w,l,m,g])}function fy({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return r.jsx("div",{className:"session-item dragging-overlay",children:r.jsx("span",{className:"session-agent-name",children:t})})}function hy(){const[e,t]=f.useState("terminal1"),[n,s]=f.useState(null),[l,i]=f.useState(!1),[o,a]=f.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:m,settings:g}=ct(),y=f.useCallback(()=>i(!0),[]),N=f.useCallback(()=>i(!1),[]),w=f.useCallback(()=>a(!0),[]),E=f.useCallback(()=>a(!1),[]);dy({activeTab:e,onTabChange:t,onShowHelp:y,isHelpOpen:l}),f.useEffect(()=>{document.documentElement.setAttribute("data-theme",g.theme)},[g.theme]),f.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${g.fontSize}px`)},[g.fontSize]);const p=hg(fg(za,{activationConstraint:{distance:4}})),d=x=>{var b,S;const j=(b=x.active.data.current)==null?void 0:b.type;s(j==="tag"?((S=x.active.data.current)==null?void 0:S.sessionName)??null:x.active.id),h(!0)},v=x=>{var S,k,C,P;const{active:j,over:b}=x;if(s(null),h(!1),!b){if(((S=j.data.current)==null?void 0:S.type)==="tag"){const{sessionName:L,sourceWindowId:A,sourceWorkspaceId:R}=j.data.current;u(R,A,L)}return}if(((k=b.data.current)==null?void 0:k.type)==="window"){const L=b.data.current.windowId,A=b.data.current.workspaceId;if(((C=j.data.current)==null?void 0:C.type)==="session")c(A,L,j.id);else if(((P=j.data.current)==null?void 0:P.type)==="tag"){const{sessionName:R,sourceWindowId:W,sourceWorkspaceId:K}=j.data.current;(W!==L||K!==A)&&c(A,L,R)}}};return r.jsxs(uv,{sensors:p,onDragStart:d,onDragEnd:v,children:[r.jsxs("div",{className:`dashboard ${m?"is-dragging":""}`,children:[r.jsx(Wv,{activeTab:e,onTabChange:t,onShowHelp:y,onShowPresets:w}),r.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&r.jsxs(r.Fragment,{children:[r.jsx(Xv,{}),r.jsx(tx,{workspaceId:e})]}),e==="files"&&r.jsx(yx,{}),e==="beads"&&r.jsx(ku,{children:r.jsx(Vx,{})}),e==="chat"&&r.jsx(ku,{children:r.jsx(ey,{})}),e==="manual"&&r.jsx(Kx,{}),e==="settings"&&r.jsx(jx,{}),e==="help"&&r.jsx(kx,{})]}),r.jsx(Nx,{}),r.jsx(cy,{isOpen:l,onClose:N}),r.jsx(uy,{isOpen:o,onClose:E})]}),r.jsx(ly,{}),r.jsx(Dv,{children:n?r.jsx(fy,{name:n}):null})]})}function py(){return r.jsx($v,{children:r.jsx(hy,{})})}Ai.createRoot(document.getElementById("root")).render(r.jsx(he.StrictMode,{children:r.jsx(Iv,{children:r.jsx(py,{})})}));
