var Rh=Object.defineProperty;var Ih=(e,t,n)=>t in e?Rh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ga=(e,t,n)=>Ih(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},Ol={},Tu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),Mh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),_h=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Wh=Symbol.for("react.memo"),Uh=Symbol.for("react.lazy"),Xa=Symbol.iterator;function Vh(e){return e===null||typeof e!="object"?null:(e=Xa&&e[Xa]||e["@@iterator"],typeof e=="function"?e:null)}var Ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iu=Object.assign,Lu={};function ur(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Ru}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mu(){}Mu.prototype=ur.prototype;function Bo(e,t,n){this.props=e,this.context=t,this.refs=Lu,this.updater=n||Ru}var Wo=Bo.prototype=new Mu;Wo.constructor=Bo;Iu(Wo,ur.prototype);Wo.isPureReactComponent=!0;var Ja=Array.isArray,Ou=Object.prototype.hasOwnProperty,Uo={current:null},_u={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ou.call(t,r)&&!_u.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gs,type:e,key:i,ref:o,props:s,_owner:Uo.current}}function Kh(e,t){return{$$typeof:gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vo(e){return typeof e=="object"&&e!==null&&e.$$typeof===gs}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Za=/\/+/g;function ci(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function Vs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gs:case Mh:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ci(o,0):r,Ja(s)?(n="",e!=null&&(n=e.replace(Za,"$&/")+"/"),Vs(s,t,n,"",function(u){return u})):s!=null&&(Vo(s)&&(s=Kh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Za,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ja(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ci(i,a);o+=Vs(i,t,n,c,s)}else if(c=Vh(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ci(i,a++),o+=Vs(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cs(e,t,n){if(e==null)return e;var r=[],s=0;return Vs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Ks={transition:null},Yh={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:Uo};function Au(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Cs,forEach:function(e,t,n){Cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!Vo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=ur;H.Fragment=Oh;H.Profiler=zh;H.PureComponent=Bo;H.StrictMode=_h;H.Suspense=Bh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;H.act=Au;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Uo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ou.call(t,c)&&!_u.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gs,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:Fh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ah,_context:e},e.Consumer=e};H.createElement=zu;H.createFactory=function(e){var t=zu.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:$h,render:e}};H.isValidElement=Vo;H.lazy=function(e){return{$$typeof:Uh,_payload:{_status:-1,_result:e},_init:Qh}};H.memo=function(e,t){return{$$typeof:Wh,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=t}};H.unstable_act=Au;H.useCallback=function(e,t){return Ae.current.useCallback(e,t)};H.useContext=function(e){return Ae.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ae.current.useEffect(e,t)};H.useId=function(){return Ae.current.useId()};H.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ae.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};H.useRef=function(e){return Ae.current.useRef(e)};H.useState=function(e){return Ae.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Ae.current.useTransition()};H.version="18.3.1";Tu.exports=H;var f=Tu.exports;const he=Lh(f);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=f,Xh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),Zh=Object.prototype.hasOwnProperty,qh=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ep={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Zh.call(t,r)&&!ep.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xh,type:e,key:i,ref:o,props:s,_owner:qh.current}}Ol.Fragment=Jh;Ol.jsx=Fu;Ol.jsxs=Fu;Du.exports=Ol;var l=Du.exports,Bi={},$u={exports:{}},qe={},Bu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var z=O.length;O.push(B);e:for(;0<z;){var G=z-1>>>1,Y=O[G];if(0<s(Y,B))O[G]=B,O[z]=Y,z=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],z=O.pop();if(z!==B){O[0]=z;e:for(var G=0,Y=O.length,je=Y>>>1;G<je;){var ge=2*(G+1)-1,Ce=O[ge],D=ge+1,F=O[D];if(0>s(Ce,z))D<Y&&0>s(F,Ce)?(O[G]=F,O[D]=z,G=D):(O[G]=Ce,O[ge]=z,G=ge);else if(D<Y&&0>s(F,z))O[G]=F,O[D]=z,G=D;else break e}}return B}function s(O,B){var z=O.sortIndex-B.sortIndex;return z!==0?z:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,p=null,g=3,x=!1,N=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function y(O){if(w=!1,v(O),!N)if(n(c)!==null)N=!0,le(j);else{var B=n(u);B!==null&&Z(y,B.startTime-O)}}function j(O,B){N=!1,w&&(w=!1,m(b),b=-1),x=!0;var z=g;try{for(v(B),p=n(c);p!==null&&(!(p.expirationTime>B)||O&&!L());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var Y=G(p.expirationTime<=B);B=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(c)&&r(c),v(B)}else r(c);p=n(c)}if(p!==null)var je=!0;else{var ge=n(u);ge!==null&&Z(y,ge.startTime-B),je=!1}return je}finally{p=null,g=z,x=!1}}var k=!1,S=null,b=-1,E=5,P=-1;function L(){return!(e.unstable_now()-P<E)}function Q(){if(S!==null){var O=e.unstable_now();P=O;var B=!0;try{B=S(!0,O)}finally{B?R():(k=!1,S=null)}}else k=!1}var R;if(typeof d=="function")R=function(){d(Q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=Q,R=function(){K.postMessage(null)}}else R=function(){C(Q,0)};function le(O){S=O,k||(k=!0,R())}function Z(O,B){b=C(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){N||x||(N=!0,le(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var z=g;g=B;try{return O()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=g;g=O;try{return B()}finally{g=z}},e.unstable_scheduleCallback=function(O,B,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,O={id:h++,callback:B,priorityLevel:O,startTime:z,expirationTime:Y,sortIndex:-1},z>G?(O.sortIndex=z,t(u,O),n(c)===null&&O===n(u)&&(w?(m(b),b=-1):w=!0,Z(y,z-G))):(O.sortIndex=Y,t(c,O),N||x||(N=!0,le(j))),O},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(O){var B=g;return function(){var z=g;g=B;try{return O.apply(this,arguments)}finally{g=z}}}})(Wu);Bu.exports=Wu;var tp=Bu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=f,Ze=tp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uu=new Set,Gr={};function En(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(Gr[e]=t,e=0;e<t.length;e++)Uu.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=Object.prototype.hasOwnProperty,rp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},ec={};function sp(e){return Wi.call(ec,e)?!0:Wi.call(qa,e)?!1:rp.test(e)?ec[e]=!0:(qa[e]=!0,!1)}function lp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ip(e,t,n,r){if(t===null||typeof t>"u"||lp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ko=/[\-:]([a-z])/g;function Ho(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ko,Ho);Te[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ko,Ho);Te[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ko,Ho);Te[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qo(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ip(t,n,s,r)&&(n=null),r||s===null?sp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ft=np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),On=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),Yo=Symbol.for("react.strict_mode"),Ui=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),Go=Symbol.for("react.forward_ref"),Vi=Symbol.for("react.suspense"),Ki=Symbol.for("react.suspense_list"),Xo=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Hu=Symbol.for("react.offscreen"),tc=Symbol.iterator;function Nr(e){return e===null||typeof e!="object"?null:(e=tc&&e[tc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,ui;function Rr(e){if(ui===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ui=t&&t[1]||""}return`
`+ui+e}var di=!1;function fi(e,t){if(!e||di)return"";di=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{di=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function op(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=fi(e.type,!1),e;case 11:return e=fi(e.type.render,!1),e;case 1:return e=fi(e.type,!0),e;default:return""}}function Hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case On:return"Portal";case Ui:return"Profiler";case Yo:return"StrictMode";case Vi:return"Suspense";case Ki:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ku:return(e.displayName||"Context")+".Consumer";case Vu:return(e._context.displayName||"Context")+".Provider";case Go:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xo:return t=e.displayName||null,t!==null?t:Hi(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Hi(e(t))}catch{}}return null}function ap(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hi(t);case 8:return t===Yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cp(e){var t=Qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ps(e){e._valueTracker||(e._valueTracker=cp(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qi(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=an(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gu(e,t){t=t.checked,t!=null&&Qo(e,"checked",t,!1)}function Yi(e,t){Gu(e,t);var n=an(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gi(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gi(e,t,n){(t!=="number"||sl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ir=Array.isArray;function Xn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Ir(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:an(n)}}function Xu(e,t){var n=an(t.value),r=an(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,Zu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},up=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function qu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var dp=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zi(e,t){if(t){if(dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function qi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eo=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var to=null,Jn=null,Zn=null;function ic(e){if(e=xs(e)){if(typeof to!="function")throw Error(I(280));var t=e.stateNode;t&&(t=$l(t),to(e.stateNode,e.type,t))}}function td(e){Jn?Zn?Zn.push(e):Zn=[e]:Jn=e}function nd(){if(Jn){var e=Jn,t=Zn;if(Zn=Jn=null,ic(e),t)for(e=0;e<t.length;e++)ic(t[e])}}function rd(e,t){return e(t)}function sd(){}var hi=!1;function ld(e,t,n){if(hi)return e(t,n);hi=!0;try{return rd(e,t,n)}finally{hi=!1,(Jn!==null||Zn!==null)&&(sd(),nd())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var no=!1;if(Mt)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){no=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{no=!1}function fp(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _r=!1,ll=null,il=!1,ro=null,hp={onError:function(e){_r=!0,ll=e}};function pp(e,t,n,r,s,i,o,a,c){_r=!1,ll=null,fp.apply(hp,arguments)}function mp(e,t,n,r,s,i,o,a,c){if(pp.apply(this,arguments),_r){if(_r){var u=ll;_r=!1,ll=null}else throw Error(I(198));il||(il=!0,ro=u)}}function Pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oc(e){if(Pn(e)!==e)throw Error(I(188))}function gp(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return oc(s),e;if(i===r)return oc(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function od(e){return e=gp(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ad(e);if(t!==null)return t;e=e.sibling}return null}var cd=Ze.unstable_scheduleCallback,ac=Ze.unstable_cancelCallback,vp=Ze.unstable_shouldYield,yp=Ze.unstable_requestPaint,me=Ze.unstable_now,xp=Ze.unstable_getCurrentPriorityLevel,Zo=Ze.unstable_ImmediatePriority,ud=Ze.unstable_UserBlockingPriority,ol=Ze.unstable_NormalPriority,wp=Ze.unstable_LowPriority,dd=Ze.unstable_IdlePriority,_l=null,kt=null;function jp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(_l,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:kp,Np=Math.log,Sp=Math.LN2;function kp(e){return e>>>=0,e===0?32:31-(Np(e)/Sp|0)|0}var Ts=64,Rs=4194304;function Lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function al(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Lr(a):(i&=o,i!==0&&(r=Lr(i)))}else o=n&~s,o!==0?r=Lr(o):i!==0&&(r=Lr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pt(t),s=1<<n,r|=e[n],t&=~s;return r}function bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=bp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function so(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Ep(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pd,ea,md,gd,vd,lo=!1,Is=[],qt=null,en=null,tn=null,Zr=new Map,qr=new Map,Gt=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xs(t),t!==null&&ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dp(e,t,n,r,s){switch(t){case"focusin":return qt=kr(qt,e,t,n,r,s),!0;case"dragenter":return en=kr(en,e,t,n,r,s),!0;case"mouseover":return tn=kr(tn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zr.set(i,kr(Zr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qr.set(i,kr(qr.get(i)||null,e,t,n,r,s)),!0}return!1}function yd(e){var t=vn(e.target);if(t!==null){var n=Pn(t);if(n!==null){if(t=n.tag,t===13){if(t=id(n),t!==null){e.blockedOn=t,vd(e.priority,function(){md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);eo=r,n.target.dispatchEvent(r),eo=null}else return t=xs(n),t!==null&&ea(t),e.blockedOn=n,!1;t.shift()}return!0}function uc(e,t,n){Hs(e)&&n.delete(t)}function Tp(){lo=!1,qt!==null&&Hs(qt)&&(qt=null),en!==null&&Hs(en)&&(en=null),tn!==null&&Hs(tn)&&(tn=null),Zr.forEach(uc),qr.forEach(uc)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,lo||(lo=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Tp)))}function es(e){function t(s){return br(s,e)}if(0<Is.length){br(Is[0],e);for(var n=1;n<Is.length;n++){var r=Is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qt!==null&&br(qt,e),en!==null&&br(en,e),tn!==null&&br(tn,e),Zr.forEach(t),qr.forEach(t),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)yd(n),n.blockedOn===null&&Gt.shift()}var qn=Ft.ReactCurrentBatchConfig,cl=!0;function Rp(e,t,n,r){var s=J,i=qn.transition;qn.transition=null;try{J=1,ta(e,t,n,r)}finally{J=s,qn.transition=i}}function Ip(e,t,n,r){var s=J,i=qn.transition;qn.transition=null;try{J=4,ta(e,t,n,r)}finally{J=s,qn.transition=i}}function ta(e,t,n,r){if(cl){var s=io(e,t,n,r);if(s===null)ki(e,t,r,ul,n),cc(e,r);else if(Dp(s,e,t,n,r))r.stopPropagation();else if(cc(e,r),t&4&&-1<Pp.indexOf(e)){for(;s!==null;){var i=xs(s);if(i!==null&&pd(i),i=io(e,t,n,r),i===null&&ki(e,t,r,ul,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ki(e,t,r,null,n)}}var ul=null;function io(e,t,n,r){if(ul=null,e=Jo(r),e=vn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=id(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case Zo:return 1;case ud:return 4;case ol:case wp:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Jt=null,na=null,Qs=null;function wd(){if(Qs)return Qs;var e,t=na,n=t.length,r,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Qs=s.slice(e,1<r?1-r:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function dc(){return!1}function et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ls:dc,this.isPropagationStopped=dc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=et(dr),ys=de({},dr,{view:0,detail:0}),Lp=et(ys),mi,gi,Cr,zl=de({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(mi=e.screenX-Cr.screenX,gi=e.screenY-Cr.screenY):gi=mi=0,Cr=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),fc=et(zl),Mp=de({},zl,{dataTransfer:0}),Op=et(Mp),_p=de({},ys,{relatedTarget:0}),vi=et(_p),zp=de({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=et(zp),Fp=de({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=et(Fp),Bp=de({},dr,{data:0}),hc=et(Bp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vp[e])?!!t[e]:!1}function sa(){return Kp}var Hp=de({},ys,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=et(Hp),Yp=de({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=et(Yp),Gp=de({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),Xp=et(Gp),Jp=de({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zp=et(Jp),qp=de({},zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),em=et(qp),tm=[9,13,27,32],la=Mt&&"CompositionEvent"in window,zr=null;Mt&&"documentMode"in document&&(zr=document.documentMode);var nm=Mt&&"TextEvent"in window&&!zr,jd=Mt&&(!la||zr&&8<zr&&11>=zr),mc=" ",gc=!1;function Nd(e,t){switch(e){case"keyup":return tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function rm(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function sm(e,t){if(zn)return e==="compositionend"||!la&&Nd(e,t)?(e=wd(),Qs=na=Jt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lm[e.type]:t==="textarea"}function kd(e,t,n,r){td(r),t=dl(t,"onChange"),0<t.length&&(n=new ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,ts=null;function im(e){Od(e,0)}function Al(e){var t=$n(e);if(Yu(t))return e}function om(e,t){if(e==="change")return t}var bd=!1;if(Mt){var yi;if(Mt){var xi="oninput"in document;if(!xi){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),xi=typeof yc.oninput=="function"}yi=xi}else yi=!1;bd=yi&&(!document.documentMode||9<document.documentMode)}function xc(){Ar&&(Ar.detachEvent("onpropertychange",Cd),ts=Ar=null)}function Cd(e){if(e.propertyName==="value"&&Al(ts)){var t=[];kd(t,ts,e,Jo(e)),ld(im,t)}}function am(e,t,n){e==="focusin"?(xc(),Ar=t,ts=n,Ar.attachEvent("onpropertychange",Cd)):e==="focusout"&&xc()}function cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(ts)}function um(e,t){if(e==="click")return Al(t)}function dm(e,t){if(e==="input"||e==="change")return Al(t)}function fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:fm;function ns(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wi.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,t){var n=wc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=sl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sl(e.document)}return t}function ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hm(e){var t=Pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&ia(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=jc(n,i);var o=jc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pm=Mt&&"documentMode"in document&&11>=document.documentMode,An=null,oo=null,Fr=null,ao=!1;function Nc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ao||An==null||An!==sl(r)||(r=An,"selectionStart"in r&&ia(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&ns(Fr,r)||(Fr=r,r=dl(oo,"onSelect"),0<r.length&&(t=new ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function Ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},wi={},Dd={};Mt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Fl(e){if(wi[e])return wi[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dd)return wi[e]=t[n];return e}var Td=Fl("animationend"),Rd=Fl("animationiteration"),Id=Fl("animationstart"),Ld=Fl("transitionend"),Md=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){Md.set(e,t),En(t,[e])}for(var ji=0;ji<Sc.length;ji++){var Ni=Sc[ji],mm=Ni.toLowerCase(),gm=Ni[0].toUpperCase()+Ni.slice(1);un(mm,"on"+gm)}un(Td,"onAnimationEnd");un(Rd,"onAnimationIteration");un(Id,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Ld,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function kc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mp(r,t,void 0,e),e.currentTarget=null}function Od(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;kc(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;kc(s,a,u),i=c}}}if(il)throw e=ro,il=!1,ro=null,e}function re(e,t){var n=t[po];n===void 0&&(n=t[po]=new Set);var r=e+"__bubble";n.has(r)||(_d(t,e,2,!1),n.add(r))}function Si(e,t,n){var r=0;t&&(r|=4),_d(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[Os]){e[Os]=!0,Uu.forEach(function(n){n!=="selectionchange"&&(vm.has(n)||Si(n,!1,e),Si(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Si("selectionchange",!1,t))}}function _d(e,t,n,r){switch(xd(t)){case 1:var s=Rp;break;case 4:s=Ip;break;default:s=ta}n=s.bind(null,t,n,e),s=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ki(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ld(function(){var u=i,h=Jo(n),p=[];e:{var g=Md.get(e);if(g!==void 0){var x=ra,N=e;switch(e){case"keypress":if(Ys(n)===0)break e;case"keydown":case"keyup":x=Qp;break;case"focusin":N="focus",x=vi;break;case"focusout":N="blur",x=vi;break;case"beforeblur":case"afterblur":x=vi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Xp;break;case Td:case Rd:case Id:x=Ap;break;case Ld:x=Zp;break;case"scroll":x=Lp;break;case"wheel":x=em;break;case"copy":case"cut":case"paste":x=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pc}var w=(t&4)!==0,C=!w&&e==="scroll",m=w?g!==null?g+"Capture":null:g;w=[];for(var d=u,v;d!==null;){v=d;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,m!==null&&(y=Jr(d,m),y!=null&&w.push(ss(d,y,v)))),C)break;d=d.return}0<w.length&&(g=new x(g,N,null,n,h),p.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==eo&&(N=n.relatedTarget||n.fromElement)&&(vn(N)||N[Ot]))break e;if((x||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,x?(N=n.relatedTarget||n.toElement,x=u,N=N?vn(N):null,N!==null&&(C=Pn(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(x=null,N=u),x!==N)){if(w=fc,y="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=pc,y="onPointerLeave",m="onPointerEnter",d="pointer"),C=x==null?g:$n(x),v=N==null?g:$n(N),g=new w(y,d+"leave",x,n,h),g.target=C,g.relatedTarget=v,y=null,vn(h)===u&&(w=new w(m,d+"enter",N,n,h),w.target=v,w.relatedTarget=C,y=w),C=y,x&&N)t:{for(w=x,m=N,d=0,v=w;v;v=In(v))d++;for(v=0,y=m;y;y=In(y))v++;for(;0<d-v;)w=In(w),d--;for(;0<v-d;)m=In(m),v--;for(;d--;){if(w===m||m!==null&&w===m.alternate)break t;w=In(w),m=In(m)}w=null}else w=null;x!==null&&bc(p,g,x,w,!1),N!==null&&C!==null&&bc(p,C,N,w,!0)}}e:{if(g=u?$n(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var j=om;else if(vc(g))if(bd)j=dm;else{j=cm;var k=am}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=um);if(j&&(j=j(e,u))){kd(p,j,n,h);break e}k&&k(e,g,u),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Gi(g,"number",g.value)}switch(k=u?$n(u):window,e){case"focusin":(vc(k)||k.contentEditable==="true")&&(An=k,oo=u,Fr=null);break;case"focusout":Fr=oo=An=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,Nc(p,n,h);break;case"selectionchange":if(pm)break;case"keydown":case"keyup":Nc(p,n,h)}var S;if(la)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Nd(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(jd&&n.locale!=="ko"&&(zn||b!=="onCompositionStart"?b==="onCompositionEnd"&&zn&&(S=wd()):(Jt=h,na="value"in Jt?Jt.value:Jt.textContent,zn=!0)),k=dl(u,b),0<k.length&&(b=new hc(b,e,null,n,h),p.push({event:b,listeners:k}),S?b.data=S:(S=Sd(n),S!==null&&(b.data=S)))),(S=nm?rm(e,n):sm(e,n))&&(u=dl(u,"onBeforeInput"),0<u.length&&(h=new hc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=S))}Od(p,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jr(e,n),i!=null&&r.unshift(ss(e,i,s)),i=Jr(e,t),i!=null&&r.push(ss(e,i,s))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Jr(n,i),c!=null&&o.unshift(ss(n,c,a))):s||(c=Jr(n,i),c!=null&&o.push(ss(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ym=/\r\n?/g,xm=/\u0000|\uFFFD/g;function Cc(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(xm,"")}function _s(e,t,n){if(t=Cc(t),Cc(e)!==t&&n)throw Error(I(425))}function fl(){}var co=null,uo=null;function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ho=typeof setTimeout=="function"?setTimeout:void 0,wm=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,jm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(Nm)}:ho;function Nm(e){setTimeout(function(){throw e})}function bi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);es(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),St="__reactFiber$"+fr,ls="__reactProps$"+fr,Ot="__reactContainer$"+fr,po="__reactEvents$"+fr,Sm="__reactListeners$"+fr,km="__reactHandles$"+fr;function vn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pc(e);e!==null;){if(n=e[St])return n;e=Pc(e)}return t}e=n,n=e.parentNode}return null}function xs(e){return e=e[St]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function $l(e){return e[ls]||null}var mo=[],Bn=-1;function dn(e){return{current:e}}function se(e){0>Bn||(e.current=mo[Bn],mo[Bn]=null,Bn--)}function ne(e,t){Bn++,mo[Bn]=e.current,e.current=t}var cn={},Oe=dn(cn),Ue=dn(!1),Nn=cn;function sr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function hl(){se(Ue),se(Oe)}function Dc(e,t,n){if(Oe.current!==cn)throw Error(I(168));ne(Oe,t),ne(Ue,n)}function zd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,ap(e)||"Unknown",s));return de({},n,r)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Nn=Oe.current,ne(Oe,e),ne(Ue,Ue.current),!0}function Tc(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=zd(e,t,Nn),r.__reactInternalMemoizedMergedChildContext=e,se(Ue),se(Oe),ne(Oe,e)):se(Ue),ne(Ue,n)}var Tt=null,Bl=!1,Ci=!1;function Ad(e){Tt===null?Tt=[e]:Tt.push(e)}function bm(e){Bl=!0,Ad(e)}function fn(){if(!Ci&&Tt!==null){Ci=!0;var e=0,t=J;try{var n=Tt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,Bl=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),cd(Zo,fn),s}finally{J=t,Ci=!1}}return null}var Wn=[],Un=0,ml=null,gl=0,rt=[],st=0,Sn=null,Rt=1,It="";function mn(e,t){Wn[Un++]=gl,Wn[Un++]=ml,ml=e,gl=t}function Fd(e,t,n){rt[st++]=Rt,rt[st++]=It,rt[st++]=Sn,Sn=e;var r=Rt;e=It;var s=32-pt(r)-1;r&=~(1<<s),n+=1;var i=32-pt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Rt=1<<32-pt(t)+s|n<<s|r,It=i+e}else Rt=1<<i|n<<s|r,It=e}function oa(e){e.return!==null&&(mn(e,1),Fd(e,1,0))}function aa(e){for(;e===ml;)ml=Wn[--Un],Wn[Un]=null,gl=Wn[--Un],Wn[Un]=null;for(;e===Sn;)Sn=rt[--st],rt[st]=null,It=rt[--st],rt[st]=null,Rt=rt[--st],rt[st]=null}var Je=null,Xe=null,oe=!1,ht=null;function $d(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Xe=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Xe=null,!0):!1;default:return!1}}function go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vo(e){if(oe){var t=Xe;if(t){var n=t;if(!Rc(e,t)){if(go(e))throw Error(I(418));t=nn(n.nextSibling);var r=Je;t&&Rc(e,t)?$d(r,n):(e.flags=e.flags&-4097|2,oe=!1,Je=e)}}else{if(go(e))throw Error(I(418));e.flags=e.flags&-4097|2,oe=!1,Je=e}}}function Ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function zs(e){if(e!==Je)return!1;if(!oe)return Ic(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fo(e.type,e.memoizedProps)),t&&(t=Xe)){if(go(e))throw Bd(),Error(I(418));for(;t;)$d(e,t),t=nn(t.nextSibling)}if(Ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Je?nn(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Xe;e;)e=nn(e.nextSibling)}function lr(){Xe=Je=null,oe=!1}function ca(e){ht===null?ht=[e]:ht.push(e)}var Cm=Ft.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function Wd(e){function t(m,d){if(e){var v=m.deletions;v===null?(m.deletions=[d],m.flags|=16):v.push(d)}}function n(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function s(m,d){return m=on(m,d),m.index=0,m.sibling=null,m}function i(m,d,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<d?(m.flags|=2,d):v):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,d,v,y){return d===null||d.tag!==6?(d=Li(v,m.mode,y),d.return=m,d):(d=s(d,v),d.return=m,d)}function c(m,d,v,y){var j=v.type;return j===_n?h(m,d,v.props.children,y,v.key):d!==null&&(d.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Lc(j)===d.type)?(y=s(d,v.props),y.ref=Er(m,d,v),y.return=m,y):(y=tl(v.type,v.key,v.props,null,m.mode,y),y.ref=Er(m,d,v),y.return=m,y)}function u(m,d,v,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Mi(v,m.mode,y),d.return=m,d):(d=s(d,v.children||[]),d.return=m,d)}function h(m,d,v,y,j){return d===null||d.tag!==7?(d=jn(v,m.mode,y,j),d.return=m,d):(d=s(d,v),d.return=m,d)}function p(m,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Li(""+d,m.mode,v),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Es:return v=tl(d.type,d.key,d.props,null,m.mode,v),v.ref=Er(m,null,d),v.return=m,v;case On:return d=Mi(d,m.mode,v),d.return=m,d;case Ht:var y=d._init;return p(m,y(d._payload),v)}if(Ir(d)||Nr(d))return d=jn(d,m.mode,v,null),d.return=m,d;As(m,d)}return null}function g(m,d,v,y){var j=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(m,d,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Es:return v.key===j?c(m,d,v,y):null;case On:return v.key===j?u(m,d,v,y):null;case Ht:return j=v._init,g(m,d,j(v._payload),y)}if(Ir(v)||Nr(v))return j!==null?null:h(m,d,v,y,null);As(m,v)}return null}function x(m,d,v,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(v)||null,a(d,m,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Es:return m=m.get(y.key===null?v:y.key)||null,c(d,m,y,j);case On:return m=m.get(y.key===null?v:y.key)||null,u(d,m,y,j);case Ht:var k=y._init;return x(m,d,v,k(y._payload),j)}if(Ir(y)||Nr(y))return m=m.get(v)||null,h(d,m,y,j,null);As(d,y)}return null}function N(m,d,v,y){for(var j=null,k=null,S=d,b=d=0,E=null;S!==null&&b<v.length;b++){S.index>b?(E=S,S=null):E=S.sibling;var P=g(m,S,v[b],y);if(P===null){S===null&&(S=E);break}e&&S&&P.alternate===null&&t(m,S),d=i(P,d,b),k===null?j=P:k.sibling=P,k=P,S=E}if(b===v.length)return n(m,S),oe&&mn(m,b),j;if(S===null){for(;b<v.length;b++)S=p(m,v[b],y),S!==null&&(d=i(S,d,b),k===null?j=S:k.sibling=S,k=S);return oe&&mn(m,b),j}for(S=r(m,S);b<v.length;b++)E=x(S,m,b,v[b],y),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?b:E.key),d=i(E,d,b),k===null?j=E:k.sibling=E,k=E);return e&&S.forEach(function(L){return t(m,L)}),oe&&mn(m,b),j}function w(m,d,v,y){var j=Nr(v);if(typeof j!="function")throw Error(I(150));if(v=j.call(v),v==null)throw Error(I(151));for(var k=j=null,S=d,b=d=0,E=null,P=v.next();S!==null&&!P.done;b++,P=v.next()){S.index>b?(E=S,S=null):E=S.sibling;var L=g(m,S,P.value,y);if(L===null){S===null&&(S=E);break}e&&S&&L.alternate===null&&t(m,S),d=i(L,d,b),k===null?j=L:k.sibling=L,k=L,S=E}if(P.done)return n(m,S),oe&&mn(m,b),j;if(S===null){for(;!P.done;b++,P=v.next())P=p(m,P.value,y),P!==null&&(d=i(P,d,b),k===null?j=P:k.sibling=P,k=P);return oe&&mn(m,b),j}for(S=r(m,S);!P.done;b++,P=v.next())P=x(S,m,b,P.value,y),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?b:P.key),d=i(P,d,b),k===null?j=P:k.sibling=P,k=P);return e&&S.forEach(function(Q){return t(m,Q)}),oe&&mn(m,b),j}function C(m,d,v,y){if(typeof v=="object"&&v!==null&&v.type===_n&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Es:e:{for(var j=v.key,k=d;k!==null;){if(k.key===j){if(j=v.type,j===_n){if(k.tag===7){n(m,k.sibling),d=s(k,v.props.children),d.return=m,m=d;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Lc(j)===k.type){n(m,k.sibling),d=s(k,v.props),d.ref=Er(m,k,v),d.return=m,m=d;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===_n?(d=jn(v.props.children,m.mode,y,v.key),d.return=m,m=d):(y=tl(v.type,v.key,v.props,null,m.mode,y),y.ref=Er(m,d,v),y.return=m,m=y)}return o(m);case On:e:{for(k=v.key;d!==null;){if(d.key===k)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(m,d.sibling),d=s(d,v.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else t(m,d);d=d.sibling}d=Mi(v,m.mode,y),d.return=m,m=d}return o(m);case Ht:return k=v._init,C(m,d,k(v._payload),y)}if(Ir(v))return N(m,d,v,y);if(Nr(v))return w(m,d,v,y);As(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(m,d.sibling),d=s(d,v),d.return=m,m=d):(n(m,d),d=Li(v,m.mode,y),d.return=m,m=d),o(m)):n(m,d)}return C}var ir=Wd(!0),Ud=Wd(!1),vl=dn(null),yl=null,Vn=null,ua=null;function da(){ua=Vn=yl=null}function fa(e){var t=vl.current;se(vl),e._currentValue=t}function yo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){yl=e,ua=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(ua!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(yl===null)throw Error(I(308));Vn=e,yl.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var yn=null;function ha(e){yn===null?yn=[e]:yn.push(e)}function Vd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ha(t)):(n.next=s.next,s.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_t(e,n)}return s=r.interleaved,s===null?(t.next=t,ha(r)):(t.next=s.next,s.next=t),r.interleaved=t,_t(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}function Mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xl(e,t,n,r){var s=e.updateQueue;Qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,x=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,w=a;switch(g=t,x=n,w.tag){case 1:if(N=w.payload,typeof N=="function"){p=N.call(x,p,g);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,g=typeof N=="function"?N.call(x,p,g):N,g==null)break e;p=de({},p,g);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=p):h=h.next=x,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);bn|=o,e.lanes=o,e.memoizedState=p}}function Oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var ws={},bt=dn(ws),is=dn(ws),os=dn(ws);function xn(e){if(e===ws)throw Error(I(174));return e}function ma(e,t){switch(ne(os,t),ne(is,e),ne(bt,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ji(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ji(t,e)}se(bt),ne(bt,t)}function or(){se(bt),se(is),se(os)}function Hd(e){xn(os.current);var t=xn(bt.current),n=Ji(t,e.type);t!==n&&(ne(is,e),ne(bt,n))}function ga(e){is.current===e&&(se(bt),se(is))}var ce=dn(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ei=[];function va(){for(var e=0;e<Ei.length;e++)Ei[e]._workInProgressVersionPrimary=null;Ei.length=0}var Xs=Ft.ReactCurrentDispatcher,Pi=Ft.ReactCurrentBatchConfig,kn=0,ue=null,ye=null,Se=null,jl=!1,$r=!1,as=0,Em=0;function Ie(){throw Error(I(321))}function ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,s,i){if(kn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?Rm:Im,e=n(r,s),$r){i=0;do{if($r=!1,as=0,25<=i)throw Error(I(301));i+=1,Se=ye=null,t.updateQueue=null,Xs.current=Lm,e=n(r,s)}while($r)}if(Xs.current=Nl,t=ye!==null&&ye.next!==null,kn=0,Se=ye=ue=null,jl=!1,t)throw Error(I(300));return e}function wa(){var e=as!==0;return as=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ue.memoizedState=Se=e:Se=Se.next=e,Se}function at(){if(ye===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Se===null?ue.memoizedState:Se.next;if(t!==null)Se=t,ye=e;else{if(e===null)throw Error(I(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Se===null?ue.memoizedState=Se=e:Se=Se.next=e}return Se}function cs(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((kn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,ue.lanes|=h,bn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,gt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,bn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=at(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);gt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qd(){}function Yd(e,t){var n=ue,r=at(),s=t(),i=!gt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,ja(Jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,us(9,Xd.bind(null,n,r,s,t),void 0,null),be===null)throw Error(I(349));kn&30||Gd(n,t,s)}return s}function Gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,Zd(t)&&qd(e)}function Jd(e,t,n){return n(function(){Zd(t)&&qd(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function qd(e){var t=_t(e,1);t!==null&&mt(t,e,1,-1)}function _c(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,ue,e),[t.memoizedState,e]}function us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ef(){return at().memoizedState}function Js(e,t,n,r){var s=Nt();ue.flags|=e,s.memoizedState=us(1|t,n,void 0,r===void 0?null:r)}function Wl(e,t,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,r!==null&&ya(r,o.deps)){s.memoizedState=us(t,n,i,r);return}}ue.flags|=e,s.memoizedState=us(1|t,n,i,r)}function zc(e,t){return Js(8390656,8,e,t)}function ja(e,t){return Wl(2048,8,e,t)}function tf(e,t){return Wl(4,2,e,t)}function nf(e,t){return Wl(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,rf.bind(null,t,e),n)}function Na(){}function lf(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function of(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function af(e,t,n){return kn&21?(gt(n,t)||(n=fd(),ue.lanes|=n,bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Pm(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Pi.transition;Pi.transition={};try{e(!1),t()}finally{J=n,Pi.transition=r}}function cf(){return at().memoizedState}function Dm(e,t,n){var r=ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uf(e))df(t,n);else if(n=Vd(e,t,n,r),n!==null){var s=ze();mt(n,e,r,s),ff(n,t,r)}}function Tm(e,t,n){var r=ln(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uf(e))df(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gt(a,o)){var c=t.interleaved;c===null?(s.next=s,ha(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Vd(e,t,s,r),n!==null&&(s=ze(),mt(n,e,r,s),ff(n,t,r))}}function uf(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function df(e,t){$r=jl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ff(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}var Nl={readContext:ot,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Rm={readContext:ot,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dm.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:Na,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=Pm.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=Nt();if(oe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),be===null)throw Error(I(349));kn&30||Gd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,zc(Jd.bind(null,r,i,e),[e]),r.flags|=2048,us(9,Xd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=be.identifierPrefix;if(oe){var n=It,r=Rt;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=as++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Em++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Im={readContext:ot,useCallback:lf,useContext:ot,useEffect:ja,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:of,useReducer:Di,useRef:ef,useState:function(){return Di(cs)},useDebugValue:Na,useDeferredValue:function(e){var t=at();return af(t,ye.memoizedState,e)},useTransition:function(){var e=Di(cs)[0],t=at().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:cf,unstable_isNewReconciler:!1},Lm={readContext:ot,useCallback:lf,useContext:ot,useEffect:ja,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:nf,useMemo:of,useReducer:Ti,useRef:ef,useState:function(){return Ti(cs)},useDebugValue:Na,useDeferredValue:function(e){var t=at();return ye===null?t.memoizedState=e:af(t,ye.memoizedState,e)},useTransition:function(){var e=Ti(cs)[0],t=at().memoizedState;return[e,t]},useMutableSource:Qd,useSyncExternalStore:Yd,useId:cf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ul={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),s=ln(e),i=Lt(r,s);i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(mt(t,e,s,r),Gs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),s=ln(e),i=Lt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(mt(t,e,s,r),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=ln(e),s=Lt(n,r);s.tag=2,t!=null&&(s.callback=t),t=rn(e,s,r),t!==null&&(mt(t,e,r,n),Gs(t,e,r))}};function Ac(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ns(n,r)||!ns(s,i):!0}function hf(e,t,n){var r=!1,s=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Ve(t)?Nn:Oe.current,r=t.contextTypes,i=(r=r!=null)?sr(e,s):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ul,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ul.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},pa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Ve(t)?Nn:Oe.current,s.context=sr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ul.enqueueReplaceState(s,s.state,null),xl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",r=t;do n+=op(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ri(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mm=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,Ro=r),jo(e,t)},n}function mf(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jo(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $c(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ym.bind(null,e,t,n),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var Om=Ft.ReactCurrentOwner,We=!1;function _e(e,t,n,r){t.child=e===null?Ud(t,null,n,r):ir(t,e.child,n,r)}function Uc(e,t,n,r,s){n=n.render;var i=t.ref;return er(t,s),r=xa(e,t,n,r,i,s),n=wa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(oe&&n&&oa(t),t.flags|=1,_e(e,t,r,s),t.child)}function Vc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gf(e,t,i,r,s)):(e=tl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ns,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ns(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,s)}return No(e,t,n,r,s)}function vf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Hn,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Hn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(Hn,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(Hn,Ge),Ge|=r;return _e(e,t,s,n),t.child}function yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,s){var i=Ve(n)?Nn:Oe.current;return i=sr(t,i),er(t,s),n=xa(e,t,n,r,i,s),r=wa(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(oe&&r&&oa(t),t.flags|=1,_e(e,t,n,s),t.child)}function Kc(e,t,n,r,s){if(Ve(n)){var i=!0;pl(t)}else i=!1;if(er(t,s),t.stateNode===null)Zs(e,t),hf(t,n,r),wo(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?Nn:Oe.current,u=sr(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Fc(t,o,r,u),Qt=!1;var g=t.memoizedState;o.state=g,xl(t,r,o,s),c=t.memoizedState,a!==r||g!==c||Ue.current||Qt?(typeof h=="function"&&(xo(t,n,h,r),c=t.memoizedState),(a=Qt||Ac(t,n,a,r,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Kd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,p=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ot(c):(c=Ve(n)?Nn:Oe.current,c=sr(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Fc(t,o,r,c),Qt=!1,g=t.memoizedState,o.state=g,xl(t,r,o,s);var N=t.memoizedState;a!==p||g!==N||Ue.current||Qt?(typeof x=="function"&&(xo(t,n,x,r),N=t.memoizedState),(u=Qt||Ac(t,n,u,r,g,N,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return So(e,t,n,r,i,s)}function So(e,t,n,r,s,i){yf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Tc(t,n,!1),zt(e,t,i);r=t.stateNode,Om.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ir(t,e.child,null,i),t.child=ir(t,null,a,i)):_e(e,t,a,i),t.memoizedState=r.state,s&&Tc(t,n,!0),t.child}function xf(e){var t=e.stateNode;t.pendingContext?Dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dc(e,t.context,!1),ma(e,t.containerInfo)}function Hc(e,t,n,r,s){return lr(),ca(s),t.flags|=256,_e(e,t,n,r),t.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function wf(e,t,n){var r=t.pendingProps,s=ce.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(ce,s&1),e===null)return vo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hl(o,r,0,null),e=jn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bo(n),t.memoizedState=ko,e):Sa(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _m(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=on(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=on(a,i):(i=jn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?bo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ko,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sa(e,t){return t=Hl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&ca(r),ir(t,e.child,null,n),e=Sa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ri(Error(I(422))),Fs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Hl({mode:"visible",children:r.children},s,0,null),i=jn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ir(t,e.child,null,o),t.child.memoizedState=bo(o),t.memoizedState=ko,i);if(!(t.mode&1))return Fs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Ri(i,r,void 0),Fs(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),mt(r,e,s,-1))}return Da(),r=Ri(Error(I(421))),Fs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xe=nn(s.nextSibling),Je=t,oe=!0,ht=null,e!==null&&(rt[st++]=Rt,rt[st++]=It,rt[st++]=Sn,Rt=e.id,It=e.overflow,Sn=t),t=Sa(t,r.children),t.flags|=4096,t)}function Qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yo(e.return,t,n)}function Ii(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_e(e,t,r.children,n),r=ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,n,t);else if(e.tag===19)Qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ii(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ii(t,!0,n,null,i);break;case"together":Ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zm(e,t,n){switch(t.tag){case 3:xf(t),lr();break;case 5:Hd(t);break;case 1:Ve(t.type)&&pl(t);break;case 4:ma(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne(vl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ce,ce.current&1),t.flags|=128,null):n&t.child.childLanes?wf(e,t,n):(ne(ce,ce.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ne(ce,ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ce,ce.current),r)break;return null;case 22:case 23:return t.lanes=0,vf(e,t,n)}return zt(e,t,n)}var Nf,Co,Sf,kf;Nf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Co=function(){};Sf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,xn(bt.current);var i=null;switch(n){case"input":s=Qi(e,s),r=Qi(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Xi(e,s),r=Xi(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}Zi(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&re("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pr(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Am(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ve(t.type)&&hl(),Le(t),null;case 3:return r=t.stateNode,or(),se(Ue),se(Oe),va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Mo(ht),ht=null))),Co(e,t),Le(t),null;case 5:ga(t);var s=xn(os.current);if(n=t.type,e!==null&&t.stateNode!=null)Sf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Le(t),null}if(e=xn(bt.current),zs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[St]=t,r[ls]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)re(Mr[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":nc(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":sc(r,i),re("invalid",r)}Zi(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),s=["children",""+a]):Gr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",r)}switch(n){case"input":Ps(r),rc(r,i,!0);break;case"textarea":Ps(r),lc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[St]=t,e[ls]=r,Nf(e,t,!1,!1),t.stateNode=e;e:{switch(o=qi(n,r),n){case"dialog":re("cancel",e),re("close",e),s=r;break;case"iframe":case"object":case"embed":re("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)re(Mr[s],e);s=r;break;case"source":re("error",e),s=r;break;case"img":case"image":case"link":re("error",e),re("load",e),s=r;break;case"details":re("toggle",e),s=r;break;case"input":nc(e,r),s=Qi(e,r),re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),re("invalid",e);break;case"textarea":sc(e,r),s=Xi(e,r),re("invalid",e);break;default:s=r}Zi(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?ed(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xr(e,c):typeof c=="number"&&Xr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&Qo(e,i,c,o))}switch(n){case"input":Ps(e),rc(e,r,!1);break;case"textarea":Ps(e),lc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+an(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=xn(os.current),xn(bt.current),zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(i=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Le(t),null;case 13:if(se(ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Xe!==null&&t.mode&1&&!(t.flags&128))Bd(),lr(),t.flags|=98560,i=!1;else if(i=zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[St]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else ht!==null&&(Mo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?we===0&&(we=3):Da())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return or(),Co(e,t),e===null&&rs(t.stateNode.containerInfo),Le(t),null;case 10:return fa(t.type._context),Le(t),null;case 17:return Ve(t.type)&&hl(),Le(t),null;case 19:if(se(ce),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Pr(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wl(e),o!==null){for(t.flags|=128,Pr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>cr&&(t.flags|=128,r=!0,Pr(i,!1),t.lanes=4194304)}else{if(!r)if(e=wl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return Le(t),null}else 2*me()-i.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,Pr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ce.current,ne(ce,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Pa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Fm(e,t){switch(aa(t),t.tag){case 1:return Ve(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),se(Ue),se(Oe),va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ga(t),null;case 13:if(se(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ce),null;case 4:return or(),null;case 10:return fa(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var $s=!1,Me=!1,$m=typeof WeakSet=="function"?WeakSet:Set,A=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Eo(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Yc=!1;function Bm(e,t){if(co=cl,e=Pd(),ia(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,p=e,g=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===n&&++u===s&&(a=o),g===i&&++h===r&&(c=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uo={focusedElem:e,selectionRange:n},cl=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var w=N.memoizedProps,C=N.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),C);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(y){fe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return N=Yc,Yc=!1,N}function Br(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Eo(t,n,i)}s=s.next}while(s!==r)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Po(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bf(e){var t=e.alternate;t!==null&&(e.alternate=null,bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[ls],delete t[po],delete t[Sm],delete t[km])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(Do(e,t,n),e=e.sibling;e!==null;)Do(e,t,n),e=e.sibling}function To(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(To(e,t,n),e=e.sibling;e!==null;)To(e,t,n),e=e.sibling}var Pe=null,ft=!1;function Kt(e,t,n){for(n=n.child;n!==null;)Ef(e,t,n),n=n.sibling}function Ef(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Me||Kn(n,t);case 6:var r=Pe,s=ft;Pe=null,Kt(e,t,n),Pe=r,ft=s,Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ft?(e=Pe,n=n.stateNode,e.nodeType===8?bi(e.parentNode,n):e.nodeType===1&&bi(e,n),es(e)):bi(Pe,n.stateNode));break;case 4:r=Pe,s=ft,Pe=n.stateNode.containerInfo,ft=!0,Kt(e,t,n),Pe=r,ft=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Eo(n,t,o),s=s.next}while(s!==r)}Kt(e,t,n);break;case 1:if(!Me&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,Kt(e,t,n),Me=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function Xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $m),t.forEach(function(r){var s=Xm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,ft=!1;break e;case 3:Pe=a.stateNode.containerInfo,ft=!0;break e;case 4:Pe=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(Pe===null)throw Error(I(160));Ef(i,o,s),Pe=null,ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),jt(e),r&4){try{Br(3,e,e.return),Vl(3,e)}catch(w){fe(e,e.return,w)}try{Br(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:ut(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(ut(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var s=e.stateNode;try{Xr(s,"")}catch(w){fe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gu(s,i),qi(a,o);var u=qi(a,i);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?ed(s,p):h==="dangerouslySetInnerHTML"?Zu(s,p):h==="children"?Xr(s,p):Qo(s,h,p,u)}switch(a){case"input":Yi(s,i);break;case"textarea":Xu(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Xn(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Xn(s,!!i.multiple,i.defaultValue,!0):Xn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ls]=i}catch(w){fe(e,e.return,w)}}break;case 6:if(ut(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){fe(e,e.return,w)}}break;case 3:if(ut(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:ut(t,e),jt(e);break;case 13:ut(t,e),jt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ca=me())),r&4&&Xc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||h,ut(t,e),Me=u):ut(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(A=e,h=e.child;h!==null;){for(p=A=h;A!==null;){switch(g=A,x=g.child,g.tag){case 0:case 11:case 14:case 15:Br(4,g,g.return);break;case 1:Kn(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:Kn(g,g.return);break;case 22:if(g.memoizedState!==null){Zc(p);continue}}x!==null?(x.return=g,A=x):Zc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qu("display",o))}catch(w){fe(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){fe(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ut(t,e),jt(e),r&4&&Xc(e);break;case 21:break;default:ut(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cf(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xr(s,""),r.flags&=-33);var i=Gc(e);To(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gc(e);Do(e,a,o);break;default:throw Error(I(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wm(e,t,n){A=e,Df(e)}function Df(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$s;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Me;a=$s;var u=Me;if($s=o,(Me=c)&&!u)for(A=s;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?qc(s):c!==null?(c.return=o,A=c):qc(s);for(;i!==null;)A=i,Df(i),i=i.sibling;A=s,$s=a,Me=u}Jc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Jc(e)}}function Jc(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&es(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Me||t.flags&512&&Po(t)}catch(g){fe(t,t.return,g)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Zc(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function qc(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vl(4,t)}catch(c){fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){fe(t,s,c)}}var i=t.return;try{Po(t)}catch(c){fe(t,i,c)}break;case 5:var o=t.return;try{Po(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var Um=Math.ceil,Sl=Ft.ReactCurrentDispatcher,ka=Ft.ReactCurrentOwner,it=Ft.ReactCurrentBatchConfig,X=0,be=null,ve=null,De=0,Ge=0,Hn=dn(0),we=0,ds=null,bn=0,Kl=0,ba=0,Wr=null,Be=null,Ca=0,cr=1/0,Dt=null,kl=!1,Ro=null,sn=null,Bs=!1,Zt=null,bl=0,Ur=0,Io=null,qs=-1,el=0;function ze(){return X&6?me():qs!==-1?qs:qs=me()}function ln(e){return e.mode&1?X&2&&De!==0?De&-De:Cm.transition!==null?(el===0&&(el=fd()),el):(e=J,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function mt(e,t,n,r){if(50<Ur)throw Ur=0,Io=null,Error(I(185));vs(e,n,r),(!(X&2)||e!==be)&&(e===be&&(!(X&2)&&(Kl|=n),we===4&&Xt(e,De)),Ke(e,r),n===1&&X===0&&!(t.mode&1)&&(cr=me()+500,Bl&&fn()))}function Ke(e,t){var n=e.callbackNode;Cp(e,t);var r=al(e,e===be?De:0);if(r===0)n!==null&&ac(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ac(n),t===1)e.tag===0?bm(eu.bind(null,e)):Ad(eu.bind(null,e)),jm(function(){!(X&6)&&fn()}),n=null;else{switch(hd(r)){case 1:n=Zo;break;case 4:n=ud;break;case 16:n=ol;break;case 536870912:n=dd;break;default:n=ol}n=zf(n,Tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tf(e,t){if(qs=-1,el=0,X&6)throw Error(I(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=al(e,e===be?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var s=X;X|=2;var i=If();(be!==e||De!==t)&&(Dt=null,cr=me()+500,wn(e,t));do try{Hm();break}catch(a){Rf(e,a)}while(!0);da(),Sl.current=i,X=s,ve!==null?t=0:(be=null,De=0,t=we)}if(t!==0){if(t===2&&(s=so(e),s!==0&&(r=s,t=Lo(e,s))),t===1)throw n=ds,wn(e,0),Xt(e,r),Ke(e,me()),n;if(t===6)Xt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Vm(s)&&(t=Cl(e,r),t===2&&(i=so(e),i!==0&&(r=i,t=Lo(e,i))),t===1))throw n=ds,wn(e,0),Xt(e,r),Ke(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:gn(e,Be,Dt);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=Ca+500-me(),10<t)){if(al(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ho(gn.bind(null,e,Be,Dt),t);break}gn(e,Be,Dt);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-pt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Um(r/1960))-r,10<r){e.timeoutHandle=ho(gn.bind(null,e,Be,Dt),r);break}gn(e,Be,Dt);break;case 5:gn(e,Be,Dt);break;default:throw Error(I(329))}}}return Ke(e,me()),e.callbackNode===n?Tf.bind(null,e):null}function Lo(e,t){var n=Wr;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Mo(t)),e}function Mo(e){Be===null?Be=e:Be.push.apply(Be,e)}function Vm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ba,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function eu(e){if(X&6)throw Error(I(327));tr();var t=al(e,0);if(!(t&1))return Ke(e,me()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=so(e);r!==0&&(t=r,n=Lo(e,r))}if(n===1)throw n=ds,wn(e,0),Xt(e,t),Ke(e,me()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Be,Dt),Ke(e,me()),null}function Ea(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(cr=me()+500,Bl&&fn())}}function Cn(e){Zt!==null&&Zt.tag===0&&!(X&6)&&tr();var t=X;X|=1;var n=it.transition,r=J;try{if(it.transition=null,J=1,e)return e()}finally{J=r,it.transition=n,X=t,!(X&6)&&fn()}}function Pa(){Ge=Hn.current,se(Hn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wm(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(aa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:or(),se(Ue),se(Oe),va();break;case 5:ga(r);break;case 4:or();break;case 13:se(ce);break;case 19:se(ce);break;case 10:fa(r.type._context);break;case 22:case 23:Pa()}n=n.return}if(be=e,ve=e=on(e.current,null),De=Ge=t,we=0,ds=null,ba=Kl=bn=0,Be=Wr=null,yn!==null){for(t=0;t<yn.length;t++)if(n=yn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yn=null}return e}function Rf(e,t){do{var n=ve;try{if(da(),Xs.current=Nl,jl){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jl=!1}if(kn=0,Se=ye=ue=null,$r=!1,as=0,ka.current=null,n===null||n.return===null){we=1,ds=t,ve=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=De,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Bc(o);if(x!==null){x.flags&=-257,Wc(x,o,a,i,t),x.mode&1&&$c(i,u,t),t=x,c=u;var N=t.updateQueue;if(N===null){var w=new Set;w.add(c),t.updateQueue=w}else N.add(c);break e}else{if(!(t&1)){$c(i,u,t),Da();break e}c=Error(I(426))}}else if(oe&&a.mode&1){var C=Bc(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Wc(C,o,a,i,t),ca(ar(c,a));break e}}i=c=ar(c,a),we!==4&&(we=2),Wr===null?Wr=[i]:Wr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=pf(i,c,t);Mc(i,m);break e;case 1:a=c;var d=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sn===null||!sn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=mf(i,a,t);Mc(i,y);break e}}i=i.return}while(i!==null)}Mf(n)}catch(j){t=j,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function If(){var e=Sl.current;return Sl.current=Nl,e===null?Nl:e}function Da(){(we===0||we===3||we===2)&&(we=4),be===null||!(bn&268435455)&&!(Kl&268435455)||Xt(be,De)}function Cl(e,t){var n=X;X|=2;var r=If();(be!==e||De!==t)&&(Dt=null,wn(e,t));do try{Km();break}catch(s){Rf(e,s)}while(!0);if(da(),X=n,Sl.current=r,ve!==null)throw Error(I(261));return be=null,De=0,we}function Km(){for(;ve!==null;)Lf(ve)}function Hm(){for(;ve!==null&&!vp();)Lf(ve)}function Lf(e){var t=_f(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Mf(e):ve=t,ka.current=null}function Mf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fm(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ve=null;return}}else if(n=Am(n,t,Ge),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);we===0&&(we=5)}function gn(e,t,n){var r=J,s=it.transition;try{it.transition=null,J=1,Qm(e,t,n,r)}finally{it.transition=s,J=r}return null}function Qm(e,t,n,r){do tr();while(Zt!==null);if(X&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ep(e,i),e===be&&(ve=be=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bs||(Bs=!0,zf(ol,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=J;J=1;var a=X;X|=4,ka.current=null,Bm(e,n),Pf(n,e),hm(uo),cl=!!co,uo=co=null,e.current=n,Wm(n),yp(),X=a,J=o,it.transition=i}else e.current=n;if(Bs&&(Bs=!1,Zt=e,bl=s),i=e.pendingLanes,i===0&&(sn=null),jp(n.stateNode),Ke(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kl)throw kl=!1,e=Ro,Ro=null,e;return bl&1&&e.tag!==0&&tr(),i=e.pendingLanes,i&1?e===Io?Ur++:(Ur=0,Io=e):Ur=0,fn(),null}function tr(){if(Zt!==null){var e=hd(bl),t=it.transition,n=J;try{if(it.transition=null,J=16>e?16:e,Zt===null)var r=!1;else{if(e=Zt,Zt=null,bl=0,X&6)throw Error(I(331));var s=X;for(X|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Br(8,h,i)}var p=h.child;if(p!==null)p.return=h,A=p;else for(;A!==null;){h=A;var g=h.sibling,x=h.return;if(bf(h),h===u){A=null;break}if(g!==null){g.return=x,A=g;break}A=x}}}var N=i.alternate;if(N!==null){var w=N.child;if(w!==null){N.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Br(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var d=e.current;for(A=d;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=d;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vl(9,a)}}catch(j){fe(a,a.return,j)}if(a===o){A=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,A=y;break e}A=a.return}}if(X=s,fn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(_l,e)}catch{}r=!0}return r}finally{J=n,it.transition=t}}return!1}function tu(e,t,n){t=ar(n,t),t=pf(e,t,1),e=rn(e,t,1),t=ze(),e!==null&&(vs(e,1,t),Ke(e,t))}function fe(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=ar(n,e),e=mf(t,e,1),t=rn(t,e,1),e=ze(),t!==null&&(vs(t,1,e),Ke(t,e));break}}t=t.return}}function Ym(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(De&n)===n&&(we===4||we===3&&(De&130023424)===De&&500>me()-Ca?wn(e,0):ba|=n),Ke(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var n=ze();e=_t(e,t),e!==null&&(vs(e,t,n),Ke(e,n))}function Gm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function Xm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Of(e,n)}var _f;_f=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,zm(e,t,n);We=!!(e.flags&131072)}else We=!1,oe&&t.flags&1048576&&Fd(t,gl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var s=sr(t,Oe.current);er(t,n),s=xa(null,t,r,e,s,n);var i=wa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,pl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pa(t),s.updater=Ul,t.stateNode=s,s._reactInternals=t,wo(t,r,e,n),t=So(null,t,r,!0,i,n)):(t.tag=0,oe&&i&&oa(t),_e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zm(r),e=dt(r,e),s){case 0:t=No(null,t,r,e,n);break e;case 1:t=Kc(null,t,r,e,n);break e;case 11:t=Uc(null,t,r,e,n);break e;case 14:t=Vc(null,t,r,dt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),No(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Kc(e,t,r,s,n);case 3:e:{if(xf(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Kd(e,t),xl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ar(Error(I(423)),t),t=Hc(e,t,r,n,s);break e}else if(r!==s){s=ar(Error(I(424)),t),t=Hc(e,t,r,n,s);break e}else for(Xe=nn(t.stateNode.containerInfo.firstChild),Je=t,oe=!0,ht=null,n=Ud(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===s){t=zt(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return Hd(t),e===null&&vo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fo(r,s)?o=null:i!==null&&fo(r,i)&&(t.flags|=32),yf(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&vo(t),null;case 13:return wf(e,t,n);case 4:return ma(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ir(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Uc(e,t,r,s,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ne(vl,r._currentValue),r._currentValue=o,i!==null)if(gt(i.value,o)){if(i.children===s.children&&!Ue.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Lt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),yo(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,er(t,n),s=ot(s),r=r(s),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),Vc(e,t,r,s,n);case 15:return gf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Zs(e,t),t.tag=1,Ve(r)?(e=!0,pl(t)):e=!1,er(t,n),hf(t,r,s),wo(t,r,s,n),So(null,t,r,!0,e,n);case 19:return jf(e,t,n);case 22:return vf(e,t,n)}throw Error(I(156,t.tag))};function zf(e,t){return cd(e,t)}function Jm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new Jm(e,t,n,r)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zm(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Go)return 11;if(e===Xo)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ta(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return jn(n.children,s,i,t);case Yo:o=8,s|=8;break;case Ui:return e=lt(12,n,t,s|2),e.elementType=Ui,e.lanes=i,e;case Vi:return e=lt(13,n,t,s),e.elementType=Vi,e.lanes=i,e;case Ki:return e=lt(19,n,t,s),e.elementType=Ki,e.lanes=i,e;case Hu:return Hl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vu:o=10;break e;case Ku:o=9;break e;case Go:o=11;break e;case Xo:o=14;break e;case Ht:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=lt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function jn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Hl(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Hu,e.lanes=n,e.stateNode={isHidden:!1},e}function Li(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function Mi(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ra(e,t,n,r,s,i,o,a,c){return e=new qm(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(i),e}function eg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Af(e){if(!e)return cn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ve(n))return zd(e,n,t)}return t}function Ff(e,t,n,r,s,i,o,a,c){return e=Ra(n,r,!0,e,s,i,o,a,c),e.context=Af(null),n=e.current,r=ze(),s=ln(n),i=Lt(r,s),i.callback=t??null,rn(n,i,s),e.current.lanes=s,vs(e,s,r),Ke(e,r),e}function Ql(e,t,n,r){var s=t.current,i=ze(),o=ln(s);return n=Af(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(s,t,o),e!==null&&(mt(e,s,o,i),Gs(e,s,o)),o}function El(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ia(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function tg(){return null}var $f=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}Yl.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ql(e,t,null,null)};Yl.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ql(null,e,null,null)}),t[Ot]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&yd(e)}};function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ru(){}function ng(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=El(o);i.call(u)}}var o=Ff(t,r,e,0,null,!1,!1,"",ru);return e._reactRootContainer=o,e[Ot]=o.current,rs(e.nodeType===8?e.parentNode:e),Cn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=El(c);a.call(u)}}var c=Ra(e,0,!1,null,null,!1,!1,"",ru);return e._reactRootContainer=c,e[Ot]=c.current,rs(e.nodeType===8?e.parentNode:e),Cn(function(){Ql(t,c,n,r)}),c}function Xl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=El(o);a.call(c)}}Ql(t,o,e,s)}else o=ng(n,t,e,s,r);return El(o)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lr(t.pendingLanes);n!==0&&(qo(t,n|1),Ke(t,me()),!(X&6)&&(cr=me()+500,fn()))}break;case 13:Cn(function(){var r=_t(e,1);if(r!==null){var s=ze();mt(r,e,1,s)}}),Ia(e,1)}};ea=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=ze();mt(t,e,134217728,n)}Ia(e,134217728)}};md=function(e){if(e.tag===13){var t=ln(e),n=_t(e,t);if(n!==null){var r=ze();mt(n,e,t,r)}Ia(e,t)}};gd=function(){return J};vd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};to=function(e,t,n){switch(t){case"input":if(Yi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$l(r);if(!s)throw Error(I(90));Yu(r),Yi(r,s)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&Xn(e,!!n.multiple,t,!1)}};rd=Ea;sd=Cn;var rg={usingClientEntryPoint:!1,Events:[xs,$n,$l,td,nd,Ea]},Dr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{_l=Ws.inject(sg),kt=Ws}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ma(t))throw Error(I(200));return eg(e,t,null,n)};qe.createRoot=function(e,t){if(!Ma(e))throw Error(I(299));var n=!1,r="",s=$f;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ra(e,1,!1,null,null,n,!1,r,s),e[Ot]=t.current,rs(e.nodeType===8?e.parentNode:e),new La(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Cn(e)};qe.hydrate=function(e,t,n){if(!Gl(t))throw Error(I(200));return Xl(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ma(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$f;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ff(t,null,e,1,n??null,s,!1,i,o),e[Ot]=t.current,rs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yl(t)};qe.render=function(e,t,n){if(!Gl(t))throw Error(I(200));return Xl(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(I(40));return e._reactRootContainer?(Cn(function(){Xl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};qe.unstable_batchedUpdates=Ea;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Xl(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),$u.exports=qe;var Qn=$u.exports,su=Qn;Bi.createRoot=su.createRoot,Bi.hydrateRoot=su.hydrateRoot;const Jl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Oa(e){return"nodeType"in e}function $e(e){var t,n;return e?hr(e)?e:Oa(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function _a(e){const{Document:t}=$e(e);return e instanceof t}function js(e){return hr(e)?!1:e instanceof $e(e).HTMLElement}function Wf(e){return e instanceof $e(e).SVGElement}function pr(e){return e?hr(e)?e.document:Oa(e)?_a(e)?e:js(e)||Wf(e)?e.ownerDocument:document:document:document}const At=Jl?f.useLayoutEffect:f.useEffect;function Zl(e){const t=f.useRef(e);return At(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function lg(){const e=f.useRef(null),t=f.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fs(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return At(()=>{n.current!==e&&(n.current=e)},t),n}function Ns(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Pl(e){const t=Zl(e),n=f.useRef(null),r=f.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Dl(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let Oi={};function ql(e,t){return f.useMemo(()=>{if(t)return t;const n=Oi[e]==null?0:Oi[e]+1;return Oi[e]=n,e+"-"+n},[e,t])}function Uf(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((i,o)=>{const a=Object.entries(o);for(const[c,u]of a){const h=i[c];h!=null&&(i[c]=h+e*u)}return i},{...t})}}const nr=Uf(1),Tl=Uf(-1);function ig(e){return"clientX"in e&&"clientY"in e}function za(e){if(!e)return!1;const{KeyboardEvent:t}=$e(e.target);return t&&e instanceof t}function og(e){if(!e)return!1;const{TouchEvent:t}=$e(e.target);return t&&e instanceof t}function Rl(e){if(og(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ig(e)?{x:e.clientX,y:e.clientY}:null}const hs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hs.Translate.toString(e),hs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),lu="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ag(e){return e.matches(lu)?e:e.querySelector(lu)}const cg={display:"none"};function ug(e){let{id:t,value:n}=e;return he.createElement("div",{id:t,style:cg},n)}function dg(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return he.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function fg(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Vf=f.createContext(null);function hg(e){const t=f.useContext(Vf);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function pg(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:s,event:i}=r;e.forEach(o=>{var a;return(a=o[s])==null?void 0:a.call(o,i)})},[e]),t]}const mg={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function vg(e){let{announcements:t=gg,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=mg}=e;const{announce:i,announcement:o}=fg(),a=ql("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),hg(f.useMemo(()=>({onDragStart(p){let{active:g}=p;i(t.onDragStart({active:g}))},onDragMove(p){let{active:g,over:x}=p;t.onDragMove&&i(t.onDragMove({active:g,over:x}))},onDragOver(p){let{active:g,over:x}=p;i(t.onDragOver({active:g,over:x}))},onDragEnd(p){let{active:g,over:x}=p;i(t.onDragEnd({active:g,over:x}))},onDragCancel(p){let{active:g,over:x}=p;i(t.onDragCancel({active:g,over:x}))}}),[i,t])),!c)return null;const h=he.createElement(he.Fragment,null,he.createElement(ug,{id:r,value:s.draggable}),he.createElement(dg,{id:a,announcement:o}));return n?Qn.createPortal(h,n):h}var xe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(xe||(xe={}));function Il(){}function Kf(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const vt=Object.freeze({x:0,y:0});function yg(e,t){const n=Rl(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function xg(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function wg(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function jg(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-r,a=i-n;if(r<s&&n<i){const c=t.width*t.height,u=e.width*e.height,h=o*a,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const Ng=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const i of r){const{id:o}=i,a=n.get(o);if(a){const c=jg(a,t);c>0&&s.push({id:o,data:{droppableContainer:i,value:c}})}}return s.sort(xg)};function Sg(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Qf(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vt}function kg(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return s.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const bg=kg(1);function Yf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Cg(e,t,n){const r=Yf(t);if(!r)return e;const{scaleX:s,scaleY:i,x:o,y:a}=r,c=e.left-o-(1-s)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,p=i?e.height/i:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const Eg={ignoreTransform:!1};function Ss(e,t){t===void 0&&(t=Eg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=$e(e).getComputedStyle(e);u&&(n=Cg(n,u,h))}const{top:r,left:s,width:i,height:o,bottom:a,right:c}=n;return{top:r,left:s,width:i,height:o,bottom:a,right:c}}function iu(e){return Ss(e,{ignoreTransform:!0})}function Pg(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Dg(e,t){return t===void 0&&(t=$e(e).getComputedStyle(e)),t.position==="fixed"}function Tg(e,t){t===void 0&&(t=$e(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?n.test(i):!1})}function Aa(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(_a(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!js(s)||Wf(s)||n.includes(s))return n;const i=$e(e).getComputedStyle(s);return s!==e&&Tg(s,i)&&n.push(s),Dg(s,i)?n:r(s.parentNode)}return e?r(e):n}function Gf(e){const[t]=Aa(e,1);return t??null}function _i(e){return!Jl||!e?null:hr(e)?e:Oa(e)?_a(e)||e===pr(e).scrollingElement?window:js(e)?e:null:null}function Xf(e){return hr(e)?e.scrollX:e.scrollLeft}function Jf(e){return hr(e)?e.scrollY:e.scrollTop}function Oo(e){return{x:Xf(e),y:Jf(e)}}var ke;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ke||(ke={}));function Zf(e){return!Jl||!e?!1:e===document.scrollingElement}function qf(e){const t={x:0,y:0},n=Zf(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:i,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const Rg={x:.2,y:.2};function Ig(e,t,n,r,s){let{top:i,left:o,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=Rg);const{isTop:u,isBottom:h,isLeft:p,isRight:g}=qf(e),x={x:0,y:0},N={x:0,y:0},w={height:t.height*s.y,width:t.width*s.x};return!u&&i<=t.top+w.height?(x.y=ke.Backward,N.y=r*Math.abs((t.top+w.height-i)/w.height)):!h&&c>=t.bottom-w.height&&(x.y=ke.Forward,N.y=r*Math.abs((t.bottom-w.height-c)/w.height)),!g&&a>=t.right-w.width?(x.x=ke.Forward,N.x=r*Math.abs((t.right-w.width-a)/w.width)):!p&&o<=t.left+w.width&&(x.x=ke.Backward,N.x=r*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:N}}function Lg(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function eh(e){return e.reduce((t,n)=>nr(t,Oo(n)),vt)}function Mg(e){return e.reduce((t,n)=>t+Xf(n),0)}function Og(e){return e.reduce((t,n)=>t+Jf(n),0)}function th(e,t){if(t===void 0&&(t=Ss),!e)return;const{top:n,left:r,bottom:s,right:i}=t(e);Gf(e)&&(s<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const _g=[["x",["left","right"],Mg],["y",["top","bottom"],Og]];class Fa{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Aa(n),s=eh(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,a]of _g)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=a(r),h=s[i]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function zg(e){const{EventTarget:t}=$e(e);return e instanceof t?e:pr(e)}function zi(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nt||(nt={}));function ou(e){e.preventDefault()}function Ag(e){e.stopPropagation()}var ee;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ee||(ee={}));const nh={start:[ee.Space,ee.Enter],cancel:[ee.Esc],end:[ee.Space,ee.Enter,ee.Tab]},Fg=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ee.Right:return{...n,x:n.x+25};case ee.Left:return{...n,x:n.x-25};case ee.Down:return{...n,y:n.y+25};case ee.Up:return{...n,y:n.y-25}}};class rh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vr(pr(n)),this.windowListeners=new Vr($e(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&th(r),n(vt)}handleKeyDown(t){if(za(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:i=nh,coordinateGetter:o=Fg,scrollBehavior:a="smooth"}=s,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:vt;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:r.current,currentCoordinates:h});if(p){const g=Tl(p,h),x={x:0,y:0},{scrollableAncestors:N}=r.current;for(const w of N){const C=t.code,{isTop:m,isRight:d,isLeft:v,isBottom:y,maxScroll:j,minScroll:k}=qf(w),S=Lg(w),b={x:Math.min(C===ee.Right?S.right-S.width/2:S.right,Math.max(C===ee.Right?S.left:S.left+S.width/2,p.x)),y:Math.min(C===ee.Down?S.bottom-S.height/2:S.bottom,Math.max(C===ee.Down?S.top:S.top+S.height/2,p.y))},E=C===ee.Right&&!d||C===ee.Left&&!v,P=C===ee.Down&&!y||C===ee.Up&&!m;if(E&&b.x!==p.x){const L=w.scrollLeft+g.x,Q=C===ee.Right&&L<=j.x||C===ee.Left&&L>=k.x;if(Q&&!g.y){w.scrollTo({left:L,behavior:a});return}Q?x.x=w.scrollLeft-L:x.x=C===ee.Right?w.scrollLeft-j.x:w.scrollLeft-k.x,x.x&&w.scrollBy({left:-x.x,behavior:a});break}else if(P&&b.y!==p.y){const L=w.scrollTop+g.y,Q=C===ee.Down&&L<=j.y||C===ee.Up&&L>=k.y;if(Q&&!g.x){w.scrollTo({top:L,behavior:a});return}Q?x.y=w.scrollTop-L:x.y=C===ee.Down?w.scrollTop-j.y:w.scrollTop-k.y,x.y&&w.scrollBy({top:-x.y,behavior:a});break}}this.handleMove(t,nr(Tl(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}rh.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=nh,onActivation:s}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function au(e){return!!(e&&"distance"in e)}function cu(e){return!!(e&&"delay"in e)}class $a{constructor(t,n,r){var s;r===void 0&&(r=zg(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=pr(o),this.documentListeners=new Vr(this.document),this.listeners=new Vr(r),this.windowListeners=new Vr($e(o)),this.initialCoordinates=(s=Rl(i))!=null?s:vt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nt.Resize,this.handleCancel),this.windowListeners.add(nt.DragStart,ou),this.windowListeners.add(nt.VisibilityChange,this.handleCancel),this.windowListeners.add(nt.ContextMenu,ou),this.documentListeners.add(nt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(cu(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(au(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(nt.Click,Ag,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nt.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!s)return;const c=(n=Rl(t))!=null?n:vt,u=Tl(s,c);if(!r&&a){if(au(a)){if(a.tolerance!=null&&zi(u,a.tolerance))return this.handleCancel();if(zi(u,a.distance))return this.handleStart()}if(cu(a)&&zi(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ee.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const $g={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ei extends $a{constructor(t){const{event:n}=t,r=pr(n.target);super(t,$g,r)}}ei.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Bg={move:{name:"mousemove"},end:{name:"mouseup"}};var _o;(function(e){e[e.RightClick=2]="RightClick"})(_o||(_o={}));class Wg extends $a{constructor(t){super(t,Bg,pr(t.event.target))}}Wg.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===_o.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ai={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ug extends $a{constructor(t){super(t,Ai)}static setup(){return window.addEventListener(Ai.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ai.move.name,t)};function t(){}}}Ug.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Kr;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Kr||(Kr={}));var Ll;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ll||(Ll={}));function Vg(e){let{acceleration:t,activator:n=Kr.Pointer,canScroll:r,draggingRect:s,enabled:i,interval:o=5,order:a=Ll.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:g}=e;const x=Hg({delta:p,disabled:!i}),[N,w]=lg(),C=f.useRef({x:0,y:0}),m=f.useRef({x:0,y:0}),d=f.useMemo(()=>{switch(n){case Kr.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Kr.DraggableRect:return s}},[n,s,c]),v=f.useRef(null),y=f.useCallback(()=>{const k=v.current;if(!k)return;const S=C.current.x*m.current.x,b=C.current.y*m.current.y;k.scrollBy(S,b)},[]),j=f.useMemo(()=>a===Ll.TreeOrder?[...u].reverse():u,[a,u]);f.useEffect(()=>{if(!i||!u.length||!d){w();return}for(const k of j){if((r==null?void 0:r(k))===!1)continue;const S=u.indexOf(k),b=h[S];if(!b)continue;const{direction:E,speed:P}=Ig(k,b,d,t,g);for(const L of["x","y"])x[L][E[L]]||(P[L]=0,E[L]=0);if(P.x>0||P.y>0){w(),v.current=k,N(y,o),C.current=P,m.current=E;return}}C.current={x:0,y:0},m.current={x:0,y:0},w()},[t,y,r,w,i,o,JSON.stringify(d),JSON.stringify(x),N,u,j,h,JSON.stringify(g)])}const Kg={x:{[ke.Backward]:!1,[ke.Forward]:!1},y:{[ke.Backward]:!1,[ke.Forward]:!1}};function Hg(e){let{delta:t,disabled:n}=e;const r=Dl(t);return Ns(s=>{if(n||!r||!s)return Kg;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ke.Backward]:s.x[ke.Backward]||i.x===-1,[ke.Forward]:s.x[ke.Forward]||i.x===1},y:{[ke.Backward]:s.y[ke.Backward]||i.y===-1,[ke.Forward]:s.y[ke.Forward]||i.y===1}}},[n,t,r])}function Qg(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ns(s=>{var i;return t==null?null:(i=r??s)!=null?i:null},[r,t])}function Yg(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,i=s.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var ps;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ps||(ps={}));var zo;(function(e){e.Optimized="optimized"})(zo||(zo={}));const uu=new Map;function Gg(e,t){let{dragging:n,dependencies:r,config:s}=t;const[i,o]=f.useState(null),{frequency:a,measure:c,strategy:u}=s,h=f.useRef(e),p=C(),g=fs(p),x=f.useCallback(function(m){m===void 0&&(m=[]),!g.current&&o(d=>d===null?m:d.concat(m.filter(v=>!d.includes(v))))},[g]),N=f.useRef(null),w=Ns(m=>{if(p&&!n)return uu;if(!m||m===uu||h.current!==e||i!=null){const d=new Map;for(let v of e){if(!v)continue;if(i&&i.length>0&&!i.includes(v.id)&&v.rect.current){d.set(v.id,v.rect.current);continue}const y=v.node.current,j=y?new Fa(c(y),y):null;v.rect.current=j,j&&d.set(v.id,j)}return d}return m},[e,i,n,p,c]);return f.useEffect(()=>{h.current=e},[e]),f.useEffect(()=>{p||x()},[n,p]),f.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),f.useEffect(()=>{p||typeof a!="number"||N.current!==null||(N.current=setTimeout(()=>{x(),N.current=null},a))},[a,p,x,...r]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:i!=null};function C(){switch(u){case ps.Always:return!1;case ps.BeforeDragging:return n;default:return!n}}}function Ba(e,t){return Ns(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Xg(e,t){return Ba(e,t)}function Jg(e){let{callback:t,disabled:n}=e;const r=Zl(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function ti(e){let{callback:t,disabled:n}=e;const r=Zl(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return f.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Zg(e){return new Fa(Ss(e),e)}function du(e,t,n){t===void 0&&(t=Zg);const[r,s]=f.useState(null);function i(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=Jg({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=ti({callback:i});return At(()=>{i(),e?(a==null||a.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[e]),r}function qg(e){const t=Ba(e);return Qf(e,t)}const fu=[];function ev(e){const t=f.useRef(e),n=Ns(r=>e?r&&r!==fu&&e&&t.current&&e.parentNode===t.current.parentNode?r:Aa(e):fu,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function tv(e){const[t,n]=f.useState(null),r=f.useRef(e),s=f.useCallback(i=>{const o=_i(i.target);o&&n(a=>a?(a.set(o,Oo(o)),new Map(a)):null)},[]);return f.useEffect(()=>{const i=r.current;if(e!==i){o(i);const a=e.map(c=>{const u=_i(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Oo(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(i)};function o(a){a.forEach(c=>{const u=_i(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>nr(i,o),vt):eh(e):vt,[e,t])}function hu(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==vt;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Tl(e,n.current):vt}function nv(e){f.useEffect(()=>{if(!Jl)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function rv(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:i}=r;return n[s]=o=>{i(o,t)},n},{}),[e,t])}function sh(e){return f.useMemo(()=>e?Pg(e):null,[e])}const pu=[];function sv(e,t){t===void 0&&(t=Ss);const[n]=e,r=sh(n?$e(n):null),[s,i]=f.useState(pu);function o(){i(()=>e.length?e.map(c=>Zf(c)?r:new Fa(t(c),c)):pu)}const a=ti({callback:o});return At(()=>{a==null||a.disconnect(),o(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),s}function lh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return js(t)?t:e}function lv(e){let{measure:t}=e;const[n,r]=f.useState(null),s=f.useCallback(u=>{for(const{target:h}of u)if(js(h)){r(p=>{const g=t(h);return p?{...p,width:g.width,height:g.height}:g});break}},[t]),i=ti({callback:s}),o=f.useCallback(u=>{const h=lh(u);i==null||i.disconnect(),h&&(i==null||i.observe(h)),r(h?t(h):null)},[t,i]),[a,c]=Pl(o);return f.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const iv=[{sensor:ei,options:{}},{sensor:rh,options:{}}],ov={current:{}},nl={draggable:{measure:iu},droppable:{measure:iu,strategy:ps.WhileDragging,frequency:zo.Optimized},dragOverlay:{measure:Ss}};class Hr extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const av={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Il},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nl,measureDroppableContainers:Il,windowRect:null,measuringScheduled:!1},ih={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Il,draggableNodes:new Map,over:null,measureDroppableContainers:Il},ks=f.createContext(ih),oh=f.createContext(av);function cv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hr}}}function uv(e,t){switch(t.type){case xe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case xe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case xe.DragEnd:case xe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xe.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Hr(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case xe.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Hr(e.droppable.containers);return o.set(n,{...i,disabled:s}),{...e,droppable:{...e.droppable,containers:o}}}case xe.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Hr(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function dv(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=f.useContext(ks),i=Dl(r),o=Dl(n==null?void 0:n.id);return f.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!za(i)||document.activeElement===i.target)return;const a=s.get(o);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=ag(h);if(p){p.focus();break}}})}},[r,t,s,o,i]),null}function ah(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,i)=>i({transform:s,...r}),n):n}function fv(e){return f.useMemo(()=>({draggable:{...nl.draggable,...e==null?void 0:e.draggable},droppable:{...nl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...nl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function hv(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const i=f.useRef(!1),{x:o,y:a}=typeof s=="boolean"?{x:s,y:s}:s;At(()=>{if(!o&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=Qf(h,r);if(o||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=Gf(u);g&&g.scrollBy({top:p.y,left:p.x})}},[t,o,a,r,n])}const ni=f.createContext({...vt,scaleX:1,scaleY:1});var Yt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Yt||(Yt={}));const ch=f.memo(function(t){var n,r,s,i;let{id:o,accessibility:a,autoScroll:c=!0,children:u,sensors:h=iv,collisionDetection:p=Ng,measuring:g,modifiers:x,...N}=t;const w=f.useReducer(uv,void 0,cv),[C,m]=w,[d,v]=pg(),[y,j]=f.useState(Yt.Uninitialized),k=y===Yt.Initialized,{draggable:{active:S,nodes:b,translate:E},droppable:{containers:P}}=C,L=S!=null?b.get(S):null,Q=f.useRef({initial:null,translated:null}),R=f.useMemo(()=>{var Re;return S!=null?{id:S,data:(Re=L==null?void 0:L.data)!=null?Re:ov,rect:Q}:null},[S,L]),W=f.useRef(null),[K,le]=f.useState(null),[Z,O]=f.useState(null),B=fs(N,Object.values(N)),z=ql("DndDescribedBy",o),G=f.useMemo(()=>P.getEnabled(),[P]),Y=fv(g),{droppableRects:je,measureDroppableContainers:ge,measuringScheduled:Ce}=Gg(G,{dragging:k,dependencies:[E.x,E.y],config:Y.droppable}),D=Qg(b,S),F=f.useMemo(()=>Z?Rl(Z):null,[Z]),T=Th(),M=Xg(D,Y.draggable.measure);hv({activeNode:S!=null?b.get(S):null,config:T.layoutShiftCompensation,initialRect:M,measure:Y.draggable.measure});const _=du(D,Y.draggable.measure,M),U=du(D?D.parentElement:null),V=f.useRef({activatorEvent:null,active:null,activeNode:D,collisionRect:null,collisions:null,droppableRects:je,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=P.getNodeFor((n=V.current.over)==null?void 0:n.id),$=lv({measure:Y.dragOverlay.measure}),q=(r=$.nodeRef.current)!=null?r:D,Ne=k?(s=$.rect)!=null?s:_:null,ae=!!($.nodeRef.current&&$.rect),yt=qg(ae?null:_),Ct=sh(q?$e(q):null),pe=ev(k?ie??D:null),Et=sv(pe),$t=ah(x,{transform:{x:E.x-yt.x,y:E.y-yt.y,scaleX:1,scaleY:1},activatorEvent:Z,active:R,activeNodeRect:_,containerNodeRect:U,draggingNodeRect:Ne,over:V.current.over,overlayNodeRect:$.rect,scrollableAncestors:pe,scrollableAncestorRects:Et,windowRect:Ct}),vr=F?nr(F,E):null,bs=tv(pe),Sh=hu(bs),kh=hu(bs,[_]),Dn=nr($t,Sh),Tn=Ne?bg(Ne,$t):null,yr=R&&Tn?p({active:R,collisionRect:Tn,droppableRects:je,droppableContainers:G,pointerCoordinates:vr}):null,Ka=wg(yr,"id"),[Bt,Ha]=f.useState(null),bh=ae?$t:nr($t,kh),Ch=Sg(bh,(i=Bt==null?void 0:Bt.rect)!=null?i:null,_),oi=f.useRef(null),Qa=f.useCallback((Re,He)=>{let{sensor:Qe,options:Wt}=He;if(W.current==null)return;const tt=b.get(W.current);if(!tt)return;const Ye=Re.nativeEvent,xt=new Qe({active:W.current,activeNode:tt,event:Ye,options:Wt,context:V,onAbort(Ee){if(!b.get(Ee))return;const{onDragAbort:wt}=B.current,Pt={id:Ee};wt==null||wt(Pt),d({type:"onDragAbort",event:Pt})},onPending(Ee,Ut,wt,Pt){if(!b.get(Ee))return;const{onDragPending:wr}=B.current,Vt={id:Ee,constraint:Ut,initialCoordinates:wt,offset:Pt};wr==null||wr(Vt),d({type:"onDragPending",event:Vt})},onStart(Ee){const Ut=W.current;if(Ut==null)return;const wt=b.get(Ut);if(!wt)return;const{onDragStart:Pt}=B.current,xr={activatorEvent:Ye,active:{id:Ut,data:wt.data,rect:Q}};Qn.unstable_batchedUpdates(()=>{Pt==null||Pt(xr),j(Yt.Initializing),m({type:xe.DragStart,initialCoordinates:Ee,active:Ut}),d({type:"onDragStart",event:xr}),le(oi.current),O(Ye)})},onMove(Ee){m({type:xe.DragMove,coordinates:Ee})},onEnd:Rn(xe.DragEnd),onCancel:Rn(xe.DragCancel)});oi.current=xt;function Rn(Ee){return async function(){const{active:wt,collisions:Pt,over:xr,scrollAdjustedTranslate:wr}=V.current;let Vt=null;if(wt&&wr){const{cancelDrop:jr}=B.current;Vt={activatorEvent:Ye,active:wt,collisions:Pt,delta:wr,over:xr},Ee===xe.DragEnd&&typeof jr=="function"&&await Promise.resolve(jr(Vt))&&(Ee=xe.DragCancel)}W.current=null,Qn.unstable_batchedUpdates(()=>{m({type:Ee}),j(Yt.Uninitialized),Ha(null),le(null),O(null),oi.current=null;const jr=Ee===xe.DragEnd?"onDragEnd":"onDragCancel";if(Vt){const ai=B.current[jr];ai==null||ai(Vt),d({type:jr,event:Vt})}})}}},[b]),Eh=f.useCallback((Re,He)=>(Qe,Wt)=>{const tt=Qe.nativeEvent,Ye=b.get(Wt);if(W.current!==null||!Ye||tt.dndKit||tt.defaultPrevented)return;const xt={active:Ye};Re(Qe,He.options,xt)===!0&&(tt.dndKit={capturedBy:He.sensor},W.current=Wt,Qa(Qe,He))},[b,Qa]),Ya=Yg(h,Eh);nv(h),At(()=>{_&&y===Yt.Initializing&&j(Yt.Initialized)},[_,y]),f.useEffect(()=>{const{onDragMove:Re}=B.current,{active:He,activatorEvent:Qe,collisions:Wt,over:tt}=V.current;if(!He||!Qe)return;const Ye={active:He,activatorEvent:Qe,collisions:Wt,delta:{x:Dn.x,y:Dn.y},over:tt};Qn.unstable_batchedUpdates(()=>{Re==null||Re(Ye),d({type:"onDragMove",event:Ye})})},[Dn.x,Dn.y]),f.useEffect(()=>{const{active:Re,activatorEvent:He,collisions:Qe,droppableContainers:Wt,scrollAdjustedTranslate:tt}=V.current;if(!Re||W.current==null||!He||!tt)return;const{onDragOver:Ye}=B.current,xt=Wt.get(Ka),Rn=xt&&xt.rect.current?{id:xt.id,rect:xt.rect.current,data:xt.data,disabled:xt.disabled}:null,Ee={active:Re,activatorEvent:He,collisions:Qe,delta:{x:tt.x,y:tt.y},over:Rn};Qn.unstable_batchedUpdates(()=>{Ha(Rn),Ye==null||Ye(Ee),d({type:"onDragOver",event:Ee})})},[Ka]),At(()=>{V.current={activatorEvent:Z,active:R,activeNode:D,collisionRect:Tn,collisions:yr,droppableRects:je,draggableNodes:b,draggingNode:q,draggingNodeRect:Ne,droppableContainers:P,over:Bt,scrollableAncestors:pe,scrollAdjustedTranslate:Dn},Q.current={initial:Ne,translated:Tn}},[R,D,yr,Tn,b,q,Ne,je,P,Bt,pe,Dn]),Vg({...T,delta:E,draggingRect:Tn,pointerCoordinates:vr,scrollableAncestors:pe,scrollableAncestorRects:Et});const Ph=f.useMemo(()=>({active:R,activeNode:D,activeNodeRect:_,activatorEvent:Z,collisions:yr,containerNodeRect:U,dragOverlay:$,draggableNodes:b,droppableContainers:P,droppableRects:je,over:Bt,measureDroppableContainers:ge,scrollableAncestors:pe,scrollableAncestorRects:Et,measuringConfiguration:Y,measuringScheduled:Ce,windowRect:Ct}),[R,D,_,Z,yr,U,$,b,P,je,Bt,ge,pe,Et,Y,Ce,Ct]),Dh=f.useMemo(()=>({activatorEvent:Z,activators:Ya,active:R,activeNodeRect:_,ariaDescribedById:{draggable:z},dispatch:m,draggableNodes:b,over:Bt,measureDroppableContainers:ge}),[Z,Ya,R,_,m,z,b,Bt,ge]);return he.createElement(Vf.Provider,{value:v},he.createElement(ks.Provider,{value:Dh},he.createElement(oh.Provider,{value:Ph},he.createElement(ni.Provider,{value:Ch},u)),he.createElement(dv,{disabled:(a==null?void 0:a.restoreFocus)===!1})),he.createElement(vg,{...a,hiddenTextDescribedById:z}));function Th(){const Re=(K==null?void 0:K.autoScrollEnabled)===!1,He=typeof c=="object"?c.enabled===!1:c===!1,Qe=k&&!Re&&!He;return typeof c=="object"?{...c,enabled:Qe}:{enabled:Qe}}}),pv=f.createContext(null),mu="button",mv="Draggable";function Wa(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const i=ql(mv),{activators:o,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:g}=f.useContext(ks),{role:x=mu,roleDescription:N="draggable",tabIndex:w=0}=s??{},C=(c==null?void 0:c.id)===t,m=f.useContext(C?ni:pv),[d,v]=Pl(),[y,j]=Pl(),k=rv(o,t),S=fs(n);At(()=>(p.set(t,{id:t,key:i,node:d,activatorNode:y,data:S}),()=>{const E=p.get(t);E&&E.key===i&&p.delete(t)}),[p,t]);const b=f.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":r,"aria-pressed":C&&x===mu?!0:void 0,"aria-roledescription":N,"aria-describedby":h.draggable}),[r,x,w,C,N,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:C,listeners:r?void 0:k,node:d,over:g,setNodeRef:v,setActivatorNodeRef:j,transform:m}}function gv(){return f.useContext(oh)}const vv="Droppable",yv={timeout:25};function uh(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const i=ql(vv),{active:o,dispatch:a,over:c,measureDroppableContainers:u}=f.useContext(ks),h=f.useRef({disabled:n}),p=f.useRef(!1),g=f.useRef(null),x=f.useRef(null),{disabled:N,updateMeasurementsFor:w,timeout:C}={...yv,...s},m=fs(w??r),d=f.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),x.current=null},C)},[C]),v=ti({callback:d,disabled:N||!o}),y=f.useCallback((b,E)=>{v&&(E&&(v.unobserve(E),p.current=!1),b&&v.observe(b))},[v]),[j,k]=Pl(y),S=fs(t);return f.useEffect(()=>{!v||!j.current||(v.disconnect(),p.current=!1,v.observe(j.current))},[j,v]),f.useEffect(()=>(a({type:xe.RegisterDroppable,element:{id:r,key:i,disabled:n,node:j,rect:g,data:S}}),()=>a({type:xe.UnregisterDroppable,key:i,id:r})),[r]),f.useEffect(()=>{n!==h.current.disabled&&(a({type:xe.SetDroppableDisabled,id:r,key:i,disabled:n}),h.current.disabled=n)},[r,i,n,a]),{active:o,rect:g,isOver:(c==null?void 0:c.id)===r,node:j,over:c,setNodeRef:k}}function xv(e){let{animation:t,children:n}=e;const[r,s]=f.useState(null),[i,o]=f.useState(null),a=Dl(n);return!n&&!r&&a&&s(a),At(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,i)).then(()=>{s(null)})},[t,r,i]),he.createElement(he.Fragment,null,n,r?f.cloneElement(r,{ref:o}):null)}const wv={x:0,y:0,scaleX:1,scaleY:1};function jv(e){let{children:t}=e;return he.createElement(ks.Provider,{value:ih},he.createElement(ni.Provider,{value:wv},t))}const Nv={position:"fixed",touchAction:"none"},Sv=e=>za(e)?"transform 250ms ease":void 0,kv=f.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:i,className:o,rect:a,style:c,transform:u,transition:h=Sv}=e;if(!a)return null;const p=s?u:{...u,scaleX:1,scaleY:1},g={...Nv,width:a.width,height:a.height,top:a.top,left:a.left,transform:hs.Transform.toString(p),transformOrigin:s&&r?yg(r,a):void 0,transition:typeof h=="function"?h(r):h,...c};return he.createElement(n,{className:o,style:g,ref:t},i)}),bv=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[a,c]of Object.entries(i.active))c!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(i!=null&&i.dragOverlay)for(const[a,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(a,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Cv=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:hs.Transform.toString(t)},{transform:hs.Transform.toString(n)}]},Ev={duration:250,easing:"ease",keyframes:Cv,sideEffects:bv({styles:{active:{opacity:"0"}}})};function Pv(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return Zl((i,o)=>{if(t===null)return;const a=n.get(i);if(!a)return;const c=a.node.current;if(!c)return;const u=lh(o);if(!u)return;const{transform:h}=$e(o).getComputedStyle(o),p=Yf(h);if(!p)return;const g=typeof t=="function"?t:Dv(t);return th(c,s.draggable.measure),g({active:{id:i,data:a.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:p})})}function Dv(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...Ev,...e};return i=>{let{active:o,dragOverlay:a,transform:c,...u}=i;if(!t)return;const h={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/a.rect.height:1},g={x:c.x-h.x,y:c.y-h.y,...p},x=s({...u,active:o,dragOverlay:a,transform:{initial:c,final:g}}),[N]=x,w=x[x.length-1];if(JSON.stringify(N)===JSON.stringify(w))return;const C=r==null?void 0:r({active:o,dragOverlay:a,...u}),m=a.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(d=>{m.onfinish=()=>{C==null||C(),d()}})}}let gu=0;function Tv(e){return f.useMemo(()=>{if(e!=null)return gu++,gu},[e])}const dh=he.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:i,modifiers:o,wrapperElement:a="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggableNodes:N,droppableContainers:w,dragOverlay:C,over:m,measuringConfiguration:d,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:j}=gv(),k=f.useContext(ni),S=Tv(p==null?void 0:p.id),b=ah(o,{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:C.rect,over:m,overlayNodeRect:C.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:k,windowRect:j}),E=Ba(g),P=Pv({config:r,draggableNodes:N,droppableContainers:w,measuringConfiguration:d}),L=E?C.setRef:void 0;return he.createElement(jv,null,he.createElement(xv,{animation:P},p&&S?he.createElement(kv,{key:S,id:p.id,ref:L,as:a,activatorEvent:h,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...s},transform:b},n):null))}),fh={statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},Rv={matrix:{statusBg:"default",statusFg:"#00ff41",paneBorderActive:"#00ff41",paneBorderInactive:"#333333",modeStyleBg:"#00ff41",modeStyleFg:"#000000"},dark:{statusBg:"default",statusFg:"#6b9fff",paneBorderActive:"#6b9fff",paneBorderInactive:"#3a3a3a",modeStyleBg:"#6b9fff",modeStyleFg:"#0f0f0f"},gastown:{statusBg:"default",statusFg:"#f6cd54",paneBorderActive:"#f6cd54",paneBorderInactive:"#4a2518",modeStyleBg:"#f6cd54",modeStyleFg:"#32160f"}},rl={terminalMode:"tmux",fontSize:14,theme:"matrix",autoRefreshInterval:5e3,defaultSessionPrefix:"shell",musicVolume:.5,musicEnabled:!1,tmuxAppearance:fh},vu=10,Yn=[{name:"blue",bg:"rgba(10, 10, 26, 0.85)",border:"#4a9eff",accent:"#4a9eff"},{name:"purple",bg:"rgba(15, 10, 26, 0.85)",border:"#9966ff",accent:"#9966ff"},{name:"green",bg:"rgba(10, 26, 10, 0.85)",border:"#00ff41",accent:"#00ff41"},{name:"orange",bg:"rgba(26, 20, 10, 0.85)",border:"#ff9933",accent:"#ff9933"}],Ml={hq:{displayName:"HQ",priority:0},main:{displayName:"Main",priority:1},other:{displayName:"Other",priority:100}};function Iv(e){if(Ml[e])return Ml[e].displayName;if(e.startsWith("gt-")){const t=e.slice(3);return t.charAt(0).toUpperCase()+t.slice(1)}return e}function yu(e){return Ml[e]?Ml[e].priority:e.startsWith("gt-")?3:99}const hh=f.createContext(null),xu=5;function Lv({children:e}){const[t,n]=f.useState([]),[r,s]=f.useState(1),i=f.useCallback((c,u)=>{const h=r;s(g=>g+1);const p={id:h,message:c,type:u,createdAt:Date.now()};n(g=>{const x=[p,...g];return x.length>xu?x.slice(0,xu):x})},[r]),o=f.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),a=f.useMemo(()=>({toasts:t,addToast:i,removeToast:o}),[t,i,o]);return l.jsx(hh.Provider,{value:a,children:e})}function mr(){const e=f.useContext(hh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}async function wu(e){try{await fetch("/api/tmux/appearance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.warn("Failed to apply tmux appearance:",t)}}const ph="chrote-dashboard-state",mh="chrote-dashboard-presets",Ln=["terminal1","terminal2"];function Mv(){try{const e=localStorage.getItem(mh);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("Failed to load stored presets:",e)}return[]}function Ov(e){try{localStorage.setItem(mh,JSON.stringify(e))}catch(t){console.warn("Failed to save presets:",t)}}function _v(){return`preset-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function ju(e){return JSON.parse(JSON.stringify(e))}function zv(){try{const e=localStorage.getItem(ph);if(e){const t=JSON.parse(e);return $v(t)}}catch(e){console.warn("Failed to load stored state:",e)}return null}function Av(e){try{localStorage.setItem(ph,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}function ms(e){return Math.max(1,Math.min(4,e))}function Fv(e,t){const n=ms(t);return Array.from({length:n},(r,s)=>({id:`${e}-window-${s}`,boundSessions:[],activeSession:null,colorIndex:s}))}function Qr(e,t){return{windows:Fv(e,t),windowCount:ms(t)}}function Tr(e){return typeof e=="object"&&e!==null}function $v(e){if(Tr(e)){if(Tr(e.workspaces)&&Tr(e.workspaces.terminal1)&&Tr(e.workspaces.terminal2)){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,r=(s,i)=>{const o=Tr(i)?i:{},a=ms(typeof o.windowCount=="number"?o.windowCount:2),c=Array.isArray(o.windows)?o.windows:[];return{windows:Array.from({length:a},(h,p)=>{const g=c[p];return{id:`${s}-window-${p}`,boundSessions:(g==null?void 0:g.boundSessions)??[],activeSession:(g==null?void 0:g.activeSession)??null,colorIndex:typeof(g==null?void 0:g.colorIndex)=="number"?g.colorIndex:p}}),windowCount:a}};return{workspaces:{terminal1:r("terminal1",e.workspaces.terminal1),terminal2:r("terminal2",e.workspaces.terminal2)},sidebarCollapsed:t,settings:n}}if(Array.isArray(e.windows)&&typeof e.windowCount=="number"){const t=typeof e.sidebarCollapsed=="boolean"?e.sidebarCollapsed:!1,n=e.settings??rl,r=ms(e.windowCount),s=e.windows;return{workspaces:{terminal1:{windows:Array.from({length:r},(o,a)=>{const c=s[a];return{id:`terminal1-window-${a}`,boundSessions:(c==null?void 0:c.boundSessions)??[],activeSession:(c==null?void 0:c.activeSession)??null,colorIndex:typeof(c==null?void 0:c.colorIndex)=="number"?c.colorIndex:a}}),windowCount:r},terminal2:Qr("terminal2",2)},sidebarCollapsed:t,settings:n}}}return{workspaces:{terminal1:Qr("terminal1",2),terminal2:Qr("terminal2",2)},sidebarCollapsed:!1,settings:rl}}const gh=f.createContext(null);function Bv({children:e}){const t=f.useMemo(()=>zv(),[]),{addToast:n}=mr(),[r,s]=f.useState([]),[i,o]=f.useState({}),[a,c]=f.useState(!0),[u,h]=f.useState(null),[p,g]=f.useState((t==null?void 0:t.workspaces)??{terminal1:Qr("terminal1",2),terminal2:Qr("terminal2",2)}),[x,N]=f.useState((t==null?void 0:t.sidebarCollapsed)??!1),[w,C]=f.useState(null),[m,d]=f.useState(!1),[v,y]=f.useState((t==null?void 0:t.settings)??rl),[j,k]=f.useState(null),[S,b]=f.useState(()=>Mv()),E=f.useMemo(()=>{const T=new Map;return Ln.forEach(M=>{p[M].windows.forEach((U,V)=>{U.boundSessions.forEach(ie=>{T.set(ie,{workspaceId:M,windowId:U.id,colorIndex:U.colorIndex,windowIndex:V+1})})})}),T},[p]);f.useEffect(()=>{g(T=>{let M=!1;const _={...T};return Ln.forEach(U=>{const V=T[U];V.windows.some($=>$.activeSession==="INIT-PENDING")&&(M=!0,_[U]={...V,windows:V.windows.map($=>$.activeSession==="INIT-PENDING"?{...$,activeSession:null}:$)})}),M?_:T})},[]),f.useEffect(()=>{const T={...p};Ln.forEach(M=>{const _=p[M];T[M]={..._,windows:_.windows.map(U=>U.activeSession==="INIT-PENDING"?{...U,activeSession:null}:U)}}),Av({workspaces:T,sidebarCollapsed:x,settings:v})},[p,x,v]),f.useEffect(()=>{Ov(S)},[S]);const P=f.useCallback(async()=>{try{const M=await(await fetch("/api/tmux/sessions")).json();if(M.error)h(M.error),s([]),o({});else{h(null),s(M.sessions),o(M.grouped);const _=new Set(M.sessions.map(U=>U.name));g(U=>{let V=!1;const ie={...U};return Ln.forEach($=>{const q=U[$],Ne=q.windows.map(ae=>{const yt=ae.boundSessions.filter(Ct=>_.has(Ct));if(yt.length!==ae.boundSessions.length){V=!0;const Ct=ae.boundSessions.filter(Et=>!_.has(Et));console.error(`Orphaned sessions removed from ${ae.id}:`,Ct);const pe=yt.includes(ae.activeSession??"")?ae.activeSession:yt[0]??null;return{...ae,boundSessions:yt,activeSession:pe}}return ae});Ne!==q.windows&&(ie[$]={...q,windows:Ne})}),V?ie:U})}}catch(T){h("Failed to fetch sessions"),console.error("Failed to fetch sessions:",T)}finally{c(!1)}},[]);f.useEffect(()=>{P();const T=setInterval(P,v.autoRefreshInterval);return()=>clearInterval(T)},[P,v.autoRefreshInterval]),f.useEffect(()=>{const T={...fh,...v.tmuxAppearance};wu(T)},[]);const L=f.useCallback((T,M)=>{const _=ms(M);g(U=>{const V=U[T];if(!V)return U;const ie=(()=>{if(_>V.windows.length){const $=[...V.windows];for(let q=V.windows.length;q<_;q++)$.push({id:`${T}-window-${q}`,boundSessions:[],activeSession:null,colorIndex:q});return $}return _<V.windows.length?V.windows.slice(0,_):V.windows})();return{...U,[T]:{...V,windowCount:_,windows:ie}}})},[]),Q=f.useCallback((T,M,_)=>{g(U=>{const V={...U};let ie=!1,$=!1;if(Ln.forEach(ae=>{const yt=U[ae],Ct=yt.windows.map(pe=>{const Et=ae===T&&pe.id===M,$t=pe.boundSessions.includes(_);if(!Et&&!$t)return pe;if(!Et&&$t){const vr=pe.boundSessions.filter(bs=>bs!==_);return{...pe,boundSessions:vr,activeSession:pe.activeSession===_?vr[0]??null:pe.activeSession}}return $=!0,ie=pe.boundSessions.length===0||pe.boundSessions.length===1&&$t,pe});V[ae]={...yt,windows:Ct}}),!$)return U;const q=V[T],Ne=q.windows.map(ae=>ae.id!==M||ae.boundSessions.includes(_)?ae:{...ae,boundSessions:[...ae.boundSessions,_],activeSession:ie?_:ae.activeSession});return{...V,[T]:{...q,windows:Ne}}})},[]),R=f.useCallback((T,M,_)=>{g(U=>{const V=U[T];if(!V)return U;const ie=V.windows.map($=>{if($.id!==M||!$.boundSessions.includes(_))return $;const q=$.boundSessions.filter(Ne=>Ne!==_);return{...$,boundSessions:q,activeSession:$.activeSession===_?q[0]??null:$.activeSession}});return{...U,[T]:{...V,windows:ie}}})},[]),W=f.useCallback((T,M,_)=>{g(U=>{const V=U[T];if(!V)return U;const ie=V.windows.map($=>$.id!==M||!$.boundSessions.includes(_)?$:{...$,activeSession:_});return{...U,[T]:{...V,windows:ie}}})},[]),K=f.useCallback((T,M,_)=>{g(U=>{const V=U[T];if(!V)return U;const ie=V.windows.map($=>{if($.id!==M||$.boundSessions.length<=1)return $;const q=$.activeSession?$.boundSessions.indexOf($.activeSession):0,Ne=_==="next"?(q+1)%$.boundSessions.length:(q-1+$.boundSessions.length)%$.boundSessions.length;return{...$,activeSession:$.boundSessions[Ne]}});return{...U,[T]:{...V,windows:ie}}})},[]),le=f.useCallback(()=>{N(T=>!T)},[]),Z=f.useCallback(T=>{C(T)},[]),O=f.useCallback(()=>{C(null)},[]),B=f.useCallback(T=>{const M=E.get(T);M?W(M.workspaceId,M.windowId,T):Z(T)},[E,W,Z]),z=f.useCallback(T=>{y(M=>{const _={...M,...T};return T.tmuxAppearance&&wu(_.tmuxAppearance),_})},[]),G=f.useCallback(async T=>{try{const M=await fetch(`/api/tmux/sessions/${encodeURIComponent(T)}`,{method:"DELETE"});if(M.ok)n(`Session '${T}' deleted`,"info"),P();else{const _=await M.text();console.error("Failed to delete session:",_),n("Failed to delete session","error")}}catch(M){console.error("Failed to delete session:",M),n("Failed to delete session","error")}},[P,n]),Y=f.useCallback(async(T,M)=>{try{const _=await fetch(`/api/tmux/sessions/${encodeURIComponent(T)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:M})});if(_.ok)return g(U=>{const V={...U};return Ln.forEach(ie=>{const $=U[ie];V[ie]={...$,windows:$.windows.map(q=>({...q,boundSessions:q.boundSessions.map(Ne=>Ne===T?M:Ne),activeSession:q.activeSession===T?M:q.activeSession}))}}),V}),n(`Session renamed to '${M}'`,"success"),P(),!0;{const U=await _.text();return console.error("Failed to rename session:",U),n("Failed to rename session","error"),!1}}catch(_){return console.error("Failed to rename session:",_),n("Failed to rename session","error"),!1}},[P,n]),je=f.useCallback(T=>{if(S.length>=vu)return n(`Maximum ${vu} presets reached`,"warning"),!1;const M={id:_v(),name:T,createdAt:Date.now(),workspaces:ju(p)};return b(_=>[..._,M]),n(`Layout '${T}' saved`,"success"),!0},[S.length,p,n]),ge=f.useCallback(T=>{const M=S.find(_=>_.id===T);if(!M){n("Preset not found","error");return}g(ju(M.workspaces)),n(`Layout '${M.name}' loaded`,"info")},[S,n]),Ce=f.useCallback(T=>{const M=S.find(_=>_.id===T);M&&(b(_=>_.filter(U=>U.id!==T)),n(`Preset '${M.name}' deleted`,"info"))},[S,n]),D=f.useCallback((T,M)=>{b(_=>_.map(U=>U.id===T?{...U,name:M}:U))},[]),F=f.useMemo(()=>({sessions:r,groupedSessions:i,loading:a,error:u,workspaces:p,sidebarCollapsed:x,floatingSession:w,assignedSessions:E,isDragging:m,settings:v,focusedWindowKey:j,layoutPresets:S,setWindowCount:L,addSessionToWindow:Q,removeSessionFromWindow:R,setActiveSession:W,cycleSession:K,toggleSidebar:le,openFloatingModal:Z,closeFloatingModal:O,handleSessionClick:B,refreshSessions:P,deleteSession:G,renameSession:Y,setIsDragging:d,updateSettings:z,setFocusedWindowKey:k,saveCurrentLayout:je,loadPreset:ge,deletePreset:Ce,renamePreset:D}),[r,i,a,u,p,x,w,E,m,v,j,S,L,Q,R,W,K,le,Z,O,B,P,G,Y,d,z,k,je,ge,Ce,D]);return l.jsx(gh.Provider,{value:F,children:e})}function ct(){const e=f.useContext(gh);if(!e)throw new Error("useSession must be used within a SessionProvider");return e}const pn=[{file:"/music/Convoy_Run.mp3",name:"Convoy Run"},{file:"/music/Deacons_revenge.mp3",name:"Deacon's Revenge"},{file:"/music/Design_phase.mp3",name:"Design Phase"},{file:"/music/March_of_the_Polecats.mp3",name:"March of the Polecats"},{file:"/music/Mayors_introspection.mp3",name:"Mayor's Introspection"},{file:"/music/MergePush.mp3",name:"Merge Push"},{file:"/music/Polecat_Danceparty.mp3",name:"Polecat Danceparty"},{file:"/music/The_idle_Polecat.mp3",name:"The Idle Polecat"},{file:"/music/Vibes_at_the_hq.mp3",name:"Vibes at the HQ"},{file:"/music/Who_ate_my_PRD.mp3",name:"Who Ate My PRD?"}];function Wv(){const e=f.useRef(null),{settings:t,updateSettings:n}=ct(),[r,s]=f.useState(0),[i,o]=f.useState(!1);f.useEffect(()=>{const h=e.current;h&&(h.volume=Math.max(0,Math.min(1,t.musicVolume??.5)),t.musicEnabled?h.play().catch(p=>{console.warn("Audio playback failed:",p.message),n({musicEnabled:!1})}):h.pause())},[t.musicEnabled,t.musicVolume,n]),f.useEffect(()=>{const h=e.current;h&&(h.src=pn[r].file,t.musicEnabled&&h.play().catch(p=>console.warn("Track change play failed:",p.message)))},[r,t.musicEnabled]);const a=()=>s(h=>(h+1)%pn.length),c=()=>s(h=>(h-1+pn.length)%pn.length),u=h=>{s(h),o(!1),t.musicEnabled||n({musicEnabled:!0})};return l.jsxs("div",{className:"music-player",children:[l.jsx("audio",{ref:e,onEnded:a}),l.jsxs("div",{className:"music-controls",children:[l.jsx("button",{className:"music-btn",onClick:c,title:"Previous",children:"|"}),l.jsx("button",{className:`music-btn music-toggle ${t.musicEnabled?"playing":""}`,onClick:()=>n({musicEnabled:!t.musicEnabled}),title:t.musicEnabled?"Pause":"Play",children:t.musicEnabled?"":""}),l.jsx("button",{className:"music-btn",onClick:a,title:"Next",children:"|"}),l.jsxs("div",{className:"music-dropdown-wrap",children:[l.jsxs("button",{className:"music-btn music-track-btn",onClick:()=>o(!i),children:[pn[r].name," ",l.jsxs("span",{className:"track-num",children:[r+1,"/",pn.length]})]}),i&&l.jsx("div",{className:"music-dropdown",children:pn.map((h,p)=>l.jsxs("button",{className:`music-dropdown-item ${p===r?"active":""}`,onClick:()=>u(p),children:[p+1,". ",h.name," ",p===r&&t.musicEnabled&&""]},p))})]}),l.jsxs("div",{className:"music-volume-inline",children:[l.jsx("span",{className:"vol-icon",children:t.musicVolume===0?"":t.musicVolume<.5?"":""}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.musicVolume,onChange:h=>n({musicVolume:parseFloat(h.target.value)}),className:"volume-slider-inline",title:`Volume: ${Math.round(t.musicVolume*100)}%`})]})]}),i&&l.jsx("div",{className:"music-backdrop",onClick:()=>o(!1)})]})}function Uv({activeTab:e,onTabChange:t,onShowHelp:n,onShowPresets:r}){const s=[{id:"terminal1",label:"Terminal"},{id:"terminal2",label:"Terminal 2"},{id:"files",label:"Files"},{id:"beads",label:"Beads"},{id:"mail",label:"Mail"},{id:"settings",label:"Settings"},{id:"help",label:"Help"}],i=o=>{o.external?window.open(o.url,"_blank","noopener,noreferrer"):t(o.id)};return l.jsxs("div",{className:"tab-bar",children:[l.jsxs("button",{className:`tab-bar-mobile-btn ${e==="mobile"?"active":""}`,onClick:()=>t("mobile"),title:"Mobile Chat",children:[l.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:l.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"})}),"Mobile"]}),l.jsx("div",{className:"tab-bar-tabs",children:s.map(o=>l.jsx("button",{className:`tab ${!o.external&&e===o.id?"active":""} ${o.external?"external":""}`,onClick:()=>i(o),title:o.external?`Open ${o.label.replace(" ","")} in new tab`:void 0,children:o.label},o.id))}),l.jsxs("div",{className:"tab-bar-actions",children:[r&&l.jsx("button",{className:"tab-bar-btn presets-btn",onClick:r,title:"Layout Presets",children:""}),n&&l.jsx("button",{className:"tab-bar-btn help-btn",onClick:n,title:"Keyboard Shortcuts (?)",children:"?"}),l.jsx(Wv,{})]})]})}const Vv={mayor:{emoji:"",name:"Mayor",color:"#ffd700",glowColor:"rgba(255, 215, 0, 0.5)"},deacon:{emoji:"",name:"Deacon",color:"#9966ff",glowColor:"rgba(153, 102, 255, 0.5)"},witness:{emoji:"",name:"Witness",color:"#00bfff",glowColor:"rgba(0, 191, 255, 0.5)"},polecat:{emoji:"",name:"Polecat",color:"#ff6b9d",glowColor:"rgba(255, 107, 157, 0.5)"},refinery:{emoji:"",name:"Refinery",color:"#ff9933",glowColor:"rgba(255, 153, 51, 0.5)"},crew:{emoji:"",name:"Crew",color:"#4ade80",glowColor:"rgba(74, 222, 128, 0.5)"}};function Kv(e){const t=e.toLowerCase();return t.startsWith("hq-mayor")||t==="mayor"||t.includes("-mayor")?"mayor":t.startsWith("hq-deacon")||t==="deacon"||t.includes("-deacon")?"deacon":t.includes("-witness")||t==="witness"||t.startsWith("witness")?"witness":t.includes("-polecat")||t==="polecat"||/-pc-/.test(t)||t.endsWith("-pc")?"polecat":t.includes("-refinery")||t==="refinery"||t.startsWith("refinery")?"refinery":t.includes("-crew-")||t.includes("-crew")||t==="crew"||t.startsWith("crew-")?"crew":null}function Hv(e){const t=Kv(e);return t?{role:t,...Vv[t]}:null}function Qv({sessionName:e,compact:t=!1}){const n=Hv(e);if(!n)return null;const r={"--role-color":n.color,"--role-glow":n.glowColor};return l.jsx("span",{className:`role-badge ${t?"role-badge-compact":""} role-${n.role}`,style:r,title:n.name,"aria-label":n.name,children:n.emoji})}function Yv({session:e}){const{assignedSessions:t,handleSessionClick:n,deleteSession:r,renameSession:s,workspaces:i,addSessionToWindow:o,removeSessionFromWindow:a}=ct(),c=t.get(e.name),u=!!c,[h,p]=f.useState({show:!1,x:0,y:0}),[g,x]=f.useState(!1),[N,w]=f.useState(""),[C,m]=f.useState(!1),d=f.useRef(null),v=c?Yn[c.colorIndex%Yn.length].border:void 0,y=c?{backgroundColor:v,color:"#000",borderColor:v}:void 0,j=c?{color:v}:void 0,{attributes:k,listeners:S,setNodeRef:b,transform:E,isDragging:P}=Wa({id:e.name,data:{type:"session",session:e}}),L=E?{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,zIndex:P?1e3:void 0}:void 0,Q=f.useCallback(z=>{z.preventDefault(),z.stopPropagation(),p({show:!0,x:z.clientX,y:z.clientY}),m(!1)},[]),R=f.useCallback(()=>{p({show:!1,x:0,y:0}),m(!1)},[]),W=f.useCallback(async()=>{R(),await r(e.name)},[r,e.name,R]),K=f.useCallback(()=>{w(e.name),x(!0),R()},[e.name,R]),le=f.useCallback(async()=>{N&&N!==e.name&&await s(e.name,N),x(!1)},[N,e.name,s]),Z=f.useCallback(z=>{z.key==="Enter"?le():z.key==="Escape"&&x(!1)},[le]),O=f.useCallback(z=>{const G=z.startsWith("terminal2-")?"terminal2":"terminal1";o(G,z,e.name),R()},[o,e.name,R]),B=f.useCallback(()=>{c&&a(c.workspaceId,c.windowId,e.name),R()},[c,a,e.name,R]);return f.useEffect(()=>{g&&d.current&&(d.current.focus(),d.current.select())},[g]),f.useEffect(()=>{if(!h.show)return;const z=()=>R();return document.addEventListener("click",z),()=>document.removeEventListener("click",z)},[h.show,R]),g?l.jsx("div",{className:"session-item renaming",children:l.jsx("input",{ref:d,type:"text",className:"session-rename-input",value:N,onChange:z=>w(z.target.value),onKeyDown:Z,onBlur:le})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:b,className:`session-item ${u?"assigned":""} ${P?"dragging":""}`,style:L,...S,...k,onClick:()=>n(e.name),onContextMenu:Q,children:[c&&l.jsx("span",{className:"window-badge",style:y,children:c.workspaceId==="terminal2"?`2-${c.windowIndex}`:c.windowIndex}),l.jsx(Qv,{sessionName:e.name}),l.jsx("span",{className:"session-name",style:j,children:e.name}),e.attached&&!u&&l.jsx("span",{className:"attached-indicator",title:"Attached elsewhere",children:""})]}),h.show&&l.jsxs("div",{className:"session-context-menu",style:{left:h.x,top:h.y},onClick:z=>z.stopPropagation(),children:[l.jsxs("button",{className:"session-context-item",onClick:K,children:[l.jsx("span",{className:"session-context-icon",children:""}),"Rename"]}),l.jsxs("div",{className:"session-context-item session-context-submenu-trigger",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[l.jsx("span",{className:"session-context-icon",children:""}),"Assign to Window",l.jsx("span",{className:"session-context-arrow",children:""}),C&&l.jsx("div",{className:"session-context-submenu",children:["terminal1","terminal2"].flatMap(z=>{const G=i[z];return G.windows.slice(0,G.windowCount).map((Y,je)=>{const ge=Yn[Y.colorIndex%Yn.length],Ce=(c==null?void 0:c.windowId)===Y.id,D=z==="terminal2"?"Terminal 2 - ":"";return l.jsxs("button",{className:`session-context-item ${Ce?"active":""}`,onClick:()=>O(Y.id),style:{borderLeft:`3px solid ${ge.border}`},children:[D,"Window ",je+1,Ce&&l.jsx("span",{className:"session-context-check",children:""})]},Y.id)})})})]}),u&&l.jsxs("button",{className:"session-context-item",onClick:B,children:[l.jsx("span",{className:"session-context-icon",children:""}),"Unassign"]}),l.jsx("div",{className:"session-context-divider"}),l.jsxs("button",{className:"session-context-item session-context-danger",onClick:W,children:[l.jsx("span",{className:"session-context-icon",children:""}),"Delete Session"]})]})]})}function Gv({groupKey:e,sessions:t}){const[n,r]=f.useState(!0),s=Iv(e);return l.jsxs("div",{className:"session-group",children:[l.jsxs("div",{className:"session-group-header",onClick:()=>r(!n),children:[l.jsx("span",{className:"expand-icon",children:n?"":""}),l.jsx("span",{className:"group-name",children:s}),l.jsx("span",{className:"session-count",children:t.length})]}),n&&l.jsx("div",{className:"session-group-items",children:t.map(i=>l.jsx(Yv,{session:i},i.name))})]})}function Xv({onConfirm:e,onCancel:t,sessionCount:n}){const[r,s]=f.useState(""),i=r==="NUKE",o=a=>{a.preventDefault(),i&&e()};return l.jsx("div",{className:"nuke-modal-overlay",onClick:t,children:l.jsxs("div",{className:"nuke-modal",onClick:a=>a.stopPropagation(),children:[l.jsxs("div",{className:"nuke-modal-header",children:[l.jsx("span",{className:"nuke-icon",children:""}),l.jsx("span",{className:"nuke-title",children:"DESTROY ALL SESSIONS"})]}),l.jsxs("div",{className:"nuke-modal-body",children:[l.jsxs("p",{className:"nuke-warning",children:["This will permanently destroy ",l.jsx("strong",{children:n})," tmux session",n!==1?"s":"","."]}),l.jsx("p",{className:"nuke-warning",children:"All running processes will be terminated. This cannot be undone."}),l.jsxs("form",{onSubmit:o,children:[l.jsxs("label",{className:"nuke-label",children:["Type ",l.jsx("strong",{children:"NUKE"})," to confirm:"]}),l.jsx("input",{type:"text",className:"nuke-input",value:r,onChange:a=>s(a.target.value.toUpperCase()),placeholder:"Type NUKE",autoFocus:!0}),l.jsxs("div",{className:"nuke-buttons",children:[l.jsx("button",{type:"button",className:"nuke-btn nuke-btn-cancel",onClick:t,children:"Cancel"}),l.jsx("button",{type:"submit",className:"nuke-btn nuke-btn-confirm",disabled:!i,children:"Destroy All"})]})]})]})]})})}function Jv(){const{groupedSessions:e,loading:t,error:n,sidebarCollapsed:r,toggleSidebar:s,refreshSessions:i,sessions:o,settings:a}=ct(),{addToast:c}=mr(),[u,h]=f.useState(!1),[p,g]=f.useState(""),[x,N]=f.useState(!1),[w,C]=f.useState(!1),m=f.useMemo(()=>{const y=Object.entries(e);return(p?y.map(([k,S])=>[k,S.filter(b=>b.name.toLowerCase().includes(p.toLowerCase()))]).filter(([k,S])=>S.length>0):y).sort(([k],[S])=>{const b=yu(k),E=yu(S);return b!==E?b-E:k.localeCompare(S)})},[e,p]),d=async()=>{h(!0);try{const y=a.defaultSessionPrefix||"tmux",j=y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=new RegExp(`^${j}(\\d+)$`),S=o.map(L=>L.name.match(k)).filter(Boolean).map(L=>parseInt(L[1],10)),b=S.length>0?Math.max(...S)+1:1,E=`${y}${b}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E})})).ok?(c(`Session '${E}' created`,"success"),i()):c("Failed to create session","error")}catch(y){console.error("Failed to create session:",y),c("Failed to create session","error")}finally{h(!1)}},v=async()=>{C(!0);try{const y=await fetch("/api/tmux/sessions/all",{method:"DELETE",headers:{"X-Nuke-Confirm":"DASHBOARD-NUKE-CONFIRMED"}});y.ok?(c("All sessions destroyed","warning"),i()):(console.error("Failed to nuke sessions:",await y.text()),c("Failed to destroy sessions","error"))}catch(y){console.error("Failed to nuke sessions:",y),c("Failed to destroy sessions","error")}finally{C(!1),N(!1)}};return l.jsxs("div",{className:`session-panel ${r?"collapsed":""}`,children:[l.jsxs("div",{className:"session-panel-header",children:[l.jsx("button",{className:"toggle-btn",onClick:s,title:r?"Expand":"Collapse",children:r?"":""}),!r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"panel-title",children:"Sessions"}),l.jsx("button",{className:"add-btn",onClick:d,disabled:u,title:"New tmux session",children:"+"}),l.jsx("button",{className:"refresh-btn",onClick:i,title:"Refresh sessions",children:""})]})]}),!r&&l.jsx("div",{className:"session-search-container",children:l.jsx("input",{type:"text",className:"session-search-input",placeholder:"Filter sessions...",value:p,onChange:y=>g(y.target.value)})}),!r&&l.jsxs("div",{className:"session-panel-content",children:[t&&l.jsx("div",{className:"panel-status",children:"Loading..."}),n&&l.jsx("div",{className:"panel-error",children:n}),!t&&!n&&m.length===0&&l.jsxs("div",{className:"getting-started",children:[l.jsx("div",{className:"getting-started-title",children:"Getting Started"}),l.jsxs("div",{className:"getting-started-text",children:["Click ",l.jsx("strong",{children:"+"})," above to create your first tmux session, or use the terminal to run ",l.jsx("code",{children:"tmux new -s mysession"})]}),l.jsx("div",{className:"getting-started-hint",children:"Sessions appear here and can be dragged to terminal windows"})]}),m.map(([y,j])=>l.jsx(Gv,{groupKey:y,sessions:j},y))]}),!r&&o.length>0&&l.jsx("div",{className:"session-panel-footer",children:l.jsxs("button",{className:"nuke-trigger-btn",onClick:()=>N(!0),disabled:w,title:"Destroy all tmux sessions",children:[" ",w?"Nuking...":"Nuke All"]})}),x&&l.jsx(Xv,{sessionCount:o.length,onConfirm:v,onCancel:()=>N(!1)})]})}function Zv({workspaceId:e,windowId:t,accentColor:n}){const[r,s]=f.useState(!1),{settings:i,refreshSessions:o,addSessionToWindow:a}=ct(),{addToast:c}=mr(),u=async()=>{s(!0);try{const h=`${i.defaultSessionPrefix}-${Date.now().toString(36)}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h})})).ok?(c(`Session '${h}' created`,"success"),await o(),a(e,t,h)):c("Failed to create session","error")}catch(h){console.error("Failed to create session:",h),c("Failed to create session","error")}finally{s(!1)}};return l.jsxs("button",{className:"create-session-btn",onClick:u,disabled:r,style:{"--btn-accent":n},title:"Create new session",children:[l.jsx("span",{className:"create-session-icon",children:r?"...":"+"}),l.jsx("span",{className:"create-session-label",children:"New Session"})]})}function qv({workspaceId:e,windowId:t,isVisible:n}){const{setNodeRef:r,isOver:s}=uh({id:`drop-${e}-${t}`,data:{type:"window",workspaceId:e,windowId:t}});return n?l.jsx("div",{ref:r,className:`terminal-drop-overlay ${s?"is-over":""}`,children:l.jsx("span",{className:"drop-hint",children:s?"Release to add":"Drop here"})}):null}function ey({sessionName:e,isActive:t,workspaceId:n,windowId:r,onRemove:s,onClick:i}){const{attributes:o,listeners:a,setNodeRef:c,transform:u,isDragging:h}=Wa({id:`tag-${n}-${r}-${e}`,data:{type:"tag",sessionName:e,sourceWindowId:r,sourceWorkspaceId:n}}),p=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,zIndex:h?1e3:void 0}:void 0,g=e.includes("-")?e.split("-").slice(-1)[0]:e,x=N=>{h||N.target.closest(".tag-remove")||i()};return l.jsxs("div",{ref:c,className:`session-tag ${t?"active":""} ${h?"dragging":""}`,style:p,onClick:x,...a,...o,children:[l.jsx("span",{className:"tag-name",children:g}),l.jsx("button",{className:"tag-remove",onClick:N=>{N.stopPropagation(),s()},children:""})]})}function ty({workspaceId:e,window:t,isDragging:n=!1}){const[r,s]=f.useState(new Set),i=f.useRef(new Map),o=f.useRef(null),a=f.useRef(null),{removeSessionFromWindow:c,setActiveSession:u,cycleSession:h,settings:p,focusedWindowKey:g,setFocusedWindowKey:x}=ct(),N=`${e}-${t.id}`,w=g===N,C=t.activeSession,m=C?r.has(C):!1,d=f.useCallback(()=>{if(C)try{const R=i.current.get(C);if(!(R!=null&&R.contentWindow))return;R.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[C]),v=f.useCallback((R,W)=>{if(!(R!=null&&R.contentWindow))return;let K=0;const le=20,Z=()=>{try{const O=R.contentWindow;if(O.term){O.term.options.fontSize=W;return}}catch{}K++,K<le&&setTimeout(Z,50)};Z()},[]),y=f.useCallback(R=>{s(K=>new Set(K).add(R));const W=i.current.get(R);W&&(v(W,p.fontSize),setTimeout(()=>{R===t.activeSession&&d()},100),setTimeout(()=>{R===t.activeSession&&d()},300))},[v,p.fontSize,d,t.activeSession]);f.useEffect(()=>{r.forEach(R=>{const W=i.current.get(R);W&&v(W,p.fontSize)})},[p.fontSize,r,v]),f.useEffect(()=>{C&&r.has(C)&&setTimeout(d,50)},[C,r,d]),f.useEffect(()=>{const R=new Set(t.boundSessions);i.current.forEach((W,K)=>{R.has(K)||i.current.delete(K)}),s(W=>{const K=new Set;return W.forEach(le=>{R.has(le)&&K.add(le)}),K})},[t.boundSessions]);const j=f.useCallback(()=>{x(N)},[N,x]),k=f.useRef(w),S=f.useRef(t.boundSessions);f.useEffect(()=>{k.current=w,S.current=t.boundSessions},[w,t.boundSessions]),f.useEffect(()=>{const R=W=>{k.current&&W.ctrlKey&&(S.current.length<=1||(W.key==="ArrowRight"?(W.preventDefault(),h(e,t.id,"next")):W.key==="ArrowLeft"&&(W.preventDefault(),h(e,t.id,"prev"))))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,t.id,h]),f.useEffect(()=>{const R=o.current;if(!R)return;let W;const K=new ResizeObserver(()=>{clearTimeout(W),W=setTimeout(d,100)});return K.observe(R),()=>{clearTimeout(W),K.disconnect()}},[d]);const b=Yn[t.colorIndex%Yn.length],E=R=>{c(e,t.id,R)},P=R=>{u(e,t.id,R)},L=t.boundSessions.length>0,Q=R=>`/terminal/?arg=${encodeURIComponent(R)}&theme=${encodeURIComponent('{"background":"transparent"}')}`;return l.jsxs("div",{ref:a,className:`terminal-window ${w?"focused":""}`,tabIndex:-1,onClick:j,style:{"--window-accent":b.accent,"--window-bg":b.bg,"--window-border":b.border},children:[l.jsxs("div",{className:"terminal-window-header",children:[l.jsx("div",{className:"session-tags",children:t.boundSessions.map(R=>l.jsx(ey,{sessionName:R,isActive:R===C,workspaceId:e,windowId:t.id,onRemove:()=>E(R),onClick:()=>P(R)},R))}),l.jsxs("div",{className:"window-controls",children:[L&&t.boundSessions.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"prev"),title:"Previous session",children:""}),l.jsx("button",{className:"cycle-btn",onClick:()=>h(e,t.id,"next"),title:"Next session",children:""})]}),l.jsx("span",{className:`status-dot ${m?"":"disconnected"}`})]})]}),l.jsxs("div",{ref:o,className:"terminal-window-body",children:[C==="INIT-PENDING"?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:b.accent},children:l.jsx("span",{children:"Initializing Session..."})}):L?t.boundSessions.map(R=>{const W=R===C;return l.jsx("iframe",{ref:K=>{K&&i.current.set(R,K)},src:Q(R),onLoad:()=>y(R),allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none",backgroundColor:"transparent",display:W?"block":"none",position:W?"relative":"absolute"},title:`Terminal ${t.id} - ${R}`},R)}):l.jsxs("div",{className:"empty-window-state",children:[l.jsx(Zv,{workspaceId:e,windowId:t.id,accentColor:b.accent}),l.jsx("span",{className:"empty-window-hint",children:"or drag a session here"})]}),l.jsx(qv,{workspaceId:e,windowId:t.id,isVisible:n})]})]})}function ny({workspaceId:e}){const{workspaces:t,setWindowCount:n,isDragging:r}=ct(),s=t[e],i=s.windows,o=s.windowCount,a=()=>{switch(o){case 1:return"grid-1";case 2:return"grid-2";case 3:return"grid-3";case 4:return"grid-4";default:return"grid-2"}};return l.jsxs("div",{className:"terminal-area",children:[l.jsxs("div",{className:"terminal-area-controls",children:[l.jsx("span",{className:"layout-label",children:"Layout:"}),[1,2,3,4].map(c=>l.jsx("button",{className:`layout-btn ${o===c?"active":""}`,onClick:()=>n(e,c),title:`${c} window${c>1?"s":""}`,children:c},c))]}),l.jsx("div",{className:`terminal-grid ${a()}`,"data-workspace":e,children:i.slice(0,o).map(c=>l.jsx(ty,{workspaceId:e,window:c,isDragging:r},c.id))})]})}class te extends Error{constructor(t,n,r){super(t),this.code=n,this.status=r,this.name="FileOperationError"}}function Ua(e){return`/${e}`}const hn="/api/files";function vh(e){if(e.includes("/")||e.includes("\\")||e.includes(".."))throw new te('Invalid filename: path separators and ".." are not allowed',"INVALID");if(/[\x00-\x1f\x7f]/.test(e))throw new te("Invalid filename: control characters are not allowed","INVALID");const t=e.trim();if(!t)throw new te("Invalid filename: name cannot be empty","INVALID");if(/^\.+$/.test(t))throw new te('Invalid filename: "." and ".." are not allowed',"INVALID");return t}function gr(e,t){if(!e.ok)switch(e.status){case 403:throw new te("Permission denied","PERMISSION",403);case 404:throw new te("File not found","NOT_FOUND",404);case 409:throw new te("Already exists","CONFLICT",409);case 413:throw new te("File too large","STORAGE",413);case 507:throw new te("Insufficient storage","STORAGE",507);default:throw new te(`${t}: ${e.status}`,"SERVER",e.status)}}function Gn(e,t){if(e instanceof te)switch(e.code){case"PERMISSION":return"Permission denied";case"NOT_FOUND":return t==="rename"?"File not found":"Path not found";case"CONFLICT":return t==="create"?"Folder already exists":"Destination already exists";case"STORAGE":return e.status===413?"File too large":"Insufficient storage";case"INVALID":return e.message;case"NETWORK":return"Network error - check your connection";case"SERVER":return`Server error (${e.status})`;default:return e.message}return e instanceof Error?e.message:"An unexpected error occurred"}async function yh(e){const t=e.startsWith("/")?e:"/"+e;let n;try{n=await fetch(`${hn}/resources${t}`,{headers:{Accept:"application/json"}})}catch(s){throw new te(s instanceof Error?s.message:"Network error","NETWORK")}gr(n,"Failed to fetch directory");let r;try{r=await n.json()}catch{throw new te("Invalid server response","INVALID")}if(typeof r!="object"||r===null)throw new te("Invalid directory response","INVALID");if(r.isDir===!1)throw new te("Path is not a directory","INVALID");if(!("items"in r)||!Array.isArray(r.items))throw new te("Invalid directory response","INVALID");return r.items.map(s=>({name:s.name,size:s.size,modified:s.modified,isDir:s.isDir,type:s.type,path:t==="/"?`/${s.name}`:`${t}/${s.name}`}))}async function xh(e,t){const n=e==="/"?`/${t}`:`${e}/${t}`;let r;try{r=await fetch(`${hn}/resources${n}/`,{method:"POST",headers:{"Content-Type":"text/plain"}})}catch(s){throw new te(s instanceof Error?s.message:"Network error","NETWORK")}if(r.status===409)throw new te("Folder already exists","CONFLICT",409);gr(r,"Failed to create folder")}async function ry(e,t){let n;try{n=await fetch(`${hn}/resources${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"rename",destination:t})})}catch(r){throw new te(r instanceof Error?r.message:"Network error","NETWORK")}if(n.status===409)throw new te("Destination already exists","CONFLICT",409);gr(n,"Failed to rename")}async function sy(e){let t;try{t=await fetch(`${hn}/resources${e}`,{method:"DELETE"})}catch(n){throw new te(n instanceof Error?n.message:"Network error","NETWORK")}gr(t,"Failed to delete")}async function Ao(e,t){const n=Array.isArray(t)?t:Array.from(t);for(const r of n){const s=vh(r.name),i=e==="/"?`/${s}`:`${e}/${s}`;let o;try{o=await fetch(`${hn}/resources${i}`,{method:"POST",headers:{"Content-Type":r.type||"application/octet-stream"},body:r})}catch(a){throw new te(a instanceof Error?a.message:"Network error","NETWORK")}if(o.status===413)throw new te("File too large","STORAGE",413);if(o.status===507)throw new te("Insufficient storage","STORAGE",507);gr(o,`Failed to upload ${s}`)}}async function ly(e){try{return(await fetch(`${hn}/resources${e}`,{method:"GET",headers:{Accept:"application/json"}})).ok}catch{return!1}}function Va(e){return`${hn}/raw${e}?inline=false`}async function iy(e,t){for(const{file:n,relativePath:r}of t){const o=r.split("/").filter(u=>u.length>0).map(u=>vh(u)).join("/"),a=`${e}/${o}`;let c;try{c=await fetch(`${hn}/resources${a}`,{method:"POST",headers:{"Content-Type":n.type||"application/octet-stream"},body:n})}catch(u){throw new te(u instanceof Error?u.message:"Network error","NETWORK")}if(c.status===413)throw new te("File too large","STORAGE",413);if(c.status===507)throw new te("Insufficient storage","STORAGE",507);gr(c,`Failed to upload ${o}`)}}function oy({path:e,onNavigate:t}){const n=e.split("/").filter(Boolean),r=n.length===0,s=e;return l.jsxs("nav",{className:"fb-breadcrumbs",children:[l.jsx("button",{className:"fb-breadcrumb-item fb-breadcrumb-root",onClick:()=>t("/"),title:"Root",children:r&&s||"/"}),n.map((i,o)=>{const a="/"+n.slice(0,o+1).join("/"),c=o===n.length-1,u=o===0?Ua(i):i;return l.jsxs("span",{className:"fb-breadcrumb-segment",children:[l.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),l.jsx("button",{className:`fb-breadcrumb-item ${c?"active":""}`,onClick:()=>t(a),disabled:c,children:u})]},a)})]})}function Fo(e){if(e===0)return"-";const t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(n>0?1:0)} ${t[n]}`}function ay(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),s=Math.floor(r/(1e3*60*60*24));if(s===0){const i=Math.floor(r/36e5);if(i===0){const o=Math.floor(r/6e4);return o<=1?"Just now":`${o} min ago`}return`${i} hour${i>1?"s":""} ago`}return s===1?"Yesterday":s<7?`${s} days ago`:t.toLocaleDateString()}function wh(e){var r;if(e.isDir)return"";const t=((r=e.name.split(".").pop())==null?void 0:r.toLowerCase())||"";return{js:"",ts:"",jsx:"",tsx:"",py:"",rb:"",go:"",rs:"",java:"",c:"",cpp:"",h:"",cs:"",php:"",swift:"",html:"",css:"",scss:"",less:"",json:"",yaml:"",yml:"",xml:"",csv:"",sql:"",md:"",txt:"",pdf:"",doc:"",docx:"",xls:"",xlsx:"",ppt:"",pptx:"",png:"",jpg:"",jpeg:"",gif:"",svg:"",webp:"",mp3:"",wav:"",flac:"",ogg:"",mp4:"",mkv:"",avi:"",mov:"",webm:"",zip:"",tar:"",gz:"",rar:"","7z":"",env:"",gitignore:"",dockerfile:"",sh:"",bash:"",zsh:"",fish:""}[t]||""}function cy({item:e}){return l.jsx("span",{className:`fb-icon ${e.isDir?"fb-icon-folder":"fb-icon-file"}`,children:wh(e)})}function Fi({label:e,sortKey:t,currentSort:n,currentDir:r,onSort:s,className:i}){const o=n===t;return l.jsxs("button",{className:`fb-column-header ${i||""} ${o?"active":""}`,onClick:()=>s(t),children:[e,o&&l.jsx("span",{className:"fb-sort-indicator",children:r==="asc"?"":""})]})}function uy({item:e,isSelected:t,onSelect:n,onNavigate:r,onContextMenu:s,onRename:i,isRenaming:o,renameValue:a,setRenameValue:c,onRenameSubmit:u,onRenameCancel:h,isAtRoot:p,disabled:g}){const x=f.useRef(null);f.useEffect(()=>{if(o&&x.current){x.current.focus();const d=e.name.includes(".")?e.name.lastIndexOf("."):e.name.length;x.current.setSelectionRange(0,d)}},[o,e.name]);const N=()=>{g||(e.isDir?r():window.open(Va(e.path),"_blank"))},w=d=>{g||(d.key==="Enter"&&!o?N():d.key==="F2"&&!o&&i())},C=d=>{d.key==="Enter"?u():d.key==="Escape"&&h()},m=p?Ua(e.name):e.name;return l.jsxs("div",{className:`fb-row ${t?"selected":""} ${g?"disabled":""}`,onClick:g?void 0:n,onDoubleClick:N,onContextMenu:g?void 0:s,onKeyDown:w,tabIndex:g?-1:0,role:"row",children:[l.jsxs("div",{className:"fb-cell fb-cell-name",children:[l.jsx(cy,{item:e}),o?l.jsx("input",{ref:x,type:"text",className:"fb-rename-input",value:a,onChange:d=>c(d.target.value),onKeyDown:C,onBlur:h}):l.jsx("span",{className:"fb-filename",children:m})]}),l.jsx("div",{className:"fb-cell fb-cell-size",children:e.isDir?"-":Fo(e.size)}),l.jsx("div",{className:"fb-cell fb-cell-modified",children:ay(e.modified)})]})}function dy({item:e,isSelected:t,onSelect:n,onNavigate:r,onContextMenu:s,isAtRoot:i,disabled:o}){const a=()=>{o||(e.isDir?r():window.open(Va(e.path),"_blank"))},c=i?Ua(e.name):e.name;return l.jsxs("div",{className:`fb-grid-item ${t?"selected":""} ${o?"disabled":""}`,onClick:o?void 0:n,onDoubleClick:a,onContextMenu:o?void 0:s,tabIndex:o?-1:0,role:"gridcell",children:[l.jsx("div",{className:"fb-grid-icon",children:wh(e)}),l.jsx("div",{className:"fb-grid-name",title:c,children:c})]})}function fy({x:e,y:t,item:n,onClose:r,onDownload:s,onRename:i,onDelete:o,onCopyPath:a,onNewFolder:c}){const u=f.useRef(null);f.useEffect(()=>{const p=x=>{u.current&&!u.current.contains(x.target)&&r()},g=x=>{x.key==="Escape"&&r()};return document.addEventListener("mousedown",p),document.addEventListener("keydown",g),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",g)}},[r]);const h={position:"fixed",top:t,left:e,zIndex:1e3};return l.jsxs("div",{ref:u,className:"fb-context-menu",style:h,children:[n&&!n.isDir&&l.jsxs("button",{className:"fb-context-item",onClick:s,children:[l.jsx("span",{className:"fb-context-icon",children:""}),"Download"]}),n&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"fb-context-item",onClick:i,children:[l.jsx("span",{className:"fb-context-icon",children:""}),"Rename"]}),l.jsxs("button",{className:"fb-context-item",onClick:a,children:[l.jsx("span",{className:"fb-context-icon",children:""}),"Copy Path"]}),l.jsx("div",{className:"fb-context-divider"}),l.jsxs("button",{className:"fb-context-item fb-context-danger",onClick:o,children:[l.jsx("span",{className:"fb-context-icon",children:""}),"Delete"]})]}),!n&&l.jsxs("button",{className:"fb-context-item",onClick:c,children:[l.jsx("span",{className:"fb-context-icon",children:""}),"New Folder"]})]})}function hy({onClose:e,onCreate:t,loading:n,error:r}){const[s,i]=f.useState(""),o=f.useRef(null);f.useEffect(()=>{var c;(c=o.current)==null||c.focus()},[]);const a=c=>{c.preventDefault(),s.trim()&&!n&&t(s.trim())};return l.jsx("div",{className:"fb-dialog-overlay",onClick:e,children:l.jsxs("div",{className:"fb-dialog",onClick:c=>c.stopPropagation(),children:[l.jsxs("div",{className:"fb-dialog-header",children:[l.jsx("h3",{children:"New Folder"}),l.jsx("button",{className:"fb-dialog-close",onClick:e,disabled:n,children:""})]}),l.jsxs("form",{onSubmit:a,children:[l.jsxs("div",{className:"fb-dialog-body",children:[l.jsx("label",{className:"fb-dialog-label",children:"Folder name"}),l.jsx("input",{ref:o,type:"text",className:"fb-dialog-input",value:s,onChange:c=>i(c.target.value),placeholder:"New folder",disabled:n}),r&&l.jsx("div",{className:"fb-dialog-error",children:r})]}),l.jsxs("div",{className:"fb-dialog-footer",children:[l.jsx("button",{type:"button",className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:e,disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"fb-dialog-btn fb-dialog-btn-primary",disabled:!s.trim()||n,children:n?"Creating...":"Create"})]})]})]})})}function py({item:e,onClose:t,onConfirm:n,loading:r,error:s}){return l.jsx("div",{className:"fb-dialog-overlay",onClick:t,children:l.jsxs("div",{className:"fb-dialog fb-dialog-danger",onClick:i=>i.stopPropagation(),children:[l.jsxs("div",{className:"fb-dialog-header",children:[l.jsxs("h3",{children:["Delete ",e.isDir?"Folder":"File"]}),l.jsx("button",{className:"fb-dialog-close",onClick:t,disabled:r,children:""})]}),l.jsxs("div",{className:"fb-dialog-body",children:[l.jsxs("p",{className:"fb-dialog-message",children:["Are you sure you want to delete ",l.jsx("strong",{children:e.name}),"?",e.isDir&&" This will delete all contents inside."]}),s&&l.jsx("div",{className:"fb-dialog-error",children:s})]}),l.jsxs("div",{className:"fb-dialog-footer",children:[l.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,disabled:r,children:"Cancel"}),l.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-danger",onClick:n,disabled:r,children:r?"Deleting...":"Delete"})]})]})})}function my({currentPath:e,onUploadComplete:t,onError:n}){const[r,s]=f.useState(!1),[i,o]=f.useState(!1),[a,c]=f.useState(null),u=f.useRef(null),h=w=>{w.preventDefault(),w.stopPropagation(),s(!0)},p=w=>{w.preventDefault(),w.stopPropagation(),s(!1)},g=async w=>{w.preventDefault(),w.stopPropagation(),s(!1);const C=w.dataTransfer.files;C.length>0&&await x(C)},x=async w=>{o(!0),c(`Uploading ${w.length} file${w.length>1?"s":""}...`);try{await Ao(e,w),c("Upload complete!"),setTimeout(()=>{c(null),t()},1500)}catch(C){const m=Gn(C,"upload");c(null),n(m)}finally{o(!1)}},N=w=>{w.target.files&&w.target.files.length>0&&x(w.target.files)};return l.jsxs("div",{className:`fb-upload-zone ${r?"dragging":""} ${i?"uploading":""}`,onDragOver:h,onDragLeave:p,onDrop:g,children:[l.jsx("input",{ref:u,type:"file",multiple:!0,onChange:N,style:{display:"none"}}),a?l.jsx("span",{className:"fb-upload-status",children:a}):l.jsxs("button",{className:"fb-upload-btn",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},disabled:i,children:[l.jsx("span",{className:"fb-upload-icon",children:""}),"Upload"]})]})}async function jh(e,t=""){const n=[],r=e.createReader(),s=()=>new Promise((a,c)=>{r.readEntries(a,c)});let i=[],o;do o=await s(),i=i.concat(o);while(o.length>0);for(const a of i){const c=t?`${t}/${a.name}`:a.name;if(a.isFile){const u=a,h=await new Promise((p,g)=>{u.file(p,g)});n.push({file:h,relativePath:c})}else if(a.isDirectory){const u=await jh(a,c);n.push(...u)}}return n}async function gy(e){var n;const t=[];for(let r=0;r<e.length;r++){const s=e[r];if(s.kind!=="file")continue;const i=(n=s.webkitGetAsEntry)==null?void 0:n.call(s);if(!i){const o=s.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o});continue}if(i.isFile){const o=s.getAsFile();o&&t.push({type:"file",name:o.name,size:o.size,file:o})}else if(i.isDirectory){const o=await jh(i,i.name),a=o.reduce((c,u)=>c+u.file.size,0);t.push({type:"folder",name:i.name,size:a,filesWithPaths:o})}}return t}function vy({onError:e}){const[t,n]=f.useState([]),[r,s]=f.useState(""),[i,o]=f.useState(!1),[a,c]=f.useState(!1),[u,h]=f.useState("idle"),p=f.useRef(null),g=f.useRef(null),x="/code/incoming",N=E=>{E.preventDefault(),E.stopPropagation(),o(!0)},w=E=>{E.preventDefault(),E.stopPropagation(),o(!1)},C=async E=>{if(E.preventDefault(),E.stopPropagation(),o(!1),E.dataTransfer.items&&E.dataTransfer.items.length>0){const P=await gy(E.dataTransfer.items);P.length>0&&(n(L=>[...L,...P]),h("idle"))}else if(E.dataTransfer.files.length>0){const P=Array.from(E.dataTransfer.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...P]),h("idle")}},m=E=>{if(E.target.files&&E.target.files.length>0){const P=Array.from(E.target.files).map(L=>({type:"file",name:L.name,size:L.size,file:L}));n(L=>[...L,...P]),h("idle")}},d=E=>{if(E.target.files&&E.target.files.length>0){const P=Array.from(E.target.files),L=new Map;for(const R of P){const W=R.webkitRelativePath||R.name,K=W.split("/")[0];L.has(K)||L.set(K,[]),L.get(K).push({file:R,relativePath:W})}const Q=Array.from(L.entries()).map(([R,W])=>({type:"folder",name:R,size:W.reduce((K,le)=>K+le.file.size,0),filesWithPaths:W}));n(R=>[...R,...Q]),h("idle")}},v=E=>{n(P=>P.filter((L,Q)=>Q!==E))},y=async()=>{if(t.length!==0){c(!0);try{await ly(x)||await xh("/code","incoming");for(const P of t)P.type==="file"&&P.file?await Ao(x,[P.file]):P.type==="folder"&&P.filesWithPaths&&await iy(x,P.filesWithPaths);if(r.trim()&&t.length>0){const P=new File([r.trim()],`${t[0].name}.note`,{type:"text/plain"});await Ao(x,[P])}h("success"),n([]),s(""),p.current&&(p.current.value=""),g.current&&(g.current.value=""),setTimeout(()=>h("idle"),2e3)}catch(E){h("error");const P=Gn(E,"upload");e(`Failed to send: ${P}`),setTimeout(()=>h("idle"),2e3)}finally{c(!1)}}},j=t.reduce((E,P)=>E+P.size,0),k=t.reduce((E,P)=>{var L;return P.type==="file"?E+1:E+(((L=P.filesWithPaths)==null?void 0:L.length)||0)},0),S=t.filter(E=>E.type==="folder").length,b=t.filter(E=>E.type==="file").length;return l.jsxs("div",{className:`inbox-panel ${i?"dragging":""} ${u} ${t.length>0?"has-files":""}`,children:[l.jsxs("div",{className:"inbox-dropzone",onDragOver:N,onDragLeave:w,onDrop:C,children:[l.jsx("input",{ref:p,type:"file",multiple:!0,onChange:m,style:{display:"none"}}),l.jsx("input",{ref:g,type:"file",webkitdirectory:"",onChange:d,style:{display:"none"}}),t.length>0?l.jsxs("div",{className:"inbox-files-list",children:[t.map((E,P)=>l.jsxs("div",{className:"inbox-file-item",children:[l.jsx("span",{className:"inbox-file-icon",children:E.type==="folder"?"":""}),l.jsxs("span",{className:"inbox-file-name",children:[E.name,E.type==="folder"&&E.filesWithPaths&&l.jsxs("span",{className:"inbox-file-count",children:[" (",E.filesWithPaths.length," files)"]})]}),l.jsx("span",{className:"inbox-file-size",children:Fo(E.size)}),l.jsx("button",{className:"inbox-file-remove",onClick:L=>{L.stopPropagation(),v(P)},children:""})]},`${E.name}-${P}`)),l.jsxs("div",{className:"inbox-add-buttons",children:[l.jsx("button",{className:"inbox-add-more",onClick:E=>{var P;E.stopPropagation(),(P=p.current)==null||P.click()},children:"+ Files"}),l.jsx("button",{className:"inbox-add-more",onClick:E=>{var P;E.stopPropagation(),(P=g.current)==null||P.click()},children:"+ Folder"})]})]}):l.jsxs("div",{className:"inbox-placeholder",children:[l.jsx("span",{className:"inbox-icon",children:""}),l.jsx("span",{className:"inbox-title",children:"Send a package to /code/incoming"}),l.jsx("span",{className:"inbox-subtitle",children:"Drop files or folders here"}),l.jsxs("div",{className:"inbox-browse-buttons",children:[l.jsx("button",{className:"inbox-browse-btn",onClick:E=>{var P;E.stopPropagation(),(P=p.current)==null||P.click()},children:"Browse Files"}),l.jsx("button",{className:"inbox-browse-btn",onClick:E=>{var P;E.stopPropagation(),(P=g.current)==null||P.click()},children:"Browse Folder"})]})]})]}),l.jsxs("div",{className:"inbox-bottom",children:[l.jsx("textarea",{className:"inbox-note",placeholder:"Add a note for the agent...",value:r,onChange:E=>s(E.target.value),disabled:a,rows:2}),l.jsxs("div",{className:"inbox-actions",children:[t.length>0&&l.jsxs("span",{className:"inbox-summary",children:[S>0&&`${S} folder${S>1?"s":""}`,S>0&&b>0&&", ",b>0&&`${b} file${b>1?"s":""}`," ","(",k," total)  ",Fo(j)]}),l.jsx("button",{className:"inbox-send",onClick:y,disabled:t.length===0||a,children:a?"Sending...":u==="success"?" Sent!":`Send ${t.length>0?`(${t.length})`:""}`})]})]})]})}function yy(){return l.jsxs("div",{className:"fb-info-panel",children:[l.jsxs("div",{className:"fb-info-card",children:[l.jsx("h3",{children:"Available Directories"}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"/code"}),l.jsx("span",{className:"fb-info-value",children:"Project workspace"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"/vault"}),l.jsx("span",{className:"fb-info-value",children:"Read-only storage"})]})]}),l.jsxs("div",{className:"fb-info-card",children:[l.jsx("h3",{children:"Keyboard Shortcuts"}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Open/Enter"}),l.jsx("kbd",{className:"fb-kbd",children:"Enter"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Go Back"}),l.jsx("kbd",{className:"fb-kbd",children:"Backspace"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Rename"}),l.jsx("kbd",{className:"fb-kbd",children:"F2"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Delete"}),l.jsx("kbd",{className:"fb-kbd",children:"Del"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Select All"}),l.jsx("kbd",{className:"fb-kbd",children:"Ctrl+A"})]}),l.jsxs("div",{className:"fb-info-item",children:[l.jsx("span",{className:"fb-info-label",children:"Refresh"}),l.jsx("kbd",{className:"fb-kbd",children:"F5"})]})]}),l.jsxs("div",{className:"fb-info-card",children:[l.jsx("h3",{children:"Tips"}),l.jsxs("ul",{className:"fb-info-tips",children:[l.jsx("li",{children:"Double-click folders to open them"}),l.jsx("li",{children:"Double-click files to download"}),l.jsx("li",{children:"Right-click for more options"}),l.jsx("li",{children:"Drag and drop files to upload"})]})]})]})}function xy({message:e,onDismiss:t,autoDismissMs:n=5e3}){return f.useEffect(()=>{const r=setTimeout(t,n);return()=>clearTimeout(r)},[t,n]),l.jsxs("div",{className:"fb-error-toast",role:"alert",children:[l.jsx("span",{className:"fb-error-toast-icon",children:"!"}),l.jsx("span",{className:"fb-error-toast-message",children:e}),l.jsx("button",{className:"fb-error-toast-dismiss",onClick:t,"aria-label":"Dismiss error",children:"x"})]})}function wy(){const[e,t]=f.useState("browser"),[n,r]=f.useState({items:[],loading:!0,error:null,currentPath:"/",selectedItems:new Set,sortBy:"name",sortDir:"asc",viewMode:"list",searchQuery:""}),[s,i]=f.useState({type:null,loading:!1,error:null}),[o,a]=f.useState(null),[c,u]=f.useState(null),[h,p]=f.useState(null),[g,x]=f.useState(""),[N,w]=f.useState(!1),[C,m]=f.useState(null),[d,v]=f.useState(["/"]),[y,j]=f.useState(0),k=f.useCallback(D=>{a(D)},[]),S=f.useCallback(()=>{i({type:null,loading:!1,error:null})},[]),b=f.useCallback(async D=>{r(F=>({...F,loading:!0,error:null}));try{const F=await yh(D);r(T=>({...T,items:F,loading:!1,currentPath:D,selectedItems:new Set,error:null}))}catch(F){const T=Gn(F,"fetch");r(M=>({...M,loading:!1,error:T,items:[]}))}},[]);f.useEffect(()=>{b("/")},[b]);const E=f.useCallback((D,F=!0)=>{if(F){const T=[...d.slice(0,y+1),D];v(T),j(T.length-1)}b(D)},[b,d,y]),P=f.useCallback(()=>{if(y>0){const D=y-1;j(D),b(d[D])}},[y,d,b]),L=f.useCallback(()=>{if(y<d.length-1){const D=y+1;j(D),b(d[D])}},[y,d,b]),Q=f.useCallback(()=>{const D=n.currentPath.split("/").filter(Boolean);D.length>0&&(D.pop(),E("/"+D.join("/")))},[n.currentPath,E]),R=f.useMemo(()=>{const D=[...n.items],F=n.searchQuery?D.filter(T=>T.name.toLowerCase().includes(n.searchQuery.toLowerCase())):D;return F.sort((T,M)=>{if(T.isDir!==M.isDir)return T.isDir?-1:1;let _=0;switch(n.sortBy){case"name":_=T.name.localeCompare(M.name);break;case"size":_=T.size-M.size;break;case"modified":_=new Date(T.modified).getTime()-new Date(M.modified).getTime();break}return n.sortDir==="asc"?_:-_}),F},[n.items,n.sortBy,n.sortDir,n.searchQuery]),W=D=>{r(F=>({...F,sortBy:D,sortDir:F.sortBy===D&&F.sortDir==="asc"?"desc":"asc"}))},K=(D,F)=>{if(F.preventDefault(),F.ctrlKey||F.metaKey)r(T=>{const M=new Set(T.selectedItems);return M.has(D.name)?M.delete(D.name):M.add(D.name),{...T,selectedItems:M}});else if(F.shiftKey&&n.selectedItems.size>0){const T=Array.from(n.selectedItems).pop(),M=R.findIndex($=>$.name===T),_=R.findIndex($=>$.name===D.name),U=Math.min(M,_),V=Math.max(M,_),ie=new Set(R.slice(U,V+1).map($=>$.name));r($=>({...$,selectedItems:ie}))}else r(T=>({...T,selectedItems:new Set([D.name])}))},le=(D,F)=>{F.preventDefault(),u({x:F.clientX,y:F.clientY,item:D}),D&&!n.selectedItems.has(D.name)&&r(T=>({...T,selectedItems:new Set([D.name])}))},Z=D=>{p(D.name),x(D.name),u(null)},O=async()=>{if(!h||!g.trim()||g===h){B();return}const D=n.items.find(T=>T.name===h);if(!D)return;const F=n.currentPath==="/"?`/${g}`:`${n.currentPath}/${g}`;i({type:"rename",loading:!0,error:null,target:D.name});try{await ry(D.path,F),await b(n.currentPath),S()}catch(T){const M=Gn(T,"rename");i({type:"rename",loading:!1,error:M,target:D.name}),k(M)}finally{B()}},B=()=>{p(null),x("")},z=async()=>{if(C){i({type:"delete",loading:!0,error:null,target:C.name});try{await sy(C.path),await b(n.currentPath),S(),m(null)}catch(D){const F=Gn(D,"delete");i({type:"delete",loading:!1,error:F,target:C.name}),k(F)}}},G=async D=>{i({type:"create",loading:!0,error:null,target:D});try{await xh(n.currentPath,D),await b(n.currentPath),S(),w(!1)}catch(F){const T=Gn(F,"create");i({type:"create",loading:!1,error:T,target:D})}},Y=()=>{c!=null&&c.item&&!c.item.isDir&&window.open(Va(c.item.path),"_blank"),u(null)},je=()=>{if(c!=null&&c.item){const D=c.item.path;navigator.clipboard.writeText(D)}u(null)};f.useEffect(()=>{const D=F=>{if(e==="browser"&&!(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"))if(F.key==="F5")F.preventDefault(),b(n.currentPath);else if(F.key==="Backspace")F.preventDefault(),Q();else if(F.key==="Delete"){const T=n.items.find(M=>n.selectedItems.has(M.name));T&&m(T)}else if(F.key==="F2"){const T=n.items.find(M=>n.selectedItems.has(M.name));T&&Z(T)}else F.ctrlKey&&F.key==="a"&&(F.preventDefault(),r(T=>({...T,selectedItems:new Set(T.items.map(M=>M.name))})))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[e,n.currentPath,n.items,n.selectedItems,b,Q]);const ge=n.currentPath==="/"||n.currentPath==="",Ce=s.loading;return l.jsxs("div",{className:"fb-container files-view",children:[o&&l.jsx(xy,{message:o,onDismiss:()=>a(null)}),l.jsxs("div",{className:"fb-header",children:[l.jsxs("div",{className:"fb-header-left",children:[l.jsx("h2",{className:"fb-title",children:"Files"}),l.jsxs("div",{className:"fb-tabs",children:[l.jsx("button",{className:`fb-tab ${e==="browser"?"active":""}`,onClick:()=>t("browser"),children:"Browser"}),l.jsx("button",{className:`fb-tab ${e==="info"?"active":""}`,onClick:()=>t("info"),children:"Info"})]})]}),l.jsxs("div",{className:"fb-header-right",children:[e==="browser"&&l.jsxs(l.Fragment,{children:[l.jsx(my,{currentPath:n.currentPath,onUploadComplete:()=>b(n.currentPath),onError:k}),l.jsx("button",{className:"fb-btn",onClick:()=>w(!0),title:"New Folder",disabled:Ce,children:"+"})]}),l.jsx("button",{className:"fb-btn",onClick:()=>b(n.currentPath),title:"Refresh",disabled:n.loading,children:""}),l.jsx("button",{className:"fb-btn",onClick:()=>window.open("/files/","_blank"),title:"Open in new tab",children:""})]})]}),l.jsx("div",{className:"fb-content",children:e==="browser"?l.jsxs(l.Fragment,{children:[l.jsx(vy,{onError:k}),l.jsxs("div",{className:"fb-toolbar",children:[l.jsxs("div",{className:"fb-toolbar-nav",children:[l.jsx("button",{className:"fb-nav-btn",onClick:P,disabled:y===0,title:"Back",children:""}),l.jsx("button",{className:"fb-nav-btn",onClick:L,disabled:y>=d.length-1,title:"Forward",children:""}),l.jsx("button",{className:"fb-nav-btn",onClick:Q,disabled:n.currentPath==="/",title:"Up",children:""})]}),l.jsx(oy,{path:n.currentPath,onNavigate:E}),l.jsxs("div",{className:"fb-toolbar-actions",children:[l.jsx("input",{type:"text",className:"fb-search",placeholder:"Filter...",value:n.searchQuery,onChange:D=>r(F=>({...F,searchQuery:D.target.value}))}),l.jsx("button",{className:`fb-view-btn ${n.viewMode==="list"?"active":""}`,onClick:()=>r(D=>({...D,viewMode:"list"})),title:"List view",children:""}),l.jsx("button",{className:`fb-view-btn ${n.viewMode==="grid"?"active":""}`,onClick:()=>r(D=>({...D,viewMode:"grid"})),title:"Grid view",children:""})]})]}),l.jsx("div",{className:"fb-list-container",onContextMenu:D=>{D.target.closest(".fb-row, .fb-grid-item")||le(null,D)},children:n.loading?l.jsxs("div",{className:"fb-loading",children:[l.jsx("span",{className:"fb-spinner"}),"Loading..."]}):n.error?l.jsxs("div",{className:"fb-error",children:[l.jsx("span",{className:"fb-error-icon",children:""}),l.jsx("span",{className:"fb-error-message",children:n.error}),l.jsx("button",{className:"fb-retry-btn",onClick:()=>b(n.currentPath),children:"Retry"})]}):R.length===0?l.jsxs("div",{className:"fb-empty",children:[l.jsx("span",{className:"fb-empty-icon",children:""}),n.searchQuery?"No matches found":"This folder is empty"]}):n.viewMode==="list"?l.jsxs("div",{className:"fb-list",role:"grid",children:[l.jsxs("div",{className:"fb-list-header",role:"row",children:[l.jsx(Fi,{label:"Name",sortKey:"name",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-name"}),l.jsx(Fi,{label:"Size",sortKey:"size",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-size"}),l.jsx(Fi,{label:"Modified",sortKey:"modified",currentSort:n.sortBy,currentDir:n.sortDir,onSort:W,className:"fb-cell-modified"})]}),l.jsx("div",{className:"fb-list-body",children:R.map(D=>l.jsx(uy,{item:D,isSelected:n.selectedItems.has(D.name),onSelect:F=>K(D,F),onNavigate:()=>E(D.path),onContextMenu:F=>le(D,F),onRename:()=>Z(D),isRenaming:h===D.name,renameValue:g,setRenameValue:x,onRenameSubmit:O,onRenameCancel:B,isAtRoot:ge,disabled:Ce},D.name))})]}):l.jsx("div",{className:"fb-grid",role:"grid",children:R.map(D=>l.jsx(dy,{item:D,isSelected:n.selectedItems.has(D.name),onSelect:F=>K(D,F),onNavigate:()=>E(D.path),onContextMenu:F=>le(D,F),isAtRoot:ge,disabled:Ce},D.name))})}),l.jsxs("div",{className:"fb-statusbar",children:[l.jsxs("span",{children:[R.length," items"]}),n.selectedItems.size>0&&l.jsxs("span",{children:[n.selectedItems.size," selected"]}),Ce&&l.jsxs("span",{className:"fb-statusbar-operation",children:[s.type==="rename"&&"Renaming...",s.type==="delete"&&"Deleting...",s.type==="create"&&"Creating...",s.type==="upload"&&"Uploading..."]})]})]}):l.jsx(yy,{})}),c&&l.jsx(fy,{x:c.x,y:c.y,item:c.item,onClose:()=>u(null),onDownload:Y,onRename:()=>c.item&&Z(c.item),onDelete:()=>c.item&&m(c.item),onCopyPath:je,onNewFolder:()=>{u(null),w(!0)}}),N&&l.jsx(hy,{onClose:()=>{w(!1),S()},onCreate:G,loading:s.type==="create"&&s.loading,error:s.type==="create"?s.error:null}),C&&l.jsx(py,{item:C,onClose:()=>{m(null),S()},onConfirm:z,loading:s.type==="delete"&&s.loading,error:s.type==="delete"?s.error:null})]})}function jy({onSelect:e,onClose:t,initialPath:n="/"}){const[r,s]=f.useState(n),[i,o]=f.useState([]),[a,c]=f.useState(!0),[u,h]=f.useState(null),[p,g]=f.useState(!1),x=f.useCallback(async y=>{try{const j=y==="/"?"/.beads":`${y}/.beads`,k=await fetch(`/api/files/resources${j}`);return k.ok?(await k.json()).isDir===!0:!1}catch{return!1}},[]),N=f.useCallback(async y=>{c(!0),h(null);try{const k=(await yh(y)).filter(E=>E.isDir),S=await x(y);g(S);const b=await Promise.all(k.map(async E=>({...E,hasBeads:await x(E.path)})));o(b)}catch(j){h(j instanceof Error?j.message:"Failed to load directory"),o([])}finally{c(!1)}},[x]);f.useEffect(()=>{N(r)},[r,N]);const w=y=>{s(y)},C=()=>{if(r==="/")return;const y=r.split("/").filter(Boolean);y.pop(),s(y.length===0?"/":"/"+y.join("/"))},m=r==="/"?[{name:"Root",path:"/"}]:[{name:"Root",path:"/"},...r.split("/").filter(Boolean).map((y,j,k)=>({name:y,path:"/"+k.slice(0,j+1).join("/")}))],d=()=>{e(r)},v=y=>{y.target===y.currentTarget&&t()};return l.jsx("div",{className:"fb-dialog-overlay",onClick:v,children:l.jsxs("div",{className:"fb-dialog folder-picker-dialog",onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"fb-dialog-header",children:[l.jsx("h3",{children:"Select Beads Project Folder"}),l.jsx("button",{className:"fb-dialog-close",onClick:t,children:""})]}),l.jsxs("div",{className:"fb-dialog-body folder-picker-body",children:[l.jsxs("div",{className:"folder-picker-nav",children:[l.jsx("button",{className:"folder-picker-up-btn",onClick:C,disabled:r==="/",title:"Go up",children:""}),l.jsx("div",{className:"fb-breadcrumbs",children:m.map((y,j)=>l.jsxs("span",{children:[j>0&&l.jsx("span",{className:"fb-breadcrumb-sep",children:"/"}),l.jsx("button",{className:"fb-breadcrumb-item",onClick:()=>w(y.path),children:y.name})]},y.path))})]}),l.jsxs("div",{className:"folder-picker-path",children:[l.jsx("span",{className:"folder-picker-path-label",children:"Path:"}),l.jsx("code",{children:r}),p&&l.jsx("span",{className:"beads-badge",children:".beads"})]}),l.jsx("div",{className:"folder-picker-list",children:a?l.jsx("div",{className:"folder-picker-loading",children:"Loading..."}):u?l.jsx("div",{className:"folder-picker-error",children:u}):i.length===0?l.jsx("div",{className:"folder-picker-empty",children:"No subfolders"}):i.map(y=>l.jsxs("div",{className:`folder-picker-item ${y.hasBeads?"has-beads":""}`,onClick:()=>w(y.path),children:[l.jsx("span",{className:"folder-picker-icon",children:""}),l.jsx("span",{className:"folder-picker-name",children:y.name}),y.hasBeads&&l.jsx("span",{className:"beads-badge",children:".beads"})]},y.path))})]}),l.jsxs("div",{className:"fb-dialog-footer",children:[l.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-cancel",onClick:t,children:"Cancel"}),l.jsx("button",{className:"fb-dialog-btn fb-dialog-btn-primary",onClick:d,disabled:!p,title:p?"Select this folder":"Folder must contain .beads directory",children:"Select This Folder"})]})]})})}function Mn({label:e,value:t,onChange:n}){return l.jsxs("div",{className:"color-input-group",children:[l.jsx("span",{className:"color-input-label",children:e}),l.jsxs("div",{className:"color-input-controls",children:[l.jsx("input",{type:"color",value:t,onChange:r=>n(r.target.value),className:"color-picker"}),l.jsx("input",{type:"text",value:t,onChange:r=>n(r.target.value),className:"color-text-input",placeholder:"#000000"})]})]})}function Ny(){var g,x,N,w,C,m;const{settings:e,updateSettings:t}=ct(),[n,r]=f.useState(!1),s=d=>{const v=e.beadsProjectPaths||[];v.includes(d)||t({beadsProjectPaths:[...v,d]}),r(!1)},i=d=>{const v=e.beadsProjectPaths||[];t({beadsProjectPaths:v.filter(y=>y!==d)})},o=d=>{t({theme:d})},a=d=>{const v=parseInt(d.target.value,10);v>=12&&v<=20&&t({fontSize:v})},c=d=>{t({autoRefreshInterval:parseInt(d.target.value,10)})},u=d=>{t({defaultSessionPrefix:d.target.value})},h=(d,v)=>{t({tmuxAppearance:{...e.tmuxAppearance,[d]:v}})},p=d=>{const v=Rv[d];v&&t({tmuxAppearance:v})};return l.jsxs("div",{className:"settings-view",children:[l.jsx("h1",{className:"settings-title",children:"Settings"}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h2",{className:"settings-section-title",children:"Appearance"}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Theme"}),l.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(d=>l.jsx("button",{className:`theme-option ${e.theme===d?"selected":""} theme-${d}`,onClick:()=>o(d),children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),l.jsxs("div",{className:"settings-field",children:[l.jsxs("label",{className:"settings-label",children:["Font Size: ",e.fontSize,"px"]}),l.jsx("input",{type:"range",min:"12",max:"20",value:e.fontSize,onChange:a,className:"settings-slider"}),l.jsxs("div",{className:"slider-labels",children:[l.jsx("span",{children:"12px"}),l.jsx("span",{children:"20px"})]})]})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h2",{className:"settings-section-title",children:"tmux Appearance"}),l.jsx("p",{className:"settings-description",children:"Customize tmux colors. Changes apply instantly to all running sessions."}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Presets"}),l.jsx("div",{className:"settings-theme-options",children:["matrix","dark","gastown"].map(d=>l.jsx("button",{className:`theme-option theme-${d}`,onClick:()=>p(d),children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Status Bar"}),l.jsxs("div",{className:"settings-color-row",children:[l.jsx(Mn,{label:"Background",value:((g=e.tmuxAppearance)==null?void 0:g.statusBg)??"#000000",onChange:d=>h("statusBg",d)}),l.jsx(Mn,{label:"Foreground",value:((x=e.tmuxAppearance)==null?void 0:x.statusFg)??"#00ff41",onChange:d=>h("statusFg",d)})]})]}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Pane Borders"}),l.jsxs("div",{className:"settings-color-row",children:[l.jsx(Mn,{label:"Active",value:((N=e.tmuxAppearance)==null?void 0:N.paneBorderActive)??"#00ff41",onChange:d=>h("paneBorderActive",d)}),l.jsx(Mn,{label:"Inactive",value:((w=e.tmuxAppearance)==null?void 0:w.paneBorderInactive)??"#333333",onChange:d=>h("paneBorderInactive",d)})]})]}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Selection / Copy Mode"}),l.jsxs("div",{className:"settings-color-row",children:[l.jsx(Mn,{label:"Background",value:((C=e.tmuxAppearance)==null?void 0:C.modeStyleBg)??"#00ff41",onChange:d=>h("modeStyleBg",d)}),l.jsx(Mn,{label:"Foreground",value:((m=e.tmuxAppearance)==null?void 0:m.modeStyleFg)??"#000000",onChange:d=>h("modeStyleFg",d)})]})]}),l.jsx("p",{className:"settings-hint",children:"Use hex colors (#00ff41) or named colors (green, black, etc.)"})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h2",{className:"settings-section-title",children:"Session Defaults"}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Auto-refresh Interval"}),l.jsxs("select",{value:e.autoRefreshInterval,onChange:c,className:"settings-select",children:[l.jsx("option",{value:1e3,children:"1 second"}),l.jsx("option",{value:2e3,children:"2 seconds"}),l.jsx("option",{value:5e3,children:"5 seconds"}),l.jsx("option",{value:1e4,children:"10 seconds"}),l.jsx("option",{value:3e4,children:"30 seconds"})]}),l.jsx("p",{className:"settings-hint",children:"How often to check for new tmux sessions"})]}),l.jsxs("div",{className:"settings-field",children:[l.jsx("label",{className:"settings-label",children:"Default Session Prefix"}),l.jsx("input",{type:"text",value:e.defaultSessionPrefix,onChange:u,className:"settings-input",placeholder:"shell",maxLength:20}),l.jsx("p",{className:"settings-hint",children:'Prefix used when creating new sessions (e.g., "shell-abc123")'})]})]}),l.jsxs("section",{className:"settings-section",children:[l.jsx("h2",{className:"settings-section-title",children:"Beads Projects"}),l.jsx("p",{className:"settings-description",children:"Manually add project paths for beads discovery. Use this for projects in nested directories."}),l.jsx("div",{className:"beads-project-list",children:e.beadsProjectPaths&&e.beadsProjectPaths.length>0?e.beadsProjectPaths.map(d=>l.jsxs("div",{className:"beads-project-item",children:[l.jsx("span",{className:"beads-project-path",children:d}),l.jsx("button",{className:"beads-project-remove",onClick:()=>i(d),title:"Remove project",children:""})]},d)):l.jsx("p",{className:"settings-hint",children:"No manual project paths configured."})}),l.jsx("button",{className:"settings-btn settings-btn-add",onClick:()=>r(!0),children:"+ Add Project"})]}),l.jsx("section",{className:"settings-section settings-info",children:l.jsx("p",{children:"Settings are automatically saved to your browser's local storage."})}),n&&l.jsx(jy,{onSelect:s,onClose:()=>r(!1)})]})}function Sy(){const{floatingSession:e,closeFloatingModal:t,settings:n}=ct(),[r,s]=f.useState(!1),[i,o]=f.useState({x:80,y:60}),[a]=f.useState({width:1e3,height:700}),[c,u]=f.useState(!1),h=f.useRef({x:0,y:0}),p=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{s(!1)},[e]);const x=f.useCallback(()=>{try{const d=p.current;if(!(d!=null&&d.contentWindow))return;d.contentWindow.dispatchEvent(new Event("resize"))}catch{}},[]),N=f.useCallback(d=>{const v=p.current;if(!(v!=null&&v.contentWindow))return;let y=0;const j=20,k=()=>{try{const S=v.contentWindow;if(S.term){S.term.options.fontSize=d;return}}catch{}y++,y<j&&setTimeout(k,50)};k()},[]),w=f.useCallback(()=>{s(!0),N(n.fontSize),setTimeout(x,100),setTimeout(x,300),setTimeout(x,500)},[N,n.fontSize,x]);f.useEffect(()=>{r&&N(n.fontSize)},[r,n.fontSize,N]),f.useEffect(()=>{const d=g.current;if(!d)return;let v;const y=new ResizeObserver(()=>{clearTimeout(v),v=setTimeout(x,100)});return y.observe(d),()=>{clearTimeout(v),y.disconnect()}},[x]);const C=d=>{d.target.closest(".modal-close")||(u(!0),h.current={x:d.clientX-i.x,y:d.clientY-i.y})};if(f.useEffect(()=>{if(!c)return;const d=y=>{o({x:y.clientX-h.current.x,y:y.clientY-h.current.y})},v=()=>{u(!1)};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)}},[c]),!e)return null;const m=e.includes("-")?e.split("-").slice(-1)[0]:e;return l.jsx("div",{className:"floating-modal-overlay",onClick:t,children:l.jsxs("div",{className:"floating-modal",style:{left:i.x,top:i.y,width:a.width,height:a.height},onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"floating-modal-header",onMouseDown:C,children:[l.jsx("span",{className:"modal-title",children:m}),l.jsxs("div",{className:"modal-controls",children:[l.jsx("span",{className:`status-dot ${r?"":"disconnected"}`}),l.jsx("button",{className:"modal-close",onClick:t,children:""})]})]}),l.jsx("div",{ref:g,className:"floating-modal-body",children:l.jsx("iframe",{ref:p,src:`/terminal/?arg=${encodeURIComponent(e)}`,onLoad:w,style:{width:"100%",height:"100%",border:"none",backgroundColor:"#0a0a0a"},title:`Terminal - ${e}`},e)})]})})}const ky=[{id:"overview",label:"Overview",icon:"01"},{id:"terminal",label:"Terminal",icon:"02"},{id:"sessions",label:"Sessions",icon:"03"},{id:"files",label:"Files",icon:"04"},{id:"shortcuts",label:"tmux",icon:"05"},{id:"tips",label:"Tips",icon:"06"}];function by(){const[e,t]=f.useState("overview"),n=()=>{switch(e){case"overview":return l.jsx(Nu,{});case"terminal":return l.jsx(Cy,{});case"sessions":return l.jsx(Ey,{});case"files":return l.jsx(Py,{});case"shortcuts":return l.jsx(Dy,{});case"tips":return l.jsx(Ty,{});default:return l.jsx(Nu,{})}};return l.jsxs("div",{className:"help-view",children:[l.jsxs("div",{className:"help-header",children:[l.jsx("h1",{className:"help-title",children:"Chrote Dashboard"}),l.jsx("p",{className:"help-subtitle",children:"Your command center for AI agent orchestration"})]}),l.jsx("nav",{className:"help-nav",children:ky.map(r=>l.jsxs("button",{className:`help-nav-item ${e===r.id?"active":""}`,onClick:()=>t(r.id),children:[l.jsx("span",{className:"help-nav-icon",children:r.icon}),l.jsx("span",{className:"help-nav-label",children:r.label})]},r.id))}),l.jsx("div",{className:"help-content",children:n()})]})}function Nu(){return l.jsxs("div",{className:"help-section-content",children:[l.jsxs("div",{className:"help-hero",children:[l.jsx("div",{className:"help-hero-icon",children:""}),l.jsx("h2",{children:"Welcome to Chrote"}),l.jsx("p",{children:"A powerful dashboard for managing tmux sessions and AI agents in a unified interface."})]}),l.jsxs("div",{className:"help-features-grid",children:[l.jsxs("div",{className:"help-feature-card",children:[l.jsx("div",{className:"help-feature-icon",children:""}),l.jsx("h3",{children:"Multi-Terminal View"}),l.jsx("p",{children:"View up to 4 terminal sessions simultaneously in a responsive grid layout."})]}),l.jsxs("div",{className:"help-feature-card",children:[l.jsx("div",{className:"help-feature-icon",children:""}),l.jsx("h3",{children:"Drag & Drop"}),l.jsx("p",{children:"Organize sessions by dragging them between terminal windows or the sidebar."})]}),l.jsxs("div",{className:"help-feature-card",children:[l.jsx("div",{className:"help-feature-icon",children:""}),l.jsx("h3",{children:"File Browser"}),l.jsx("p",{children:"Browse, upload, and manage files directly within the dashboard."})]}),l.jsxs("div",{className:"help-feature-card",children:[l.jsx("div",{className:"help-feature-icon",children:""}),l.jsx("h3",{children:"Customizable"}),l.jsx("p",{children:"Choose from multiple themes and customize tmux colors to match your style."})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Quick Start"}),l.jsxs("ol",{className:"help-steps",children:[l.jsxs("li",{children:[l.jsx("span",{className:"help-step-number",children:"1"}),l.jsxs("div",{className:"help-step-content",children:[l.jsx("strong",{children:"View Sessions"}),l.jsx("p",{children:"Your tmux sessions appear in the left sidebar. Each session shows its agent name."})]})]}),l.jsxs("li",{children:[l.jsx("span",{className:"help-step-number",children:"2"}),l.jsxs("div",{className:"help-step-content",children:[l.jsx("strong",{children:"Assign to Windows"}),l.jsx("p",{children:"Drag sessions from the sidebar onto any of the terminal windows to view them."})]})]}),l.jsxs("li",{children:[l.jsx("span",{className:"help-step-number",children:"3"}),l.jsxs("div",{className:"help-step-content",children:[l.jsx("strong",{children:"Interact"}),l.jsx("p",{children:"Click on a terminal window to focus it, then type commands directly."})]})]})]})]})]})}function Cy(){return l.jsxs("div",{className:"help-section-content",children:[l.jsx("h2",{children:"Terminal Windows"}),l.jsx("p",{className:"help-intro",children:"The terminal view displays up to 4 tmux sessions in a responsive grid layout."}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Window Layout"}),l.jsx("div",{className:"help-layout-demo",children:l.jsxs("div",{className:"help-layout-grid",children:[l.jsx("div",{className:"help-layout-cell",children:"Window 1"}),l.jsx("div",{className:"help-layout-cell",children:"Window 2"}),l.jsx("div",{className:"help-layout-cell",children:"Window 3"}),l.jsx("div",{className:"help-layout-cell",children:"Window 4"})]})}),l.jsx("p",{className:"help-hint",children:"The grid automatically adjusts based on how many windows have sessions assigned."})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Window Controls"}),l.jsxs("div",{className:"help-control-list",children:[l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Pop Out"}),l.jsx("p",{children:"Open a terminal in a floating window for better multitasking."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Clear"}),l.jsx("p",{children:"Remove all sessions from a window without closing them."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Cycle Sessions"}),l.jsx("p",{children:"When multiple sessions are assigned, cycle through them with the arrow buttons."})]})]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Session Tags"}),l.jsx("p",{children:"Each window shows colored tags for assigned sessions. You can:"}),l.jsxs("ul",{className:"help-list",children:[l.jsx("li",{children:"Click a tag to switch to that session"}),l.jsx("li",{children:"Drag tags between windows to reorganize"}),l.jsx("li",{children:"Drag tags outside to remove from the window"})]})]})]})}function Ey(){return l.jsxs("div",{className:"help-section-content",children:[l.jsx("h2",{children:"Session Management"}),l.jsx("p",{className:"help-intro",children:"The sidebar shows all available tmux sessions and provides drag-and-drop organization."}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Session Panel"}),l.jsx("p",{children:"The left sidebar displays all running tmux sessions. Sessions are identified by:"}),l.jsxs("ul",{className:"help-list",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Agent Name"}),' - Extracted from the session name (e.g., "claude" from "gastown-claude-abc123")']}),l.jsxs("li",{children:[l.jsx("strong",{children:"Color Indicator"})," - Each session gets a unique color for easy identification"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Assignment Status"})," - Dimmed appearance if already assigned to a window"]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Drag & Drop"}),l.jsxs("div",{className:"help-drag-demo",children:[l.jsxs("div",{className:"help-drag-source",children:[l.jsx("span",{children:"Session"}),l.jsx("span",{className:"help-drag-arrow",children:""})]}),l.jsx("div",{className:"help-drag-target",children:l.jsx("span",{children:"Window"})})]}),l.jsxs("ul",{className:"help-list",children:[l.jsx("li",{children:"Drag from sidebar to assign a session to a window"}),l.jsx("li",{children:"Drag between windows to move sessions"}),l.jsx("li",{children:"Drag outside any window to unassign"})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Panel Controls"}),l.jsxs("div",{className:"help-control-list",children:[l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Collapse/Expand"}),l.jsx("p",{children:"Toggle the sidebar to maximize terminal space."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Auto-Refresh"}),l.jsx("p",{children:"Sessions automatically refresh. Adjust the interval in Settings."})]})]})]})]})]})}function Py(){return l.jsxs("div",{className:"help-section-content",children:[l.jsx("h2",{children:"File Browser"}),l.jsx("p",{className:"help-intro",children:"Browse and manage files on the server through an integrated file manager."}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Features"}),l.jsxs("div",{className:"help-control-list",children:[l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Browse Files"}),l.jsx("p",{children:"Navigate through directories with a familiar file explorer interface."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Upload"}),l.jsx("p",{children:"Drag and drop files to upload them to the server."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Download"}),l.jsx("p",{children:"Download files directly to your local machine."})]})]}),l.jsxs("div",{className:"help-control-item",children:[l.jsx("span",{className:"help-control-icon",children:""}),l.jsxs("div",{children:[l.jsx("strong",{children:"Edit"}),l.jsx("p",{children:"Open and edit text files with syntax highlighting."})]})]})]})]}),l.jsxs("div",{className:"help-card help-card-accent",children:[l.jsx("h3",{children:"Workspace Path"}),l.jsx("p",{children:"The file browser is rooted at the configured workspace directory. All agent operations happen within this sandboxed environment."})]})]})}function Dy(){return l.jsxs("div",{className:"help-section-content",children:[l.jsx("h2",{children:"tmux Commands"}),l.jsxs("p",{className:"help-intro",children:["Useful tmux commands for working with terminal sessions. The prefix key is ",l.jsx("kbd",{children:"Ctrl"})," + ",l.jsx("kbd",{children:"B"}),"."]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Copy & Scroll Mode"}),l.jsxs("div",{className:"help-shortcuts-table",children:[l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"["})]}),l.jsx("span",{children:"Enter copy/scroll mode"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"q"})}),l.jsx("span",{children:"Exit copy mode"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"Space"})}),l.jsx("span",{children:"Start selection (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"Enter"})}),l.jsx("span",{children:"Copy selection (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"]"})]}),l.jsx("span",{children:"Paste copied text"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"g"})}),l.jsx("span",{children:"Go to top (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"G"})}),l.jsx("span",{children:"Go to bottom (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"/"})}),l.jsx("span",{children:"Search forward (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsx("div",{className:"help-shortcut-keys",children:l.jsx("kbd",{children:"?"})}),l.jsx("span",{children:"Search backward (in copy mode)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"n"})," / ",l.jsx("kbd",{children:"N"})]}),l.jsx("span",{children:"Next / previous search result"})]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Window Management"}),l.jsxs("div",{className:"help-shortcuts-table",children:[l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"c"})]}),l.jsx("span",{children:"Create new window"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"n"})]}),l.jsx("span",{children:"Next window"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"p"})]}),l.jsx("span",{children:"Previous window"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"0-9"})]}),l.jsx("span",{children:"Switch to window by number"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"w"})]}),l.jsx("span",{children:"List all windows"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"&"})]}),l.jsx("span",{children:"Kill current window"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:","})]}),l.jsx("span",{children:"Rename current window"})]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Pane Management"}),l.jsxs("div",{className:"help-shortcuts-table",children:[l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"%"})]}),l.jsx("span",{children:"Split pane vertically"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:'"'})]}),l.jsx("span",{children:"Split pane horizontally"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"Arrow"})]}),l.jsx("span",{children:"Move between panes"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"z"})]}),l.jsx("span",{children:"Toggle pane zoom (fullscreen)"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"x"})]}),l.jsx("span",{children:"Kill current pane"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"o"})]}),l.jsx("span",{children:"Cycle through panes"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"{"})," / ",l.jsx("kbd",{children:"}"})]}),l.jsx("span",{children:"Swap pane left / right"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"Ctrl+Arrow"})]}),l.jsx("span",{children:"Resize pane"})]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Session Commands"}),l.jsxs("div",{className:"help-shortcuts-table",children:[l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"d"})]}),l.jsx("span",{children:"Detach from session"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"s"})]}),l.jsx("span",{children:"List all sessions"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"$"})]}),l.jsx("span",{children:"Rename current session"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"("})," / ",l.jsx("kbd",{children:")"})]}),l.jsx("span",{children:"Previous / next session"})]})]})]}),l.jsxs("div",{className:"help-card",children:[l.jsx("h3",{children:"Miscellaneous"}),l.jsxs("div",{className:"help-shortcuts-table",children:[l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:":"})]}),l.jsx("span",{children:"Enter command mode"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"?"})]}),l.jsx("span",{children:"List all key bindings"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"t"})]}),l.jsx("span",{children:"Show clock"})]}),l.jsxs("div",{className:"help-shortcut-row",children:[l.jsxs("div",{className:"help-shortcut-keys",children:[l.jsx("kbd",{children:"Prefix"})," ",l.jsx("kbd",{children:"~"})]}),l.jsx("span",{children:"Show tmux messages"})]})]})]})]})}function Ty(){return l.jsxs("div",{className:"help-section-content",children:[l.jsx("h2",{children:"Tips & Tricks"}),l.jsx("p",{className:"help-intro",children:"Get the most out of Chrote with these pro tips."}),l.jsxs("div",{className:"help-tips-grid",children:[l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"01"}),l.jsx("h3",{children:"Scroll History"}),l.jsxs("p",{children:["Use ",l.jsx("kbd",{children:"Ctrl+B"})," then ",l.jsx("kbd",{children:"["})," to enter copy mode and scroll through terminal history with arrow keys or Page Up/Down."]})]}),l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"02"}),l.jsx("h3",{children:"Quick Copy Text"}),l.jsxs("p",{children:["Hold ",l.jsx("kbd",{children:"Shift"})," while selecting text with your mouse to bypass tmux and perform a native selection. Then use ",l.jsx("kbd",{children:"Ctrl+C"})," to copy."]})]}),l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"03"}),l.jsx("h3",{children:"Search in Terminal"}),l.jsxs("p",{children:["In copy mode, press ",l.jsx("kbd",{children:"/"})," to search forward or ",l.jsx("kbd",{children:"?"})," to search backward through the terminal output."]})]}),l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"04"}),l.jsx("h3",{children:"Theme Matching"}),l.jsx("p",{children:"Match your tmux theme with the dashboard theme in Settings for a cohesive experience."})]}),l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"05"}),l.jsx("h3",{children:"Collapse for Space"}),l.jsx("p",{children:"Collapse the session panel when you need maximum terminal real estate."})]}),l.jsxs("div",{className:"help-tip-card",children:[l.jsx("div",{className:"help-tip-number",children:"06"}),l.jsx("h3",{children:"CLI Commands"}),l.jsxs("p",{children:["Use ",l.jsx("code",{children:"gt peek"})," and ",l.jsx("code",{children:"gt status"})," in any terminal for Gastown monitoring."]})]})]}),l.jsxs("div",{className:"help-card help-card-accent",children:[l.jsx("h3",{children:"Need More Help?"}),l.jsxs("p",{children:["Check the ",l.jsx("strong",{children:"Status"})," tab to verify system health, or visit the ",l.jsx("strong",{children:"Settings"})," tab to customize your experience."]})]})]})}const ri="/api/beads";async function si(e,t){const n=new URL(e,window.location.origin);return t&&Object.entries(t).forEach(([s,i])=>{n.searchParams.set(s,i)}),(await fetch(n.toString())).json()}function Ry(){const{settings:e}=ct(),[t,n]=f.useState([]),[r,s]=f.useState(!0),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;s(!0),o(null);try{const u=await si(`${ri}/projects`);let h=[];u.success&&u.data&&(h=[...u.data.projects]);const p=e.beadsProjectPaths||[];for(const g of p){if(h.some(N=>N.path===g))continue;const x=g.split("/").filter(Boolean).pop()||g;h.push({name:x,path:g,beadsPath:`${g}/.beads`})}n(h),!u.success&&p.length===0&&o(((c=u.error)==null?void 0:c.message)||"Failed to fetch projects")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{s(!1)}},[e.beadsProjectPaths]);return f.useEffect(()=>{a()},[a]),{projects:t,loading:r,error:i,refresh:a}}function Iy(e){const[t,n]=f.useState([]),[r,s]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n([]);return}s(!0),o(null);try{const u=await si(`${ri}/issues`,{path:e});u.success&&u.data?n(u.data.issues):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch issues")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{s(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{issues:t,loading:r,error:i,refresh:a}}function Ly(e){const[t,n]=f.useState(null),[r,s]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n(null);return}s(!0),o(null);try{const u=await si(`${ri}/triage`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch triage")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{s(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{triage:t,loading:r,error:i,refresh:a}}function My(e){const[t,n]=f.useState(null),[r,s]=f.useState(!1),[i,o]=f.useState(null),a=f.useCallback(async()=>{var c;if(!e){n(null);return}s(!0),o(null);try{const u=await si(`${ri}/insights`,{path:e});u.success&&u.data?n(u.data):o(((c=u.error)==null?void 0:c.message)||"Failed to fetch insights")}catch(u){o(u instanceof Error?u.message:"Network error")}finally{s(!1)}},[e]);return f.useEffect(()=>{a()},[a]),{insights:t,loading:r,error:i,refresh:a}}function Oy({projects:e,selectedPath:t,onSelect:n,loading:r}){return r?l.jsx("div",{className:"project-selector",children:l.jsx("select",{disabled:!0,children:l.jsx("option",{children:"Loading projects..."})})}):e.length===0?l.jsx("div",{className:"project-selector",children:l.jsx("select",{disabled:!0,children:l.jsx("option",{children:"No projects with .beads found"})})}):l.jsxs("div",{className:"project-selector",children:[l.jsx("label",{htmlFor:"project-select",children:"Project:"}),l.jsxs("select",{id:"project-select",value:t||"",onChange:s=>n(s.target.value),children:[l.jsx("option",{value:"",children:"Select a project"}),e.map(s=>l.jsxs("option",{value:s.path,children:[s.name," (",s.path,")"]},s.path))]})]})}const _y={open:"var(--beads-status-open)",in_progress:"var(--beads-status-progress)",blocked:"var(--beads-status-blocked)",closed:"var(--beads-status-closed)",ready:"var(--beads-status-ready)",wont_fix:"var(--beads-status-closed)",duplicate:"var(--beads-status-closed)",deferred:"var(--beads-status-deferred)"},zy={bug:"",feature:"",task:"",chore:"",epic:""};function Su(e){return e?e===1?"P1":e===2?"P2":e===3?"P3":`P${e}`:""}function ku(e){return e?e===1?"priority-critical":e===2?"priority-high":e===3?"priority-medium":"priority-low":""}function Ay(e){return e.replace(/_/g," ")}function Yr({issue:e,compact:t=!1,showDependencies:n=!1,highlighted:r=!1}){const s=_y[e.status]||"var(--text-secondary)",i=e.type&&zy[e.type]||"";return t?l.jsxs("div",{className:`issue-card compact ${r?"highlighted":""}`,children:[l.jsx("span",{className:"issue-id",children:e.id}),l.jsx("span",{className:"issue-title",children:e.title}),e.priority&&l.jsx("span",{className:`issue-priority ${ku(e.priority)}`,children:Su(e.priority)})]}):l.jsxs("div",{className:`issue-card ${r?"highlighted":""}`,children:[l.jsxs("div",{className:"issue-card-header",children:[l.jsx("span",{className:"issue-id",children:e.id}),l.jsxs("div",{className:"issue-card-meta",children:[i&&l.jsx("span",{className:"issue-type-icon",title:e.type,children:i}),e.priority&&l.jsx("span",{className:`issue-priority ${ku(e.priority)}`,children:Su(e.priority)}),l.jsx("span",{className:"issue-status",style:{color:s},children:Ay(e.status)})]})]}),l.jsx("div",{className:"issue-card-title",children:e.title}),e.assignee&&l.jsxs("div",{className:"issue-card-assignee",children:[l.jsx("span",{className:"assignee-label",children:"Assignee:"})," ",e.assignee]}),n&&e.dependencies&&e.dependencies.length>0&&l.jsxs("div",{className:"issue-card-deps",children:[l.jsx("span",{className:"deps-label",children:"Blocks:"})," ",e.dependencies.map((o,a)=>l.jsxs("span",{className:"dep-id",children:[o,a<e.dependencies.length-1?", ":""]},o))]}),e.labels&&e.labels.length>0&&l.jsx("div",{className:"issue-card-labels",children:e.labels.map(o=>l.jsx("span",{className:"issue-label",children:o},o))})]})}const bu=[{status:"open",label:"Open"},{status:"ready",label:"Ready"},{status:"in_progress",label:"In Progress"},{status:"blocked",label:"Blocked"},{status:"closed",label:"Closed"}];function Fy({issues:e,loading:t,error:n}){if(t)return l.jsx("div",{className:"beads-kanban loading",children:l.jsx("div",{className:"loading-message",children:"Loading issues..."})});if(n)return l.jsx("div",{className:"beads-kanban error",children:l.jsx("div",{className:"error-message",children:n})});if(e.length===0)return l.jsx("div",{className:"beads-kanban empty",children:l.jsx("div",{className:"empty-message",children:"No issues found"})});const r=new Map;for(const i of bu.map(o=>o.status))r.set(i,[]);const s=[];for(const i of e){const o=i.status;r.has(o)?r.get(o).push(i):s.push(i)}for(const[,i]of r)i.sort((o,a)=>(o.priority||99)-(a.priority||99));return s.sort((i,o)=>(i.priority||99)-(o.priority||99)),l.jsxs("div",{className:"beads-kanban",children:[bu.map(i=>{const o=r.get(i.status)||[];return l.jsxs("div",{className:`kanban-column status-${i.status}`,children:[l.jsxs("div",{className:"kanban-column-header",children:[l.jsx("span",{className:"column-title",children:i.label}),l.jsx("span",{className:"column-count",children:o.length})]}),l.jsx("div",{className:"kanban-column-content",children:o.map(a=>l.jsx(Yr,{issue:a,showDependencies:!0},a.id))})]},i.status)}),s.length>0&&l.jsxs("div",{className:"kanban-column status-other",children:[l.jsxs("div",{className:"kanban-column-header",children:[l.jsx("span",{className:"column-title",children:"Other"}),l.jsx("span",{className:"column-count",children:s.length})]}),l.jsx("div",{className:"kanban-column-content",children:s.map(i=>l.jsx(Yr,{issue:i,showDependencies:!0},i.id))})]})]})}const $y={high:"var(--beads-impact-high)",medium:"var(--beads-impact-medium)",low:"var(--beads-impact-low)"};function $i(e,t){return e.find(n=>n.id===t)}function By({triage:e,issues:t,loading:n,error:r}){return n?l.jsx("div",{className:"beads-triage loading",children:l.jsx("div",{className:"loading-message",children:"Analyzing issues..."})}):r?l.jsx("div",{className:"beads-triage error",children:l.jsx("div",{className:"error-message",children:r})}):e?l.jsx("div",{className:"beads-triage",children:l.jsxs("div",{className:"triage-sections",children:[l.jsxs("section",{className:"triage-section recommendations",children:[l.jsx("h3",{children:"Recommended Next"}),e.recommendations.length===0?l.jsx("p",{className:"no-items",children:"No recommendations"}):l.jsx("div",{className:"recommendation-list",children:e.recommendations.map(s=>{const i=$i(t,s.issueId);return l.jsxs("div",{className:"recommendation-item",children:[l.jsxs("div",{className:"rec-header",children:[l.jsxs("span",{className:"rec-rank",children:["#",s.rank]}),l.jsxs("span",{className:"rec-impact",style:{color:$y[s.estimatedImpact]},children:[s.estimatedImpact," impact"]})]}),i?l.jsx(Yr,{issue:i}):l.jsxs("div",{className:"issue-card missing",children:[l.jsx("span",{className:"issue-id",children:s.issueId}),l.jsx("span",{className:"issue-missing",children:"(issue not found)"})]}),l.jsx("div",{className:"rec-reasoning",children:s.reasoning})]},s.issueId)})})]}),l.jsxs("section",{className:"triage-section quick-wins",children:[l.jsx("h3",{children:"Quick Wins"}),l.jsx("p",{className:"section-desc",children:"Low-effort issues with no dependencies"}),e.quickWins.length===0?l.jsx("p",{className:"no-items",children:"No quick wins identified"}):l.jsx("div",{className:"quick-wins-list",children:e.quickWins.map(s=>{const i=$i(t,s);return i?l.jsx(Yr,{issue:i,compact:!0},s):l.jsx("div",{className:"issue-card compact missing",children:l.jsx("span",{className:"issue-id",children:s})},s)})})]}),l.jsxs("section",{className:"triage-section blockers",children:[l.jsx("h3",{children:"Blockers"}),l.jsx("p",{className:"section-desc",children:"Issues blocking other work"}),e.blockers.length===0?l.jsx("p",{className:"no-items",children:"No blockers identified"}):l.jsx("div",{className:"blockers-list",children:e.blockers.map(s=>{const i=$i(t,s);return i?l.jsx(Yr,{issue:i,showDependencies:!0},s):l.jsx("div",{className:"issue-card missing",children:l.jsx("span",{className:"issue-id",children:s})},s)})})]})]})}):l.jsx("div",{className:"beads-triage empty",children:l.jsx("div",{className:"empty-message",children:"No triage data available"})})}function Wy({score:e}){const t=n=>n>=80?"var(--beads-health-good)":n>=50?"var(--beads-health-warning)":"var(--beads-health-critical)";return l.jsxs("div",{className:"health-gauge",children:[l.jsxs("div",{className:"gauge-circle",children:[l.jsxs("svg",{viewBox:"0 0 100 100",children:[l.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--bg-tertiary)",strokeWidth:"8"}),l.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:t(e),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${e*2.83} 283`,transform:"rotate(-90 50 50)"})]}),l.jsx("div",{className:"gauge-value",children:e})]}),l.jsx("div",{className:"gauge-label",children:"Health Score"})]})}function Us({label:e,value:t,variant:n}){return l.jsxs("div",{className:`stat-card ${n||""}`,children:[l.jsx("div",{className:"stat-value",children:t}),l.jsx("div",{className:"stat-label",children:e})]})}function Uy({insights:e,loading:t,error:n}){return t?l.jsx("div",{className:"beads-insights loading",children:l.jsx("div",{className:"loading-message",children:"Calculating insights..."})}):n?l.jsx("div",{className:"beads-insights error",children:l.jsx("div",{className:"error-message",children:n})}):e?l.jsx("div",{className:"beads-insights",children:l.jsxs("div",{className:"insights-grid",children:[l.jsx("div",{className:"insights-section health-section",children:l.jsx(Wy,{score:e.health.score})}),l.jsxs("div",{className:"insights-section stats-section",children:[l.jsx("h3",{children:"Overview"}),l.jsxs("div",{className:"stats-grid",children:[l.jsx(Us,{label:"Total Issues",value:e.issueCount}),l.jsx(Us,{label:"Open",value:e.openCount,variant:"open"}),l.jsx(Us,{label:"Blocked",value:e.blockedCount,variant:"blocked"}),l.jsx(Us,{label:"Closed",value:e.closedCount||0,variant:"closed"})]})]}),e.byStatus&&Object.keys(e.byStatus).length>0&&l.jsxs("div",{className:"insights-section breakdown-section",children:[l.jsx("h3",{children:"By Status"}),l.jsx("div",{className:"breakdown-list",children:Object.entries(e.byStatus).map(([r,s])=>l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{className:"breakdown-label",children:r.replace(/_/g," ")}),l.jsx("span",{className:"breakdown-value",children:s}),l.jsx("div",{className:"breakdown-bar",style:{width:`${s/e.issueCount*100}%`}})]},r))})]}),e.byType&&Object.keys(e.byType).length>0&&l.jsxs("div",{className:"insights-section breakdown-section",children:[l.jsx("h3",{children:"By Type"}),l.jsx("div",{className:"breakdown-list",children:Object.entries(e.byType).map(([r,s])=>l.jsxs("div",{className:"breakdown-item",children:[l.jsx("span",{className:"breakdown-label",children:r}),l.jsx("span",{className:"breakdown-value",children:s}),l.jsx("div",{className:"breakdown-bar type-bar",style:{width:`${s/e.issueCount*100}%`}})]},r))})]}),e.health.risks.length>0&&l.jsxs("div",{className:"insights-section risks-section",children:[l.jsx("h3",{children:"Risks"}),l.jsx("ul",{className:"risks-list",children:e.health.risks.map((r,s)=>l.jsx("li",{className:"risk-item",children:r},s))})]}),e.health.warnings.length>0&&l.jsxs("div",{className:"insights-section warnings-section",children:[l.jsx("h3",{children:"Warnings"}),l.jsx("ul",{className:"warnings-list",children:e.health.warnings.map((r,s)=>l.jsx("li",{className:"warning-item",children:r},s))})]}),e.metrics&&l.jsxs("div",{className:"insights-section metrics-section",children:[l.jsx("h3",{children:"Graph Metrics"}),l.jsxs("div",{className:"metrics-content",children:[e.metrics.density!==void 0&&l.jsxs("div",{className:"metric-item",children:[l.jsx("span",{className:"metric-label",children:"Graph Density"}),l.jsxs("span",{className:"metric-value",children:[(e.metrics.density*100).toFixed(1),"%"]})]}),e.metrics.cycles&&e.metrics.cycles.length>0&&l.jsxs("div",{className:"metric-item warning",children:[l.jsx("span",{className:"metric-label",children:"Circular Dependencies"}),l.jsx("span",{className:"metric-value",children:e.metrics.cycles.length})]}),e.metrics.criticalPath&&e.metrics.criticalPath.length>0&&l.jsxs("div",{className:"metric-item",children:[l.jsx("span",{className:"metric-label",children:"Critical Path Length"}),l.jsx("span",{className:"metric-value",children:e.metrics.criticalPath.length})]})]})]})]})}):l.jsx("div",{className:"beads-insights empty",children:l.jsx("div",{className:"empty-message",children:"No insights available"})})}const Vy=[{id:"kanban",label:"Kanban"},{id:"triage",label:"Triage"},{id:"insights",label:"Insights"}];function Ky(){const[e,t]=f.useState("kanban"),[n,r]=f.useState(null),{projects:s,loading:i}=Ry(),{issues:o,loading:a,error:c,refresh:u}=Iy(n),{triage:h,loading:p,error:g,refresh:x}=Ly(n),{insights:N,loading:w,error:C,refresh:m}=My(n),d=f.useCallback(j=>{r(j||null)},[]),v=f.useCallback(()=>{u(),x(),m()},[u,x,m]),y=a||p||w;return l.jsxs("div",{className:"beads-view",children:[l.jsxs("div",{className:"beads-header",children:[l.jsx(Oy,{projects:s,selectedPath:n,onSelect:d,loading:i}),n&&l.jsx("button",{className:"beads-refresh-btn",onClick:v,disabled:y,title:"Refresh data",children:y?"Loading...":"Refresh"})]}),n?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"beads-subtabs",children:Vy.map(j=>l.jsx("button",{className:`beads-subtab ${e===j.id?"active":""}`,onClick:()=>t(j.id),children:j.label},j.id))}),l.jsxs("div",{className:"beads-content",children:[e==="kanban"&&l.jsx(Fy,{issues:o,loading:a,error:c}),e==="triage"&&l.jsx(By,{triage:h,issues:o,loading:p,error:g}),e==="insights"&&l.jsx(Uy,{insights:N,loading:w,error:C})]})]}):l.jsxs("div",{className:"beads-empty-state",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("h2",{children:"Select a Project"}),l.jsx("p",{children:"Choose a project with a .beads directory to view issues and insights."}),s.length===0&&!i&&l.jsx("p",{className:"empty-hint",children:"No projects found. Create a .beads directory in /code or /workspace to get started."})]})]})}const li="/api/mail";async function ii(e,t){const n=new URL(e,window.location.origin);return(await fetch(n.toString(),t)).json()}function Hy(){const[e,t]=f.useState([]),[n,r]=f.useState(!0),[s,i]=f.useState(null),o=f.useCallback(async()=>{var a;r(!0),i(null);try{const c=await ii(`${li}/inbox`);c.success&&c.data?t(c.data.messages):i(((a=c.error)==null?void 0:a.message)||"Failed to fetch inbox")}catch(c){i(c instanceof Error?c.message:"Network error")}finally{r(!1)}},[]);return f.useEffect(()=>{o()},[o]),{messages:e,loading:n,error:s,refresh:o}}function Qy(){const[e,t]=f.useState([]),[n,r]=f.useState(!0),[s,i]=f.useState(null),o=f.useCallback(async()=>{var a;r(!0),i(null);try{const c=await ii(`${li}/recipients`);c.success&&c.data?t(c.data.recipients):i(((a=c.error)==null?void 0:a.message)||"Failed to fetch recipients")}catch(c){i(c instanceof Error?c.message:"Network error")}finally{r(!1)}},[]);return f.useEffect(()=>{o()},[o]),{recipients:e,loading:n,error:s,refresh:o}}async function Yy(e,t,n){var r;try{const s=await ii(`${li}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,subject:t,body:n})});return s.success?{success:!0}:{success:!1,error:((r=s.error)==null?void 0:r.message)||"Failed to send message"}}catch(s){return{success:!1,error:s instanceof Error?s.message:"Network error"}}}async function Gy(e){var t;try{const n=await ii(`${li}/read/${e}`,{method:"POST"});return n.success?{success:!0}:{success:!1,error:((t=n.error)==null?void 0:t.message)||"Failed to mark as read"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}function Xy({message:e,selected:t,onSelect:n}){const r=s=>{const i=new Date(s),o=new Date;return i.toDateString()===o.toDateString()?i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):i.toLocaleDateString([],{month:"short",day:"numeric"})};return l.jsxs("div",{className:`mail-item ${t?"selected":""} ${e.read?"":"unread"}`,onClick:()=>n(e.id),children:[l.jsxs("div",{className:"mail-item-header",children:[l.jsx("span",{className:"mail-from",children:e.from}),l.jsx("span",{className:"mail-date",children:r(e.timestamp)})]}),l.jsx("div",{className:"mail-subject",children:e.subject}),l.jsxs("div",{className:"mail-preview",children:[e.body.slice(0,80),e.body.length>80?"...":""]}),!e.read&&l.jsx("span",{className:"mail-unread-dot"})]})}function Jy({messages:e,loading:t,error:n,onRefresh:r}){const[s,i]=f.useState(null),o=e.find(u=>u.id===s),a=async u=>{i(u);const h=e.find(p=>p.id===u);h&&!h.read&&(await Gy(u),r())},c=()=>{i(null)};return t&&e.length===0?l.jsxs("div",{className:"mail-loading",children:[l.jsx("div",{className:"loading-spinner"}),"Loading inbox..."]}):n?l.jsxs("div",{className:"mail-error",children:[l.jsx("div",{className:"error-icon",children:"!"}),l.jsx("p",{children:n}),l.jsx("button",{onClick:r,children:"Retry"})]}):o?l.jsxs("div",{className:"mail-detail",children:[l.jsx("div",{className:"mail-detail-header",children:l.jsx("button",{className:"mail-back-btn",onClick:c,children:"Back"})}),l.jsxs("div",{className:"mail-detail-content",children:[l.jsxs("div",{className:"mail-detail-meta",children:[l.jsx("div",{className:"mail-detail-subject",children:o.subject}),l.jsxs("div",{className:"mail-detail-from",children:[l.jsx("span",{className:"label",children:"From:"})," ",o.from]}),l.jsxs("div",{className:"mail-detail-to",children:[l.jsx("span",{className:"label",children:"To:"})," ",o.to]}),l.jsx("div",{className:"mail-detail-date",children:new Date(o.timestamp).toLocaleString()})]}),l.jsx("div",{className:"mail-detail-body",children:o.body})]})]}):e.length===0?l.jsxs("div",{className:"mail-empty",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("h2",{children:"No Messages"}),l.jsx("p",{children:"Your inbox is empty."})]}):l.jsx("div",{className:"mail-list",children:e.map(u=>l.jsx(Xy,{message:u,selected:s===u.id,onSelect:a},u.id))})}const Zy={mayor:"",deacon:"",witness:"",refinery:"",crew:"",polecat:"",human:""};function $o({recipient:e,inCompose:t,onRemove:n}){const{attributes:r,listeners:s,setNodeRef:i,isDragging:o}=Wa({id:`recipient-${e.id}`,data:{type:"recipient",recipient:e}}),a=Zy[e.role]||"";return l.jsxs("div",{ref:i,className:`recipient-chip ${o?"dragging":""} ${e.online?"online":"offline"} ${t?"in-compose":""}`,...t?{}:{...s,...r},children:[l.jsx("span",{className:"recipient-icon",children:a}),l.jsx("span",{className:"recipient-name",children:e.name}),l.jsx("span",{className:`recipient-status ${e.online?"online":"offline"}`}),t&&n&&l.jsx("button",{className:"recipient-remove",onClick:n,title:"Remove",children:"x"})]})}const qy=[{id:"inbox",label:"Inbox"},{id:"compose",label:"Compose"}];function ex(){const[e,t]=f.useState("inbox"),[n,r]=f.useState(null),[s,i]=f.useState([]),{messages:o,loading:a,error:c,refresh:u}=Hy(),{recipients:h,loading:p}=Qy(),{addToast:g}=mr(),x=o.filter(y=>!y.read).length,N=Hf(Kf(ei,{activationConstraint:{distance:4}})),w=y=>{const j=y.active.data.current;(j==null?void 0:j.type)==="recipient"&&j.recipient&&r(j.recipient)},C=y=>{const{active:j,over:k}=y;if(r(null),!k)return;const S=j.data.current,b=k.data.current;if((S==null?void 0:S.type)==="recipient"&&(b==null?void 0:b.type)==="recipient-zone"){const E=S.recipient;i(P=>P.find(L=>L.id===E.id)?P:[...P,E])}},m=f.useCallback(y=>{i(j=>j.filter(k=>k.id!==y))},[]),d=f.useCallback(()=>{g("Message sent successfully","success"),t("inbox"),i([]),u()},[g,u]),v=f.useCallback(()=>{u()},[u]);return l.jsxs(ch,{sensors:N,onDragStart:w,onDragEnd:C,children:[l.jsxs("div",{className:"mail-view",children:[l.jsxs("div",{className:"mail-header",children:[l.jsx("div",{className:"mail-tabs",children:qy.map(y=>l.jsxs("button",{className:`mail-tab ${e===y.id?"active":""}`,onClick:()=>t(y.id),children:[y.label,y.id==="inbox"&&x>0&&l.jsx("span",{className:"mail-badge",children:x})]},y.id))}),e==="inbox"&&l.jsx("button",{className:"mail-refresh-btn",onClick:v,disabled:a,title:"Refresh inbox",children:a?"Loading...":"Refresh"})]}),l.jsxs("div",{className:"mail-content",children:[e==="inbox"&&l.jsx(Jy,{messages:o,loading:a,error:c,onRefresh:u}),e==="compose"&&l.jsx(tx,{recipients:h,loading:p,selectedRecipients:s,onRemoveRecipient:m,onSent:d})]})]}),l.jsx(dh,{children:n&&l.jsx($o,{recipient:n})})]})}function tx({recipients:e,loading:t,selectedRecipients:n,onRemoveRecipient:r,onSent:s}){const[i,o]=f.useState(""),[a,c]=f.useState(""),[u,h]=f.useState(!1),[p,g]=f.useState(null),{addToast:x}=mr(),{setNodeRef:N,isOver:w}=uh({id:"recipient-drop-zone",data:{type:"recipient-zone"}}),C=async()=>{if(n.length===0){g("Please select at least one recipient");return}if(!i.trim()){g("Please enter a subject");return}if(!a.trim()){g("Please enter a message");return}h(!0),g(null);try{const k=(await Promise.all(n.map(S=>Yy(S.path,i,a)))).filter(S=>!S.success);k.length>0?(g(`Failed to send: ${k.map(S=>S.error).join(", ")}`),x("Some messages failed to send","error")):(o(""),c(""),s())}catch{g("Network error"),x("Network error","error")}h(!1)},m=()=>{o(""),c(""),g(null)},v=e.filter(j=>!n.find(k=>k.id===j.id)).reduce((j,k)=>{const S=k.role;return j[S]||(j[S]=[]),j[S].push(k),j},{}),y=["mayor","deacon","witness","refinery","crew","polecat","human"];return l.jsxs("div",{className:"mail-compose",children:[l.jsxs("div",{className:"compose-recipients-panel",children:[l.jsx("h3",{children:"Recipients"}),l.jsx("p",{className:"compose-hint",children:"Drag recipients to the To field"}),l.jsx("div",{className:"recipients-list",children:t?l.jsx("div",{className:"recipients-loading",children:"Loading..."}):y.map(j=>{const k=v[j];return!k||k.length===0?null:l.jsxs("div",{className:"recipient-group",children:[l.jsx("div",{className:"recipient-group-label",children:j}),l.jsx("div",{className:"recipient-group-items",children:k.map(S=>l.jsx($o,{recipient:S},S.id))})]},j)})})]}),l.jsxs("div",{className:"compose-form",children:[l.jsxs("div",{ref:N,className:`compose-to ${w?"drop-active":""} ${n.length===0?"empty":""}`,children:[l.jsx("span",{className:"compose-label",children:"To:"}),l.jsx("div",{className:"compose-to-chips",children:n.length===0?l.jsx("span",{className:"compose-to-placeholder",children:"Drop recipients here"}):n.map(j=>l.jsx($o,{recipient:j,inCompose:!0,onRemove:()=>r(j.id)},j.id))})]}),l.jsxs("div",{className:"compose-subject",children:[l.jsx("span",{className:"compose-label",children:"Subject:"}),l.jsx("input",{type:"text",value:i,onChange:j=>o(j.target.value),placeholder:"Enter subject...",disabled:u})]}),l.jsx("div",{className:"compose-body",children:l.jsx("textarea",{value:a,onChange:j=>c(j.target.value),placeholder:"Write your message...",disabled:u})}),p&&l.jsx("div",{className:"compose-error",children:p}),l.jsxs("div",{className:"compose-actions",children:[l.jsx("button",{className:"compose-btn send",onClick:C,disabled:u||n.length===0,children:u?"Sending...":"Send"}),l.jsx("button",{className:"compose-btn clear",onClick:m,disabled:u,children:"Clear"})]})]})]})}function nx(){const[e,t]=f.useState([{id:"1",role:"system",content:"Welcome to Chrote Mobile. Type a message to begin.",timestamp:new Date}]),[n,r]=f.useState(""),[s,i]=f.useState(!1),o=f.useRef(null),a=f.useRef(null),c=f.useCallback(()=>{var x;(x=o.current)==null||x.scrollIntoView({behavior:"smooth"})},[]);f.useEffect(()=>{c()},[e,c]);const u=async x=>{x.preventDefault();const N=n.trim();if(!N||s)return;const w={id:Date.now().toString(),role:"user",content:N,timestamp:new Date};t(C=>[...C,w]),r(""),i(!0),setTimeout(()=>{const C={id:(Date.now()+1).toString(),role:"assistant",content:`Received: "${N}"

Mobile chat is connected. Use the full Chrote dashboard for terminal access.`,timestamp:new Date};t(m=>[...m,C]),i(!1)},500)},h=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),u(x))},p=x=>{r(x.target.value);const N=x.target;N.style.height="auto",N.style.height=Math.min(N.scrollHeight,120)+"px"},g=x=>x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"mobile-view",children:[l.jsxs("div",{className:"mobile-header",children:[l.jsxs("div",{className:"mobile-header-title",children:[l.jsx("span",{className:"mobile-logo",children:"C"}),l.jsx("span",{children:"Chrote Mobile"})]}),l.jsxs("div",{className:"mobile-header-status",children:[l.jsx("span",{className:"mobile-status-dot"}),l.jsx("span",{children:"Connected"})]})]}),l.jsxs("div",{className:"mobile-messages",children:[e.map(x=>l.jsxs("div",{className:`mobile-message mobile-message-${x.role}`,children:[l.jsx("div",{className:"mobile-message-content",children:x.content.split(`
`).map((N,w)=>l.jsx("p",{children:N||""},w))}),l.jsx("div",{className:"mobile-message-time",children:g(x.timestamp)})]},x.id)),s&&l.jsx("div",{className:"mobile-message mobile-message-assistant",children:l.jsx("div",{className:"mobile-message-content",children:l.jsxs("div",{className:"mobile-typing",children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})})}),l.jsx("div",{ref:o})]}),l.jsxs("form",{className:"mobile-input-area",onSubmit:u,children:[l.jsx("textarea",{ref:a,className:"mobile-input",value:n,onChange:p,onKeyDown:h,placeholder:"Type a message...",rows:1,disabled:s}),l.jsx("button",{type:"submit",className:"mobile-send-btn",disabled:!n.trim()||s,title:"Send message",children:l.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:l.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]})}class Cu extends f.Component{constructor(n){super(n);Ga(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"error-boundary",children:l.jsxs("div",{className:"error-boundary-content",children:[l.jsx("div",{className:"error-icon",children:""}),l.jsx("h2",{children:"Something went wrong"}),l.jsx("p",{className:"error-message",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),l.jsx("button",{className:"error-retry-btn",onClick:this.handleRetry,children:"Try Again"})]})}):this.props.children}}const Eu=4e3,Pu=300,rx={success:"",info:"",warning:"",error:""};function sx({toast:e,onRemove:t}){const[n,r]=f.useState(!1),[s,i]=f.useState(100);f.useEffect(()=>{const a=Date.now(),c=setInterval(()=>{const h=Date.now()-a,p=Math.max(0,100-h/Eu*100);i(p)},50),u=setTimeout(()=>{r(!0),setTimeout(()=>t(e.id),Pu)},Eu);return()=>{clearInterval(c),clearTimeout(u)}},[e.id,t]);const o=()=>{r(!0),setTimeout(()=>t(e.id),Pu)};return l.jsxs("div",{className:`toast-item toast-${e.type} ${n?"toast-exit":"toast-enter"}`,role:"alert","aria-live":"polite",children:[l.jsx("div",{className:"toast-icon",children:rx[e.type]}),l.jsx("div",{className:"toast-content",children:l.jsx("span",{className:"toast-message",children:e.message})}),l.jsx("button",{className:"toast-close",onClick:o,"aria-label":"Dismiss notification",children:""}),l.jsx("div",{className:"toast-progress",children:l.jsx("div",{className:"toast-progress-bar",style:{width:`${s}%`}})})]})}function lx(){const{toasts:e,removeToast:t}=mr();return e.length===0?null:l.jsx("div",{className:"toast-container","aria-label":"Notifications",children:e.map(n=>l.jsx(sx,{toast:n,onRemove:t},n.id))})}const ix=[{title:"Navigation",shortcuts:[{keys:["1","2","3","4"],description:"Switch to window 1-4"},{keys:["Tab"],description:"Toggle Terminal 1 / Terminal 2"},{keys:["Ctrl","Down"],description:"Cycle through windows"},{keys:["/"],description:"Focus search box"}]},{title:"Sessions",shortcuts:[{keys:["Ctrl","N"],description:"Create new session"},{keys:["Ctrl","Right"],description:"Next session in window"},{keys:["Ctrl","Left"],description:"Previous session in window"}]},{title:"Windows",shortcuts:[{keys:["Ctrl","S"],description:"Toggle sidebar"},{keys:["Ctrl","1-9"],description:"Load layout preset 1-9"}]},{title:"General",shortcuts:[{keys:["?"],description:"Show this help overlay"},{keys:["Escape"],description:"Close overlay / modal"}]}];function Nh({keyName:e}){const t=["Ctrl","Alt","Shift","Cmd","Tab","Escape"].includes(e),n=["Tab","Escape","Ctrl","Shift"].includes(e);return l.jsx("span",{className:`keyboard-key ${t?"modifier":""} ${n?"wide":""}`,children:e})}function ox({keys:e,description:t}){return l.jsxs("div",{className:"shortcut-row",children:[l.jsx("div",{className:"shortcut-keys",children:e.map((n,r)=>l.jsxs("span",{children:[r>0&&l.jsx("span",{className:"key-separator",children:"+"}),l.jsx(Nh,{keyName:n})]},r))}),l.jsx("span",{className:"shortcut-description",children:t})]})}function ax({title:e,shortcuts:t}){return l.jsxs("div",{className:"shortcut-section",children:[l.jsx("h3",{className:"shortcut-section-title",children:e}),l.jsx("div",{className:"shortcut-list",children:t.map((n,r)=>l.jsx(ox,{...n},r))})]})}function cx({isOpen:e,onClose:t}){const n=f.useRef(null);f.useEffect(()=>{if(!e)return;const s=i=>{i.key==="Escape"&&(i.preventDefault(),t())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]);const r=s=>{s.target===s.currentTarget&&t()};return e?l.jsx("div",{className:"keyboard-overlay",onClick:r,children:l.jsxs("div",{className:"keyboard-modal",ref:n,children:[l.jsxs("div",{className:"keyboard-modal-header",children:[l.jsx("h2",{className:"keyboard-modal-title",children:"Keyboard Shortcuts"}),l.jsx("button",{className:"keyboard-modal-close",onClick:t,"aria-label":"Close",children:l.jsx("span",{"aria-hidden":"true",children:""})})]}),l.jsx("div",{className:"keyboard-modal-body",children:l.jsx("div",{className:"shortcut-grid",children:ix.map((s,i)=>l.jsx(ax,{...s},i))})}),l.jsx("div",{className:"keyboard-modal-footer",children:l.jsxs("span",{className:"keyboard-hint",children:["Press ",l.jsx(Nh,{keyName:"?"})," anywhere to show this overlay"]})})]})}):null}function ux({isOpen:e,onClose:t}){const{layoutPresets:n,saveCurrentLayout:r,loadPreset:s,deletePreset:i,renamePreset:o}=ct(),[a,c]=f.useState(""),[u,h]=f.useState(null),[p,g]=f.useState(""),x=()=>{a.trim()&&r(a.trim())&&c("")},N=y=>{s(y),t()},w=y=>{i(y)},C=y=>{h(y.id),g(y.name)},m=()=>{u&&p.trim()&&(o(u,p.trim()),h(null),g(""))},d=()=>{h(null),g("")},v=y=>{let j=0,k=0;return Object.values(y.workspaces).forEach(S=>{j+=S.windowCount,S.windows.forEach(b=>{k+=b.boundSessions.length})}),`${j} windows, ${k} sessions`};return e?l.jsx("div",{className:"presets-panel-overlay",onClick:t,children:l.jsxs("div",{className:"presets-panel",onClick:y=>y.stopPropagation(),children:[l.jsxs("div",{className:"presets-panel-header",children:[l.jsx("h2",{className:"presets-panel-title",children:"Layout Presets"}),l.jsx("button",{className:"presets-panel-close",onClick:t,"aria-label":"Close",children:""})]}),l.jsxs("div",{className:"presets-panel-body",children:[l.jsxs("div",{className:"preset-save-section",children:[l.jsx("h3",{className:"preset-section-title",children:"Save Current Layout"}),l.jsxs("div",{className:"preset-save-form",children:[l.jsx("input",{type:"text",className:"preset-name-input",placeholder:"Preset name...",value:a,onChange:y=>c(y.target.value),onKeyDown:y=>y.key==="Enter"&&x(),maxLength:30}),l.jsx("button",{className:"preset-save-btn",onClick:x,disabled:!a.trim()||n.length>=10,children:"Save"})]}),n.length>=10&&l.jsx("p",{className:"preset-limit-warning",children:"Maximum 10 presets reached"})]}),l.jsxs("div",{className:"preset-list-section",children:[l.jsxs("h3",{className:"preset-section-title",children:["Saved Presets ",n.length>0&&`(${n.length})`]}),n.length===0?l.jsx("p",{className:"preset-empty-message",children:"No presets saved yet. Save your current layout to quickly restore it later."}):l.jsx("ul",{className:"preset-list",children:n.map((y,j)=>l.jsx("li",{className:"preset-item",children:u===y.id?l.jsxs("div",{className:"preset-edit-form",children:[l.jsx("input",{type:"text",className:"preset-edit-input",value:p,onChange:k=>g(k.target.value),onKeyDown:k=>{k.key==="Enter"&&m(),k.key==="Escape"&&d()},autoFocus:!0,maxLength:30}),l.jsx("button",{className:"preset-edit-save",onClick:m,children:""}),l.jsx("button",{className:"preset-edit-cancel",onClick:d,children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"preset-info",children:[l.jsxs("span",{className:"preset-shortcut",children:["Ctrl+",j+1]}),l.jsx("span",{className:"preset-name",children:y.name}),l.jsx("span",{className:"preset-summary",children:v(y)})]}),l.jsxs("div",{className:"preset-actions",children:[l.jsx("button",{className:"preset-load-btn",onClick:()=>N(y.id),title:"Load preset",children:"Load"}),l.jsx("button",{className:"preset-rename-btn",onClick:()=>C(y),title:"Rename preset",children:""}),l.jsx("button",{className:"preset-delete-btn",onClick:()=>w(y.id),title:"Delete preset",children:""})]})]})},y.id))})]})]}),l.jsx("div",{className:"presets-panel-footer",children:l.jsxs("span",{className:"presets-hint",children:["Use ",l.jsx("span",{className:"keyboard-key",children:"Ctrl"}),"+",l.jsx("span",{className:"keyboard-key",children:"1-9"})," to quickly load presets"]})})]})}):null}function dx({activeTab:e,onTabChange:t,onShowHelp:n,isHelpOpen:r}){const{workspaces:s,toggleSidebar:i,closeFloatingModal:o,floatingSession:a,refreshSessions:c,settings:u,sessions:h,loadPreset:p,layoutPresets:g}=ct(),x=f.useCallback(async()=>{try{const C=u.defaultSessionPrefix||"tmux",m=C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),d=new RegExp(`^${m}(\\d+)$`),v=h.map(S=>S.name.match(d)).filter(Boolean).map(S=>parseInt(S[1],10)),y=v.length>0?Math.max(...v)+1:1,j=`${C}${y}`;(await fetch("/api/tmux/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j})})).ok&&c()}catch(C){console.error("Failed to create session:",C)}},[u.defaultSessionPrefix,h,c]),N=f.useCallback(()=>{const C=document.querySelector(".session-search-input");C&&(C.focus(),C.select())},[]),w=f.useCallback(()=>e==="terminal1"||e==="terminal2"?e:null,[e]);f.useEffect(()=>{const C=m=>{const d=m.target,v=d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable;if(m.key==="Escape"){if(r)return;if(a){m.preventDefault(),o();return}}if(!(v||r)){if(m.key==="?"||m.shiftKey&&m.key==="/"){m.preventDefault(),n();return}if(m.key==="/"&&!m.ctrlKey&&!m.metaKey){m.preventDefault(),N();return}if(m.key==="Tab"&&!m.ctrlKey&&!m.shiftKey&&!m.altKey&&(e==="terminal1"||e==="terminal2")){m.preventDefault(),t(e==="terminal1"?"terminal2":"terminal1");return}if(!m.ctrlKey&&!m.metaKey&&!m.altKey&&/^[1-4]$/.test(m.key)){const y=w();if(y){const j=parseInt(m.key,10),k=s[y];if(j<=k.windowCount){m.preventDefault();return}}}if(m.ctrlKey&&m.key==="s"){m.preventDefault(),i();return}if(m.ctrlKey&&m.key==="n"){m.preventDefault(),x();return}if(m.ctrlKey&&/^[1-9]$/.test(m.key)){const y=parseInt(m.key,10)-1;if(y<g.length){m.preventDefault(),p(g[y].id);return}}}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[e,t,n,r,a,o,N,i,x,w,s,p,g])}function fx({name:e}){const t=e.includes("-")?e.split("-").slice(-1)[0]:e;return l.jsx("div",{className:"session-item dragging-overlay",children:l.jsx("span",{className:"session-agent-name",children:t})})}function hx(){const[e,t]=f.useState("terminal1"),[n,r]=f.useState(null),[s,i]=f.useState(!1),[o,a]=f.useState(!1),{addSessionToWindow:c,removeSessionFromWindow:u,setIsDragging:h,isDragging:p,settings:g}=ct(),x=f.useCallback(()=>i(!0),[]),N=f.useCallback(()=>i(!1),[]),w=f.useCallback(()=>a(!0),[]),C=f.useCallback(()=>a(!1),[]);dx({activeTab:e,onTabChange:t,onShowHelp:x,isHelpOpen:s}),f.useEffect(()=>{document.documentElement.setAttribute("data-theme",g.theme)},[g.theme]),f.useEffect(()=>{document.documentElement.style.setProperty("--terminal-font-size",`${g.fontSize}px`)},[g.fontSize]);const m=Hf(Kf(ei,{activationConstraint:{distance:4}})),d=y=>{var k,S;const j=(k=y.active.data.current)==null?void 0:k.type;r(j==="tag"?((S=y.active.data.current)==null?void 0:S.sessionName)??null:y.active.id),h(!0)},v=y=>{var S,b,E,P;const{active:j,over:k}=y;if(r(null),h(!1),!k){if(((S=j.data.current)==null?void 0:S.type)==="tag"){const{sessionName:L,sourceWindowId:Q,sourceWorkspaceId:R}=j.data.current;u(R,Q,L)}return}if(((b=k.data.current)==null?void 0:b.type)==="window"){const L=k.data.current.windowId,Q=k.data.current.workspaceId;if(((E=j.data.current)==null?void 0:E.type)==="session")c(Q,L,j.id);else if(((P=j.data.current)==null?void 0:P.type)==="tag"){const{sessionName:R,sourceWindowId:W,sourceWorkspaceId:K}=j.data.current;(W!==L||K!==Q)&&c(Q,L,R)}}};return l.jsxs(ch,{sensors:m,onDragStart:d,onDragEnd:v,children:[l.jsxs("div",{className:`dashboard ${p?"is-dragging":""}`,children:[l.jsx(Uv,{activeTab:e,onTabChange:t,onShowHelp:x,onShowPresets:w}),l.jsxs("div",{className:"dashboard-content",children:[(e==="terminal1"||e==="terminal2")&&l.jsxs(l.Fragment,{children:[l.jsx(Jv,{}),l.jsx(ny,{workspaceId:e})]}),e==="files"&&l.jsx(wy,{}),e==="beads"&&l.jsx(Cu,{children:l.jsx(Ky,{})}),e==="mail"&&l.jsx(Cu,{children:l.jsx(ex,{})}),e==="settings"&&l.jsx(Ny,{}),e==="help"&&l.jsx(by,{}),e==="mobile"&&l.jsx(nx,{})]}),l.jsx(Sy,{}),l.jsx(cx,{isOpen:s,onClose:N}),l.jsx(ux,{isOpen:o,onClose:C})]}),l.jsx(lx,{}),l.jsx(dh,{children:n?l.jsx(fx,{name:n}):null})]})}function px(){return l.jsx(Bv,{children:l.jsx(hx,{})})}Bi.createRoot(document.getElementById("root")).render(l.jsx(he.StrictMode,{children:l.jsx(Lv,{children:l.jsx(px,{})})}));
